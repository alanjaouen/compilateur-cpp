2017-02-02  Guillaume Marques  <marque_o@yaka.epita.fr>

	object: desugar: remove unnecessary FIXME

	* src/object/desugar-visitor.cc: Here.

2017-02-02  Guillaume Marques  <marque_o@yaka.epita.fr>

	object: desugar: remove deprecated FIXMEs

	Applying these FIXMEs would required too much work for these
	to be worth it. In fact, everytime we check the type between
	two elements (VarDec, MethodCallExp, ...), we need to check
	if the static type is different from the dynamic type, in
	which case, a cast function would be needed.

	* src/object/desugar-visitor.cc: Here.

2017-02-02  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: object: fix spaces

	* src/type/class.cc: Here.

2017-02-02  Guillaume Marques  <marque_o@yaka.epita.fr>

	object: desugar: remove deprecated FIXMEs

	* src/object/desugar-visitor.cc: Here.

2017-02-02  Guillaume Marques  <marque_o@yaka.epita.fr>

	object: desugar: clean code

	* src/object/desugar-visitor.cc,
	* src/object/desugar-visitor.hh,
	* src/type/class.hh: Here.

2017-02-02  Guillaume Marques  <marque_o@yaka.epita.fr>

	object: desugar: remove legacy code

	* src/object/desugar-visitor.cc,
	* src/object/desugar-visitor.hh: Here.

2017-02-02  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: scoped-map: fix braces

	* lib/misc/scoped-map.hxx: Here.

2017-02-02  Guillaume Marques  <marque_o@yaka.epita.fr>

	gitignore: add flex++

	* .gitignore: Here.

2017-02-02  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: use `= default' for constructors and destructors

	* src/callgraph/fundec-graph.hh,
	* src/callgraph/fundec-graph.hxx,
	* src/target/ia32/target.hh,
	* src/target/mips/spim-assembly.hh,
	* src/target/mips/target.hh,
	* src/transform/generic-rewriter.hh,
	* src/transform/generic-rewriter.hxx,
	* src/transform/sequence.hh,
	* src/transform/sequence.hxx,
	* src/transform/test-voyager.cc,
	* src/transform/visitor.hh,
	* src/transform/visitor.hxx,
	* src/translate/exp.hh,
	* src/tree/visitor.hh,
	* src/tree/visitor.hxx: Here.

2017-01-28  Guillaume Marques  <marque_o@yaka.epita.fr>

	ast: pretty-printer: enclose binding work into binding tags

	* src/ast/pretty-printer.cc,
	* src/ast/pretty-printer.hh: Here.

2017-01-25  Etienne Renault  <renault@lrde.epita.fr>

	Bump version number

	* Makefile.am, configure.ac: here.

2017-01-25  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.54 for 2019-tc-1.0

	* NEWS.txt, configure.ac, src/version.cc.in: here.
	* .last-cl-gen, ChangeLog, AUTHORS.txt: update.

2017-01-25  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.54 for 2019-tc-1.0

	* NEWS.txt, configure.ac, src/version.cc.in: here.
	* .last-cl-gen, ChangeLog, AUTHORS.txt: update.

2017-01-25  Sebastien Piat  <piat_s@yaka.epita.fr>

	llvmtranslate: llvm warning fixed in gcc 6.0

	This reverts commit 63511f84b1cb184a715967d5c561851fa7639503.

2017-01-25  Sebastien Piat  <piat_s@yaka.epita.fr>

	arm: avoid forcing the reference to arm-linux-gnuabi

	This reverts commit ce9c0e1f51cb9ad663e0cc15f4441657c104abb2.

2017-01-25  Guillaume Marques  <marque_o@yaka.epita.fr>

	parse: local: fix hook

	The hook wasn't creating the `stack.hh' in the correct
	directory nor the correct name.

	Thanks moutou_s.

	* src/parse/local.am: Here.

2017-01-25  Guillaume Marques  <marque_o@yaka.epita.fr>

	configure: fix make doc rule in build_dir

	This commit fixes Issue #99.

	* configure.ac: Here.

2017-01-25  Guillaume Marques  <marque_o@yaka.epita.fr>

	configure: llc is no longer needed

	It is possible to compile llvm using directly clang.

	* configure.ac,
	* tests/tc-check.in: Here.

2017-01-25  Guillaume Marques  <marque_o@yaka.epita.fr>

	ast: change the_program from raw pointer to unique_ptr

	* src/ast/tasks.cc,
	* src/ast/tasks.hh,
	* src/astclone/libastclone.hh,
	* src/astclone/libastclone.hxx,
	* src/astclone/tasks.cc,
	* src/astclone/tasks.hh,
	* src/desugar/tasks.cc,
	* src/object/tasks.cc,
	* src/parse/tasks.cc,
	* tests/tc-check.in: Here.

2017-01-25  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: set: remove useless implementations

	The default dtor can be deleted because it is not virtual.
	The default ctor's implementation can be removed and defaulted
	in the header file.

	* lib/misc/set.hh,
	* lib/misc/set.hxx: Here.

2017-01-25  Loic Banet  <banet_l@yaka.epita.fr>

	syntax: replace if with predecl

	* src/object/desugar-visitor.cc,
	* src/object/type-checker.cc,

	* src/regalloc/regallocator.cc,
	* src/type/type-checker.cc: Here.

2017-01-25  Loic Banet  <loic.banet@gmail.com>

	c++1z: if(init; condition): replace pre decl

	* lib/misc/scoped-map.hxx,
	* src/callgraph/libcallgraph.cc,
	* src/canon/canon.cc,
	* src/liveness/interference-graph.cc,
	* src/llvmtranslate/escapes-collector.cc,
	* src/llvmtranslate/translator.cc,
	* src/object/desugar-visitor.cc,
	* src/object/type-checker.cc,
	* src/overload/type-checker.cc,
	* src/type/type-checker.cc: here.

2017-01-25  Loic Banet  <loic.banet@gmail.com>

	c++1z: if constexpr: replace sfinae

	* lib/misc/scoped-map.hxx: here.

2017-01-25  Loic Banet  <loic.banet@gmail.com>

	c++1z: template argument deduction for constructor

	* lib/misc/pair.hh,
	* lib/misc/pair.hxx,
	* src/ast/pretty-printer.cc,
	* src/object/libobject.cc,
	* src/overload/binder.cc,
	* src/overload/liboverload.cc,
	* src/parse/libparse.cc: here.

2017-01-25  Loic Banet  <loic.banet@gmail.com>

	c++1z: std::variant: replace variant & get

	* lib/misc/variant.hh,
	* lib/misc/variant.hxx,
	* src/desugar/bounds-checking-visitor.cc,
	* src/desugar/desugar-visitor.cc,
	* src/inlining/inliner.cc,
	* src/parse/libparse.cc,
	* src/parse/tiger-parser.cc,
	* src/target/mips/cpu.cc,
	* src/temp/identifier.hh: here.

2017-01-25  Guillaume Marques  <marque_o@yaka.epita.fr>

	map: remove unnecessary virtual

	* lib/misc/map.hh: Here.

2017-01-25  Guillaume Marques  <marque_o@yaka.epita.fr>

	liveness: factorize dump functions

	* src/liveness/libliveness.cc: Here.

2017-01-25  Guillaume Marques  <marque_o@yaka.epita.fr>

	task: remove deprecated FIXME

	* src/task/task-register.cc: Here.

2017-01-25  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: fix typos

	* bistromatig/bigint.tih,
	* src/assem/instrs.hh,
	* src/type/class.cc: Here.

2017-01-25  Guillaume Marques  <marque_o@yaka.epita.fr>

	astclone: generalize apply function

	* src/astclone/libastclone.hh,
	* src/astclone/libastclone.hxx,
	* src/desugar/libdesugar.cc,
	* src/desugar/tasks.cc,
	* src/object/tasks.cc: Here.

2017-01-24  Etienne Renault  <renault@lrde.epita.fr>

	task: libtastclone not required before object desugar

	* src/object/tasks.cc: here.

2017-01-24  Guillaume Marques  <marque_o@yaka.epita.fr>

	configure: fix make doc rule in build_dir

	This commit fixes Issue #99.

	* configure.ac: Here.

2017-01-24  Guillaume Marques  <marque_o@yaka.epita.fr>

	configure: llc is no longer needed

	It is possible to compile llvm using directly clang.

	* configure.ac,
	* tests/tc-check.in: Here.

2017-01-24  Guillaume Marques  <marque_o@yaka.epita.fr>

	ast: change the_program from raw pointer to unique_ptr

	* src/ast/tasks.cc,
	* src/ast/tasks.hh,
	* src/astclone/libastclone.hh,
	* src/astclone/libastclone.hxx,
	* src/astclone/tasks.cc,
	* src/astclone/tasks.hh,
	* src/desugar/tasks.cc,
	* src/object/tasks.cc,
	* src/parse/tasks.cc,
	* tests/tc-check.in: Here.

2017-01-24  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: set: remove useless implementations

	The default dtor can be deleted because it is not virtual.
	The default ctor's implementation can be removed and defaulted
	in the header file.

	* lib/misc/set.hh,
	* lib/misc/set.hxx: Here.

2017-01-24  Loic Banet  <banet_l@yaka.epita.fr>

	syntax: replace if with predecl

	* src/object/desugar-visitor.cc,
	* src/object/type-checker.cc,

	* src/regalloc/regallocator.cc,
	* src/type/type-checker.cc: Here.

2017-01-24  Loic Banet  <loic.banet@gmail.com>

	c++1z: if(init; condition): replace pre decl

	* lib/misc/scoped-map.hxx,
	* src/callgraph/libcallgraph.cc,
	* src/canon/canon.cc,
	* src/liveness/interference-graph.cc,
	* src/llvmtranslate/escapes-collector.cc,
	* src/llvmtranslate/translator.cc,
	* src/object/desugar-visitor.cc,
	* src/object/type-checker.cc,
	* src/overload/type-checker.cc,
	* src/type/type-checker.cc: here.

2017-01-24  Loic Banet  <loic.banet@gmail.com>

	c++1z: if constexpr: replace sfinae

	* lib/misc/scoped-map.hxx: here.

2017-01-24  Loic Banet  <loic.banet@gmail.com>

	c++1z: template argument deduction for constructor

	* lib/misc/pair.hh,
	* lib/misc/pair.hxx,
	* src/ast/pretty-printer.cc,
	* src/object/libobject.cc,
	* src/overload/binder.cc,
	* src/overload/liboverload.cc,
	* src/parse/libparse.cc: here.

2017-01-24  Loic Banet  <loic.banet@gmail.com>

	c++1z: std::variant: replace variant & get

	* lib/misc/variant.hh,
	* lib/misc/variant.hxx,
	* src/desugar/bounds-checking-visitor.cc,
	* src/desugar/desugar-visitor.cc,
	* src/inlining/inliner.cc,
	* src/parse/libparse.cc,
	* src/parse/tiger-parser.cc,
	* src/target/mips/cpu.cc,
	* src/temp/identifier.hh: here.

2017-01-21  Guillaume Marques  <marque_o@yaka.epita.fr>

	map: remove unnecessary virtual

	* lib/misc/map.hh: Here.

2017-01-21  Guillaume Marques  <marque_o@yaka.epita.fr>

	liveness: factorize dump functions

	* src/liveness/libliveness.cc: Here.

2017-01-21  Guillaume Marques  <marque_o@yaka.epita.fr>

	task: remove deprecated FIXME

	* src/task/task-register.cc: Here.

2017-01-21  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: fix typos

	* bistromatig/bigint.tih,
	* src/assem/instrs.hh,
	* src/type/class.cc: Here.

2017-01-19  Guillaume Marques  <marque_o@yaka.epita.fr>

	astclone: generalize apply function

	* src/astclone/libastclone.hh,
	* src/astclone/libastclone.hxx,
	* src/desugar/libdesugar.cc,
	* src/desugar/tasks.cc,
	* src/object/tasks.cc: Here.

2017-01-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	ast: DecsList is now an std::list again

	Because of the amount of head insertions on DecsLists, it is
	worthier for ast::DecsList to be an std::list rather than an
	std::vector.

	This commit reverts some changes from a30c2a15.

	* src/ast/ast.yml,
	* src/ast/decs-list.cc,
	* src/ast/decs-list.hh,
	* src/ast/fwd.hh,
	* src/object/desugar-visitor.cc,
	* src/parse/libparse.cc: Here.

2017-01-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	misc: list: no longer used

	* lib/misc/list.hh,
	* lib/misc/list.hxx,
	* lib/misc/local.am: Here.

2017-01-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	frame: replace lists with vectors

	* src/frame/fwd.hh: Here.

2017-01-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	task: replace lists with vectors

	* src/task/task-register.hh,
	* src/task/task.hh: Here.

2017-01-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	target: replace lists with vectors

	* src/assem/instrs.hh,
	* src/target/arm/arm-assembly.cc,
	* src/target/arm/arm-codegen.cc,
	* src/target/arm/epilogue.cc,
	* src/target/assembly.hh,
	* src/target/codegen.hh,
	* src/target/codegen.hxx,
	* src/target/ia32/epilogue.cc,
	* src/target/ia32/gas-assembly.cc,
	* src/target/ia32/gas-codegen.cc,
	* src/target/mips/epilogue.cc,
	* src/target/mips/spim-codegen.cc: Here.

2017-01-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	tree: replace lists with vectors

	* lib/misc/map.hh,
	* lib/misc/map.hxx,
	* lib/misc/set.hh,
	* lib/misc/set.hxx,
	* src/canon/canon.cc,
	* src/canon/traces.cc,
	* src/regalloc/color.cc,
	* src/regalloc/color.hh,
	* src/temp/fwd.hh,
	* src/temp/label.cc,
	* src/temp/label.hh,
	* src/temp/temp.cc,
	* src/temp/temp.hh,
	* src/temp/test-temp.cc,
	* src/tree/README.txt,
	* src/tree/fragments.hh,
	* src/tree/fwd.hh,
	* src/tree/iterator.hh,
	* src/tree/iterator.hxx: Here.

2017-01-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	misc: assem: replace lists with vectors

	* src/assem/fragments.hh,
	* src/assem/move.hh: Here.

2017-01-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	misc: graph: replace lists with vectors

	* lib/misc/graph.hh,
	* lib/misc/graph.hxx: Here.

	* src/liveness/liveness.cc: Update sort's type.

2017-01-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	misc: file-library: replace lists with vectors

	* lib/misc/file-library.cc,
	* lib/misc/file-library.hh: Here.

2017-01-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	misc: vector: misc/vector replaces misc/list

	Create new class to greatly simplify the use of
	vectors in src/temp. The move funtions are outside
	of the class because it does not need them.

	* lib/misc/local.am: Add dependency.

	* lib/misc/vector.hh,
	* lib/misc/vector.hxx: Here.

	* src/ast/ast.yml,
	* src/ast/decs-list.cc,
	* src/object/desugar-visitor.cc,
	* src/object/desugar-visitor.hh,
	* src/parse/parsetiger.yy,
	* src/translate/fwd.hh,
	* src/translate/translator.cc: Here.

2016-12-20  Guillaume Marques  <marque_o@yaka.epita.fr>

	tests: rename some tests

	As stated in the Issue #100, some tests have a name longer
	than 99 chars which prevent them from being included in the
	generated directory from the dist rule.

	* tests/overfun-object-good/*: Here.

2016-12-20  Guillaume Marques  <marque_o@yaka.epita.fr>

	target: add FIXMEs for streq and strcmp for ia32 and arm

	* src/target/arm/runtime.s,
	* src/target/ia32/runtime-gnu-linux.s: Here.

2016-12-20  Guillaume Marques  <marque_o@yaka.epita.fr>

	object: opexp added in type-checker

	Issue #46 noticed an error in the comparison of compatible
	objects with different static type when it comes to the desugarer.

	* tests/object-type/eq-objects-different-static-type.tc-err,
	* tests/object-type/eq-objects-different-static-type.tc-sta,
	* tests/object-type/eq-objects-different-static-type.tig,
	* src/object/type-checker.cc,
	* src/object/type-checker.hh: Here.

2016-12-14  Guillaume Marques  <marque_o@yaka.epita.fr>

	dev: add script to change FIXME comments to FIXME warnings

	This script replaces comments to warnings to files that are not
	parsetiger.yy nor scantiger.ll because doing so would require to
	open scope for the preprocessor directive to be correctly
	interpreted.

	* dev/comment-to-warning.sh: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	ast: pretty-printer: remove useless FIXME

	Two FIXMEs were generated instead of one.

	* src/ast/pretty-printer.cc,
	* src/ast/pretty-printer.hh: Here.

2016-12-13  Sebastien Piat  <spiat@lrde.epita.fr>

	object: type-checker: avoid invalid read with invalid ifs

	if 1 then new A else () would segfault because of a failed dynamic_cast.

	* src/object/type-checker.cc: Here.
	* tests/object-type/if-void-and-class.tig: Here.

2016-12-13  Etienne Renault  <renault@lrde.epita.fr>

	Don't repeat (uselessly) the same access qualifier

	For the sake of clarity, remove the useless qualifier
	since (1) it confuses the reader and (2) it a waste of
	space.

	* dev/ast-nodes-gen,
	* src/ast/array-exp.hh,
	* src/ast/array-ty.hh,
	* src/ast/assign-exp.hh,
	* src/ast/ast.hh,
	* src/ast/break-exp.hh,
	* src/ast/call-exp.hh,
	* src/ast/cast-exp.hh,
	* src/ast/cast-var.hh,
	* src/ast/class-ty.hh,
	* src/ast/dec.hh,
	* src/ast/decs-list.hh,
	* src/ast/escapable.hh,
	* src/ast/exp.hh,
	* src/ast/field-init.hh,
	* src/ast/field-var.hh,
	* src/ast/field.hh,
	* src/ast/for-exp.hh,
	* src/ast/function-dec.hh,
	* src/ast/if-exp.hh,
	* src/ast/int-exp.hh,
	* src/ast/let-exp.hh,
	* src/ast/metavar-exp.hh,
	* src/ast/metavariable.hh,
	* src/ast/method-call-exp.hh,
	* src/ast/method-dec.hh,
	* src/ast/name-ty.hh,
	* src/ast/nil-exp.hh,
	* src/ast/object-exp.hh,
	* src/ast/op-exp.hh,
	* src/ast/record-exp.hh,
	* src/ast/record-ty.hh,
	* src/ast/rule-dec.hh,
	* src/ast/seq-exp.hh,
	* src/ast/simple-var.hh,
	* src/ast/string-exp.hh,
	* src/ast/subscript-var.hh,
	* src/ast/ty.hh,
	* src/ast/typable.hh,
	* src/ast/type-constructor.hh,
	* src/ast/type-dec.hh,
	* src/ast/var-dec.hh ,
	* src/ast/var.hh,
	* src/ast/while-exp.hh,
	* src/bind/binder.hh,
	* src/bind/renamer.hh,
	* src/callgraph/call-graph-visitor.hh,
	* src/callgraph/fundec-graph.hh,
	* src/callgraph/parent-graph-visitor.hh,
	* src/callgraph/static-link-visitor.hh,
	* src/desugar/bounds-checking-visitor.hh,
	* src/desugar/desugar-visitor.hh,
	* src/escapes/escapes-visitor.hh,
	* src/frame/frame.hh,
	* src/inlining/inliner.hh,
	* src/inlining/pruner.hh,
	* src/liveness/flowgraph.hh,
	* src/liveness/interference-graph.hh,
	* src/liveness/liveness.hh,
	* src/object/desugar-visitor.hh,
	* src/object/overfun-binder.hh,
	* src/object/renamer.hh,
	* src/object/type-checker.hh,
	* src/overload/binder.hh,
	* src/overload/over-table.hh,
	* src/overload/type-checker.hh,
	* src/regalloc/color.hh,
	* src/regalloc/regallocator.hh,
	* src/target/arm/arm-assembly.hh,
	* src/target/arm/arm-codegen.hh,
	* src/target/arm/arm-layout.hh,
	* src/target/arm/cpu.hh,
	* src/target/arm/prologue.hh,
	* src/target/arm/target.hh,
	* src/target/ia32/cpu.hh,
	* src/target/ia32/gas-assembly.hh,
	* src/target/ia32/gas-codegen.hh,
	* src/target/ia32/gas-layout.hh,
	* src/target/ia32/target.hh,
	* src/target/mips/cpu.hh,
	* src/target/mips/prologue.hh,
	* src/target/mips/spim-assembly.hh,
	* src/target/mips/spim-codegen.hh,
	* src/target/mips/spim-layout.hh,
	* src/target/mips/target.hh,
	* src/target/target.hh,
	* src/task/boolean-task.hh,
	* src/task/disjunctive-task.hh,
	* src/task/int-task.hh,
	* src/task/string-task.hh,
	* src/task/task-register.hh,
	* src/temp/identifier.hh,
	* src/transform/all.hh,
	* src/transform/bottom-up-rewriter.hh,
	* src/transform/bottom-up.hh,
	* src/transform/concrete-syntax-rewriter.hh,
	* src/transform/generic-rewriter.hh,
	* src/transform/generic-traversal.hh,
	* src/transform/rewriter.hh,
	* src/transform/sequence.hh,
	* src/transform/test-combinators.cc,
	* src/transform/visitor.hh,
	* src/translate/access.hh,
	* src/translate/level.hh,
	* src/tree/tree.hh,
	* src/tree/visitor.hh,
	* src/type/array.hh,
	* src/type/builtin-types.hh,
	* src/type/class.hh,
	* src/type/field.hh,
	* src/type/function.hh,
	* src/type/method.hh,
	* src/type/named.hh,
	* src/type/nil.hh,
	* src/type/record.hh,
	* src/type/type-checker.hh,
	* src/type/type.hh: here.

2016-12-13  Etienne Renault  <renault@lrde.epita.fr>

	translation: remove useless breaks

	* src/translate/translation.cc: here.

2016-12-13  Etienne Renault  <renault@lrde.epita.fr>

	monoburg: regen files

	* src/target/arm/arm-codegen.cc,
	* src/target/arm/arm-codegen.hh,
	* src/target/ia32/gas-codegen.cc,
	* src/target/ia32/gas-codegen.hh,
	* src/target/mips/spim-codegen.cc,
	* src/target/mips/spim-codegen.hh:

2016-12-13  Etienne Renault  <renault@lrde.epita.fr>

	Get rid of gcc unused function warning

	* src/object/test-bind.cc,
	* src/object/test-type.cc: here.

2016-12-13  Etienne Renault  <renault@lrde.epita.fr>

	llvmtranslate: silent llvm's library warnings

	* src/llvmtranslate/local.am: here.

2016-12-13  Etienne Renault  <renault@lrde.epita.fr>

	map: please gcc warnings

	* lib/misc/map.hh: here.

2016-12-13  Etienne Renault  <renault@lrde.epita.fr>

	arm: avoid static reference for tools

	* configure.ac, tests/tc-check.in: here.

2016-12-13  Etienne Renault  <renault@lrde.epita.fr>

	containers: prefer emplace_back to push_back

	* lib/misc/file-library.cc,
	* lib/misc/list.hxx,
	* lib/misc/map.hxx,
	* src/ast/any-decs.hh,
	* src/ast/any-decs.hxx,
	* src/ast/decs-list.cc,
	* src/ast/decs-list.hh,
	* src/ast/function-dec.hh,
	* src/ast/test-ast.cc,
	* src/astclone/cloner.hxx,
	* src/bind/binder.hxx,
	* src/callgraph/static-link-visitor.cc,
	* src/canon/basic-block.hh,
	* src/canon/basic-block.hxx,
	* src/canon/canon.cc,
	* src/canon/traces.cc,
	* src/frame/frame.cc,
	* src/inlining/pruner.cc,
	* src/liveness/liveness.cc,
	* src/llvmtranslate/llvm-type-visitor.cc,
	* src/llvmtranslate/translator.cc,
	* src/object/binder.cc,
	* src/object/desugar-visitor.cc,
	* src/overload/over-table.hxx,
	* src/overload/type-checker.cc,
	* src/parse/location.hh,
	* src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh,
	* src/parse/position.hh,
	* src/target/arm/arm-assembly.cc,
	* src/target/arm/arm-codegen.cc,
	* src/target/arm/epilogue.cc,
	* src/target/codegen.hxx,
	* src/target/cpu.cc,
	* src/target/ia32/epilogue.cc,
	* src/target/ia32/gas-assembly.cc,
	* src/target/ia32/gas-codegen.cc,
	* src/target/libtarget.cc,
	* src/target/mips/epilogue.cc,
	* src/target/mips/spim-codegen.cc,
	* src/task/task-register.cc,
	* src/task/task.cc,
	* src/transform/all.hxx,
	* src/translate/exp.cc,
	* src/translate/level.cc,
	* src/translate/translation.cc,
	* src/translate/translator.cc,
	* src/tree/binop.hxx,
	* src/tree/call.cc,
	* src/tree/cjump.hxx,
	* src/tree/eseq.hxx,
	* src/tree/jump.hxx,
	* src/tree/mem.hxx,
	* src/tree/move.hxx,
	* src/tree/seq.hh,
	* src/tree/seq.hxx,
	* src/tree/sxp.hxx,
	* src/tree/tree.hh,
	* src/tree/tree.hxx,
	* src/type/class.hxx,
	* src/type/record.hxx,
	* ti/ti.cc,
	* src/ast/ast.yml,
	* src/parse/parsetiger.yy,
	* src/target/arm/arm-codegen.cc,
	* src/target/arm/binop.brg,
	* src/target/arm/call.brg,
	* src/target/ia32/call.brg,
	* src/target/ia32/gas-codegen.cc,
	* src/target/mips/call.brg,
	* src/target/mips/spim-codegen.cc: here.

2016-12-13  Etienne Renault  <renault@lrde.epita.fr>

	configure: portability

	* configure.ac: here.

2016-12-13  Etienne Renault  <renault@lrde.epita.fr>

	silent gcc warning due to the use of macro

	* src/llvmtranslate/tasks.cc: here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: use `= default' when possible

	Use `= default' for ctors and dtors in the header files
	instead of explicitly defining them in the implementation files.

	Adapt the ast-gen scripts for the ast nodes and the astcloner.

	* dev/ast-cloner-gen,
	* dev/ast-nodes-gen: Update auto-generated files.

	* lib/misc/local.am,
	* src/ast/local.am: Remove deleted files.

	* lib/misc/error.cc,
	* lib/misc/error.hh,
	* lib/misc/symbol.cc,
	* lib/misc/symbol.hh,
	* lib/misc/xalloc.cc,
	* lib/misc/xalloc.hh,
	* src/assem/fragment.cc,
	* src/assem/fragment.hh,
	* src/assem/fragment.hxx,
	* src/assem/instr.cc,
	* src/assem/instr.hh,
	* src/assem/layout.cc,
	* src/assem/layout.hh,
	* src/assem/visitor.hh,
	* src/assem/visitor.hxx,
	* src/ast/ast.cc,
	* src/ast/ast.hh,
	* src/ast/break-exp.cc,
	* src/ast/break-exp.hh,
	* src/ast/dec.cc,
	* src/ast/dec.hh,
	* src/ast/decs.cc,
	* src/ast/decs.hh,
	* src/ast/escapable.cc,
	* src/ast/escapable.hh,
	* src/ast/exp.cc,
	* src/ast/exp.hh,
	* src/ast/int-exp.cc,
	* src/ast/int-exp.hh,
	* src/ast/metavar-exp.cc,
	* src/ast/metavar-exp.hh,
	* src/ast/metavariable.cc,
	* src/ast/metavariable.hh,
	* src/ast/method-dec.cc,
	* src/ast/method-dec.hh,
	* src/ast/name-ty.cc,
	* src/ast/name-ty.hh,
	* src/ast/nil-exp.cc,
	* src/ast/nil-exp.hh,
	* src/ast/object-exp.cc,
	* src/ast/object-exp.hh,
	* src/ast/simple-var.cc,
	* src/ast/simple-var.hh,
	* src/ast/string-exp.cc,
	* src/ast/string-exp.hh,
	* src/ast/ty.cc,
	* src/ast/ty.hh,
	* src/ast/typable.cc,
	* src/ast/typable.hh,
	* src/ast/type-constructor.cc,
	* src/ast/type-constructor.hh,
	* src/ast/var.cc,
	* src/ast/var.hh,
	* src/astclone/cloner.cc,
	* src/astclone/cloner.hh,
	* src/callgraph/call-graph-visitor.cc,
	* src/callgraph/call-graph-visitor.hh,
	* src/callgraph/parent-graph-visitor.cc,
	* src/callgraph/parent-graph-visitor.hh,
	* src/callgraph/static-link-visitor.cc,
	* src/callgraph/static-link-visitor.hh,
	* src/desugar/bounds-checking-visitor.cc,
	* src/desugar/bounds-checking-visitor.hh,
	* src/desugar/desugar-visitor.cc,
	* src/desugar/desugar-visitor.hh,
	* src/frame/access.cc,
	* src/frame/access.hh,
	* src/liveness/interference-graph.cc,
	* src/liveness/interference-graph.hh,
	* src/llvmtranslate/llvm-type-visitor.cc,
	* src/llvmtranslate/llvm-type-visitor.hh,
	* src/object/desugar-visitor.cc,
	* src/object/desugar-visitor.hh,
	* src/overload/type-checker.cc,
	* src/overload/type-checker.hh,
	* src/parse/tweast.cc,
	* src/parse/tweast.hh,
	* src/target/assembly.cc,
	* src/target/assembly.hh,
	* src/target/codegen.cc,
	* src/target/codegen.hh,
	* src/target/cpu.cc,
	* src/target/cpu.hh,
	* src/target/ia32/target.cc,
	* src/target/ia32/target.hh,
	* src/target/target.cc,
	* src/target/target.hh,
	* src/transform/concrete-syntax-rewriter.cc,
	* src/transform/concrete-syntax-rewriter.hh,
	* src/transform/rewriter.cc,
	* src/transform/rewriter.hh,
	* src/transform/test-combinators.cc,
	* src/tree/fragment.cc,
	* src/tree/fragment.hh,
	* src/type/attribute.cc,
	* src/type/attribute.hh,
	* src/type/field.cc,
	* src/type/field.hh,
	* src/type/method.cc,
	* src/type/method.hh,
	* src/type/type.cc,
	* src/type/type.hh: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: Akim hates typedef

	* lib/misc/error.hh,
	* src/ast/dumper.hh,
	* src/ast/dumper.hxx,
	* src/parse/stack.hh: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: mips: no virtual with override

	* src/target/mips/cpu.cc: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: ast: use explicit override

	* src/ast/dumper.hh,
	* src/ast/pretty-printer.hh: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	assem: comment: rename `print` as `dump`

	This is an oversight from the commit b5087e6.
	Now that the member function's name matches its base class',
	replace `virtual` with `override`.

	* src/assem/comment.hh,
	* src/assem/comment.hxx: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: no virtual with override

	* src/type/record.hh: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: prefer nullptr to NULL

	* src/object/desugar-visitor.hh: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: use helper type for type_traits

	* lib/misc/scoped-map.hh,
	* lib/misc/scoped-map.hxx: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	regalloc: fix typos

	* src/regalloc/color.hh: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	ast: fix typos

	* src/ast/default-visitor.hh: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	misc: fix typos

	* lib/misc/unique.hxx: Here.

2016-12-13  Sébastien Piat  <spiat@lrde.epita.fr>

	type: do not rely on type evaluation for sound

	FIXME: Test case.

	* src/type/named.cc: Here.

2016-12-13  Pierre-Louis Dagues  <dagues_p@yaka.epita.fr>

	pruner: prune recursive functions and functions whose call was pruned

	FIXME: Test case.

	Former pruner did not prune non-called recursive functions or function called
	only in a pruned function. To prune these functions, a counter on the calls
	made on a function keeps track of wether the function needs to be pruned or
	not. A map associating the calls made in a function body is used to decrement
	the counter, and pruning the associated function if necessary.

	* src/inlining/pruner.cc,
	* src/inlining/pruner.hh: Keep track of function calls to prune if necessary.
	* src/inlining/tasks.hh: Add dependency on rename to compare symbols.

2016-12-13  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: fix compatibility issues with LLVM 3.9

	* src/llvmtranslate/tasks.cc: https://reviews.llvm.org/rL272978. The
	patch adds an extra argument to the `run` function, which is useless for us.

	Compatibility has been preserved for older versions.

	Keep in mind that `llc` 3.8 is unable to compile `llvm ir` 3.9, since
	the textual form is not retro-compatible.

2016-12-13  Sebastien Piat  <spiat@lrde.epita.fr>

	canon: use iterator next

	* src/canon/canon.cc: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: add namespace indication at the end of scope

	* lib/misc/algorithm.hh: Here.
	* lib/misc/algorithm.hxx: Here.
	* lib/misc/deref.cc: Here.
	* lib/misc/deref.hh: Here.
	* lib/misc/deref.hxx: Here.
	* lib/misc/endomap.hh: Here.
	* lib/misc/endomap.hxx: Here.
	* lib/misc/escape.cc: Here.
	* lib/misc/escape.hh: Here.
	* lib/misc/escape.hxx: Here.
	* lib/misc/file-library.cc: Here.
	* lib/misc/file-library.hh: Here.
	* lib/misc/file-library.hxx: Here.
	* lib/misc/indent.cc: Here.
	* lib/misc/indent.hh: Here.
	* lib/misc/libmisc.hh: Here.
	* lib/misc/list.hh: Here.
	* lib/misc/map.hh: Here.
	* lib/misc/map.hxx: Here.
	* lib/misc/pair.hh: Here.
	* lib/misc/pair.hxx: Here.
	* lib/misc/ref.hh: Here.
	* lib/misc/ref.hxx: Here.
	* lib/misc/separator.hh: Here.
	* lib/misc/separator.hxx: Here.
	* lib/misc/unique.hh: Here.
	* lib/misc/unique.hxx: Here.
	* lib/misc/xalloc.hh: Here.
	* lib/misc/xalloc.hxx: Here.
	* src/canon/basic-block.cc: Here.
	* src/canon/basic-block.hh: Here.
	* src/canon/basic-block.hxx: Here.
	* src/canon/canon.cc: Here.
	* src/canon/canon.hh: Here.
	* src/canon/traces.cc: Here.
	* src/canon/traces.hh: Here.
	* src/escapes/escapes-check-visitor.cc: Here.
	* src/escapes/escapes-check-visitor.hh: Here.
	* src/escapes/escapes-visitor.cc: Here.
	* src/escapes/escapes-visitor.hh: Here.
	* src/frame/access.cc: Here.
	* src/frame/access.hh: Here.
	* src/frame/access.hxx: Here.
	* src/frame/fwd.hh: Here.
	* src/frame/libframe.hh: Here.
	* src/llvmtranslate/fwd.hh: Here.
	* src/llvmtranslate/libllvmtranslate.cc: Here.
	* src/llvmtranslate/libllvmtranslate.hh: Here.
	* src/llvmtranslate/tasks.cc: Here.
	* src/llvmtranslate/tasks.hh: Here.
	* src/llvmtranslate/translator.cc: Here.
	* src/llvmtranslate/translator.hh: Here.
	* src/llvmtranslate/translator.hxx: Here.
	* src/overload/type-checker.hh: Here.
	* src/parse/fwd.hh: Here.
	* src/parse/libparse.hh: Here.
	* src/parse/metavar-map.hh: Here.
	* src/parse/tiger-parser.cc: Here.
	* src/parse/tweast.cc: Here.
	* src/parse/tweast.hh: Here.
	* src/parse/tweast.hxx: Here.
	* src/target/arm/fwd.hh: Here.
	* src/target/fwd.hh: Here.
	* src/target/ia32/fwd.hh: Here.
	* src/task/fwd.hh: Here.
	* src/task/libtask.hh: Here.
	* src/task/tasks.cc: Here.
	* src/temp/fwd.hh: Here.
	* src/temp/label.hh: Here.
	* src/temp/libtemp.hh: Here.
	* src/temp/temp.hh: Here.
	* src/transform/metavar-pool.cc: Here.
	* src/transform/metavar-pool.hh: Here.
	* src/transform/metavar-pool.hxx: Here.
	* src/translate/access.cc: Here.
	* src/translate/access.hxx: Here.
	* src/translate/exp.cc: Here.
	* src/translate/exp.hh: Here.
	* src/translate/exp.hxx: Here.
	* src/translate/fwd.hh: Here.
	* src/translate/level.cc: Here.
	* src/translate/level.hh: Here.
	* src/translate/level.hxx: Here.
	* src/translate/libtranslate.cc: Here.
	* src/translate/libtranslate.hh: Here.
	* src/translate/tasks.cc: Here.
	* src/translate/tasks.hh: Here.
	* src/translate/translation.cc: Here.
	* src/translate/translation.hh: Here.
	* src/translate/translator.cc: Here.
	* src/translate/translator.hh: Here.
	* src/tree/binop.cc: Here.
	* src/tree/binop.hh: Here.
	* src/tree/binop.hxx: Here.
	* src/tree/call.cc: Here.
	* src/tree/call.hh: Here.
	* src/tree/cjump.cc: Here.
	* src/tree/cjump.hh: Here.
	* src/tree/cjump.hxx: Here.
	* src/tree/const.cc: Here.
	* src/tree/const.hh: Here.
	* src/tree/const.hxx: Here.
	* src/tree/eseq.cc: Here.
	* src/tree/eseq.hh: Here.
	* src/tree/eseq.hxx: Here.
	* src/tree/fragment.hxx: Here.
	* src/tree/fwd.hh: Here.
	* src/tree/iterator.hh: Here.
	* src/tree/iterator.hxx: Here.
	* src/tree/jump.cc: Here.
	* src/tree/jump.hh: Here.
	* src/tree/jump.hxx: Here.
	* src/tree/label.cc: Here.
	* src/tree/label.hh: Here.
	* src/tree/label.hxx: Here.
	* src/tree/libtree.cc: Here.
	* src/tree/libtree.hh: Here.
	* src/tree/mem.cc: Here.
	* src/tree/mem.hh: Here.
	* src/tree/mem.hxx: Here.
	* src/tree/move.cc: Here.
	* src/tree/move.hh: Here.
	* src/tree/move.hxx: Here.
	* src/tree/name.cc: Here.
	* src/tree/name.hh: Here.
	* src/tree/name.hxx: Here.
	* src/tree/seq.cc: Here.
	* src/tree/seq.hh: Here.
	* src/tree/seq.hxx: Here.
	* src/tree/stm.hh: Here.
	* src/tree/sxp.cc: Here.
	* src/tree/sxp.hh: Here.
	* src/tree/sxp.hxx: Here.
	* src/tree/temp.cc: Here.
	* src/tree/temp.hh: Here.
	* src/tree/temp.hxx: Here.
	* src/tree/tree.cc: Here.
	* src/tree/tree.hh: Here.
	* src/tree/tree.hxx: Here.
	* src/tree/trees.cc: Here.
	* src/tree/trees.hh: Here.
	* src/type/method.hxx: Here.
	* src/type/type-checker.cc: Here.
	* src/type/type-checker.hh: Here.
	* src/type/type-checker.hxx: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: ast: no virtual with override

	* src/ast/dumper.hh: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	style: object: no virtual with override

	* src/object/type-checker.hh: Here.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	regalloc: improve clarity of comments

	* src/regalloc/color.hh: Fix of some grammatical mistakes.
	* src/regalloc/color.cc: Update the registers's pick order.

2016-12-13  Guillaume Marques  <marque_o@yaka.epita.fr>

	liveness: improve precision of comments for liveness

	* src/liveness/liveness.hh: Here.

2016-12-13  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	tc-l: typo: lambda shfting -> lambda lifting

	Thanks `moutou_s` for noticing this aberration.

	* src/llvmtranslate/translator.hh: Here.

2016-12-13  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	arm: fix streq runtime function

	Thanks to marque_o, we found a bug in the ARM backend.

	* src/target/arm/runtime.s: The `tc_streq` function didn't handle the
	case of strings with equal lengths correctly.
	* tests/good/streq-eq.-e.ia32.s,
	* tests/good/streq-eq.-e.mips.s,
	* tests/good/streq-eq.-e.u.mips.s,
	* tests/good/streq-eq.err,
	* tests/good/streq-eq.hir,
	* tests/good/streq-eq.ia32.s,
	* tests/good/streq-eq.lir,
	* tests/good/streq-eq.mips.s,
	* tests/good/streq-eq.out,
	* tests/good/streq-eq.sta,
	* tests/good/streq-eq.tig,
	* tests/good/streq-eq.u.mips.s: Add testcase.

2016-12-13  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	canon: style: use more STL algorithms

	* src/canon/canon.cc: Use std::all_of instead of a raw loop.

2016-12-13  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	traces: use unique_ptr instead of manual memory management

	* traces.cc,
	* traces.hh: Use std::unique_ptr<BasicBlock> instead of raw pointers.
	This avoids some explicit deletes.

2016-12-13  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: remove useless return values

	* src/llvmtranslate/translator.cc: Remove return values when the
	ast node is not returning anything.

2016-12-13  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: use llvm's dynamic cast for llvm types

	* src/llvmtranslate/translator.cc: LLVM's types don't support RTTI, so
	`dynamic_cast` is not available either. They provide their own way of
	casting pointers, through `cast<>, isa<>, dyn_cast<>`. Here, we're using
	`cast<>`, since it asserts that the cast is correct, like a `dynamic_cast`
	with a reference type would do.

2016-12-13  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: provide more explicit explanations about the translator

	* src/llvmtranslate/translator.cc: Here.

2016-12-13  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	style: use the correct case for Access classes

	* dev/ampersand_test.yml,
	* doc/schema.xmi,
	* src/frame/access.cc,
	* src/frame/access.hh,
	* src/frame/access.hxx,
	* src/frame/frame.cc,
	* src/frame/frame.hh,
	* src/frame/fwd.hh,
	* src/target/arm/arm-codegen.cc,
	* src/target/arm/arm-codegen.hh,
	* src/target/arm/epilogue.cc,
	* src/target/arm/prologue.hh,
	* src/target/ia32/epilogue.cc,
	* src/target/ia32/gas-codegen.cc,
	* src/target/ia32/gas-codegen.hh,
	* src/target/ia32/prologue.hh,
	* src/target/mips/epilogue.cc,
	* src/target/mips/prologue.hh,
	* src/target/mips/spim-codegen.cc,
	* src/target/mips/spim-codegen.hh: Here.

2016-12-13  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: use native types with llvm::TypeBuilder

	* src/llvmtranslate/translator.cc: Here.

2016-12-13  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: don't include the runtime in the distribution

	* src/llvmtranslate/local.am: Remove runtime.ll from the dist list.

2016-12-13  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	identifier: use type alias in return type

	* src/temp/identifier.hxx: Allows students to use misc::variant easily.

2016-12-13  Sebastien Piat  <spiat@lrde.epita.fr>

	tests: test for void operations

	* tests/type/void-op.tc-err: Here.
	* tests/type/void-op.tc-sta: Here.
	* tests/type/void-op.tig: Here.

2016-11-18  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	scoped-map: use `std::vector` instead of `std::list`

	* lib/misc/scoped-map.hh,
	* lib/misc/scoped-map.hxx: Here. Push back instead of push front. Use
	reverse iterators to walk the maps.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	canon: fix typos

	* src/canon/traces.cc: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	object: binder: self in functions is not usable

	Override decs_visit in the object/binder.

	* src/object/binder.cc: Here.
	* src/object/binder.hh: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	object: desugar: fix unclear comment

	* src/object/desugar-visitor.cc: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	inline: unsure return type is respected

	* src/inlining/inliner.cc: Here.
	* tests/inline/function-returning-nil.tig: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	AUTHORS: add 2017 maintainers

	* AUTHORS.txt: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	type: fix typos

	* src/type/function.hh: Here.
	* src/type/method.hh: Here.
	* src/type/type.hh: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	translate: fix typos

	* src/translate/exp.hh: Here.
	* src/translate/level.hh: Here.
	* src/translate/translator.hh: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	temp: fix typos

	* src/temp/identifier.hh: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	task: fix typos

	* src/task/argument-task.hh: Here.
	* src/task/disjunctive-task.hh: Here.
	* src/task/task-register.cc: Here.
	* src/task/task-register.hh: Here.
	* src/task/task.hh: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	parse: fix typos and unclear statement

	* src/parse/libparse.hh: Here.
	* src/parse/parsetiger.yy: Here.
	* src/parse/tweast.hh: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	overload: fix typos

	* src/overload/binder.hh: Here.
	* src/overload/over-table.hh: Here.
	* src/overload/type-checker.hh: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	object: fix typos

	* src/object/binder.cc: Here.
	* src/object/binder.hh: Here.
	* src/object/desugar-visitor.cc: Here.
	* src/object/desugar-visitor.hh: Here.
	* src/object/type-checker.cc: Here.
	* src/object/type-checker.hh: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	llvmtranslate: fix typos

	* src/llvmtranslate/escapes-collector.cc: Here.
	* src/llvmtranslate/translator.cc: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	escapes: fix typos

	* src/escapes/escapes-visitor.hh: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	callgraph: fix typos

	* src/callgraph/fundec-graph.hh: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	bind: fix typos

	* src/bind/binder.hh: Here.
	* src/bind/binder.hxx: Here.
	* src/bind/renamer.hh: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	named: destructor could be default

	* src/type/named.cc: Here.
	* src/type/named.hh: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	llvm: type: do not construct type when no record is set

	* src/llvmtranslate/llvm-type-visitor.cc: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	named: be more precise about having to code the destructor

	* src/type/named.cc: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	attribute: constructors should be inthe .cc file

	* src/type/attribute.cc: Here.
	* src/type/attribute.hxx: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	field: constructors should be in the .cc file

	* src/type/field.cc: Here.
	* src/type/field.hxx: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	function: constructors and destructors should be in the .cc file

	* src/type/function.cc: Here.
	* src/type/function.hxx: Here.

2016-11-18  Sebastien Piat  <spiat@lrde.epita.fr>

	named: constructors should be in the .cc file

	* src/type/named.cc: Here.
	* src/type/named.hxx: Here.

2016-11-18  Sébastien Piat  <spiat@lrde.epita.fr>

	llvm: escapes-collector: modify loop checks

	* src/llvmtranslate/escapes-collector.cc: Here.

2016-11-18  Sébastien Piat  <spiat@lrde.epita.fr>

	object-desugar: fix type aliases and test it

	* src/object/desugar-visitor.cc: Here.
	* src/object/type-checker.cc: Here.
	* tests/object-good/object-type-alias.tig: Here.
	* tests/object-good/type-aliases.tig: Here.

2016-11-18  Sébastien Piat  <spiat@lrde.epita.fr>

	callgraph: add explanations on what is to be done

	* src/callgraph/call-graph-visitor.cc: Here.

2016-11-18  Sébastien Piat  <spiat@lrde.epita.fr>

	function-dec: be more precise about escapes-get

	* src/ast/ast.yml: Here.
	* src/ast/function-dec.hh: Here.

2016-11-18  Sébastien Piat  <spiat@lrde.epita.fr>

	callgraph: comment: visitation is a rather inaccurate word

	Noted by guervi_t.

	* src/callgraph/call-graph-visitor.cc: Here.

2016-11-18  Sébastien Piat  <spiat@lrde.epita.fr>

	overload: add fixme for combined options

	* src/desugar/tasks.cc: Here.
	* src/desugar/tasks.hh: Here.
	* src/inlining/tasks.cc: Here.
	* src/inlining/tasks.hh: Here.

2016-11-18  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	overload: refactor and modernize tc-a

	* src/object/libobject.cc,
	* src/object/libobject.hh,
	* src/object/overfun-type-checker.cc,
	* src/object/overfun-type-checker.hh,
	* src/overload/liboverload.cc,
	* src/overload/liboverload.hh,
	* src/overload/tasks.cc,
	* src/object/tasks.cc: Make use of `std::move` instead of pointers.
	* src/overload/over-table.hh,
	* src/overload/over-table.hxx,
	* src/overload/binder.hh,
	* src/overload/binder.cc: Use a `std::multimap` instead of a map of
	lists.
	* src/overload/type-checker.cc,
	* src/overload/type-checker.hh: Propagate the modifications.

2016-11-18  Sébastien Piat  <spiat@lrde.epita.fr>

	inlining: simplify

	The scoped map verification for function parameter names where
	completely useless as a single `let` would create a new scope where
	the parameter names would overwrite those of the previous scope.

	* src/inlining/inliner.cc: Here.
	* src/inlining/inliner.hh: Here.

2016-10-12  Etienne Renault  <renault@lrde.epita.fr>

	configure: require boost 1.61

	* configure.ac: here.

2016-10-12  Etienne Renault  <renault@lrde.epita.fr>

	configure: add useful warnings

	* configure.ac: here.

2016-10-09  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	for_each: use range-for loop

	* lib/misc/algorithm.hxx: Here.

2016-10-07  Sébastien Piat  <spiat@lrde.epita.fr>

	object: desugar: move misleading comment

	* src/object/desugar-visitor.cc: Here.

2016-10-07  Sébastien Piat  <spiat@lrde.epita.fr>

	type-checker: be clearer about function type_set

	* src/type/type-checker.hxx: Here.

2016-10-07  Sébastien Piat  <spiat@lrde.epita.fr>

	type: update readme

	* src/type/README.txt: Here.

2016-10-07  Sébastien Piat  <spiat@lrde.epita.fr>

	type-checker: record-exp: simplify

	* src/type/type-checker.cc: Here.

2016-10-07  Remi Billon  <billon_r@yaka.epita.fr>

	identifier: fix useless checkings

	* src/temp/identifier.hxx: Here.

2016-10-07  Sebastien Piat  <spiat@lrde.epita.fr>

	AUTHORS: add 2018 maintainers

	* AUTHORS.txt: Here.

2016-10-07  Sébastien Piat  <spiat@lrde.epita.fr>

	desugar: string: fix comment

	* src/desugar/test-string-cmp-desugar.cc: Here.

2016-08-08  Akim Demaille  <akim@lrde.epita.fr>

	style: bind: no virtual with override

2016-08-08  Akim Demaille  <akim@lrde.epita.fr>

	style: astclone: no virtual with override

2016-08-08  Akim Demaille  <akim@lrde.epita.fr>

	style: ast: no virtual with override

2016-08-08  Akim Demaille  <akim@lrde.epita.fr>

	style: type: no virtual with override

2016-08-08  Akim Demaille  <akim@lrde.epita.fr>

	style: ast: regen

2016-08-08  Akim Demaille  <akim@lrde.epita.fr>

	style: dev: no virtual with override

	* dev/ast-cloner-gen, dev/ast-default-visitor-gen,
	* dev/ast-pretty-printer-gen, dev/transform-all-gen,
	* dev/transform-proxy-visitors-gen: here.

2016-08-07  Sebastien Piat  <spiat@lrde.epita.fr>

	tc-3: remove typ{able,econstructor} files until tc-4

	The typable and typeconstructor files where given to students even before
	the stage 4 and would make students think they had to code something in
	it.

	* dev/stagize: Here.

2016-08-07  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	style: add a few missing 'override'

	* src/ast/dumper.hh,
	* src/object/type-checker.hh,
	* src/target/mips/cpu.cc: Here.

2016-08-07  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	style: ast: add missing pragma once

	* lib/misc/deref.cc,
	* src/ast/any-decs.hh,
	* src/ast/any-decs.hxx,
	* src/ast/ast.hh,
	* src/ast/ast.yml,
	* src/ast/decs.hh,
	* src/ast/decs.hxx,
	* src/ast/default-visitor.hh,
	* src/ast/default-visitor.hxx,
	* src/ast/dumper.hh,
	* src/ast/dumper.hxx,
	* src/ast/escapable.hh,
	* src/ast/function-dec.hh,
	* src/ast/fwd.hh,
	* src/ast/if-exp.hh,
	* src/ast/let-exp.hh,
	* src/ast/libast.hh,
	* src/ast/location.hh,
	* src/ast/non-object-visitor.hh,
	* src/ast/non-object-visitor.hxx,
	* src/ast/object-visitor.hh,
	* src/ast/object-visitor.hxx,
	* src/ast/pretty-printer.hh,
	* src/ast/tasks.hh,
	* src/ast/typable.hh,
	* src/ast/type-constructor.hh,
	* src/ast/type-constructor.hxx,
	* src/ast/visitor.hh,
	* src/ast/visitor.hxx,
	* src/parse/libparse.hh,
	* ti/fork.hh,
	* ti/fork.hxx,
	* ti/tiopts.hh,
	* ti/tiopts.hxx: Add pragma once and remove spaces between `#` and
	  `includes`.

2016-08-07  Sebastien Piat  <spiat@lrde.epita.fr>

	object: binder: be more precise about where self is defined

	* src/object/binder.cc: Here.

2016-08-07  Sebastien Piat  <spiat@lrde.epita.fr>

	object: binder: fix binding in vardecs in classty

	Binding was not done in class attributes as the within_class_ty boolean
	was not unset in the declaration.

	* src/object/binder.cc: Here.
	* tests/object-good/bind-vardec-in-class.tig: Test it here,
	* tests/object-good/bind-vardec-in-class.err: with this stderr,
	* tests/object-good/bind-vardec-in-class.out: and this stdout,
	* tests/object-good/bind-vardec-in-class.sta: and this output code.

2016-08-01  Sebastien Piat  <spiat@lrde.epita.fr>

	bind: fix display of fixme in binder

	* src/bind/binder.cc: Here.
	* src/bind/binder.hxx: Here.

2016-06-24  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.53 for 2018-tc-9.0

	* NEWS.txt, configure.ac: Here.

2016-06-06  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.52 for 2018-tc-8.0

	*NEWS.txt, configure.ac: Here.

2016-05-30  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.51 for 2018-tc-7.0

	* .last-cl-gen, ChangeLog, NEWS.txt, configure.ac: Here.

2016-05-30  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.51 for 2018-tc-1.0

	* .last-cl-gen, ChangeLog, NEWS.txt, configure.ac: Here.

2016-05-28  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	target: use {} instead of explicit calls to Ts and Ls

	* src/target/arm/arm-assembly.cc,
	* src/target/ia32/gas-assembly.cc,
	* src/target/mips/spim-assembly.cc: Here.

2016-05-19  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.50 for 2018-tc-6.0

	* .last-cl-gen, ChangeLog, NEWS.txt, configure.ac: Here.

2016-05-19  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.50 for 2018-tc-6.0

	* .last-cl-gen, ChangeLog, NEWS.txt, configure.ac: Here.

2016-05-16  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: don't use -isystem for STL headers

	* src/llvmtranslate/local.am: We were using `-isystem /usr/include` in
	order to avoid warnings coming from LLVM's headers. It looks like this
	is no longer allowed in `gcc-6.1.1`, since it includes the STL using the
	same CPP flags.
	We should probably find a better solution to hide LLVM's warnings.
	More info here: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=70129

2016-05-16  Sebastien Piat  <spiat@lrde.epita.fr>

	tests: inline: unsure parameter types are respected

	* tests/inline/argument-nil.err: Here.
	* tests/inline/argument-nil.out: Here.
	* tests/inline/argument-nil.sta: Here.
	* tests/inline/argument-nil.tig: Here.

2016-05-16  Sebastien Piat  <piat_s@yaka.epita.fr>

	tests: test for void operations

	* tests/type/void-op.tc-err: Here.
	* tests/type/void-op.tc-sta: Here.
	* tests/type/void-op.tig: Here.

2016-05-13  Sebastien Piat  <spiat@lrde.epita.fr>

	tests: add mutual example from assignments

	* tests/good/mutuals.err: Here.
	* tests/good/mutuals.hir: Here.
	* tests/good/mutuals.out: Here.
	* tests/good/mutuals.sta: Here.
	* tests/good/mutuals.tig: Here.

2016-05-13  Sebastien Piat  <spiat@lrde.epita.fr>

	type: check for invalid conditions in while and ifs

	* tests/type/invalid-cond-if.tig: Here.
	* tests/type/invalid-cond-while.tig: Here.

2016-05-10  Remi Billon  <billon_r@yaka.epita.fr>

	type: class: update compatible_with

	Now, instead of browsing all the super classes of the `other` type,
	we simply search the class `other` in our vector of subclasses.

	* src/type/class.cc: Here.

2016-05-10  Sebastien Piat  <spiat@lrde.epita.fr>

	type-checker: this code is not given do not hide it

	* src/type/type-checker.cc: Here.

2016-05-10  Sebastien Piat  <spiat@lrde.epita.fr>

	llvm: escape-collector: do not call default-visitor on simplevars

	* src/llvmtranslate/escapes-collector.cc: Here.

2016-05-10  Sebastien Piat  <spiat@lrde.epita.fr>

	array: constructors should be in the .cc file

	* src/type/array.cc: Here.
	* src/type/array.hxx: Here.

2016-05-10  Sebastien Piat  <spiat@lrde.epita.fr>

	llvm: translator: do not hide code in already hidden block

	* src/llvmtranslate/translator.cc: Here.

2016-05-10  Sebastien Piat  <spiat@lrde.epita.fr>

	tc-check: fix indentation

	* ../../tests/tc-check.in: Here.

2016-05-10  Sébastien Piat  <spiat@lrde.epita.fr>

	tests: bound-check: tests for aliases

	* tests/bounds-check/test30.*: Here.

2016-05-10  Sébastien Piat  <spiat@lrde.epita.fr>

	identifier: respect coding style and avoid double checking

	* src/temp/identifier.hxx: Here.

2016-05-10  Sébastien Piat  <spiat@lrde.epita.fr>

	identifier: rely on misc::symbol constructor

	* src/temp/identifier.hxx: Here.

2016-05-10  Sebastien Piat  <spiat@lrde.epita.fr>

	tests: type: check for actual soundness

	* tests/type/sound.tig: Here.
	* tests/object-type/sound-object.tig: Here.

2016-05-10  Sébastien Piat  <spiat@lrde.epita.fr>

	type-checker: if-exp: use variables and avoid multiple actuals

	* src/object/type-checker.cc: Here.

2016-05-10  Sébastien Piat  <spiat@lrde.epita.fr>

	type: class: fix sound

	* src/type/class.cc: Here.

2016-05-10  Sébastien Piat  <spiat@lrde.epita.fr>

	type-checker: class-ty: do not use pointer

	* src/object/type-checker.cc: Here.

2016-05-10  Sébastien Piat  <spiat@lrde.epita.fr>

	type-checker: use created variables

	* src/type/type-checker.cc: Here.

2016-05-10  Sébastien Piat  <spiat@lrde.epita.fr>

	type-checker: call-exp: simplify

	* src/type/type-checker.cc: Here.

2016-05-10  Sébastien Piat  <spiat@lrde.epita.fr>

	type: if-exp: check for classes compared to nil

	```
	let
	  class A {}
	in
	  if (1) then
	    nil
	  else
	    new A
	end
	```
	Should have type A.

	* src/type/type-checker.cc: Here.

2016-05-10  Sébastien Piat  <spiat@lrde.epita.fr>

	type: function: simplify compatible_with

	* src/type/function.cc: Here.

2016-05-04  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.49 for 2018-tc-5.0

	* .last-cl-gen, ChangeLog, NEWS.txt, configure.ac: Here.

2016-05-03  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: type-visitor: make a better usage of the TypeBuilder

	* src/llvmtranslate/llvm-type-visitor.cc: Use the TypeBuilder for
	int/string/void, by allowing non-cross-compilable types.

2016-05-03  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: escapes: remove ambigous fixme

	* src/llvmtranslate/escapes-collector.cc: The member is already
	initialized in the member declaration. It introduces an useless FIXME.

2016-05-03  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: use more move semantics

	* src/llvmtranslate/escapes-collector.cc,
	* src/llvmtranslate/llvm-type-visitor.cc: Here.

2016-05-03  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: escapes are no longer needed

	Lambda shifting doesn't need the computation of escapings. It's done in
	a different way, by walking the AST and gathering the escapes for every
	function. By doing this, the escaping annotations are useless to TC-L.

	* src/llvmtranslate/escapes-collector.cc: Remove usage of escaping.
	* src/llvmtranslate/tasks.hh: Remove dependency.

2016-05-03  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: remove usage of `getGlobalContext`

	Starting with LLVM 3.8.1, `getGlobalContext` is removed. We now manage
	our own global context that lives with the module.

	* src/llvmtranslate/fwd.hh: Forward reference to LLVMContext.
	* src/llvmtranslate/libllvmtranslate.cc,
	* src/llvmtranslate/libllvmtranslate.hh,
	* src/llvmtranslate/tasks.cc,
	* src/llvmtranslate/tasks.hh: Create the context in llvm-compute then move
	it around in the global state of the tasks.
	* src/llvmtranslate/llvm-type-visitor.cc,
	* src/llvmtranslate/llvm-type-visitor.hh: Store the context here as
	well.
	* src/llvmtranslate/translator.cc,
	* src/llvmtranslate/translator.hh: Store a reference to the context, and
	pass it around when creating types and basic blocks.

2016-05-03  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: move comments to stagize directives

	* src/llvmtranslate/translator.cc: Here.

2016-05-03  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.49 for 2018-tc-5.0

	* .last-cl-gen, ChangeLog, NEWS.txt, configure.ac: Here.

2016-05-03  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: type-visitor: make a better usage of the TypeBuilder

	* src/llvmtranslate/llvm-type-visitor.cc: Use the TypeBuilder for
	int/string/void, by allowing non-cross-compilable types.

2016-05-03  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: escapes: remove ambigous fixme

	* src/llvmtranslate/escapes-collector.cc: The member is already
	initialized in the member declaration. It introduces an useless FIXME.

2016-05-02  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: use more move semantics

	* src/llvmtranslate/escapes-collector.cc,
	* src/llvmtranslate/llvm-type-visitor.cc: Here.

2016-05-02  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: escapes are no longer needed

	Lambda shifting doesn't need the computation of escapings. It's done in
	a different way, by walking the AST and gathering the escapes for every
	function. By doing this, the escaping annotations are useless to TC-L.

	* src/llvmtranslate/escapes-collector.cc: Remove usage of escaping.
	* src/llvmtranslate/tasks.hh: Remove dependency.

2016-05-02  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: remove usage of `getGlobalContext`

	Starting with LLVM 3.8.1, `getGlobalContext` is removed. We now manage
	our own global context that lives with the module.

	* src/llvmtranslate/fwd.hh: Forward reference to LLVMContext.
	* src/llvmtranslate/libllvmtranslate.cc,
	* src/llvmtranslate/libllvmtranslate.hh,
	* src/llvmtranslate/tasks.cc,
	* src/llvmtranslate/tasks.hh: Create the context in llvm-compute then move
	it around in the global state of the tasks.
	* src/llvmtranslate/llvm-type-visitor.cc,
	* src/llvmtranslate/llvm-type-visitor.hh: Store the context here as
	well.
	* src/llvmtranslate/translator.cc,
	* src/llvmtranslate/translator.hh: Store a reference to the context, and
	pass it around when creating types and basic blocks.

2016-05-02  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: move comments to stagize directives

	* src/llvmtranslate/translator.cc: Here.

2016-05-02  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: runtime: avoid copying the runtime code in `runtime_string`

	* src/llvmtranslate/libllvmtranslate.hh,
	* src/llvmtranslate/local.am: Return a `const char*` instead of a
	`std::string`. LLVM's `parseAssemblyString` takes a `llvm::StringRef` as
	an argument for the string to be parsed. This means that we can actually
	avoid a copy by passing a `const char*` to that function. Ideally, we
	would need a `std::string_view`, but we have to wait for C++17 for that.

2016-04-20  Pierre DE ABREU  <pierre.deabreu@epita.fr>

	llvm: insert else and end block on creation for IfExp

	* Inserting else and end block directly when they are
	created during IfExp nodes translation. It allows us to be
	consistent with what is done for WhileExp node.

	* src/llvmtranslate/translator.cc: Here.

2016-04-18  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.48 for 2018-tc-4.0

	* .last-cl-gen, ChangeLog, NEWS.txt, configure.ac: Here.

2016-04-18  Sebastien Piat  <spiat@lrde.epita.fr>

	type: class: use vectors

	* src/type/class.hh: Here.
	* src/type/class.hxx: Here.

2016-04-18  Sebastien Piat  <spiat@lrde.epita.fr>

	tc-4: overfun-object: hide tasks

	* src/object/tasks.cc: Here.

2016-04-18  Sebastien Piat  <spiat@lrde.epita.fr>

	object-desugar: fresh-id should be given

	* src/type/class.cc: Here.

2016-04-18  Sebastien Piat  <spiat@lrde.epita.fr>

	type-checker: remove useless namespace specifier

	* src/type/type-checker.cc: Here.

2016-04-18  Sebastien Piat  <spiat@lrde.epita.fr>

	type: record: use vector instead of list

	* src/type/record.hh: Here.

2016-04-18  Sebastien Piat  <spiat@lrde.epita.fr>

	builtin-types: Nil is no longer a builtin-type

	* src/type/builtin-types.hh: Here.

2016-04-17  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	tc-4: use more auto declarations

	* src/type/pretty-printer.cc,
	* src/type/type-checker.cc: Here.

2016-04-16  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	tc-4: remove nested stagize annotations

	* src/type/type-checker.cc,
	* src/type/type-checker.hxx: FIXMEs are not displayed if there are
	nested annotations.

2016-04-16  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	tc-4: refactor check_type function

	* type-checker.cc,
	* type-checker.hh,
	* type-checker.hxx: Use a template function instead of two similar
	functions.

2016-04-16  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	tc-4: use more auto declarations

	* src/object/type-checker.cc,
	* src/object/type-checker.hh,
	* src/type/type-checker.cc: Here.

2016-04-16  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	tc-4: remove useless includes

	* src/type/builtin-types.cc: Remove leftovers from Nil.

2016-04-16  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	tc-4: add missing FIXME directive

	* src/object/type-checker.cc,
	* src/type/attribute.hxx: The FIXME directive was not displayed, since
	the wrong annotation was used.

2016-04-15  Akim Demaille  <akim@lrde.epita.fr>

	tests: try to understand why sometimes we are killed

	On occasion the BF shows some tests that fail with signal 9, which is
	expected to be related to the timeout mechanism.  However, there is no
	trace in the logs from the timeout mechanism, although there should be
	some.

	So something is wrong here.  Try to make things more explicit to help
	understanding the problem when it happens.

	Maybe we should find a means to limit the resources given to the child
	process instead, including time.

	* tests/tc-check.in (run): Use higher-res clocks.

2016-04-15  Akim Demaille  <akim@lrde.epita.fr>

	tests: fix the testing of some prerequisites

	It's not always easy to install all the requirements on a given
	machine (e.g., the ARM tool chain).  So rather than dying when they
	are missing, just warn about them.

	Also, stop checking for requirements that are not defined...

	* configure.ac: More prereqs.
	* tests/tc-check.in: Use them.

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: frame: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: translate: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: lib: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: overload: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: object: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: escapes: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: liveness: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: regalloc: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: desugar: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: callgraph: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: transform: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: llvmtranslate: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: assem: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: target: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: task: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: inlining: no virtual with override

2016-04-14  Akim Demaille  <akim@lrde.epita.fr>

	style: tree: no virtual with override

2016-04-13  Akim Demaille  <akim@lrde.epita.fr>

	type: minor clean up

	* src/type/named.hh: Don't add virtual to override.
	* src/type/named.cc (indent): Remove dead code.
	(sound): I _hate_ variable definitions without an initial value.
	And `auto` is nice.

2016-04-13  Akim Demaille  <akim@lrde.epita.fr>

	build: LLVMCONFIG -> LLVM_CONFIG, and factor requirements

	* build-aux/m4/tc-prog.m4: Accept non-literal version requirements.
	* configure.ac: Factor the version requirements.
	(LLVMCONFIG): Rename as...
	(LLVM_CONFIG): this.
	Remove redundant comments.
	* src/llvmtranslate/local.am: Adjust.

2016-04-13  Akim Demaille  <akim@lrde.epita.fr>

	build: point to pyyaml via pip

	* bootstrap: here.

2016-04-11  Etienne Renault  <renault@lrde.epita.fr>

	readme: update description

	* src/tree/README.txt: Here.

2016-04-08  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.47

	* .last-cl-gen, ChangeLog, NEWS.txt, configure.ac: Here.

2016-04-04  Etienne Renault  <renault@lrde.epita.fr>

	coverage: ignore runtime.

	* build-aux/bin/coverage: Here.

2016-03-30  Etienne Renault  <renault@lrde.epita.fr>

	tests: prefer user-defined macros

	* tests/tc-check.in: Here.

2016-03-29  Etienne Renault  <renault@lrde.epita.fr>

	Force clang-3.8

	* configure.ac: Here.

2016-03-29  Etienne Renault  <renault@lrde.epita.fr>

	clang: do not redefine CLANG variable

	src/llvmtranslate/local.am: Here.

2016-03-29  Etienne Renault  <renault@lrde.epita.fr>

	llvm-config: prefer macro for portability

	* src/llvmtranslate/local.am: Here.

2016-03-27  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: include llvm headers as system headers

	* src/llvmtranslate/local.am: `llvm-config --cppflags` returns flags
	like: `-I/usr/include`, which are the include paths for the LLVM
	headers. Since LLVM doesn't use the exact compilation flags we do, some
	warnings might fire for us, and we don't want the compilation output to
	be dirty. Including them as system headers, using `-isystem` instead of
	`-I` hides the warnings coming from LLVM's headers (except #warning
	directives).

2016-03-27  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: require llvm 3.8

	* configure.ac: Here.

2016-03-27  Pierre-Louis Dagues  <pl.dagues@gmail.com>

	llvm: remove explicit names from store instructions

	* src/llvmtranslate/translator.cc: Stores do not have a name in the IR.
	  The name passed as an argument was taken as boolean which added the volatile
	  attribute and removed possible optimisations.

2016-03-27  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: remove support for llvm 3.6

	* ../configure.ac: Update `llc` and `llvm-config`'s version.
	* ../src/llvmtranslate/translator.cc: Remove macros.

2016-03-27  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: runtime: document the runtime specialized for LLVM

	* src/llvmtranslate/tiger-runtime.c: Add doxygen directives for
	builtins.

2016-03-27  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: add llvm checks to tc-check

	* tests/tc-check.in: Add llvm_check[_one] that calls the following:
	`tc --llvm-runtime-display --llvm-display` to generate the LLVM IR,
	`llc` to generate the assembly from the LLVM IR and `gcc` to link.

2016-03-27  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: add the llvmtranslate module

	* src/llvmtranslate/fwd.hh: llvm forward declarations.
	* src/llvmtranslate/libllvmtranslate.cc,
	* src/llvmtranslate/libllvmtranslate.hh: FrameBuilder, EscapeCollector
	and the whole llvm translate pure interface.
	* src/llvmtranslate/local.am: `runtime.cc` generation and llvm flags.
	* src/llvmtranslate/tasks.cc,
	* src/llvmtranslate/tasks.hh: `--llvm-compute`, `--llvm-display`,
	`--llvm-runtime-display`.
	* src/llvmtranslate/tiger-runtime.c: The LLVM-adapted tiger runtime.
	* src/llvmtranslate/llvm-type-visitor.cc,
	* src/llvmtranslate/llvm-type-visitor.hh: The type translator.
	* src/llvmtranslate/translator.cc,
	* src/llvmtranslate/translator.hh,
	* src/llvmtranslate/translator.hxx: The translator visitor.
	* src/local.am: Include `llvmtranslate/local.am`

2016-03-25  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	llvm: add dependencies to the build system

	* configure.ac: Add Clang, llc and llvm-config,
	* dev/stagize,
	* dev/studentize_tc.conf: Add the llvmtranslate module.

2016-03-25  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	type: replace the `dump` method with a type visitor

	* src/type/README.txt,
	* src/type/array.cc,
	* src/type/array.hh,
	* src/type/attribute.cc,
	* src/type/attribute.hh,
	* src/type/attribute.hxx,
	* src/type/builtin-types.cc,
	* src/type/builtin-types.hh,
	* src/type/class.cc,
	* src/type/class.hh,
	* src/type/field.cc,
	* src/type/field.hh,
	* src/type/field.hxx,
	* src/type/function.cc,
	* src/type/function.hh,
	* src/type/named.cc,
	* src/type/named.hh,
	* src/type/nil.cc,
	* src/type/nil.hh,
	* src/type/record.cc,
	* src/type/record.hh,
	* src/type/type.hh,
	* src/type/type.hxx: Remove dump.
	* src/type/pretty-printer.cc,
	* src/type/pretty-printer.hh: The type visitor that prints the nodes.
	* src/type/type-checker.cc,
	* src/type/type-checker.hxx: Include the PrettyPrinter.
	* src/type/local.am: Add pretty-printer.cc/hh.

2016-03-25  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	type: add a `record_type_` to the `Nil` type

	Sometimes, visitors need to know the real type the `Nil` type is
	actually representing (like the LLVM translator, since it needs to have
	typed null pointers).
	In order to do this, the type-checker has been updated to check for nil
	types wherever they can appear, and set the expected `type::Record` as a
	`record_type_` of a `type::Nil`. This implies that `type::Nil` is not a
	sigleton anymore.

	* src/ast/ast.yml: Add TypeConstructor to `NilExp`.
	* src/ast/nil-exp.cc,
	* src/ast/nil-exp.hh,
	* src/ast/README-student.txt,
	* src/ast/README.txt,
	* src/ast/ast.gv: Regen.
	* src/type/test-type.cc,
	* src/object/desugar-visitor.cc,
	* src/type/type-checker.hxx
	* src/overload/type-checker.cc: Remove usage of `Nil::instance()`.
	* src/type/builtin-types.cc,
	* src/type/builtin-types.hh: Remove the Nil singleton.
	* src/type/nil.cc,
	* src/type/nil.hh: Add the Nil type.
	* src/type/local.am: Add nil.cc and nil.hh.
	* src/type/types.hh,
	* src/type/record.cc: Include nil.hh.
	* src/type/type-checker.cc: Add the `record_type_` binding.

2016-03-25  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	type: add a visitor on `type::Type`s

	* src/type/visitor.hh,
	* src/type/visitor.hxx: The generic `type::Type` visitor.
	* src/type/default-visitor.hh,
	* src/type/default-visitor.hxx: The default `type::Type` visitor.
	* src/type/array.cc,
	* src/type/array.hh,
	* src/type/builtin-types.cc,
	* src/type/builtin-types.hh,
	* src/type/class.cc,
	* src/type/class.hh,
	* src/type/function.cc,
	* src/type/function.hh,
	* src/type/method.cc,
	* src/type/method.hh,
	* src/type/named.cc,
	* src/type/named.hh,
	* src/type/record.cc,
	* src/type/record.hh,
	* src/type/type.hh: Add the accept methods.
	* src/type/fwd.hh: Add forward declarations to the visitors.
	* src/type/local.am: Add the visitor files.
	* src/type/README.txt: Update documentation.

2016-03-25  Sébastien Piat  <spiat@lrde.epita.fr>

	tests: arm: add arm dependencies to required programs

	* tests/tc-check.in: Here.

2016-03-25  Sébastien Piat  <spiat@lrde.epita.fr>

	tests: arm: use correct cross compiler and library

	* tests/tc-check.in: Here.

2016-03-07  Etienne Renault  <renault@lrde.epita.fr>

	 Version 1.46, for 2018-tc-3.0

	* NEWS.txt, configure.ac: Here.

2016-03-07  Sebastien Piat  <spiat@lrde.epita.fr>

	scoped-map: fixmes displayed at tc-3, remove scoped-map before

	* dev/stagize: Remove them here.
	* lib/misc/local.am: Here.
	* lib/misc/scoped-map.hh: Here.
	* lib/misc/scoped-map.hxx: Here.
	* lib/misc/test-scoped.cc: Here.

2016-03-07  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.45, for 2018-tc-2.0

	* .last-cl-gen, ChangeLog,
	* NEWS.txt,  configure.ac: Here.

	NEWS.txt, Makefile.am, configure.ac: here.

2016-03-07  Etienne Renault  <renault@lrde.epita.fr>

	dev/install-generic: ask for local install

	*  dev/install-generic: Here.

2016-03-07  Etienne Renault  <renault@lrde.epita.fr>

	Update URL for new versions

	* dev/install-bison,
	* dev/install-havm,
	* dev/install-monoburg,
	* dev/install-nolimips: Here.

2016-03-07  Etienne Renault  <renault@lrde.epita.fr>

	make check: use unique directories in /tmp

	Multiple runs of make check can overlap and share the
	same directory. This is obviously not something we want
	(especilly from the buildfarm point of view).

	* tests/tc-check.in: here.

2016-02-16  Etienne Renault  <renault@lrde.epita.fr>

	dev/install-generic: ask for local install

	*  dev/install-generic: Here.

2016-02-16  Etienne Renault  <renault@lrde.epita.fr>

	Update URL for new versions

	* dev/install-bison,
	* dev/install-havm,
	* dev/install-monoburg,
	* dev/install-nolimips: Here.

2016-02-16  Etienne Renault  <renault@lrde.epita.fr>

	make check: use unique directories in /tmp

	Multiple runs of make check can overlap and share the
	same directory. This is obviously not something we want
	(especilly from the buildfarm point of view).

	* tests/tc-check.in: here.

2016-02-12  Etienne Renault  <renault@lrde.epita.fr>

	Update havm and monoburg versions

	* configure.ac: here.

2016-02-12  Sebastien Piat  <spiat@lrde.epita.fr>

	tc-1: give parse_input

	* src/parse/tiger-parser.cc: Here.

2016-02-11  Sebastien Piat  <spiat@lrde.epita.fr>

	tc-1: test-symbol does not require scoped map

	Fix make check for tc-base-1.

	* lib/misc/test-symbol.cc: Here.

2016-02-10  Sebastien Piat  <spiat@lrde.epita.fr>

	overfun-object: add FIXMEs and remove files until tc-4

	* dev/stagize: Remove files here.
	* src/object/overfun-binder.cc: FIXMEs here,
	* src/object/overfun-binder.hh: here
	* src/object/overfun-type-checker.cc: here,
	* src/object/overfun-type-checker.hh: here.

2016-02-10  Sebastien Piat  <spiat@lrde.epita.fr>

	tc-2: remove useless FIXMEs

	escapable, typable and type-constructor should not be added until
	tc-3.

	* dev/stagize: Here.

2016-02-10  Sebastien Piat  <spiat@lrde.epita.fr>

	default-visitor: fix fixme in callexp and functiondec

	* src/ast/default-visitor.hxx: Here.

2016-02-10  Sebastien Piat  <spiat@lrde.epita.fr>

	parse: object parsing should be possible since tc-1

	* dev/stagize: Here.

2016-02-10  Sebastien Piat  <spiat@lrde.epita.fr>

	tc-1: hide fixme of other stages

	* lib/misc/graph.hh: Here.
	* lib/misc/graph.hxx: Here.
	* lib/misc/scoped-map.hh: Here.
	* lib/misc/scoped-map.hxx: Here.
	* src/parse/tasks.cc: Here.

2016-02-05  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.44, for 2018-tc-1.0

	* NEWS.txt, Makefile.am, configure.ac: here.

2016-01-25  Sebastien Piat  <spiat@lrde.epita.fr>

	tests: overfun-object: fix tc-err files

	* tests/overfun-object-bind/*.tc-err: Here.
	* tests/overfun-object-type/*.tc-err: Here.

2016-01-25  Sebastien Piat  <spiat@lrde.epita.fr>

	tests: add generated .hir and .hpr files

	* tests/bounds-check/*.hir: Here.
	* tests/bounds-check/*.hpr: Here.
	* tests/object-good/*.hir: Here.
	* tests/object-good/*.hpr: Here.
	* tests/overfun-object-good/*.hir: Here.
	* tests/overfun-object-good/*.hpr: Here.

2016-01-25  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	build: update the C++ standard to C++14

	* tests/tc-check.in,
	* configure.ac: Update the flags and the compiler requirements.
	GCC supports C++14 starting with gcc 5.0
	Clang supports C++14 starting with clang 3.4

2016-01-25  Sebastien Piat  <spiat@lrde.epita.fr>

	scan: add address at end of id to avoid ice with object desugar

	WIP: We should probably find a better way of solving this.

	`let type A /* 0x42 */ = int in end`
	would be renamed as
	`let type A /* 0x42 */_17 = int in end`
	hence would fail if parsed again like it is done in the object desugar.
	The first line now corresponds to:
	`let type A__0x42 = int in end`

	* src/parse/scantiger.ll: Here.
	* tests/good/address.*: Test it.

2016-01-15  Sebastien Piat  <spiat@lrde.epita.fr>

	bind: only display class member binding after type checking

	Do not display class member binding when the type checker wasn't passed
	before to avoid errors when type checking a file which only went through
	the binder.

	* src/ast/pretty-printer.cc: Here.
	* src/ast/pretty-printer.hh: Here.

2016-01-15  Sebastien Piat  <spiat@lrde.epita.fr>

	scoped-map: avoid return 0 for pointers with enable if

	If the get method fails to find the element, it has 2 different
	behaviors depending on whether the element is a pointer or not.
	If it's a pointer the function returns a nullptr, otherwise it
	raises an error.
	Dispatch these errors in function defined with enable if to
	avoid having to return 0 to fit the type of the function.

	* lib/misc/scoped-map.hh: Here.
	* lib/misc/scoped-map.hxx: Here.

2016-01-03  Sebastien Piat  <spiat@lrde.epita.fr>

	overfun-object: add tests for incorrect binding/type-checking

	* tests/tc-check.in: Here.
	* tests/overfun-object-bind/*: Binding.
	* tests/overfun-object-type/*: Type checking.

2016-01-03  Sébastien Piat  <spiat@lrde.epita.fr>

	overfun-object: add tests in overfun-object-good

	Change ARM test number to 115 to allowtest suite to pass with ARM
	failing.

	* tests/tc-check.in: Add test category.
	* Makefile.am: Adjust options for generated tests.
	* tests/overfun-object-good/*.err: Here.
	* tests/overfun-object-good/*.out: Here.
	* tests/overfun-object-good/*.sta: Here.
	* tests/overfun-object-good/*.tig: Here.

2016-01-03  Sébastien Piat  <spiat@lrde.epita.fr>

	style: tests: stop using tabs

	* tests/tc-check.in: Here.

2016-01-02  Axel Manuel  <axel.manuel@epita.fr>

	tests: add tests for pruning of used functions in decs

	* tests/inline/use-in-chunk.*: Add tests and generated files.

2016-01-02  Axel Manuel  <axel.manuel@epita.fr>

	pruner: fix pruning of used functions

	* src/inlining/pruner.*: here

2015-12-23  Sébastien Piat  <spiat@lrde.epita.fr>

	overfun-object: add desugar and renamer

	Add support for renaming program with overload and object.
	Usable through new task 'overfun-object-rename'.
	Add support for desugaring program with overload and object.
	Usable through new task 'overfun-object-desugar'.
	(Closes #71)

	* src/object/tasks.cc: Here.
	* src/object/tasks.hh: Here.

2015-12-23  Sébastien Piat  <spiat@lrde.epita.fr>

	overfun-object: add type checker

	Add support for type checking program with overload and object.
	Usable through new task 'overfun-object-types-compute'.

	* src/object/overfun-type-checker.hh: Here,
	* src/object/overfun-type-checker.cc: here.
	* src/object/type-checker.hh: Virtual inheritence here,
	* src/overload/type-checker.hh: and here.
	* src/object/tasks.hh: Add to tasks here,
	* src/object/tasks.cc: here.
	* src/object/libobject.hh: Add to lib here,
	* src/object/libobject.cc: here.

2015-12-23  Sébastien Piat  <spiat@lrde.epita.fr>

	overfun-object: add binder

	Add support for binding program with overload and object.
	Usable through new task 'overfun-object-bindings-compute'.

	* src/object/overfun-binder.hh: Here,
	* src/object/overfun-binder.cc: here.
	* src/object/binder.hh: Virtual inheritence here,
	* src/overload/binder.hh: and here.
	* src/object/tasks.hh: Add to tasks here,
	* src/object/tasks.cc: here,
	* src/object/libobject.hh: Add to lib here,
	* src/object/libobject.cc: here.

2015-12-23  Sébastien Piat  <spiat@lrde.epita.fr>

	overload: remove useless extern declaration

	* src/overload/tasks.hh: Here.

2015-12-23  Sébastien Piat  <spiat@lrde.epita.fr>

	style: fix typo and blank spaces

	* build-aux/m4/boost.m4: Here.
	* src/object/desugar-visitor.cc: Here.

2015-12-14  Sébastien Piat  <spiat@lrde.epita.fr>

	codegen: add generated files

	We want to be able to detect differences in generated files easily.
	Adding them to the repository will make sure of this.

	* src/target/arm/arm-codegen.cc: Here.
	* src/target/arm/arm-codegen.hh: Here.
	* src/target/ia32/gas-codegen.cc: Here.
	* src/target/ia32/gas-codegen.hh: Here.
	* src/target/mips/spim-codegen.cc: Here.
	* src/target/mips/spim-codegen.hh: Here.

2015-12-14  Sébastien Piat  <spiat@lrde.epita.fr>

	build: adjust to Flex 2.6

	The new version of Flex made incompatible changes with the previous
	version. Deal with it.

	* build-aux/m4/flex-version.m4 (FLEX_VERSION): Define the version of flex.
	* configure.ac (config.h): Call FLEX_VERSION.
	* lib/misc/flex-lexer.hh: Depend on the Flex version.
	Add support for references.

2015-12-14  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	arm: add default case to `cjump_inst`

	* src/target/arm/arm-assembly.cc: Add a default case in order to supress
	a compiler warning.

2015-12-14  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	type: add missing `virtual` and `override`

	* src/type/method.hh: Supress compiler warnings.

2015-11-06  Sébastien Piat  <spiat@lrde.epita.fr>

	symbol: fix generated file call to name_get

	* dev/transform-matcher-gen: Here.

2015-11-05  Sébastien Piat  <spiat@lrde.epita.fr>

	symbol: object_get -> get in unique and remove symbol equivalents

	* lib/misc/symbol.cc: Here.
	* lib/misc/symbol.hh: Here.
	* lib/misc/symbol.hxx: Here.
	* lib/misc/test-symbol.cc: Here.
	* lib/misc/unique.hh: Here.
	* lib/misc/unique.hxx: Here.
	* src/assem/fragment.cc: Here.
	* src/desugar/bounds-checking-visitor.cc: Here.
	* src/object/desugar-visitor.cc: Here.
	* src/object/type-checker.cc: Here.
	* src/parse/tiger-parser.cc: Here.
	* src/transform/matcher.cc: Here.
	* src/type/type-checker.cc: Here.

2015-11-05  Sébastien Piat  <spiat@lrde.epita.fr>

	unique: remove virtual for non-virtual member functions

	* lib/misc/symbol.hh: Here.
	* lib/misc/unique.hh: Fix typo here.

2015-11-05  Sébastien Piat  <spiat@lrde.epita.fr>

	gcc-ice: comment on destructor file change avoiding ice

	The internal compiler error has been reported here :
	https://gcc.gnu.org/bugzilla/show_bug.cgi?id=68220

	* src/tree/fragment.cc: Here.

2015-11-05  Sébastien Piat  <spiat@lrde.epita.fr>

	variant: remove bad get tests made useless by boost 1.58

	* lib/misc/test-variant.cc: Here.

2015-11-05  Sébastien Piat  <spiat@lrde.epita.fr>

	gcc-5: do not inline ProcFrag destructor causing gcc-5 to ice

	* src/tree/fragment.hxx: From here...
	* src/tree/fragment.cc: to here.

2015-11-03  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	style: use `unique_ptr` instead of `auto_ptr`

	* src/target/arm/test-target.cc,
	* src/target/ia32/test-target.cc,
	* src/target/mips/test-target.cc:
	`auto_ptr` is deprecated and really dangerous. C++11 brought
	`unique_ptr` and move semantics to do the job right.

2015-11-02  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	style: use pragma once

	* src/ast/*.hh,
	* src/ast/*.hxx: Regen.
	* lib/misc/*.hh,
	* lib/misc/*.hxx,
	* src/*/*.hh,
	* src/*/*.hxx,
	* src/common.hxx,
	* src/version.hxx:
	Here.
	* dev/ast-all-gen,
	* dev/ast-cloner-gen,
	* dev/ast-default-visitor-gen,
	* dev/ast-fwd-gen,
	* dev/ast-nodes-gen,
	* dev/ast-pretty-printer-gen,
	* dev/ast-visitor-gen,
	* dev/reheader,
	* dev/tools.py,
	* dev/transform-all-gen,
	* dev/transform-proxy-visitors-gen:
	Update the scripts to generate pragma once.

2015-11-02  Francis Visoiu Mistrih  <visoiu_f@epita.fr>

	style: visitor: use type alias template in all the visitors

	* src/assem/visitor.hh,
	* src/assem/visitor.hxx,
	* src/ast/default-visitor.hh,
	* src/ast/default-visitor.hxx,
	* src/ast/non-object-visitor.hh,
	* src/ast/non-object-visitor.hxx,
	* src/ast/object-visitor.hh,
	* src/ast/object-visitor.hxx,
	* src/tree/visitor.hh,
	* src/tree/visitor.hx:
	* src/ast/visitor.hxx,
	Here.

2015-08-11  Akim Demaille  <akim@lrde.epita.fr>

	build: add more "unreachable" annotations

	* lib/misc/contract.hh: Use pragma once.
	Fix TitleCase for macro argument names.
	(unreached): Rename as...
	(unreachable): this.

	* src/assem/instr.cc, src/ast/non-object-visitor.hxx,
	* src/bind/binder.cc, src/canon/traces.cc,
	* src/desugar/desugar-visitor.cc, src/object/type-checker.cc,
	* src/target/arm/tree.brg, src/target/ia32/tree.brg,
	* src/target/mips/tree.brg, src/translate/exp.cc,
	* src/translate/translation.cc, src/translate/translator.cc,
	* src/tree/call.cc, src/tree/eseq.cc, src/tree/seq.cc,
	* src/type/type-checker.cc:
	Adjust.

	* src/target/ia32/gas-assembly.cc, src/target/mips/spim-assembly.cc:
	Use unreachable to avoid GCC warnings about return type.

2015-08-11  Akim Demaille  <akim@lrde.epita.fr>

	style: use pragma once

	* src/temp/identifier.hh, src/temp/temp.hh: here.

2015-08-11  Akim Demaille  <akim@lrde.epita.fr>

	build: avoid warnings about override

	* src/ast/default-visitor.hh,
	* dev/transform-proxy-visitors-gen,
	* src/transform/proxy-visitors.hh,
	* src/liveness/interference-graph.hh: here.

2015-08-11  Akim Demaille  <akim@lrde.epita.fr>

	build: fix compatibility with Boost 1.58

	Currently it dies with a missing definition.
	See https://groups.google.com/forum/#!topic/boost-devel-archive/EYlnhQKB-3M.
	Reported by Pierre De Abreu.

	* src/target/mips/cpu.cc: Don't include boost/variant/get.hpp,
	temp/temp.hh does it for us actually.

2015-06-26  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.43, for 2017-tc-9.0

	* NEWS.txt, configure.ac: here.

2015-06-24  Axel Manuel  <axel.manuel@epita.fr>

	tests: Add tests for IfExp with record or class

	* tests/object-good/branching-class.tig: here
	* tests/object-good/function-returning-parent.tig: here
	* tests/object-type/calling-son-method.tig: here
	* tests/object-type/function-returning-son.tig: here
	* tests/type/different-record-nil.tig: here

2015-06-24  Axel Manuel  <axel.manuel@epita.fr>

	object: ifexp added in type-checker and desugar

	* src/object/type-checker.*: here
	* src/object/desugar-visitor.*: here
	* src/type/class.*: here

2015-06-24  Axel Manuel  <axel.manuel@epita.fr>

	type: protect invalid record equality

	* src/type/type-checker.cc: here

2015-06-10  Pierre DE ABREU  <pierre.deabreu@epita.fr>

	misc: change some tc8 and tc9 comments to fit with our implementation

	* Some comments were not that correct. For example, TC8 and liveness
	graph comments state that we follow the algorithm 17.6 of Modern
	Compiler Implementation in JAVA. But in our implementation, in
	and out sets are switched.

	* In TC9, some comments may be confusing. For exemple in tempmap_get(),
	it was said that we should use precolored and already colored node, but
	we actually use coalesced and already colored nodes. It could be
	confusing for students since we already have a precolored nodes set.

2015-06-05  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.42, for 2017-tc-8.0

	* NEWS.txt, configure.ac: here.

2015-06-05  Axel Manuel  <manuel_c@yaka.epita.fr>

	tests: inline generated files Add generated files.

	* tests/inline/call.*: added.
	* tests/inline/multi-chunks.*: added.
	* tests/inline/mutually-recursive-functions.*: added.
	* tests/inline/partial-unused.*: added.
	* tests/inline/prune-chunk.*: added.
	* tests/inline/recursive-function.*: added.
	* tests/inline/scope-functions.*: added.
	* tests/inline/shadowing-functions.*: added.
	* tests/inline/unused-function.*: added.

2015-06-05  Axel Manuel  <manuel_c@yaka.epita.fr>

	tests: inline

	Add a directory to grade TC-D only on specific files.

	* tests/Makefile.am: add category inline for gen-all-outputs.
	* tests/tc-check.in: launch testing on inline directory.
	* tests/good/call.tig: move to tests/inline/call.tig.
	* tests/inline/multi-chunks.tig: added.
	* tests/inline/mutually-recursive-functions.tig: added.
	* tests/inline/partial-unused.tig: added.
	* tests/inline/prune-chunk.tig: added.
	* tests/inline/recursive-function.tig: added.
	* tests/inline/scope-functions.tig: added.
	* tests/inline/shadowing-functions.tig: added.
	* tests/inline/unused-function.tig: added.

2015-06-05  Axel Manuel  <manuel_c@yaka.epita.fr>

	pruning: fix pruning of unused functiondecs

	* src/inline/pruner.cc: here.

2015-06-02  Pierre DE ABREU  <pierre.deabreu@epita.fr>

	bounds-check: add tests for alias boxing/unboxing

	* These tests checks : alias as a 'return type', in an ArrayExp,
	and both combined.

	* This patch includes a new test directory : bounds-check. We needed
	a new directory since the new tests are neither `good' or
	bad files. They compile, but fail at runtime.

	* Add section `nolimips_with_bounds_check' in `tc-check.in'. The
	previous section (`nolimips_check') was not enough, since it was
	used on `good', `escapes' and `runtime' directories. We had to
	create a new category, as well as a new directory, since these
	directories are sometimes used without the bounds checking option.
	We could have used them for our tests, but the result should have
	been something that does not fail at runtime. It could have worked
	if we wanted only to check if the desugar was really working,
	but without checking those tests really failed at runtime.

2015-06-02  Pierre DE ABREU  <pierre.deabreu@epita.fr>

	bounds-check: bypass aliases for boxes names

	* Uses of aliases broke this visitor. Boxes names
	where computed from the alias name, not from the
	actual type.

	* Now compute boxes name using the boxed array map
	and the actual type.

2015-06-02  Pierre DE ABREU  <pierre.deabreu@epita.fr>

	object-desugar: add test checking desugar with alias

	* This new test checks that the object-desugar works with
	an alias on a class, since last versions didn't work with
	any aliases (function redefinition).

	* Add object-desugar tests in tc-check.in, in the desugar
	category (105). I don't understand why there was nothing
	checking it...

2015-06-02  Pierre DE ABREU  <pierre.deabreu@epita.fr>

	object: bypass alias during object-desugar.

	* Since every TypeDec which represent a class is desugared,
	any alias leaded to a function redefinition. Now use a set
	to know if we have to handle the class or if it's already
	been done.

2015-05-28  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.41, for 2017-tc-7.0

	* NEWS.txt, configure.ac: here.

2015-05-25  Matthieu Simon  <simon_f@epita.fr>

	arm/call.brg: Replace a bad old comment

	ARM backend uses argument registers when making
	a call instruction.

2015-05-25  Matthieu Simon  <simon_f@epita.fr>

	Hide Arm backend sources for student

	The hidden part are the same than the IA32 backend.

2015-05-25  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.40, for 2017-tc-6.0

	* NEWS.txt, configure.ac: here.

2015-04-30  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.39, for 2017-tc-5.0

	* NEWS.txt, configure.ac: here.

2015-03-25  Akim Demaille  <akim@lrde.epita.fr>

	style: visitor: use a type alias template to shorten type names

	I'd like to do that in the other visitors too, but maybe it will be a
	problem for students in their own code.  So to avoid conflicts, do it
	only here for the time being.

	* dev/ast-visitor-gen: Introduce an alias template and use it.
	* src/ast/visitor.hh: Regen.

2015-03-22  Akim Demaille  <akim@lrde.epita.fr>

	style: add a few missing 'override'

	* lib/misc/endomap.hh, src/type/named.hh: here.

2015-03-22  Akim Demaille  <akim@lrde.epita.fr>

	regalloc: fix marks for studistcheck T=9

	* src/regalloc/color.cc: Here.
	Fix style issues.
	* src/regalloc/color.hh: Ditto.

2015-03-20  Akim Demaille  <akim@lrde.epita.fr>

	build: fix distcheck

	* Makefile.am (dist_TESTS): New.
	* ti/local.am: Be sure to ship ti/fact.tig.

2015-03-19  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.38, for 2017-tc-4.0

	* NEWS.txt, configure.ac: here.

2015-03-17  Pierre DE ABREU  <pierre.deabreu@epita.fr>

	pretty-printer: print object attribute bindings

	Since attributes bindings were not printed we could not do:

	  tc --object-types-compute -BA file.tig > tmp.tig
	  tc --object-types-compute tmp.tig.

	For every fieldvar, if typing has been done, we check if the current
	var is an object. If so, we try to print the correct binding of the
	attribute.

2015-03-17  Akim Demaille  <akim@lrde.epita.fr>

	regen

2015-03-17  Akim Demaille  <akim@lrde.epita.fr>

	python: compatibility with Python 3

	Many changes:
	- use print_function
	- use ', '.join(args)
	- use open() instead of file()
	- use '...'.lower()
	- be sure to sort the includes
	- fix the comparison functions for sort()

2015-02-26  Etienne Renault  <renault@lrde.epita.fr>

	Version 1.37, for 2017-tc-3.0

	* NEWS.txt, configure.ac: here.

2015-02-17  Matthieu Simon  <simon_f@epita.fr>

	mips: clean target files

	* src/target/mips/binop.brg,
	* src/target/mips/call.brg,
	* src/target/mips/cjump.brg,
	* src/target/mips/exp.brg
	* src/target/mips/move.brg,
	* src/target/mips/move_load.brg,
	* src/target/mips/move_store.brg,
	* src/target/mips/stm.brg,
	* src/target/mips/temp.brg:
	Use `auto'.

	* src/target/mips/mem.brg:
	Refractor Move construction.

	* src/target/mips/codegen.cc,
	* src/target/mips/codegen.hh: Delete.

	* src/target/mips/cpu.cc,
	* src/target/mips/spim-assembly.cc,
	* src/target/mips/spim-assembly.hh:
	Replace boost::lexical_cast<std::string>
	by std::to_string.

	* src/target/mips/prologue.hh,
	* src/target/mips/epilogue.cc,
	* src/target/mips/local.am,
	* src/target/mips/target.cc,
	* src/target/mips/target.hh,
	* src/regalloc/test-regalloc.cc:
	Add `Spim' prefix to Codegen class.

	* src/target/mips/spim-layout.cc:
	Use '\n' instead of std::endl.

2015-02-17  Matthieu Simon  <simon_f@epita.fr>

	target: add list_initializer in Cpu class

	* src/target/arm/cpu.cc,
	* src/target/cpu.cc,
	* src/target/cpu.hh,
	* src/target/ia32/cpu.cc,
	* src/target/mips/cpu.cc:

	Allow to use `argument_reg', `caller_save_reg',
	`calle_save_reg' and `special_reg' with list_initializer.

2015-02-17  Matthieu Simon  <simon_f@epita.fr>

	ia32: clean target files

	*  src/target/ia32/binop.brg,
	*  src/target/ia32/call.brg,
	*  src/target/ia32/cjump.brg,
	*  src/target/ia32/exp.brg,
	*  src/target/ia32/stm.brg,
	*  src/target/ia32/move_load.brg,
	*  src/target/ia32/move_store.brg,
	*  src/target/ia32/temp.brg:
	Use `auto'.

	*  src/target/ia32/mem.brg:
	Refractor construction of Move.

	*  src/target/ia32/codegen.cc,
	*  src/target/ia32/codegen.hh: Delete.

	*  src/target/ia32/prologue.hh,
	*  src/target/ia32/epilogue.cc,
	*  src/target/ia32/local.am,
	*  src/target/ia32/target.cc,
	*  src/target/ia32/target.hh:
	Add `Gas' prefix to `Codegen' class.

	*  src/target/ia32/gas-assembly.cc,
	*  src/target/ia32/gas-assembly.hh,
	*  src/target/ia32/gas-layout.cc:
	Use '\n' instead of std::endl.

2015-02-17  Matthieu Simon  <simon_f@epita.fr>

	Add arm backend files

	* src/target/arm/arm-assembly.cc,
	* src/target/arm/arm-assembly.hh,
	* src/target/arm/arm-layout.cc,
	* src/target/arm/arm-layout.hh,
	* src/target/arm/binop.brg,
	* src/target/arm/call.brg,
	* src/target/arm/cjump.brg,
	* src/target/arm/cpu.cc,
	* src/target/arm/cpu.hh,
	* src/target/arm/epilogue.cc,
	* src/target/arm/exp.brg,
	* src/target/arm/fwd.hh,
	* src/target/arm/local.am,
	* src/target/arm/mem.brg,
	* src/target/arm/move.brg,
	* src/target/arm/move_load.brg,
	* src/target/arm/move_store.brg,
	* src/target/arm/prologue.hh,
	* src/target/arm/runtime.s,
	* src/target/arm/stm.brg,
	* src/target/arm/target.cc,
	* src/target/arm/target.hh,
	* src/target/arm/temp.brg,
	* src/target/arm/test-target.cc,
	* src/target/arm/tree.brg: New.

	* src/target/local.am:
	Add 'arm' folder build rules.

	* src/target/tasks.cc,
	* src/target/tasks.hh,
	* src/target/tiger_target.i:
	Update to provide "--target-arm" option.

	* tests/tc-check.in:
	Add Arm backend's tests.

2015-02-17  Akim Demaille  <akim@lrde.epita.fr>

	tests: make the sigalarm more verbose

	On the BF we have some failures that are hard to interpret.  Let's try
	to see if something does not work properly in our sigalarm set up.

	* tests/tc-check.in: here.

2015-02-12  Akim Demaille  <akim@lrde.epita.fr>

	Version 1.35, for 2017-tc-2.0

	* NEWS.txt, configure.ac: here.

2015-02-12  Akim Demaille  <akim@lrde.epita.fr>

	style: comment changes

	* src/ast/pretty-printer.cc: here.

2015-02-10  Akim Demaille  <akim@lrde.epita.fr>

	build: put stc into its own directory

	* src/stc.cc: Rename as...
	* src/stc/stc.cc: this.
	* src/stc/local.am: New.
	* src/local.am, dev/stagize: Adjust.

2015-02-10  Pierre DE ABREU  <pierre.deabreu@epita.fr>

	misc: get rid of misc::basedir and misc::basename

	* Use boost::filesystem parent_path instead and
	filename instead.

2015-02-10  Akim Demaille  <akim@lrde.epita.fr>

	tests: address warnings

	* lib/misc/contract.hh, lib/misc/contract.cc (__FailedCondition):
	Always compile it.  It's not big, and some components might style
	require it even if globally NDEBUG is set.
	* lib/misc/test-graph.cc, src/type/test-type.cc: here.

2015-02-10  Akim Demaille  <akim@lrde.epita.fr>

	bistromatig: improve tests

	* bistromatig/bistromatig-check: Be sure to propagate failures to the
	exit status.
	* bistromatig/local.am: Style change.

2015-02-10  Akim Demaille  <akim@lrde.epita.fr>

	build: students don't need to check for TC

	* configure.ac: here.

2015-02-05  Akim Demaille  <akim@lrde.epita.fr>

	tests: regen

	* tests/type/test22.tc-err: here.

2015-02-05  Akim Demaille  <akim@lrde.epita.fr>

	bind: don't fail to recognize bindings when 0 is displayed 0x0

	Bind addresses should have two or more digits.  That's in order to
	avoid '0x0' being recognized as part of the name, because in that
	case, the built-in type "int" will be rendered as "int /* 0x0 */", as
	of course not recognized as such (and likewise for "string").

	Funnily enough it was not a problem with listdc++, because it
	prints the address 0 as "0", which is therefore not recognized by
	the following definition of"bind_addr", and is just discarded as
	plain comment.  Libc++ on the other hand prints 0 as "0x0", which
	triggered the aforementionned problem.

	The fix is simple: we want at least two xdigits. */

	* src/parse/scantiger.ll: here.
	While at it, use [:xdigit:].

2015-02-05  Léo Ercolanelli  <leo.ercolanelli@gmail.com>

	tasks: fix boolean switch callbacks

	Callbacks for options without arguments were call independently of
	whether the option had been set or not. This is no longer the case,
	callbacks only have effect is the option is specified on the command
	line.

	* ti/tiopts.cc, src/task/task-register.cc: Here.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	parser: use yyo

	* src/parse/parsetiger.yy (%printer): here.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	1.35a

	* configure.ac: here.

2015-02-04  Etienne Renault  <renault@lrde.epita.fr>

	Target new branch for 2017.

	* Makefile.am: here.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	Version 1.35, for 2017-tc-1.0

	* configure.ac, src/bind/local.am, src/local.am: here.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	style: std::unary_function and std::binary_function are obsolete

	* dev/ast-visitor-gen, lib/misc/xalloc.hh, src/ast/visitor.hh,
	* src/canon/canon.cc, src/canon/canon.hh, src/canon/traces.cc,
	* src/canon/traces.hh, src/regalloc/regallocator.cc:
	Don't use them.
	Don't use std::bind2nd (or bind1st) at all.
	Prefer std::bind, or better yet, a lambda.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	style: avoid std::endl

	git s '"\s*<<\s*std::endl' '\\n"'

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	build: fix the relative path to the parser

	* src/parse/local.am: Here.
	* src/parse/location.hh, src/parse/parsetiger.cc,
	* src/parse/position.hh: Regen.

2015-02-04  Léo Ercolanelli  <leo.ercolanelli@gmail.com>

	tasks: improve verbosity of command line errors

	The missing/invalid options are now explicitly mentioned in the error
	message.

	* ti/tiopts.cc, src/task/task-register.cc: Here.

2015-02-04  Léo Ercolanelli  <leo.ercolanelli@gmail.com>

	ti: fix memory leak

	Fix memory leak if early exiting while parsing `help', `version', or
	`usage' from the command line.

	* ti/tiopts.cc, ti/ti.cc: Here.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	build: update boost.m4

	* build-aux/m4/boost.m4: here.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	tc-check: longer timeout

	Go from 4s to 5s.  We have occasional kill -9 on the BF.
	Unfortunately, it is not clear if we fired it ourselves, as I don't
	see the "sigalarm" message in the log.

	* tests/tc-check.in: here.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	dev: start updating the doc

	* dev/tc.texi: here.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	build: get rid of dev/Makefile

	* dev/Makefile.am: Replace by...
	* dev/local.am: this.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	style: ti: fix indentation

	* ti/ti.cc: here.

2015-02-04  Léo Ercolanelli  <leo.ercolanelli@gmail.com>

	tasks: fix memory leak

	Fix the memory leak which occurred when exiting early while parsing
	`--help', `--usage' or `--version'.`

	* src/stc.cc,
	* src/task/task-register.cc
	* src/tc.cc: Here.

2015-02-04  Léo Ercolanelli  <leo.ercolanelli@gmail.com>

	tasks: remove argp

	* lib/argp: Here.

	* .gitignore, Makefile.am, bootstrap, configure.ac,
	* dev/make-git-tc-base, src/local.am:
	Remove references to argp.

2015-02-04  Léo Ercolanelli  <leo.ercolanelli@gmail.com>

	tasks: replace argp by boost.program_options

	Boost.program_options is supposed to be integrated as vanilla C++ in an
	upcoming C++ standard, that's the opportunity to break the dependency
	for argp, and removing the last bits of C.

	* src/task/task.cc,
	* src/task/task.hxx,
	* src/task/task.hh:
	Remove the `arg' and `argname' members and their corresponding
	accessors.  Replace the `key' member by the `fullname' one. Easier to
	use with boost.  Remove the `check' virtual method, now handled by boost
	itself.  Let the compiler generate the destructor.  The constructor no
	longer register the task, to differentiate tasks with or without
	arguments.

	* src/task/{boolean,int,string,...}-task.cc,
	* src/task/{boolean,int,string,...}-task.hh:
	Make those classes inherits from `task::ArgumentTask' or
	`task::SimpleTask' whether they expect arguments or not.

	* src/task/simple-task.hh,
	* src/task/simple-task.cc,
	* src/task/argument-task.hh,
	* src/task/argument-task.hxx: New.

	* src/task/task-register.hh:
	Add an overloaded version of `register_task' to register `ArgumentTasks'
	. The common code is factorized in the `register_task_' private method.
	Replace the `argp' back-end by `boost.program_options'.

	* ti/tiopts.hh,
	* ti/tiopts.hxx,
	* ti/tiopts.cc: Replace the `argp' back-end by `boost.program_options'.

	* src/task/fwd.hh
	Add a forward declaration of `ArgumentTask' and `SimpleTask' for
	`TaskRegister' to use.

	* ti/Makefile.am,
	* src/task/local.mk:
	Add compilation and link flags for `boost.program_options'.

	* tests/tc-check.in:
	Replace `--prelude=' by `--no-prelude'; the first is not supported
	anymore.

	* configure.ac:
	Add checks and substitutions for `boost.program_options'.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	build: get rid of dead targets

	* Makefile.am (doc, html): No need to bounce to doc/, where there is
	anyway no Makefiles.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	build: get rid of bistromatig/Makefile

	* bistromatig/Makefile.am: Replace with...
	* bistromatig/local.am: this.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	tests: fixes

	* Makefile.am: Be sure to run the check_PROGRAMS tests
	* src/bind/test-bind.cc: Be sure to do something, even with NDEBUG.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	bf: enhance check step

	* buildfarm/check: Subsume the "distcheck" part.
	The goal is to get rid of the buildfarm/distcheck, check should suffice.
	It will also be used for studistcheck.

2015-02-04  Akim Demaille  <akim@lrde.epita.fr>

	studistcheck: do not try to run make check/distcleancheck

	Of course the tests will not work when there are gaps, there are no
	reason to compile and run the tests.  And distcleancheck is performed
	by regular distcheck, we don't need it here.

	* Makefile.am: here.

2015-02-03  Akim Demaille  <akim@lrde.epita.fr>

	monoburg++: fix --help

	* build-aux/bin/monoburg++.in: Add -r.

2015-02-03  Akim Demaille  <akim@lrde.epita.fr>

	misc: clean up integration of boost::filesystem::path

	* src/parse/local.am: Move the lib from here...
	* lib/misc/local.am: to where it belongs.
	* src/parse/tiger-parser.hh (operator+): Remove: useless (and should not
	be here anyway).
	(open_files_): Store paths.
	* src/parse/tiger-parser.cc: Adjust.
	Use misc::path instead of the longer boost::filesystem::path.
	* src/parse/libparse.cc: Likewise.

2015-02-03  Pierre DE ABREU  <pierre.deabreu@epita.fr>

	misc: replace hand-made path by boost::filesystem::path

	* lib/misc/path.cc, lib/misc/path.hh, lib/misc/path.hxx,
	* lib/misc/test-path.cc: Remove.
	Use boost::filesystem::path instead.

	* configure.ac: Look for it.

2015-02-03  Akim Demaille  <akim@lrde.epita.fr>

	astdumper: style fixes

	* src/ast/dumper.cc, src/ast/dumper.hh, src/ast/dumper.hxx: here.

2015-02-03  Roland Levillain  <roland@lrde.epita.fr>

	ast: fix dumping of RecordExp nodes.

	* src/ast/dumper.cc (ast::Dumper::operator() (const RecordExp&)):
	Display attribute `type_name'.

2015-02-03  Roland Levillain  <roland@lrde.epita.fr>

	ast: control TikZ-style output in AST dumping using misc::xalloc.

	* src/ast/tasks.hh, src/ast/tasks.cc
	(tikz-style): New task.
	(ast-tikz-dump): Remove task.
	* src/ast/libast.hh, src/ast/libast.cc
	(ast::tikz_style): New misc::xalloc slot.
	(ast::dump): Remove last argument (tikz_p).
	* src/ast/dumper.hh, src/ast/dumper.hxx, src/ast/dumper.cc
	(ast::Dumper::tikz_p_): Remove member.
	(ast::Dumper::Dumper): Adjust.
	(ast::Dumper::dump, ast::Dumper::node_): Use tikz_style (ostr_)
	instead of tikz_p_.
	Update documentation.

2015-02-03  Roland Levillain  <roland@lrde.epita.fr>

	ast: add a TikZ-style output to the AST dumper.

	* src/ast/dumper.hh, src/ast/dumper.hxx, src/ast/dumper.cc
	(ast::Dumper::tikz_p_): New Boolean controlling the activation of
	the TikZ-style output.
	(ast::Dumper::Dumper): Adjust ctor.
	(ast::Dumper::node_): New internal methods, printing nodes à la
	TikZ if requested.
	Use them...
	(ast::Dumper::operator()):
	...in these methods.
	(ast::Dumper::dump): Print nodes à la TikZ if requested.
	* src/ast/libast.hh, src/ast/libast.cc (ast::dump):
	Add an additional argument to control the activation of the
	TikZ-style output.
	* src/ast/tasks.hh, src/ast/tasks.cc (ast-tikz-dump): New task.

2015-02-03  Roland Levillain  <roland@lrde.epita.fr>

	ast: factor a bit the AST dumper.

	* src/ast/dumper.hh, src/ast/dumper.hxx
	(ast::Dumper::dump (const T*)): New method.
	Use it...
	* src/ast/dumper.cc
	(ast::Dumper::operator() (const FunctionDec&, const std::string&))
	(ast::Dumper::operator() (const VarDec& e)):
	...here, to factor the traversals of optional nodes.

2015-02-03  Roland Levillain  <roland@lrde.epita.fr>

	ast: add an AST dumper, printing a program using the abstract syntax.

	* src/ast/dumper.hh, src/ast/dumper.hxx, src/ast/dumper.cc: New.
	* src/ast/libast.hh, src/ast/libast.cc (ast::dump): New function.
	* src/ast/tasks.hh, src/ast/tasks.cc (ast-dump): New task.
	* src/ast/local.mk (ast_libast_la_SOURCES):
	Add src/ast/dumper.hh, src/ast/dumper.hxx and src/ast/dumper.cc.
	* dev/stagize: Don't ship the AST dumper in student tarballs.

2015-02-02  Akim Demaille  <akim@lrde.epita.fr>

	news: update

2015-02-02  Akim Demaille  <akim@lrde.epita.fr>

	bistromatig: use some sugar for concat

	* bistromatig/bigint.tih: here.

2015-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: get rid of debian/Makefile

	* debian/Makefile.am: Replace with...
	* debian/local.am: this.
	* Makefile.am, configure.ac: Adjust.

2015-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: remove duplicate "recheck"

	* Makefile.am: This is handled by Automake.

2015-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: rename all the local.mk into local.am

	This is for consistency: these files are Automake files, not
	Makefiles.

2015-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: get rid of ti/Makefile.am

	* ti/Makefile.am: Rename as...
	* ti/local.am: this.

	* Makefile.am, configure.ac, lib/misc/local.mk, src/ast/local.mk,
	* src/astclone/local.mk, src/bind/local.mk, src/desugar/local.mk,
	* src/liveness/local.mk, src/object/local.mk, src/parse/local.mk,
	* src/regalloc/local.mk, src/target/ia32/local.mk,
	* src/target/mips/local.mk, src/temp/local.mk, src/transform/local.mk,
	* src/type/local.mk, tcsh/python/Makefile.am:
	Adjust.
	In particular, use check_PROGRAMS for binaries tests, instead of
	TESTS, so that we can also have TESTS contain things like *.tig
	files.

2015-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: get rid of lib/Makefile.am

	* lib/Makefile.am: Replace with...
	* lib/local.am: this.
	* Makefile.am, configure.ac, lib/misc/local.mk: Adjust.

2015-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: put argp under the responsibility of the top-level Makefile

	* lib/Makefile.am (SUBDIRS): Move to...
	* Makefile.am: here.

2015-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: get rid of doc/Makefile.am

	* doc/Makefile.am: Rename as...
	* doc/local.am: this.
	* Makefile.am, configure.ac: Adjust.

2015-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: turn src/Makefile.am into src/local.am

	I aim at having a single Makefile, which is far simpler to deal with.

	* src/Makefile.am: Rename as...
	* src/local.am: this.
	* Makefile.am: Adjust.

	* dev/stagize,
	* dev/transform-all-gen,
	* dev/transform-proxy-visitors-gen,
	* src/assem/local.mk,
	* src/ast/ast-nodes.mk,
	* src/ast/ast.yml,
	* src/ast/local.mk,
	* src/astclone/local.mk,
	* src/bind/local.mk,
	* src/callgraph/local.mk,
	* src/canon/local.mk,
	* src/desugar/local.mk,
	* src/escapes/local.mk,
	* src/frame/local.mk,
	* src/inlining/local.mk,
	* src/liveness/local.mk,
	* src/object/local.mk,
	* src/overload/local.mk,
	* src/parse/local.mk,
	* src/regalloc/local.mk,
	* src/target/ia32/local.mk,
	* src/target/local.mk,
	* src/target/mips/local.mk,
	* src/task/local.mk,
	* src/temp/local.mk,
	* src/transform/local.mk,
	* src/translate/local.mk,
	* src/tree/local.mk,
	* src/type/local.mk,
	* tcsh/README.txt:
	Adjust, i.e., mostly prepend src where needed.

2015-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: flex++: support --root

	* build-aux/bin/flex++.in: Implement support.
	* src/parse/local.mk: Use it.

2015-02-02  Etienne Renault  <renault@lrde.epita.fr>

	studentize: make all TC-* compilable.

	* AUTHORS.txt, dev/ast-cloner-gen, src/ast/object-visitor.hxx,
	* src/ast/pretty-printer.cc, src/ast/pretty-printer.hh,
	* src/astclone/cloner.cc, src/bind/binder.cc,
	* src/bind/renamer.hxx, src/callgraph/call-graph-visitor.cc,
	* src/canon/canon.cc,
	* src/desugar/desugar-visitor.cc, src/desugar/libdesugar.cc,
	* src/inlining/pruner.cc, src/object/desugar-visitor.cc,
	* src/object/renamer.cc, src/object/type-checker.cc,
	* src/overload/binder.cc, src/temp/identifier.hxx,
	* src/translate/translator.cc, src/type/attribute.hxx,
	* src/type/class.cc: here.

2015-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: ast: s/{\s+}/{}/

	* dev/ast-nodes-gen: here.
	* src/ast: Regen.

2015-01-31  Akim Demaille  <akim@lrde.epita.fr>

	tests: regen

	* tests/object-good/simple-dispatch.-e.ia32.s,
	* tests/object-good/simple-dispatch.ia32.s: here.

2015-01-31  Akim Demaille  <akim@lrde.epita.fr>

	dev: run 2to3

	* dev/ast-all-gen, dev/ast-cloner-gen, dev/ast-default-visitor-gen,
	* dev/ast-fwd-gen, dev/ast-graph-gen, dev/ast-ignores-gen,
	* dev/ast-nodes-gen, dev/ast-nodes-mk-gen, dev/ast-pretty-printer-gen,
	* dev/ast-readme-gen, dev/ast-visitor-gen, dev/ast.py, dev/tools.py:
	Here.
	And use print_function for Python 2.

2015-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: s/{\s+}/{}

	If it's empty, just write it empty.

2015-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: s/bound checking/bounds checking/

	That's the proper name (e.g., see Wikipedia).

	That's trac ticket #106.

	* src/ast/ast.yml, src/ast/cast-exp.hh, src/ast/cast-var.hh,
	* src/desugar/libdesugar.cc, src/desugar/libdesugar.hh, src/desugar/local.mk,
	* src/desugar/tasks.cc, src/desugar/tasks.hh, src/parse/libparse.hh,
	* tests/good/mini-morpho.tig, tests/tc-check.in:
	here.

	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/test-bound-checking.cc:
	Rename as...
	* src/desugar/bounds-checking-visitor.hh,
	*src/desugar/bounds-checking-visitor.cc,
	* src/desugar/test-bounds-checking.cc:
	these.

2015-01-30  Akim Demaille  <akim@lrde.epita.fr>

	build: get rid of all the module libraries

	We build one library per module.  This is a nice and elegant idea, but
	it's also too expensive, both in maintenance and build time (and
	linking _is_ slow).

	Let's get rid of this and build libtc directly.

	* src/assem/local.mk, src/ast/local.mk, src/astclone/local.mk,
	* src/bind/local.mk, src/callgraph/local.mk, src/canon/local.mk,
	* src/desugar/local.mk, src/escapes/local.mk, src/frame/local.mk,
	* src/inlining/local.mk, src/liveness/local.mk, src/object/local.mk,
	* src/overload/local.mk, src/parse/local.mk, src/regalloc/local.mk,
	* src/target/ia32/local.mk, src/target/local.mk,
	* src/target/mips/local.mk, src/task/local.mk, src/temp/local.mk,
	* src/transform/local.mk, src/translate/local.mk, src/tree/local.mk,
	* src/type/local.mk:
	Massive rewrite to use libtc, and %D%/%C% where applicable.

	* src/Makefile.am: Simplify.

2015-01-30  Akim Demaille  <akim@lrde.epita.fr>

	ast: fix distcheck on TC-2

	* src/ast/ast.yml: here.

2015-01-30  Akim Demaille  <akim@lrde.epita.fr>

	build: ti: link against libtc instead of individual components

	I don't know why we were not doing that before.  The only difference
	I see is the "version.cc" file.

	* ti/Makefile.am: here.

2015-01-30  Akim Demaille  <akim@lrde.epita.fr>

	students: ast: provide a better stub

	* src/ast/function-dec.hh: here.

2015-01-30  Akim Demaille  <akim@lrde.epita.fr>

	style: avoid useless inclusion of misc/xalloc.h

	* src/ast/ast.yml: Remove it from here.
	* src/bind/tasks.cc, src/escapes/tasks.cc: Adjust.

2015-01-30  Akim Demaille  <akim@lrde.epita.fr>

	style: ast: no <list>

	* src/ast/any-decs.hh, src/ast/decs.hh, src/ast/test-ast.cc: here.

2015-01-30  Akim Demaille  <akim@lrde.epita.fr>

	ast: get rid of function-decs.hh and the like

	It was nice to have them for consistency: every member of ast:: has
	its own header to declare it.  However, it became way too large, there
	are too many files, for no serious gain.  Let's simplify all this.

	These guys are already declared in ast/fwd.hh, that should suffice.

	Was trac ticket #52.

	* src/ast/function-decs.hh: Remove.
	* src/ast/method-decs.hh: Remove.
	* src/ast/rule-decs.hh: Remove.
	* src/ast/type-decs.hh: Remove.
	* src/ast/var-decs.hh: Remove.

	* src/ast/ast.yml, src/ast/local.mk, dev/ast-all-gen, src/ast/all.hh,
	* src/parse/parsetiger.yy:
	Adjust.

2015-01-30  Akim Demaille  <akim@lrde.epita.fr>

	style: s/endo_map/endomap/

	There is no good reason for this underscore.  Besides, the file name
	was wrong.  Fix trac issue #49.

	* lib/misc/endomap.hh, lib/misc/endomap.hxx: Do it.
	Adjust dependencies.

2015-01-29  Etienne Renault  <renault@lrde.epita.fr>

	tests: move tests not related to TC-1.

	* object-syntax/new-in-non-object-program-with-unknown-type.tc-err,
	* object-syntax/new-in-non-object-program-with-unknown-type.tc-sta,
	* object-syntax/new-in-non-object-program-with-unknown-type.tig,
	* object-syntax/object-constructs-in-non-object-program.tc-err,
	* object-syntax/object-constructs-in-non-object-program.tc-sta,
	* object-syntax/object-constructs-in-non-object-program.tig: here.

2015-01-29  Akim Demaille  <akim@lrde.epita.fr>

	bf: coverage: ignore Burg files

	* build-aux/bin/coverage: here.
	* Makefile.am (clean-coverage): New, to please distcheck.

2015-01-29  Akim Demaille  <akim@lrde.epita.fr>

	parser: regen with Bison 3.0.4.19-fbaf

2015-01-29  Etienne Renault  <renault@lrde.epita.fr>

	ast: prefer std::vector to std::list

	* lib/misc/vector.hh: New file that simulates splice on vectors.
	* lib/misc/local.mk: Add new file.

	* src/ast/any-decs.hh, src/ast/any-decs.hxx, src/ast/ast.yml,
	* src/ast/decs-list.cc, src/ast/decs-list.hh, src/ast/fwd.hh,
	* src/object/desugar-visitor.cc, src/parse/libparse.cc,
	* src/target/ia32/test-target.cc, src/target/mips/test-target.cc,
	* src/translate/translation.cc, src/translate/translation.hh,
	* src/translate/translator.cc, src/translate/translator.hh,
	* src/tree/call.cc, src/tree/call.hh:
	Apply changes.

2015-01-12  Akim Demaille  <akim@lrde.epita.fr>

	tc-check: simplify: drop support for tarball checking

	The assistants now have their own tools to support tarball checking,
	which is better suited to their needs (concurrency, log format, etc.).
	Yet it is not nice for us, since it would require C# etc.

	So let's keep tc-check for the reference compiler, but simplify it by
	throwing away all the junk for tarball-checking.

	In particular we can _finally_ stop running "make" etc. from tc-check.
	We are back to a more regular make/make check model.

	* tests/tc-check.in: Cut pieces about tarball checking.
	* tests/Makefile.am: Simplify the invocation.

2015-01-12  Akim Demaille  <akim@lrde.epita.fr>

	object: desugar: kill useless local variables

	* src/object/desugar-visitor.cc: There are too many variables in
	there.  For one-time uses, this is a nuisance.

2015-01-12  Akim Demaille  <akim@lrde.epita.fr>

	object: desugar: split a monster function

	* src/object/desugar-visitor.hh, src/object/desugar-visitor.cc
	(pair_class_method, dispatch_list_type): Scope then in the class.
	(handle_class): New, to simplify the monster operator() for TypeDecs.
	This function, handle_class, is still too large, and should be simplified.

2015-01-12  Akim Demaille  <akim@lrde.epita.fr>

	object: desugar: style changes

	* src/object/desugar-visitor.cc: Formatting changes.
	Prefer range-for loops.
	Avoid verbose ctors.

2015-01-12  Pierre DE ABREU  <pierre.deabreu@epita.fr>

	object: desugar: add tests for methods dispatching

	These tests exercise the previous commit.

	* tests/object-good/method-dispatch-full.tig,
	* tests/object-good/method-dispatch-using-function.tig,
	* tests/object-good/method-dispatch.tig,
	* tests/object-good/simple-dispatch.tig:
	New files.
	Add the other generated files too.

2015-01-12  Pierre DE ABREU  <pierre.deabreu@epita.fr>

	object: desugar: resolve method dispatching issues

	The old dispatching system had some issues. For example, if classes
	B and C inherited from class A, and only classes A and B implemented
	a method m, the dispatch was :

	  If self.exact_type = exact_type(A) then
	      A.m()
	    else
	      B.m().

	Note that an object C calling m actually calls B.m() instead of A.m().

	Moreover, if a subclass of A (called D), declared in a later chunk,
	had implemented m, a scope problem appeared since A's dispatch function
	was trying to call D.m() which was declared in this later chunk.

	* src/object/desugar-visitor.hh, src/object/desugar-visitor.cc:
	Change the order of the exact-type checking to ensure a correct
	dispatching.
	Add a sub_dispatch function for every chunk if a class overrides a
	method, to avoid scope and chunk issues.
	Each sub_dispatch function call the upper one if the exact-type hasn't
	matched anything. We know which sub-dispatch function to call using a
	map (Method -> Integer).

2015-01-07  Akim Demaille  <akim@lrde.epita.fr>

	bf: skip the parser

	Something is wrong about the stored location of the file, and genhtml
	cannot find it.  This should be addressed for real, instead of
	ignoring the file.

	* build-aux/bin/coverage: here.

2015-01-07  Akim Demaille  <akim@node8.lrde.epita.fr>

	tests: regen

	Regen the IA32 expect outputs.

2015-01-07  Akim Demaille  <akim@lrde.epita.fr>

	ia32: use a more conventional indentation for .globl

	* src/target/ia32/gas-layout.cc: here.

2015-01-06  Akim Demaille  <akim@lrde.epita.fr>

	style: move away from list, prefer vector

	This is only the first stab, we should get rid of list.

	* src/ast/ast.yml, src/ast/function-dec.hh: Use a vector.
	It turns out it's even a vector of bools...
	* src/frame/fwd.hh: Adjust.

2015-01-06  Akim Demaille  <akim@lrde.epita.fr>

	style: variant: address some stylistic issues

	* lib/misc/variant.hh, lib/misc/variant.hxx: Remove useless comment.
	Use static_assert at the class level.
	Use less cryptic and more traditional names for formal parameters.
	Let the compiler generate the default ctor.
	Fix Doxygenation.

2015-01-06  Léo Ercolanelli  <leo.ercolanelli@gmail.com>

	lib: replace binary variant by generic variant

	Instead of using a binary wrapper around boost::variant, we now use a
	generic wrapper which accepts an arbitrary number of types.

	The former implementation of generic variant was using
	Boost.Preprocessor, which is really tricky to read, so it was provided
	only "for information".  Now that we assume C++11, the implementation
	with variadic templates is much more natural, and shall replace both
	the binary case, and the generic-via-macro case.

	* lib/misc/generic-variant.hh, lib/misc/generic-variant.hxx: Rename as...
	* lib/misc/variant.hh, lib/misc/variant.hxx: these.
	Use a variadic template implementation.
	A failed compilation in case of non-default-constructible type in
	`variant' constructor is now due to a `static_assert'. Easier than
	looking through the code to find the comment explaining the failure.

	Adjust the test cases.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: rename variables for consistency

	* dev/stagize: kept_stages -> kept_categories.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: it does compile at stage=4, now fix linking issues

	* lib/misc/symbol.hxx, lib/misc/unique.hxx, lib/misc/variant.hxx,
	* src/parse/tiger-parser.cc, src/type/record.cc, src/type/type.hxx:
	Be consistent between hidden declarations and definitions.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	style: simplify ctor/dtor from TigerParser

	* src/parse/tiger-parser.cc, src/parse/tiger-parser.hh:
	Why would the dtor be virtual?
	Don't spend time on uninteresting members.
	Give away the ctor.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: more consistency fixes

	Be consistent between hidden declarations and definitions: don't
	hide one but not the other.

	* src/ast/ast.yml, src/bind/binder.hh, src/bind/binder.hxx,
	* src/type/record.hh, src/type/type-checker.cc: here.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	style: studentize: use more consistent names

	What is called a stage in stagize is the *number* of a TC delivery (2
	for tc-2, 5 for tc-5, etc.).  In studentize the "stage" is an
	identifier for a given feature (ast, type, etc.).

	This is confusing.  Let's rename studentize's "stage" as "category".

	* dev/studentize (--stage): Rename as...
	(--keep): this.
	s/stages/categories/g
	s/stage/category/g
	* dev/stagize: Adjust.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: enforce consistency in type

	* src/type/array.cc: Comment out definitions of routines whose declarations
	are commented.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: --prune is always right

	* dev/stagize: Even if the stage suggests something different.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: propagate more changes for "functions"

	* dev/stagize, src/bind/libbind.cc, src/bind/libbind.hh,
	* src/bind/local.mk, src/parse/parsetiger.yy, src/type/fwd.hh,
	* src/type/type-checker.hh: here.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: handle "functions" in type and bind

	* dev/stagize, src/ast/pretty-printer.cc, src/bind/binder.cc,
	* src/type/local.mk, src/type/type-checker.hh, src/type/types.hh:
	Mark what's related to the "functions" limitation.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: default-visitor: don't use undefined members

	Currently the default visitor provide some kind of help: it lists
	the names of the expected attributes.  While this can provide some
	help, it also means that the project cannot compile.

	* src/ast/default-visitor.hxx: Studentize the handling on hidden AST nodes.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: remove OO stuff when "functions" is pruned

	* dev/stagize, src/ast/default-visitor.hxx, src/ast/local.mk: here.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	ast: regen: studentize marks are now inside class definitions, not around

	* src/ast/array-exp.hh, src/ast/assign-exp.hh, src/ast/break-exp.hh,
	* src/ast/call-exp.hh, src/ast/escapable.hh, src/ast/field-var.hh,
	* src/ast/if-exp.hh, src/ast/let-exp.hh, src/ast/method-call-exp.hh,
	* src/ast/object-exp.hh, src/ast/record-exp.hh,
	* src/ast/record-ty.hh, src/ast/seq-exp.hh, src/ast/string-exp.hh,
	* src/ast/typable.hh, src/ast/type-constructor.hh, src/ast/var.cc,
	* src/ast/var.hh: here.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: don't hide class definitions, hide their content

	Still in order to help students bootstrap the project, let's
	provide at least the definition of the classes, so that when,
	for instance, we compile "IntExp", it does not fail because "Exp"
	is not defined at all.

	It is debatable whether we should hide inheritance.  I did not
	in this patch, but that would make sense.

	* dev/ast-nodes-gen: Comment out the *content* of the class, not
	its name.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: don't hide Var

	* src/ast/ast.yml: here.
	Var is really a very small class, and because other classes derive
	from it, the pruned project fails to compile.
	It is not worth the trouble.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: "functions" marks for the default visitor

	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx: here,
	consistently with ast.yml.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: get ready to get rid of function support

	* dev/studentize: Accept comments in the conf file.
	* dev/studentize_tc.conf (functions): New.
	* src/ast/ast.yml: Use it.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	style: clearer paragraphs

	* src/ast/ast.yml: Add empty lines to emphasize the different parts.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: accept --prune=tcsh

	* Makefile.am, configure.ac: Put tcsh support under stagize control.
	* dev/studentize_tc.conf (tcsh): New module.
	* dev/stagize: Handle it.
	* bootstrap: Beware that tcsh/ might not exist.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	stagize: be ready for modules that are not below src/

	* dev/stagize (module_directory): New.
	Use it.

2014-12-31  Akim Demaille  <akim@lrde.epita.fr>

	bf: use distcheck instead of check to run distchecks

	The "distcheck" script restores the rights, which is needed because
	Teamcity fails to remove the files when the rights are not sufficient.

	* buildfarm/package: Rename as...
	* buildfarm/distcheck: this.
	Use the command line arguments.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	style: I hate typedef

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	regen: parser

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	parser: provide a better starting point

	* src/parse/parsetiger.yy: Also give an initial definition of decs.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	bf: allow to use "check" for more types of targets

	* buildfarm/bootstrap: Handle the symlink issue here.
	* buildfarm/check: Pass the command line arguments to make.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	build: add support for studistcheck

	"make studistcheck T=2" allows to check TC-2.

	* Makefile.am: here.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	stagize: leave a stub for AUTHORS.txt

	* dev/stagize: here.
	Otherwise the initial tarball does not "make".

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	style: avoid cascades of "if"s, group conditions

	* dev/ast-nodes-gen: here.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	regen

	* src/target/ia32/codegen.cc, src/target/ia32/codegen.hh,
	* src/target/mips/codegen.cc, src/target/mips/codegen.hh: Regen.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	monoburg: simplify the wrapper

	I don't know exactly what was the point of monoburg++ initially, but
	the result is that the #line are wrecked, which is really bad (can't
	use Emacs' compilation-mode simply).  Clearly monoburg++ was designed
	after bison++, but the latter has a more complex role, as it does not
	know what files are generated.  Here, we know.

	* build-aux/bin/monoburg++.in: Stop messing around with the input and output
	files.
	* src/target/ia32/local.mk, src/target/mips/local.mk: Simplify accordingly.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	regen: parser

	* src/parse/parsetiger.cc, src/parse/parsetiger.hh: regen.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	style: parser: provide a better starting point

	* src/parse/parsetiger.yy: Provide the support for integers as
	starting point.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	style: parser: group exp/dec sections

	* src/parse/parsetiger.yy: For some reason, the exp is split.
	Move decs where it belongs (IMHO).

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	parser: fix student marks

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	style: studentize: untabify

	* dev/studentize: here.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	studentize: don't mess with my git repo!!!

	A stupid studentize call messed with my git repo...

	* dev/studentize: Better use of File::Find.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	bison++: remove stray debug trace

	* build-aux/bin/bison++.in: here.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	regen: parser

	* src/parse/location.hh, src/parse/parsetiger.hh,
	* src/parse/position.hh: Neutralize root in CPP guards.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	bison++: neutralize the root in the cpp guards

	* build-aux/bin/bison++.in: here.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	regen: parser

	* src/parse/location.hh, src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh, src/parse/position.hh: Regen.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	bison++: neutralize the #line dependencies

	Currently we have #lines that looks like:

	  #line 352 "../../src/parse/parsetiger.yy"

	or even

	  #line 352 "/Users/akim/src/lrde/tc/src/parse/parsetiger.yy"

	which is a pain in the neck, as it depends on how the project was
	configured.  Introduce -r/--root to specify the root for relative
	paths.

	* build-aux/bin/bison++.in: Here.
	Use it.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	parser: use %empty

	* src/parse/parsetiger.yy: here.
	And consistently put it first.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	parser: provide a simpler initial parser/scanner

	* src/parse/scantiger.ll: Don't use useless static variables.
	Sure, it is more costly at runtime to create it each time, but that's
	not the point of tc.  Besides, in that case, make it an instance
	variable of the scanner object.
	(int): Give part of it as an initial help for students.
	Put Flex options first.
	* src/parse/parsetiger.yy: Likewise: support "int".

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	style: space issues in the parser

	* src/parse/parsetiger.yy: here.

2014-12-30  Akim Demaille  <akim@lrde.epita.fr>

	style: no useless typedef

	As a matter of fact/style, there should be no typedef at all, only
	using.

	* src/tree/tree.hh: here.

2014-12-29  Akim Demaille  <akim@lrde.epita.fr>

	style: sort when the order is irrelevant

	* dev/studentize_tc.conf: here.

2014-12-29  Akim Demaille  <akim@lrde.epita.fr>

	build: let stagize support genuine options

	* dev/stagize (getopt): New.
	* Makefile.am: Adjust to use it.

2014-12-29  Akim Demaille  <akim@lrde.epita.fr>

	build: catch more macro expansion failures

	* configure.ac: Catch Automake and Libtool macros.

2014-12-29  Akim Demaille  <akim@lrde.epita.fr>

	parser: enforce exception safety and code simplicity thanks to shared_ptr

	* src/parse/tiger-parser.cc: Fix space issues.
	Use a shared_ptr to ensure that the istream is always closed and deleted.

2014-12-29  Akim Demaille  <akim@lrde.epita.fr>

	style: use default value and avoid longuish initializations in ctors

	* src/parse/tiger-parser.cc, src/parse/tiger-parser.hh: here.

2014-12-29  Akim Demaille  <akim@lrde.epita.fr>

	bf: add coverage support

	* build-aux/bin/coverage: New.
	* Makefile.am, build-aux/local.mk: Adjust.

2014-12-29  Akim Demaille  <akim@lrde.epita.fr>

	bf: work around Teamcity not supporting synlimks on server-side checkout

	See https://youtrack.jetbrains.com/issue/TW-12684

	* buildfarm/check: Restore the broken file.

2014-12-29  Akim Demaille  <akim@lrde.epita.fr>

	_main: stop checking for overloads

	See commit 21296aee933ba029918f47a8e1f4db0c5c0c603b.

	* tests/Makefile.am: here.
	* TODO.txt: Update.

2014-12-29  Léo Ercolanelli  <leo.ercolanelli@gmail.com>

	test: fix an ignored test

	* lib/misc/test-generic-variant.cc: here

	An early call to ``exit'' caused the program to ignore the third test.

2014-12-29  Léo Ercolanelli  <leo.ercolanelli@gmail.com>

	doc: update doxygen comments

	* lib/mic/generic-variant.hh: here

	The comments now match the new implementation. All references to boost
	preprocessor has been removed.

2014-12-29  Léo Ercolanelli  <leo.ercolanelli@gmail.com>

	lib: rewrite misc::generic_variant with c++11

	The previous implementation (using boost preprocessor) caused
	compilation failures on 'lib/misc/test-generic-variant.cc'. Indeed the
	code was interesting, but hard to fix; that's why it is now based on
	variadic templates and not on boost macros anymore.

	* lib/misc/generic_variant.hh: here
	* lib/misc/generic_variant.hxx: here

2014-12-29  Akim Demaille  <akim@lrde.epita.fr>

	argp: avoid useless warning

	At some point, we should move away from argp.  See what Boost
	provides for instance, as it might be the choice for C++17.

	* lib/argp/argp-help.c: here.

2014-12-29  Akim Demaille  <akim@lrde.epita.fr>

	flex++: update

	Address compatibility issues with Flex.

	* build-aux/bin/flex++.in: Update from vcsn.

2014-12-29  Akim Demaille  <akim@lrde.epita.fr>

	style: use std::tie instead of boost::tie

	Some unqualified uses of tie are not satisfied.  Use std instead of
	boost.

	* lib/misc/graph.hxx, lib/misc/test-graph.cc,
	* src/callgraph/libcallgraph.cc, src/inlining/inliner.cc,
	* src/liveness/flowgraph.hxx, src/liveness/interference-graph.cc,
	* src/liveness/liveness.cc, src/regalloc/color.cc: here.

2014-12-29  Akim Demaille  <akim@lrde.epita.fr>

	graph: avoid std::endl

	There's no need to flush at each end of line!

	* lib/misc/graph.hxx: here.

2014-12-29  Akim Demaille  <akim@lrde.epita.fr>

	tests: be able to run _without_ Valgrind

	* tests/Makefile.am, tests/tc-check.in: here.
	Be sure to die soon enough if valgrind is not found.

2014-12-02  Akim Demaille  <akim@lrde.epita.fr>

	tests: take valgrind into account for the time out

	This is really hard on the build farm.

	* tests/tc-check.in (run): Cut it some slack when running Valgrind.

2014-10-30  Akim Demaille  <akim@lrde.epita.fr>

	tests: try to simplify tc-check

	tc-check is too complex, we need to simplify it.

	* tests/tc-check.in (--srcdir): New option.
	* tests/Makefile.am: Use it.
	It should be noted that it seems that --srcdir duplicates the explicit
	argument which is given.
	What is wrong is that tc-check seems to expect being run from the src
	tree, and I think it should be run from the builddir.

2014-10-30  Akim Demaille  <akim@lrde.epita.fr>

	lib: fix a new dependency from Boost.Graph

	* lib/misc/graph.hh: here.

2014-10-30  Akim Demaille  <akim@lrde.epita.fr>

	buildfarm: tools for automated checks

	These are taken from vcsn.

	* buildfarm/bootstrap: New.
	* buildfarm/build: New.
	* buildfarm/check: New.
	* buildfarm/common: New.
	* buildfarm/configure: New.
	* buildfarm/coverage: New.
	* buildfarm/package: New.

2014-10-29  Akim Demaille  <akim@lrde.epita.fr>

	todo: one more test case

	* TODO.txt: here.

2014-10-29  Akim Demaille  <akim@lrde.epita.fr>

	style: fix indentation

	* src/parse/scantiger.ll: here.

2014-07-21  Roland Levillain  <roland@lrde.epita.fr>

	Simplify the implementation of tree::Exp and tree::Stm.

	* src/tree/exp.hh (Exp::Exp()): Remove explicit default ctor.
	(Exp::~Exp): Define dtor as explicitly defaulted.
	* src/tree/stm.hh (Stm::Stm(), Stm::~Stm):
	Define as explicitly defaulted.
	* src/tree/exp.cc,
	* src/tree/stm.cc:
	Remove.
	* src/tree/local.mk (tree_libtree_la_SOURCES): Adjust.

2014-07-21  Roland Levillain  <roland@lrde.epita.fr>

	Adjust hidden code.

	* src/inlining/inliner.hh,
	* src/inlining/pruner.cc:
	Here.

2014-07-21  Roland Levillain  <roland@lrde.epita.fr>

	Fix instructions for students.

	* src/ast/object-visitor.hxx: Here.

2014-07-03  Roland Levillain  <roland@lrde.epita.fr>

	Regen ChangeLog.

2014-07-03  Roland Levillain  <roland@lrde.epita.fr>

	Update AX_CHECK_COMPILE_FLAG.

	* m4/ax_check_compile_flag.m4: Here, from
	http://www.gnu.org/software/autoconf-archive/ax_check_compile_flag.html.

2014-06-25  Akim Demaille  <akim@lrde.epita.fr>

	diff-r: be more robust to paths

	* dev/diff-r: Use filter-diff to nuke files with a path: diff -x
	does not support this.

2014-06-10  Roland Levillain  <roland@lrde.epita.fr>

	Remove useless option ``--asm-flowgraphs''.

	* src/regalloc/tasks.hh (regalloc::tasks): Here.
	Addresses Trac ticket #44 (https://trac.lrde.epita.fr/tc/ticket/44).

2014-06-09  Roland Levillain  <roland@lrde.epita.fr>

	Run the register allocator on the first example of test-regalloc.

	* src/regalloc/test-regalloc.cc (example_1): Here.
	(MyCpu, MyTarget): New classes.

2014-06-09  Roland Levillain  <roland@lrde.epita.fr>

	Re-enable regalloc/test-regalloc.

	* src/regalloc/test-regalloc.cc: Revamp test.
	* src/regalloc/local.mk (TESTS): Add regalloc/test-regalloc.
	(regalloc_test_regalloc_LDADD):	Reenable variable.

2014-06-09  Roland Levillain  <roland@lrde.epita.fr>

	Add construction of misc::list from an initializer list.

	* lib/misc/list.hh, lib/misc/list.hxx
	(misc::list<T>::list(std::initializer_list<T>)): New ctor.

2014-06-09  Roland Levillain  <roland@lrde.epita.fr>

	Fix space before parentheses in src/tree.

	* src/tree/binop.hh,
	* src/tree/call.cc,
	* src/tree/call.hh,
	* src/tree/const.hh,
	* src/tree/eseq.hh,
	* src/tree/fragment.hh,
	* src/tree/fragments.hh,
	* src/tree/jump.hh,
	* src/tree/label.hh,
	* src/tree/mem.hh,
	* src/tree/move.hh,
	* src/tree/name.hh,
	* src/tree/seq.hh,
	* src/tree/seq.hxx,
	* src/tree/sxp.hh,
	* src/tree/temp.hh,
	* src/tree/tiger_tree.i,
	* src/tree/tree.cc,
	* src/tree/tree.hxx,
	* src/tree/trees.hh:
	Here.

2014-06-09  Roland Levillain  <roland@lrde.epita.fr>

	Regen code generators.

	* src/target/ia32/codegen.cc,
	* src/target/ia32/codegen.hh,
	* src/target/mips/codegen.cc,
	* src/target/mips/codegen.hh:
	Regen.

2014-06-09  Roland Levillain  <roland@lrde.epita.fr>

	Fix space before parentheses in src/target.

	* src/target/cpu.hh,
	* src/target/ia32/cpu.hh,
	* src/target/ia32/epilogue.cc,
	* src/target/ia32/gas-assembly.hh,
	* src/target/ia32/gas-layout.cc,
	* src/target/ia32/gas-layout.hh,
	* src/target/ia32/local.mk,
	* src/target/ia32/move_load.brg,
	* src/target/ia32/prologue.hh,
	* src/target/ia32/target.hh,
	* src/target/ia32/tree.brg,
	* src/target/mips/cpu.hh,
	* src/target/mips/epilogue.cc,
	* src/target/mips/local.mk,
	* src/target/mips/prologue.hh,
	* src/target/mips/spim-assembly.hh,
	* src/target/mips/spim-layout.cc,
	* src/target/mips/spim-layout.hh,
	* src/target/mips/target.hh,
	* src/target/mips/tree.brg,
	* src/target/target.cc,
	* src/target/target.hh,
	* src/target/tasks.cc,
	* src/target/tiger-runtime.c:
	Here.

2014-06-06  Roland Levillain  <roland@lrde.epita.fr>

	Remove a useless empty file.

	* src/target/monoburg.mk: Remove.

2014-05-27  Roland Levillain  <roland@lrde.epita.fr>

	Remove dead code in Makefiles.

	* src/canon/local.mk: Here.

2014-05-27  Roland Levillain  <roland@lrde.epita.fr>

	lib/argp: Please Automake 1.14.

	* lib/argp/configure.ac: Invoke AM_PROG_AR.
	* lib/argp/Makefile.am (AUTOMAKE_OPTIONS): Add subdir-objects,
	as this will be the default behavior in future versions of
	Automake.

2014-05-20  Roland Levillain  <roland@lrde.epita.fr>

	Regen the FreeBSD IA-32 Tiger runtime.

	* src/target/ia32/runtime-freebsd.s: Here, using the following
	command on a FreeBSD x86-64 host:

	  gcc -m32 -S -o src/target/ia32/runtime-freebsd.s \
	    src/target/tiger-runtime.c

	Provided by Aurélien Baud <baud_a@epita.fr>.

2014-05-20  Roland Levillain  <roland@lrde.epita.fr>

	Aesthetic changes.

	* lib/misc/algorithm.hxx,
	* src/target/mips/spim-assembly.cc:
	Here.

2014-05-20  Roland Levillain  <roland@lrde.epita.fr>

	Have tc-check require TC 1.34.

	* configure.ac (TC_PREREQ): Set to 1.34.

2014-05-20  Roland Levillain  <roland@lrde.epita.fr>

	Update the list of contributors.

	* AUTHORS.txt: Here.

2014-05-20  Roland Levillain  <roland@lrde.epita.fr>

	Remove a test, broken for a long time.

	* src/target/mips/test-rw_prg.cc: Remove.
	Addresses Trac ticket #12 (https://trac.lrde.epita.fr/tc/ticket/12).
	* src/target/mips/local.mk: Remove dead code.

2014-05-20  Roland Levillain  <roland@lrde.epita.fr>

	Record IA-32 tests output.

	* tests/escapes/for-lower.-e.ia32.s,
	* tests/escapes/for-lower.ia32.s,
	* tests/escapes/for-scope.-e.ia32.s,
	* tests/escapes/for-scope.ia32.s,
	* tests/escapes/for-upper.-e.ia32.s,
	* tests/escapes/for-upper.ia32.s,
	* tests/escapes/formal-escapes.-e.ia32.s,
	* tests/escapes/formal-escapes.ia32.s,
	* tests/escapes/local-escapes.-e.ia32.s,
	* tests/escapes/local-escapes.ia32.s,
	* tests/escapes/no-functiondec-at-all.-e.ia32.s,
	* tests/escapes/no-functiondec-at-all.ia32.s,
	* tests/escapes/record-escapes.-e.ia32.s,
	* tests/escapes/record-escapes.ia32.s,
	* tests/escapes/recursion.-e.ia32.s,
	* tests/escapes/recursion.ia32.s,
	* tests/escapes/redeclaration.-e.ia32.s,
	* tests/escapes/redeclaration.ia32.s,
	* tests/escapes/rhs-of-a-vardec.-e.ia32.s,
	* tests/escapes/rhs-of-a-vardec.ia32.s,
	* tests/escapes/scopes.-e.ia32.s,
	* tests/escapes/scopes.ia32.s,
	* tests/escapes/sl-propagation-1.-e.ia32.s,
	* tests/escapes/sl-propagation-1.ia32.s,
	* tests/escapes/sl-propagation-2.-e.ia32.s,
	* tests/escapes/sl-propagation-2.ia32.s,
	* tests/escapes/variable-escapes.-e.ia32.s,
	* tests/escapes/variable-escapes.ia32.s,
	* tests/escapes/variable-inside-for-body.-e.ia32.s,
	* tests/escapes/variable-inside-for-body.ia32.s,
	* tests/escapes/variant-escapes.-e.ia32.s,
	* tests/escapes/variant-escapes.ia32.s,
	* tests/good/all-binop.-e.ia32.s,
	* tests/good/all-binop.ia32.s,
	* tests/good/array-of-alias.-e.ia32.s,
	* tests/good/array-of-alias.ia32.s,
	* tests/good/array-subscript-assign.-e.ia32.s,
	* tests/good/array-subscript-assign.ia32.s,
	* tests/good/array.-e.ia32.s,
	* tests/good/array.ia32.s,
	* tests/good/assign-and-array-instantiation.-e.ia32.s,
	* tests/good/assign-and-array-instantiation.ia32.s,
	* tests/good/assign-void.-e.ia32.s,
	* tests/good/assign-void.ia32.s,
	* tests/good/assign-vs-boolean.-e.ia32.s,
	* tests/good/assign-vs-boolean.ia32.s,
	* tests/good/assign-vs-rel.-e.ia32.s,
	* tests/good/assign-vs-rel.ia32.s,
	* tests/good/basic-import.-e.ia32.s,
	* tests/good/basic-import.ia32.s,
	* tests/good/bempel_j.-e.ia32.s,
	* tests/good/bempel_j.ia32.s,
	* tests/good/big-exp.-e.ia32.s,
	* tests/good/big-exp.ia32.s,
	* tests/good/big-lvalue.-e.ia32.s,
	* tests/good/big-lvalue.ia32.s,
	* tests/good/boolean-1.-e.ia32.s,
	* tests/good/boolean-1.ia32.s,
	* tests/good/boolean-2.-e.ia32.s,
	* tests/good/boolean-2.ia32.s,
	* tests/good/break-in-for.-e.ia32.s,
	* tests/good/break-in-for.ia32.s,
	* tests/good/break-in-while.-e.ia32.s,
	* tests/good/break-in-while.ia32.s,
	* tests/good/builtins.-e.ia32.s,
	* tests/good/builtins.ia32.s,
	* tests/good/call.-e.ia32.s,
	* tests/good/call.ia32.s,
	* tests/good/chr-256.-e.ia32.s,
	* tests/good/chr-256.ia32.s,
	* tests/good/chr-minus-1.-e.ia32.s,
	* tests/good/chr-minus-1.ia32.s,
	* tests/good/chr.-e.ia32.s,
	* tests/good/chr.ia32.s,
	* tests/good/comments-javalike-nested.-e.ia32.s,
	* tests/good/comments-javalike-nested.ia32.s,
	* tests/good/comments-nested.-e.ia32.s,
	* tests/good/comments-nested.ia32.s,
	* tests/good/comments-with-comment-chars.-e.ia32.s,
	* tests/good/comments-with-comment-chars.ia32.s,
	* tests/good/comments-with-parens.-e.ia32.s,
	* tests/good/comments-with-parens.ia32.s,
	* tests/good/comments-with-quotes.-e.ia32.s,
	* tests/good/comments-with-quotes.ia32.s,
	* tests/good/commutation-1.-e.ia32.s,
	* tests/good/commutation-1.ia32.s,
	* tests/good/commutation-2.-e.ia32.s,
	* tests/good/commutation-2.ia32.s,
	* tests/good/compare-nil-and-record.-e.ia32.s,
	* tests/good/compare-nil-and-record.ia32.s,
	* tests/good/compare-record-and-nil.-e.ia32.s,
	* tests/good/compare-record-and-nil.ia32.s,
	* tests/good/compare-record-and-record.-e.ia32.s,
	* tests/good/compare-record-and-record.ia32.s,
	* tests/good/compare-void.-e.ia32.s,
	* tests/good/compare-void.ia32.s,
	* tests/good/complex-import.-e.ia32.s,
	* tests/good/complex-import.ia32.s,
	* tests/good/concat.-e.ia32.s,
	* tests/good/concat.ia32.s,
	* tests/good/concurrent-arguments.-e.ia32.s,
	* tests/good/concurrent-arguments.ia32.s,
	* tests/good/division-with-negative-operands.-e.ia32.s,
	* tests/good/division-with-negative-operands.ia32.s,
	* tests/good/donald.-e.ia32.s,
	* tests/good/donald.ia32.s,
	* tests/good/empty-let-body.-e.ia32.s,
	* tests/good/empty-let-body.ia32.s,
	* tests/good/empty-parens.-e.ia32.s,
	* tests/good/empty-parens.ia32.s,
	* tests/good/empty-record-type.-e.ia32.s,
	* tests/good/empty-record-type.ia32.s,
	* tests/good/escaping-record.-e.ia32.s,
	* tests/good/escaping-record.ia32.s,
	* tests/good/evalexp.-e.ia32.s,
	* tests/good/evalexp.ia32.s,
	* tests/good/exit-51.-e.ia32.s,
	* tests/good/exit-51.ia32.s,
	* tests/good/explicit-record-type.-e.ia32.s,
	* tests/good/explicit-record-type.ia32.s,
	* tests/good/fact.-e.ia32.s,
	* tests/good/fact.ia32.s,
	* tests/good/field-of-field.-e.ia32.s,
	* tests/good/field-of-field.ia32.s,
	* tests/good/for-high-computed-once.-e.ia32.s,
	* tests/good/for-high-computed-once.ia32.s,
	* tests/good/for-high-same-name-as-index.-e.ia32.s,
	* tests/good/for-high-same-name-as-index.ia32.s,
	* tests/good/for-in-let.-e.ia32.s,
	* tests/good/for-in-let.ia32.s,
	* tests/good/for-in-while.-e.ia32.s,
	* tests/good/for-in-while.ia32.s,
	* tests/good/for-scope.-e.ia32.s,
	* tests/good/for-scope.ia32.s,
	* tests/good/for-up-to-32bits.-e.ia32.s,
	* tests/good/for-up-to-32bits.ia32.s,
	* tests/good/for.-e.ia32.s,
	* tests/good/for.ia32.s,
	* tests/good/forward-fun-and-type-decl.-e.ia32.s,
	* tests/good/forward-fun-and-type-decl.ia32.s,
	* tests/good/four-hex-backslash.-e.ia32.s,
	* tests/good/four-hex-backslash.ia32.s,
	* tests/good/fractions-underloaded.-e.ia32.s,
	* tests/good/fractions-underloaded.ia32.s,
	* tests/good/fun-vs-var.-e.ia32.s,
	* tests/good/fun-vs-var.ia32.s,
	* tests/good/functions.-e.ia32.s,
	* tests/good/functions.ia32.s,
	* tests/good/getchar-no-static-string.-e.ia32.s,
	* tests/good/getchar-no-static-string.ia32.s,
	* tests/good/getchar.-e.ia32.s,
	* tests/good/getchar.ia32.s,
	* tests/good/if-and-bool.-e.ia32.s,
	* tests/good/if-and-bool.ia32.s,
	* tests/good/if-and-if.-e.ia32.s,
	* tests/good/if-and-if.ia32.s,
	* tests/good/if-and-rel.-e.ia32.s,
	* tests/good/if-and-rel.ia32.s,
	* tests/good/if-void-body.-e.ia32.s,
	* tests/good/if-void-body.ia32.s,
	* tests/good/if.-e.ia32.s,
	* tests/good/if.ia32.s,
	* tests/good/init-array.-e.ia32.s,
	* tests/good/init-array.ia32.s,
	* tests/good/initialize-to-nil.-e.ia32.s,
	* tests/good/initialize-to-nil.ia32.s,
	* tests/good/int-comparison.-e.ia32.s,
	* tests/good/int-comparison.ia32.s,
	* tests/good/int-var-ordering.-e.ia32.s,
	* tests/good/int-var-ordering.ia32.s,
	* tests/good/invisible-valid-types.-e.ia32.s,
	* tests/good/invisible-valid-types.ia32.s,
	* tests/good/just-a-simple-for-1.-e.ia32.s,
	* tests/good/just-a-simple-for-1.ia32.s,
	* tests/good/just-a-simple-for-2.-e.ia32.s,
	* tests/good/just-a-simple-for-2.ia32.s,
	* tests/good/large-ints.-e.ia32.s,
	* tests/good/large-ints.ia32.s,
	* tests/good/let-in-for-init.-e.ia32.s,
	* tests/good/let-in-for-init.ia32.s,
	* tests/good/let-scope-for-functions.-e.ia32.s,
	* tests/good/let-scope-for-functions.ia32.s,
	* tests/good/let-scope-for-types.-e.ia32.s,
	* tests/good/let-scope-for-types.ia32.s,
	* tests/good/letexp-eseq.-e.ia32.s,
	* tests/good/letexp-eseq.ia32.s,
	* tests/good/local-vs-global-type.-e.ia32.s,
	* tests/good/local-vs-global-type.ia32.s,
	* tests/good/many-args.-e.ia32.s,
	* tests/good/many-args.ia32.s,
	* tests/good/many-bool-ops.-e.ia32.s,
	* tests/good/many-bool-ops.ia32.s,
	* tests/good/many-functions.-e.ia32.s,
	* tests/good/many-functions.ia32.s,
	* tests/good/many-vars.-e.ia32.s,
	* tests/good/many-vars.ia32.s,
	* tests/good/merge.-e.ia32.s,
	* tests/good/merge.ia32.s,
	* tests/good/mini-morpho.-e.ia32.s,
	* tests/good/mini-morpho.ia32.s,
	* tests/good/mutually-recursive-functions.-e.ia32.s,
	* tests/good/mutually-recursive-functions.ia32.s,
	* tests/good/mutually-recursive-procedures.-e.ia32.s,
	* tests/good/mutually-recursive-procedures.ia32.s,
	* tests/good/nil-as-arg.-e.ia32.s,
	* tests/good/nil-as-arg.ia32.s,
	* tests/good/nil-as-return-value.-e.ia32.s,
	* tests/good/nil-as-return-value.ia32.s,
	* tests/good/nine.-e.ia32.s,
	* tests/good/nine.ia32.s,
	* tests/good/non-commutative-move-mem-expr.-e.ia32.s,
	* tests/good/non-commutative-move-mem-expr.ia32.s,
	* tests/good/nul-character.-e.ia32.s,
	* tests/good/nul-character.ia32.s,
	* tests/good/of-precedence.-e.ia32.s,
	* tests/good/of-precedence.ia32.s,
	* tests/good/order-strings.-e.ia32.s,
	* tests/good/order-strings.ia32.s,
	* tests/good/precedence.-e.ia32.s,
	* tests/good/precedence.ia32.s,
	* tests/good/preincrement.-e.ia32.s,
	* tests/good/preincrement.ia32.s,
	* tests/good/print-chr-ord.-e.ia32.s,
	* tests/good/print-chr-ord.ia32.s,
	* tests/good/print-tree.-e.ia32.s,
	* tests/good/print-tree.ia32.s,
	* tests/good/queens.-e.ia32.s,
	* tests/good/queens.ia32.s,
	* tests/good/record.-e.ia32.s,
	* tests/good/record.ia32.s,
	* tests/good/recursive-type.-e.ia32.s,
	* tests/good/recursive-type.ia32.s,
	* tests/good/recursive-types-mutual.-e.ia32.s,
	* tests/good/recursive-types-mutual.ia32.s,
	* tests/good/recursive-types.-e.ia32.s,
	* tests/good/recursive-types.ia32.s,
	* tests/good/redefine-int.-e.ia32.s,
	* tests/good/redefine-int.ia32.s,
	* tests/good/redefine-print.-e.ia32.s,
	* tests/good/redefine-print.ia32.s,
	* tests/good/rel.-e.ia32.s,
	* tests/good/rel.ia32.s,
	* tests/good/scopes-protect-types.-e.ia32.s,
	* tests/good/scopes-protect-types.ia32.s,
	* tests/good/scopes-protect-vars.-e.ia32.s,
	* tests/good/scopes-protect-vars.ia32.s,
	* tests/good/seqexp-arithmetics.-e.ia32.s,
	* tests/good/seqexp-arithmetics.ia32.s,
	* tests/good/shadowed-streq.-e.ia32.s,
	* tests/good/shadowed-streq.ia32.s,
	* tests/good/shadowing-functions.-e.ia32.s,
	* tests/good/shadowing-functions.ia32.s,
	* tests/good/shadowing-types-separate.-e.ia32.s,
	* tests/good/shadowing-types-separate.ia32.s,
	* tests/good/side-effects-in-init.-e.ia32.s,
	* tests/good/side-effects-in-init.ia32.s,
	* tests/good/side-effects-in-sxp.-e.ia32.s,
	* tests/good/side-effects-in-sxp.ia32.s,
	* tests/good/side-effects.-e.ia32.s,
	* tests/good/side-effects.ia32.s,
	* tests/good/single-variable.-e.ia32.s,
	* tests/good/single-variable.ia32.s,
	* tests/good/so-many-args-in-rec-func.-e.ia32.s,
	* tests/good/so-many-args-in-rec-func.ia32.s,
	* tests/good/strcmp.-e.ia32.s,
	* tests/good/strcmp.ia32.s,
	* tests/good/string-backslash-char.-e.ia32.s,
	* tests/good/string-backslash-char.ia32.s,
	* tests/good/string-backslash-octal.-e.ia32.s,
	* tests/good/string-backslash-octal.ia32.s,
	* tests/good/string-backslash-tortured.-e.ia32.s,
	* tests/good/string-backslash-tortured.ia32.s,
	* tests/good/string-huge.-e.ia32.s,
	* tests/good/string-huge.ia32.s,
	* tests/good/string-int-not-keywords.-e.ia32.s,
	* tests/good/string-int-not-keywords.ia32.s,
	* tests/good/string-simple-quotes.-e.ia32.s,
	* tests/good/string-simple-quotes.ia32.s,
	* tests/good/string-var-comparing.-e.ia32.s,
	* tests/good/string-var-comparing.ia32.s,
	* tests/good/string-var-ordering.-e.ia32.s,
	* tests/good/string-var-ordering.ia32.s,
	* tests/good/stupid-array-type.-e.ia32.s,
	* tests/good/stupid-array-type.ia32.s,
	* tests/good/substring-copy-all.-e.ia32.s,
	* tests/good/substring-copy-all.ia32.s,
	* tests/good/substring-copy-nothing.-e.ia32.s,
	* tests/good/substring-copy-nothing.ia32.s,
	* tests/good/substring-too-high-sum.-e.ia32.s,
	* tests/good/substring-too-high-sum.ia32.s,
	* tests/good/substring-too-low-first.-e.ia32.s,
	* tests/good/substring-too-low-first.ia32.s,
	* tests/good/substring-too-low-length.-e.ia32.s,
	* tests/good/substring-too-low-length.ia32.s,
	* tests/good/substring.-e.ia32.s,
	* tests/good/substring.ia32.s,
	* tests/good/test27.-e.ia32.s,
	* tests/good/test27.ia32.s,
	* tests/good/test30.-e.ia32.s,
	* tests/good/test30.ia32.s,
	* tests/good/test37.-e.ia32.s,
	* tests/good/test37.ia32.s,
	* tests/good/test42.-e.ia32.s,
	* tests/good/test42.ia32.s,
	* tests/good/test44.-e.ia32.s,
	* tests/good/test44.ia32.s,
	* tests/good/three-name-spaces.-e.ia32.s,
	* tests/good/three-name-spaces.ia32.s,
	* tests/good/types-aliases.-e.ia32.s,
	* tests/good/types-aliases.ia32.s,
	* tests/good/var-bob-is-another-bob.-e.ia32.s,
	* tests/good/var-bob-is-another-bob.ia32.s,
	* tests/good/var-override.-e.ia32.s,
	* tests/good/var-override.ia32.s,
	* tests/good/while-in-while.-e.ia32.s,
	* tests/good/while-in-while.ia32.s,
	* tests/object-good/attribute-modification.-e.ia32.s,
	* tests/object-good/attribute-modification.ia32.s,
	* tests/object-good/compare-nil-and-object.-e.ia32.s,
	* tests/object-good/compare-nil-and-object.ia32.s,
	* tests/object-good/compare-object-and-nil.-e.ia32.s,
	* tests/object-good/compare-object-and-nil.ia32.s,
	* tests/object-good/explicit-class-type.-e.ia32.s,
	* tests/object-good/explicit-class-type.ia32.s,
	* tests/object-good/five-name-spaces.-e.ia32.s,
	* tests/object-good/five-name-spaces.ia32.s,
	* tests/object-good/function-call-in-method.-e.ia32.s,
	* tests/object-good/function-call-in-method.ia32.s,
	* tests/object-good/function-returning-an-object.-e.ia32.s,
	* tests/object-good/function-returning-an-object.ia32.s,
	* tests/object-good/function-returning-object.-e.ia32.s,
	* tests/object-good/function-returning-object.ia32.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.ia32.s,
	* tests/object-good/function-taking-an-object-as-argument.ia32.s,
	* tests/object-good/function-taking-object-as-argument.-e.ia32.s,
	* tests/object-good/function-taking-object-as-argument.ia32.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.-e.ia32.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.ia32.s,
	* tests/object-good/initialize-object-to-nil.-e.ia32.s,
	* tests/object-good/initialize-object-to-nil.ia32.s,
	* tests/object-good/inner-class-with-same-member-names.-e.ia32.s,
	* tests/object-good/inner-class-with-same-member-names.ia32.s,
	* tests/object-good/instantiate-object.-e.ia32.s,
	* tests/object-good/instantiate-object.ia32.s,
	* tests/object-good/method-call.-e.ia32.s,
	* tests/object-good/method-call.ia32.s,
	* tests/object-good/method-using-self-as-argument.-e.ia32.s,
	* tests/object-good/method-using-self-as-argument.ia32.s,
	* tests/object-good/new-object.-e.ia32.s,
	* tests/object-good/new-object.ia32.s,
	* tests/object-good/nil-as-object-arg.-e.ia32.s,
	* tests/object-good/nil-as-object-arg.ia32.s,
	* tests/object-good/nil-as-object-return-value.-e.ia32.s,
	* tests/object-good/nil-as-object-return-value.ia32.s,
	* tests/object-good/redefining-object.-e.ia32.s,
	* tests/object-good/redefining-object.ia32.s,
	* tests/object-good/redefining-self.-e.ia32.s,
	* tests/object-good/redefining-self.ia32.s,
	* tests/object-good/simple-class.-e.ia32.s,
	* tests/object-good/simple-class.ia32.s,
	* tests/object-good/simple-extends.-e.ia32.s,
	* tests/object-good/simple-extends.ia32.s,
	* tests/object-good/simple-instantiation.-e.ia32.s,
	* tests/object-good/simple-instantiation.ia32.s,
	* tests/object-good/trivial-class.-e.ia32.s,
	* tests/object-good/trivial-class.ia32.s,
	* tests/object-good/type-simple-class.-e.ia32.s,
	* tests/object-good/type-simple-class.ia32.s,
	* tests/object-good/type-simple-extends.-e.ia32.s,
	* tests/object-good/type-simple-extends.ia32.s,
	* tests/object-good/upcast.-e.ia32.s,
	* tests/object-good/upcast.ia32.s,
	* tests/object-good/using-members-from-within-the-class.-e.ia32.s,
	* tests/object-good/using-members-from-within-the-class.ia32.s,
	* tests/object-good/valid-forward-reference-to-class.-e.ia32.s,
	* tests/object-good/valid-forward-reference-to-class.ia32.s,
	* tests/object-good/variable-modification.-e.ia32.s,
	* tests/object-good/variable-modification.ia32.s,
	* tests/object-good/variable-of-type-object.-e.ia32.s,
	* tests/object-good/variable-of-type-object.ia32.s,
	* tests/object-good/vehicle.-e.ia32.s,
	* tests/object-good/vehicle.ia32.s,
	* tests/object-good/visitor.-e.ia32.s,
	* tests/object-good/visitor.ia32.s,
	* tests/overload-good/overload-builtin.-e.ia32.s,
	* tests/overload-good/overload-builtin.ia32.s,
	* tests/overload-good/overload-function-record-arg.-e.ia32.s,
	* tests/overload-good/overload-function-record-arg.ia32.s,
	* tests/overload-good/overload-function.-e.ia32.s,
	* tests/overload-good/overload-function.ia32.s,
	* tests/overload-good/overload-nil-diambiguated.-e.ia32.s,
	* tests/overload-good/overload-nil-diambiguated.ia32.s,
	* tests/overload-good/overload-var-type-inference.-e.ia32.s,
	* tests/overload-good/overload-var-type-inference.ia32.s,
	* tests/runtime/chr-out-of-range1.-e.ia32.s,
	* tests/runtime/chr-out-of-range1.ia32.s,
	* tests/runtime/chr-out-of-range2.-e.ia32.s,
	* tests/runtime/chr-out-of-range2.ia32.s,
	* tests/runtime/substring-out-of-bounds1.-e.ia32.s,
	* tests/runtime/substring-out-of-bounds1.ia32.s,
	* tests/runtime/substring-out-of-bounds2.-e.ia32.s,
	* tests/runtime/substring-out-of-bounds2.ia32.s,
	* tests/runtime/substring-out-of-bounds3.-e.ia32.s,
	* tests/runtime/substring-out-of-bounds3.ia32.s:
	New files.
	Addresses Trac ticket #73 (https://trac.lrde.epita.fr/tc/ticket/73).

2014-05-20  Roland Levillain  <roland@lrde.epita.fr>

	Add rules to generate IA-32 tests outputs.

	* tests/Makefile.am (TIG2IA32, TIG2IA32_ESCAPE): New.
	($(srcdir)/%.ia32.s, $(srcdir)/%.-e.ia32.s): New (precious)
	targets.
	(good_prog_exts): Add ia32.s and -e.ia32.s.

2014-05-20  Roland Levillain  <roland@lrde.epita.fr>

	Adjust rules producing MIPS tests outputs.

	* tests/Makefile.am: s/\.s$/.mips.s/.
	(good_prog_exts): Adjust.
	(TIG2ASM, TIG2ASM_ESCAPE, TIG2UASM, TIG2UASM_ESCAPE):
	Rename as...
	(TIG2MIPS, TIG2MIPS_ESCAPE, TIG2UMIPS, TIG2UMIPS_ESCAPE):
	...these.
	Add option --target-mips.

2014-05-20  Roland Levillain  <roland@lrde.epita.fr>

	Rename MIPS tests outputs.

	* tests/escapes/for-lower.-e.s,
	* tests/escapes/for-lower.-e.u.s,
	* tests/escapes/for-lower.s,
	* tests/escapes/for-lower.u.s,
	* tests/escapes/for-scope.-e.s,
	* tests/escapes/for-scope.-e.u.s,
	* tests/escapes/for-scope.s,
	* tests/escapes/for-scope.u.s,
	* tests/escapes/for-upper.-e.s,
	* tests/escapes/for-upper.-e.u.s,
	* tests/escapes/for-upper.s,
	* tests/escapes/for-upper.u.s,
	* tests/escapes/formal-escapes.-e.s,
	* tests/escapes/formal-escapes.-e.u.s,
	* tests/escapes/formal-escapes.s,
	* tests/escapes/formal-escapes.u.s,
	* tests/escapes/local-escapes.-e.s,
	* tests/escapes/local-escapes.-e.u.s,
	* tests/escapes/local-escapes.s,
	* tests/escapes/local-escapes.u.s,
	* tests/escapes/no-functiondec-at-all.-e.s,
	* tests/escapes/no-functiondec-at-all.-e.u.s,
	* tests/escapes/no-functiondec-at-all.s,
	* tests/escapes/no-functiondec-at-all.u.s,
	* tests/escapes/record-escapes.-e.s,
	* tests/escapes/record-escapes.-e.u.s,
	* tests/escapes/record-escapes.s,
	* tests/escapes/record-escapes.u.s,
	* tests/escapes/recursion.-e.s,
	* tests/escapes/recursion.-e.u.s,
	* tests/escapes/recursion.s,
	* tests/escapes/recursion.u.s,
	* tests/escapes/redeclaration.-e.s,
	* tests/escapes/redeclaration.-e.u.s,
	* tests/escapes/redeclaration.s,
	* tests/escapes/redeclaration.u.s,
	* tests/escapes/rhs-of-a-vardec.-e.s,
	* tests/escapes/rhs-of-a-vardec.-e.u.s,
	* tests/escapes/rhs-of-a-vardec.s,
	* tests/escapes/rhs-of-a-vardec.u.s,
	* tests/escapes/scopes.-e.s,
	* tests/escapes/scopes.-e.u.s,
	* tests/escapes/scopes.s,
	* tests/escapes/scopes.u.s,
	* tests/escapes/sl-propagation-1.-e.s,
	* tests/escapes/sl-propagation-1.-e.u.s,
	* tests/escapes/sl-propagation-1.s,
	* tests/escapes/sl-propagation-1.u.s,
	* tests/escapes/sl-propagation-2.-e.s,
	* tests/escapes/sl-propagation-2.-e.u.s,
	* tests/escapes/sl-propagation-2.s,
	* tests/escapes/sl-propagation-2.u.s,
	* tests/escapes/variable-escapes.-e.s,
	* tests/escapes/variable-escapes.-e.u.s,
	* tests/escapes/variable-escapes.s,
	* tests/escapes/variable-escapes.u.s,
	* tests/escapes/variable-inside-for-body.-e.s,
	* tests/escapes/variable-inside-for-body.-e.u.s,
	* tests/escapes/variable-inside-for-body.s,
	* tests/escapes/variable-inside-for-body.u.s,
	* tests/escapes/variant-escapes.-e.s,
	* tests/escapes/variant-escapes.-e.u.s,
	* tests/escapes/variant-escapes.s,
	* tests/escapes/variant-escapes.u.s,
	* tests/good/all-binop.-e.s,
	* tests/good/all-binop.-e.u.s,
	* tests/good/all-binop.s,
	* tests/good/all-binop.u.s,
	* tests/good/array-of-alias.-e.s,
	* tests/good/array-of-alias.-e.u.s,
	* tests/good/array-of-alias.s,
	* tests/good/array-of-alias.u.s,
	* tests/good/array-subscript-assign.-e.s,
	* tests/good/array-subscript-assign.-e.u.s,
	* tests/good/array-subscript-assign.s,
	* tests/good/array-subscript-assign.u.s,
	* tests/good/array.-e.s,
	* tests/good/array.-e.u.s,
	* tests/good/array.s,
	* tests/good/array.u.s,
	* tests/good/assign-and-array-instantiation.-e.s,
	* tests/good/assign-and-array-instantiation.-e.u.s,
	* tests/good/assign-and-array-instantiation.s,
	* tests/good/assign-and-array-instantiation.u.s,
	* tests/good/assign-void.-e.s,
	* tests/good/assign-void.-e.u.s,
	* tests/good/assign-void.s,
	* tests/good/assign-void.u.s,
	* tests/good/assign-vs-boolean.-e.s,
	* tests/good/assign-vs-boolean.-e.u.s,
	* tests/good/assign-vs-boolean.s,
	* tests/good/assign-vs-boolean.u.s,
	* tests/good/assign-vs-rel.-e.s,
	* tests/good/assign-vs-rel.-e.u.s,
	* tests/good/assign-vs-rel.s,
	* tests/good/assign-vs-rel.u.s,
	* tests/good/basic-import.-e.s,
	* tests/good/basic-import.-e.u.s,
	* tests/good/basic-import.s,
	* tests/good/basic-import.u.s,
	* tests/good/bempel_j.-e.s,
	* tests/good/bempel_j.-e.u.s,
	* tests/good/bempel_j.s,
	* tests/good/bempel_j.u.s,
	* tests/good/big-exp.-e.s,
	* tests/good/big-exp.-e.u.s,
	* tests/good/big-exp.s,
	* tests/good/big-exp.u.s,
	* tests/good/big-lvalue.-e.s,
	* tests/good/big-lvalue.-e.u.s,
	* tests/good/big-lvalue.s,
	* tests/good/big-lvalue.u.s,
	* tests/good/boolean-1.-e.s,
	* tests/good/boolean-1.-e.u.s,
	* tests/good/boolean-1.s,
	* tests/good/boolean-1.u.s,
	* tests/good/boolean-2.-e.s,
	* tests/good/boolean-2.-e.u.s,
	* tests/good/boolean-2.s,
	* tests/good/boolean-2.u.s,
	* tests/good/break-in-for.-e.s,
	* tests/good/break-in-for.-e.u.s,
	* tests/good/break-in-for.s,
	* tests/good/break-in-for.u.s,
	* tests/good/break-in-while.-e.s,
	* tests/good/break-in-while.-e.u.s,
	* tests/good/break-in-while.s,
	* tests/good/break-in-while.u.s,
	* tests/good/builtins.-e.s,
	* tests/good/builtins.-e.u.s,
	* tests/good/builtins.s,
	* tests/good/builtins.u.s,
	* tests/good/call.-e.s,
	* tests/good/call.-e.u.s,
	* tests/good/call.s,
	* tests/good/call.u.s,
	* tests/good/chr-256.-e.s,
	* tests/good/chr-256.-e.u.s,
	* tests/good/chr-256.s,
	* tests/good/chr-256.u.s,
	* tests/good/chr-minus-1.-e.s,
	* tests/good/chr-minus-1.-e.u.s,
	* tests/good/chr-minus-1.s,
	* tests/good/chr-minus-1.u.s,
	* tests/good/chr.-e.s,
	* tests/good/chr.-e.u.s,
	* tests/good/chr.s,
	* tests/good/chr.u.s,
	* tests/good/comments-javalike-nested.-e.s,
	* tests/good/comments-javalike-nested.-e.u.s,
	* tests/good/comments-javalike-nested.s,
	* tests/good/comments-javalike-nested.u.s,
	* tests/good/comments-nested.-e.s,
	* tests/good/comments-nested.-e.u.s,
	* tests/good/comments-nested.s,
	* tests/good/comments-nested.u.s,
	* tests/good/comments-with-comment-chars.-e.s,
	* tests/good/comments-with-comment-chars.-e.u.s,
	* tests/good/comments-with-comment-chars.s,
	* tests/good/comments-with-comment-chars.u.s,
	* tests/good/comments-with-parens.-e.s,
	* tests/good/comments-with-parens.-e.u.s,
	* tests/good/comments-with-parens.s,
	* tests/good/comments-with-parens.u.s,
	* tests/good/comments-with-quotes.-e.s,
	* tests/good/comments-with-quotes.-e.u.s,
	* tests/good/comments-with-quotes.s,
	* tests/good/comments-with-quotes.u.s,
	* tests/good/commutation-1.-e.s,
	* tests/good/commutation-1.-e.u.s,
	* tests/good/commutation-1.s,
	* tests/good/commutation-1.u.s,
	* tests/good/commutation-2.-e.s,
	* tests/good/commutation-2.-e.u.s,
	* tests/good/commutation-2.s,
	* tests/good/commutation-2.u.s,
	* tests/good/compare-nil-and-record.-e.s,
	* tests/good/compare-nil-and-record.-e.u.s,
	* tests/good/compare-nil-and-record.s,
	* tests/good/compare-nil-and-record.u.s,
	* tests/good/compare-record-and-nil.-e.s,
	* tests/good/compare-record-and-nil.-e.u.s,
	* tests/good/compare-record-and-nil.s,
	* tests/good/compare-record-and-nil.u.s,
	* tests/good/compare-record-and-record.-e.s,
	* tests/good/compare-record-and-record.-e.u.s,
	* tests/good/compare-record-and-record.s,
	* tests/good/compare-record-and-record.u.s,
	* tests/good/compare-void.-e.s,
	* tests/good/compare-void.-e.u.s,
	* tests/good/compare-void.s,
	* tests/good/compare-void.u.s,
	* tests/good/complex-import.-e.s,
	* tests/good/complex-import.-e.u.s,
	* tests/good/complex-import.s,
	* tests/good/complex-import.u.s,
	* tests/good/concat.-e.s,
	* tests/good/concat.-e.u.s,
	* tests/good/concat.s,
	* tests/good/concat.u.s,
	* tests/good/concurrent-arguments.-e.s,
	* tests/good/concurrent-arguments.-e.u.s,
	* tests/good/concurrent-arguments.s,
	* tests/good/concurrent-arguments.u.s,
	* tests/good/division-with-negative-operands.-e.s,
	* tests/good/division-with-negative-operands.-e.u.s,
	* tests/good/division-with-negative-operands.s,
	* tests/good/division-with-negative-operands.u.s,
	* tests/good/donald.-e.s,
	* tests/good/donald.-e.u.s,
	* tests/good/donald.s,
	* tests/good/donald.u.s,
	* tests/good/empty-let-body.-e.s,
	* tests/good/empty-let-body.-e.u.s,
	* tests/good/empty-let-body.s,
	* tests/good/empty-let-body.u.s,
	* tests/good/empty-parens.-e.s,
	* tests/good/empty-parens.-e.u.s,
	* tests/good/empty-parens.s,
	* tests/good/empty-parens.u.s,
	* tests/good/empty-record-type.-e.s,
	* tests/good/empty-record-type.-e.u.s,
	* tests/good/empty-record-type.s,
	* tests/good/empty-record-type.u.s,
	* tests/good/escaping-record.-e.s,
	* tests/good/escaping-record.-e.u.s,
	* tests/good/escaping-record.s,
	* tests/good/escaping-record.u.s,
	* tests/good/evalexp.-e.s,
	* tests/good/evalexp.-e.u.s,
	* tests/good/evalexp.s,
	* tests/good/evalexp.u.s,
	* tests/good/exit-51.-e.s,
	* tests/good/exit-51.-e.u.s,
	* tests/good/exit-51.s,
	* tests/good/exit-51.u.s,
	* tests/good/explicit-record-type.-e.s,
	* tests/good/explicit-record-type.-e.u.s,
	* tests/good/explicit-record-type.s,
	* tests/good/explicit-record-type.u.s,
	* tests/good/fact.-e.s,
	* tests/good/fact.-e.u.s,
	* tests/good/fact.s,
	* tests/good/fact.u.s,
	* tests/good/field-of-field.-e.s,
	* tests/good/field-of-field.-e.u.s,
	* tests/good/field-of-field.s,
	* tests/good/field-of-field.u.s,
	* tests/good/for-high-computed-once.-e.s,
	* tests/good/for-high-computed-once.-e.u.s,
	* tests/good/for-high-computed-once.s,
	* tests/good/for-high-computed-once.u.s,
	* tests/good/for-high-same-name-as-index.-e.s,
	* tests/good/for-high-same-name-as-index.-e.u.s,
	* tests/good/for-high-same-name-as-index.s,
	* tests/good/for-high-same-name-as-index.u.s,
	* tests/good/for-in-let.-e.s,
	* tests/good/for-in-let.-e.u.s,
	* tests/good/for-in-let.s,
	* tests/good/for-in-let.u.s,
	* tests/good/for-in-while.-e.s,
	* tests/good/for-in-while.-e.u.s,
	* tests/good/for-in-while.s,
	* tests/good/for-in-while.u.s,
	* tests/good/for-scope.-e.s,
	* tests/good/for-scope.-e.u.s,
	* tests/good/for-scope.s,
	* tests/good/for-scope.u.s,
	* tests/good/for-up-to-32bits.-e.s,
	* tests/good/for-up-to-32bits.-e.u.s,
	* tests/good/for-up-to-32bits.s,
	* tests/good/for-up-to-32bits.u.s,
	* tests/good/for.-e.s,
	* tests/good/for.-e.u.s,
	* tests/good/for.s,
	* tests/good/for.u.s,
	* tests/good/forward-fun-and-type-decl.-e.s,
	* tests/good/forward-fun-and-type-decl.-e.u.s,
	* tests/good/forward-fun-and-type-decl.s,
	* tests/good/forward-fun-and-type-decl.u.s,
	* tests/good/four-hex-backslash.-e.s,
	* tests/good/four-hex-backslash.-e.u.s,
	* tests/good/four-hex-backslash.s,
	* tests/good/four-hex-backslash.u.s,
	* tests/good/fractions-underloaded.-e.s,
	* tests/good/fractions-underloaded.-e.u.s,
	* tests/good/fractions-underloaded.s,
	* tests/good/fractions-underloaded.u.s,
	* tests/good/fun-vs-var.-e.s,
	* tests/good/fun-vs-var.-e.u.s,
	* tests/good/fun-vs-var.s,
	* tests/good/fun-vs-var.u.s,
	* tests/good/functions.-e.s,
	* tests/good/functions.-e.u.s,
	* tests/good/functions.s,
	* tests/good/functions.u.s,
	* tests/good/getchar-no-static-string.-e.s,
	* tests/good/getchar-no-static-string.-e.u.s,
	* tests/good/getchar-no-static-string.s,
	* tests/good/getchar-no-static-string.u.s,
	* tests/good/getchar.-e.s,
	* tests/good/getchar.-e.u.s,
	* tests/good/getchar.s,
	* tests/good/getchar.u.s,
	* tests/good/if-and-bool.-e.s,
	* tests/good/if-and-bool.-e.u.s,
	* tests/good/if-and-bool.s,
	* tests/good/if-and-bool.u.s,
	* tests/good/if-and-if.-e.s,
	* tests/good/if-and-if.-e.u.s,
	* tests/good/if-and-if.s,
	* tests/good/if-and-if.u.s,
	* tests/good/if-and-rel.-e.s,
	* tests/good/if-and-rel.-e.u.s,
	* tests/good/if-and-rel.s,
	* tests/good/if-and-rel.u.s,
	* tests/good/if-void-body.-e.s,
	* tests/good/if-void-body.-e.u.s,
	* tests/good/if-void-body.s,
	* tests/good/if-void-body.u.s,
	* tests/good/if.-e.s,
	* tests/good/if.-e.u.s,
	* tests/good/if.s,
	* tests/good/if.u.s,
	* tests/good/init-array.-e.s,
	* tests/good/init-array.-e.u.s,
	* tests/good/init-array.s,
	* tests/good/init-array.u.s,
	* tests/good/initialize-to-nil.-e.s,
	* tests/good/initialize-to-nil.-e.u.s,
	* tests/good/initialize-to-nil.s,
	* tests/good/initialize-to-nil.u.s,
	* tests/good/int-comparison.-e.s,
	* tests/good/int-comparison.-e.u.s,
	* tests/good/int-comparison.s,
	* tests/good/int-comparison.u.s,
	* tests/good/int-var-ordering.-e.s,
	* tests/good/int-var-ordering.-e.u.s,
	* tests/good/int-var-ordering.s,
	* tests/good/int-var-ordering.u.s,
	* tests/good/invisible-valid-types.-e.s,
	* tests/good/invisible-valid-types.-e.u.s,
	* tests/good/invisible-valid-types.s,
	* tests/good/invisible-valid-types.u.s,
	* tests/good/just-a-simple-for-1.-e.s,
	* tests/good/just-a-simple-for-1.-e.u.s,
	* tests/good/just-a-simple-for-1.s,
	* tests/good/just-a-simple-for-1.u.s,
	* tests/good/just-a-simple-for-2.-e.s,
	* tests/good/just-a-simple-for-2.-e.u.s,
	* tests/good/just-a-simple-for-2.s,
	* tests/good/just-a-simple-for-2.u.s,
	* tests/good/large-ints.-e.s,
	* tests/good/large-ints.-e.u.s,
	* tests/good/large-ints.s,
	* tests/good/large-ints.u.s,
	* tests/good/let-in-for-init.-e.s,
	* tests/good/let-in-for-init.-e.u.s,
	* tests/good/let-in-for-init.s,
	* tests/good/let-in-for-init.u.s,
	* tests/good/let-scope-for-functions.-e.s,
	* tests/good/let-scope-for-functions.-e.u.s,
	* tests/good/let-scope-for-functions.s,
	* tests/good/let-scope-for-functions.u.s,
	* tests/good/let-scope-for-types.-e.s,
	* tests/good/let-scope-for-types.-e.u.s,
	* tests/good/let-scope-for-types.s,
	* tests/good/let-scope-for-types.u.s,
	* tests/good/letexp-eseq.-e.s,
	* tests/good/letexp-eseq.-e.u.s,
	* tests/good/letexp-eseq.s,
	* tests/good/letexp-eseq.u.s,
	* tests/good/local-vs-global-type.-e.s,
	* tests/good/local-vs-global-type.-e.u.s,
	* tests/good/local-vs-global-type.s,
	* tests/good/local-vs-global-type.u.s,
	* tests/good/many-args.-e.s,
	* tests/good/many-args.-e.u.s,
	* tests/good/many-args.s,
	* tests/good/many-args.u.s,
	* tests/good/many-bool-ops.-e.s,
	* tests/good/many-bool-ops.-e.u.s,
	* tests/good/many-bool-ops.s,
	* tests/good/many-bool-ops.u.s,
	* tests/good/many-functions.-e.s,
	* tests/good/many-functions.-e.u.s,
	* tests/good/many-functions.s,
	* tests/good/many-functions.u.s,
	* tests/good/many-vars.-e.s,
	* tests/good/many-vars.-e.u.s,
	* tests/good/many-vars.s,
	* tests/good/many-vars.u.s,
	* tests/good/merge.-e.s,
	* tests/good/merge.-e.u.s,
	* tests/good/merge.s,
	* tests/good/merge.u.s,
	* tests/good/mini-morpho.-e.s,
	* tests/good/mini-morpho.-e.u.s,
	* tests/good/mini-morpho.s,
	* tests/good/mini-morpho.u.s,
	* tests/good/mutually-recursive-functions.-e.s,
	* tests/good/mutually-recursive-functions.-e.u.s,
	* tests/good/mutually-recursive-functions.s,
	* tests/good/mutually-recursive-functions.u.s,
	* tests/good/mutually-recursive-procedures.-e.s,
	* tests/good/mutually-recursive-procedures.-e.u.s,
	* tests/good/mutually-recursive-procedures.s,
	* tests/good/mutually-recursive-procedures.u.s,
	* tests/good/nil-as-arg.-e.s,
	* tests/good/nil-as-arg.-e.u.s,
	* tests/good/nil-as-arg.s,
	* tests/good/nil-as-arg.u.s,
	* tests/good/nil-as-return-value.-e.s,
	* tests/good/nil-as-return-value.-e.u.s,
	* tests/good/nil-as-return-value.s,
	* tests/good/nil-as-return-value.u.s,
	* tests/good/nine.-e.s,
	* tests/good/nine.-e.u.s,
	* tests/good/nine.s,
	* tests/good/nine.u.s,
	* tests/good/non-commutative-move-mem-expr.-e.s,
	* tests/good/non-commutative-move-mem-expr.-e.u.s,
	* tests/good/non-commutative-move-mem-expr.s,
	* tests/good/non-commutative-move-mem-expr.u.s,
	* tests/good/nul-character.-e.s,
	* tests/good/nul-character.-e.u.s,
	* tests/good/nul-character.s,
	* tests/good/nul-character.u.s,
	* tests/good/of-precedence.-e.s,
	* tests/good/of-precedence.-e.u.s,
	* tests/good/of-precedence.s,
	* tests/good/of-precedence.u.s,
	* tests/good/order-strings.-e.s,
	* tests/good/order-strings.-e.u.s,
	* tests/good/order-strings.s,
	* tests/good/order-strings.u.s,
	* tests/good/precedence.-e.s,
	* tests/good/precedence.-e.u.s,
	* tests/good/precedence.s,
	* tests/good/precedence.u.s,
	* tests/good/preincrement.-e.s,
	* tests/good/preincrement.-e.u.s,
	* tests/good/preincrement.s,
	* tests/good/preincrement.u.s,
	* tests/good/print-chr-ord.-e.s,
	* tests/good/print-chr-ord.-e.u.s,
	* tests/good/print-chr-ord.s,
	* tests/good/print-chr-ord.u.s,
	* tests/good/print-tree.-e.s,
	* tests/good/print-tree.-e.u.s,
	* tests/good/print-tree.s,
	* tests/good/print-tree.u.s,
	* tests/good/queens.-e.s,
	* tests/good/queens.-e.u.s,
	* tests/good/queens.s,
	* tests/good/queens.u.s,
	* tests/good/record.-e.s,
	* tests/good/record.-e.u.s,
	* tests/good/record.s,
	* tests/good/record.u.s,
	* tests/good/recursive-type.-e.s,
	* tests/good/recursive-type.-e.u.s,
	* tests/good/recursive-type.s,
	* tests/good/recursive-type.u.s,
	* tests/good/recursive-types-mutual.-e.s,
	* tests/good/recursive-types-mutual.-e.u.s,
	* tests/good/recursive-types-mutual.s,
	* tests/good/recursive-types-mutual.u.s,
	* tests/good/recursive-types.-e.s,
	* tests/good/recursive-types.-e.u.s,
	* tests/good/recursive-types.s,
	* tests/good/recursive-types.u.s,
	* tests/good/redefine-int.-e.s,
	* tests/good/redefine-int.-e.u.s,
	* tests/good/redefine-int.s,
	* tests/good/redefine-int.u.s,
	* tests/good/redefine-print.-e.s,
	* tests/good/redefine-print.-e.u.s,
	* tests/good/redefine-print.s,
	* tests/good/redefine-print.u.s,
	* tests/good/rel.-e.s,
	* tests/good/rel.-e.u.s,
	* tests/good/rel.s,
	* tests/good/rel.u.s,
	* tests/good/scopes-protect-types.-e.s,
	* tests/good/scopes-protect-types.-e.u.s,
	* tests/good/scopes-protect-types.s,
	* tests/good/scopes-protect-types.u.s,
	* tests/good/scopes-protect-vars.-e.s,
	* tests/good/scopes-protect-vars.-e.u.s,
	* tests/good/scopes-protect-vars.s,
	* tests/good/scopes-protect-vars.u.s,
	* tests/good/seqexp-arithmetics.-e.s,
	* tests/good/seqexp-arithmetics.-e.u.s,
	* tests/good/seqexp-arithmetics.s,
	* tests/good/seqexp-arithmetics.u.s,
	* tests/good/shadowed-streq.-e.s,
	* tests/good/shadowed-streq.-e.u.s,
	* tests/good/shadowed-streq.s,
	* tests/good/shadowed-streq.u.s,
	* tests/good/shadowing-functions.-e.s,
	* tests/good/shadowing-functions.-e.u.s,
	* tests/good/shadowing-functions.s,
	* tests/good/shadowing-functions.u.s,
	* tests/good/shadowing-types-separate.-e.s,
	* tests/good/shadowing-types-separate.-e.u.s,
	* tests/good/shadowing-types-separate.s,
	* tests/good/shadowing-types-separate.u.s,
	* tests/good/side-effects-in-init.-e.s,
	* tests/good/side-effects-in-init.-e.u.s,
	* tests/good/side-effects-in-init.s,
	* tests/good/side-effects-in-init.u.s,
	* tests/good/side-effects-in-sxp.-e.s,
	* tests/good/side-effects-in-sxp.-e.u.s,
	* tests/good/side-effects-in-sxp.s,
	* tests/good/side-effects-in-sxp.u.s,
	* tests/good/side-effects.-e.s,
	* tests/good/side-effects.-e.u.s,
	* tests/good/side-effects.s,
	* tests/good/side-effects.u.s,
	* tests/good/single-variable.-e.s,
	* tests/good/single-variable.-e.u.s,
	* tests/good/single-variable.s,
	* tests/good/single-variable.u.s,
	* tests/good/so-many-args-in-rec-func.-e.s,
	* tests/good/so-many-args-in-rec-func.-e.u.s,
	* tests/good/so-many-args-in-rec-func.s,
	* tests/good/so-many-args-in-rec-func.u.s,
	* tests/good/strcmp.-e.s,
	* tests/good/strcmp.-e.u.s,
	* tests/good/strcmp.s,
	* tests/good/strcmp.u.s,
	* tests/good/string-backslash-char.-e.s,
	* tests/good/string-backslash-char.-e.u.s,
	* tests/good/string-backslash-char.s,
	* tests/good/string-backslash-char.u.s,
	* tests/good/string-backslash-octal.-e.s,
	* tests/good/string-backslash-octal.-e.u.s,
	* tests/good/string-backslash-octal.s,
	* tests/good/string-backslash-octal.u.s,
	* tests/good/string-backslash-tortured.-e.s,
	* tests/good/string-backslash-tortured.-e.u.s,
	* tests/good/string-backslash-tortured.s,
	* tests/good/string-backslash-tortured.u.s,
	* tests/good/string-huge.-e.s,
	* tests/good/string-huge.-e.u.s,
	* tests/good/string-huge.s,
	* tests/good/string-huge.u.s,
	* tests/good/string-int-not-keywords.-e.s,
	* tests/good/string-int-not-keywords.-e.u.s,
	* tests/good/string-int-not-keywords.s,
	* tests/good/string-int-not-keywords.u.s,
	* tests/good/string-simple-quotes.-e.s,
	* tests/good/string-simple-quotes.-e.u.s,
	* tests/good/string-simple-quotes.s,
	* tests/good/string-simple-quotes.u.s,
	* tests/good/string-var-comparing.-e.s,
	* tests/good/string-var-comparing.-e.u.s,
	* tests/good/string-var-comparing.s,
	* tests/good/string-var-comparing.u.s,
	* tests/good/string-var-ordering.-e.s,
	* tests/good/string-var-ordering.-e.u.s,
	* tests/good/string-var-ordering.s,
	* tests/good/string-var-ordering.u.s,
	* tests/good/stupid-array-type.-e.s,
	* tests/good/stupid-array-type.-e.u.s,
	* tests/good/stupid-array-type.s,
	* tests/good/stupid-array-type.u.s,
	* tests/good/substring-copy-all.-e.s,
	* tests/good/substring-copy-all.-e.u.s,
	* tests/good/substring-copy-all.s,
	* tests/good/substring-copy-all.u.s,
	* tests/good/substring-copy-nothing.-e.s,
	* tests/good/substring-copy-nothing.-e.u.s,
	* tests/good/substring-copy-nothing.s,
	* tests/good/substring-copy-nothing.u.s,
	* tests/good/substring-too-high-sum.-e.s,
	* tests/good/substring-too-high-sum.-e.u.s,
	* tests/good/substring-too-high-sum.s,
	* tests/good/substring-too-high-sum.u.s,
	* tests/good/substring-too-low-first.-e.s,
	* tests/good/substring-too-low-first.-e.u.s,
	* tests/good/substring-too-low-first.s,
	* tests/good/substring-too-low-first.u.s,
	* tests/good/substring-too-low-length.-e.s,
	* tests/good/substring-too-low-length.-e.u.s,
	* tests/good/substring-too-low-length.s,
	* tests/good/substring-too-low-length.u.s,
	* tests/good/substring.-e.s,
	* tests/good/substring.-e.u.s,
	* tests/good/substring.s,
	* tests/good/substring.u.s,
	* tests/good/test27.-e.s,
	* tests/good/test27.-e.u.s,
	* tests/good/test27.s,
	* tests/good/test27.u.s,
	* tests/good/test30.-e.s,
	* tests/good/test30.-e.u.s,
	* tests/good/test30.s,
	* tests/good/test30.u.s,
	* tests/good/test37.-e.s,
	* tests/good/test37.-e.u.s,
	* tests/good/test37.s,
	* tests/good/test37.u.s,
	* tests/good/test42.-e.s,
	* tests/good/test42.-e.u.s,
	* tests/good/test42.s,
	* tests/good/test42.u.s,
	* tests/good/test44.-e.s,
	* tests/good/test44.-e.u.s,
	* tests/good/test44.s,
	* tests/good/test44.u.s,
	* tests/good/three-name-spaces.-e.s,
	* tests/good/three-name-spaces.-e.u.s,
	* tests/good/three-name-spaces.s,
	* tests/good/three-name-spaces.u.s,
	* tests/good/types-aliases.-e.s,
	* tests/good/types-aliases.-e.u.s,
	* tests/good/types-aliases.s,
	* tests/good/types-aliases.u.s,
	* tests/good/var-bob-is-another-bob.-e.s,
	* tests/good/var-bob-is-another-bob.-e.u.s,
	* tests/good/var-bob-is-another-bob.s,
	* tests/good/var-bob-is-another-bob.u.s,
	* tests/good/var-override.-e.s,
	* tests/good/var-override.-e.u.s,
	* tests/good/var-override.s,
	* tests/good/var-override.u.s,
	* tests/good/while-in-while.-e.s,
	* tests/good/while-in-while.-e.u.s,
	* tests/good/while-in-while.s,
	* tests/good/while-in-while.u.s,
	* tests/object-good/attribute-modification.-e.s,
	* tests/object-good/attribute-modification.-e.u.s,
	* tests/object-good/attribute-modification.s,
	* tests/object-good/attribute-modification.u.s,
	* tests/object-good/compare-nil-and-object.-e.s,
	* tests/object-good/compare-nil-and-object.-e.u.s,
	* tests/object-good/compare-nil-and-object.s,
	* tests/object-good/compare-nil-and-object.u.s,
	* tests/object-good/compare-object-and-nil.-e.s,
	* tests/object-good/compare-object-and-nil.-e.u.s,
	* tests/object-good/compare-object-and-nil.s,
	* tests/object-good/compare-object-and-nil.u.s,
	* tests/object-good/explicit-class-type.-e.s,
	* tests/object-good/explicit-class-type.-e.u.s,
	* tests/object-good/explicit-class-type.s,
	* tests/object-good/explicit-class-type.u.s,
	* tests/object-good/five-name-spaces.-e.s,
	* tests/object-good/five-name-spaces.-e.u.s,
	* tests/object-good/five-name-spaces.s,
	* tests/object-good/five-name-spaces.u.s,
	* tests/object-good/function-call-in-method.-e.s,
	* tests/object-good/function-call-in-method.-e.u.s,
	* tests/object-good/function-call-in-method.s,
	* tests/object-good/function-call-in-method.u.s,
	* tests/object-good/function-returning-an-object.-e.s,
	* tests/object-good/function-returning-an-object.-e.u.s,
	* tests/object-good/function-returning-an-object.s,
	* tests/object-good/function-returning-an-object.u.s,
	* tests/object-good/function-returning-object.-e.s,
	* tests/object-good/function-returning-object.-e.u.s,
	* tests/object-good/function-returning-object.s,
	* tests/object-good/function-returning-object.u.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.u.s,
	* tests/object-good/function-taking-an-object-as-argument.s,
	* tests/object-good/function-taking-an-object-as-argument.u.s,
	* tests/object-good/function-taking-object-as-argument.-e.s,
	* tests/object-good/function-taking-object-as-argument.-e.u.s,
	* tests/object-good/function-taking-object-as-argument.s,
	* tests/object-good/function-taking-object-as-argument.u.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.-e.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.-e.u.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.u.s,
	* tests/object-good/initialize-object-to-nil.-e.s,
	* tests/object-good/initialize-object-to-nil.-e.u.s,
	* tests/object-good/initialize-object-to-nil.s,
	* tests/object-good/initialize-object-to-nil.u.s,
	* tests/object-good/inner-class-with-same-member-names.-e.s,
	* tests/object-good/inner-class-with-same-member-names.-e.u.s,
	* tests/object-good/inner-class-with-same-member-names.s,
	* tests/object-good/inner-class-with-same-member-names.u.s,
	* tests/object-good/instantiate-object.-e.s,
	* tests/object-good/instantiate-object.-e.u.s,
	* tests/object-good/instantiate-object.s,
	* tests/object-good/instantiate-object.u.s,
	* tests/object-good/method-call.-e.s,
	* tests/object-good/method-call.-e.u.s,
	* tests/object-good/method-call.s,
	* tests/object-good/method-call.u.s,
	* tests/object-good/method-using-self-as-argument.-e.s,
	* tests/object-good/method-using-self-as-argument.-e.u.s,
	* tests/object-good/method-using-self-as-argument.s,
	* tests/object-good/method-using-self-as-argument.u.s,
	* tests/object-good/new-object.-e.s,
	* tests/object-good/new-object.-e.u.s,
	* tests/object-good/new-object.s,
	* tests/object-good/new-object.u.s,
	* tests/object-good/nil-as-object-arg.-e.s,
	* tests/object-good/nil-as-object-arg.-e.u.s,
	* tests/object-good/nil-as-object-arg.s,
	* tests/object-good/nil-as-object-arg.u.s,
	* tests/object-good/nil-as-object-return-value.-e.s,
	* tests/object-good/nil-as-object-return-value.-e.u.s,
	* tests/object-good/nil-as-object-return-value.s,
	* tests/object-good/nil-as-object-return-value.u.s,
	* tests/object-good/redefining-object.-e.s,
	* tests/object-good/redefining-object.-e.u.s,
	* tests/object-good/redefining-object.s,
	* tests/object-good/redefining-object.u.s,
	* tests/object-good/redefining-self.-e.s,
	* tests/object-good/redefining-self.-e.u.s,
	* tests/object-good/redefining-self.s,
	* tests/object-good/redefining-self.u.s,
	* tests/object-good/simple-class.-e.s,
	* tests/object-good/simple-class.-e.u.s,
	* tests/object-good/simple-class.s,
	* tests/object-good/simple-class.u.s,
	* tests/object-good/simple-extends.-e.s,
	* tests/object-good/simple-extends.-e.u.s,
	* tests/object-good/simple-extends.s,
	* tests/object-good/simple-extends.u.s,
	* tests/object-good/simple-instantiation.-e.s,
	* tests/object-good/simple-instantiation.-e.u.s,
	* tests/object-good/simple-instantiation.s,
	* tests/object-good/simple-instantiation.u.s,
	* tests/object-good/trivial-class.-e.s,
	* tests/object-good/trivial-class.-e.u.s,
	* tests/object-good/trivial-class.s,
	* tests/object-good/trivial-class.u.s,
	* tests/object-good/type-simple-class.-e.s,
	* tests/object-good/type-simple-class.-e.u.s,
	* tests/object-good/type-simple-class.s,
	* tests/object-good/type-simple-class.u.s,
	* tests/object-good/type-simple-extends.-e.s,
	* tests/object-good/type-simple-extends.-e.u.s,
	* tests/object-good/type-simple-extends.s,
	* tests/object-good/type-simple-extends.u.s,
	* tests/object-good/upcast.-e.s,
	* tests/object-good/upcast.-e.u.s,
	* tests/object-good/upcast.s,
	* tests/object-good/upcast.u.s,
	* tests/object-good/using-members-from-within-the-class.-e.s,
	* tests/object-good/using-members-from-within-the-class.-e.u.s,
	* tests/object-good/using-members-from-within-the-class.s,
	* tests/object-good/using-members-from-within-the-class.u.s,
	* tests/object-good/valid-forward-reference-to-class.-e.s,
	* tests/object-good/valid-forward-reference-to-class.-e.u.s,
	* tests/object-good/valid-forward-reference-to-class.s,
	* tests/object-good/valid-forward-reference-to-class.u.s,
	* tests/object-good/variable-modification.-e.s,
	* tests/object-good/variable-modification.-e.u.s,
	* tests/object-good/variable-modification.s,
	* tests/object-good/variable-modification.u.s,
	* tests/object-good/variable-of-type-object.-e.s,
	* tests/object-good/variable-of-type-object.-e.u.s,
	* tests/object-good/variable-of-type-object.s,
	* tests/object-good/variable-of-type-object.u.s,
	* tests/object-good/vehicle.-e.s,
	* tests/object-good/vehicle.-e.u.s,
	* tests/object-good/vehicle.s,
	* tests/object-good/vehicle.u.s,
	* tests/object-good/visitor.-e.s,
	* tests/object-good/visitor.-e.u.s,
	* tests/object-good/visitor.s,
	* tests/object-good/visitor.u.s,
	* tests/overload-good/overload-builtin.-e.s,
	* tests/overload-good/overload-builtin.-e.u.s,
	* tests/overload-good/overload-builtin.s,
	* tests/overload-good/overload-builtin.u.s,
	* tests/overload-good/overload-function-record-arg.-e.s,
	* tests/overload-good/overload-function-record-arg.-e.u.s,
	* tests/overload-good/overload-function-record-arg.s,
	* tests/overload-good/overload-function-record-arg.u.s,
	* tests/overload-good/overload-function.-e.s,
	* tests/overload-good/overload-function.-e.u.s,
	* tests/overload-good/overload-function.s,
	* tests/overload-good/overload-function.u.s,
	* tests/overload-good/overload-nil-diambiguated.-e.s,
	* tests/overload-good/overload-nil-diambiguated.-e.u.s,
	* tests/overload-good/overload-nil-diambiguated.s,
	* tests/overload-good/overload-nil-diambiguated.u.s,
	* tests/overload-good/overload-var-type-inference.-e.s,
	* tests/overload-good/overload-var-type-inference.-e.u.s,
	* tests/overload-good/overload-var-type-inference.s,
	* tests/overload-good/overload-var-type-inference.u.s,
	* tests/runtime/chr-out-of-range1.-e.s,
	* tests/runtime/chr-out-of-range1.-e.u.s,
	* tests/runtime/chr-out-of-range1.s,
	* tests/runtime/chr-out-of-range1.u.s,
	* tests/runtime/chr-out-of-range2.-e.s,
	* tests/runtime/chr-out-of-range2.-e.u.s,
	* tests/runtime/chr-out-of-range2.s,
	* tests/runtime/chr-out-of-range2.u.s,
	* tests/runtime/substring-out-of-bounds1.-e.s,
	* tests/runtime/substring-out-of-bounds1.-e.u.s,
	* tests/runtime/substring-out-of-bounds1.s,
	* tests/runtime/substring-out-of-bounds1.u.s,
	* tests/runtime/substring-out-of-bounds2.-e.s,
	* tests/runtime/substring-out-of-bounds2.-e.u.s,
	* tests/runtime/substring-out-of-bounds2.s,
	* tests/runtime/substring-out-of-bounds2.u.s,
	* tests/runtime/substring-out-of-bounds3.-e.s,
	* tests/runtime/substring-out-of-bounds3.-e.u.s,
	* tests/runtime/substring-out-of-bounds3.s,
	* tests/runtime/substring-out-of-bounds3.u.s:
	Rename as...
	* tests/escapes/for-lower.-e.mips.s,
	* tests/escapes/for-lower.-e.u.mips.s,
	* tests/escapes/for-lower.mips.s,
	* tests/escapes/for-lower.u.mips.s,
	* tests/escapes/for-scope.-e.mips.s,
	* tests/escapes/for-scope.-e.u.mips.s,
	* tests/escapes/for-scope.mips.s,
	* tests/escapes/for-scope.u.mips.s,
	* tests/escapes/for-upper.-e.mips.s,
	* tests/escapes/for-upper.-e.u.mips.s,
	* tests/escapes/for-upper.mips.s,
	* tests/escapes/for-upper.u.mips.s,
	* tests/escapes/formal-escapes.-e.mips.s,
	* tests/escapes/formal-escapes.-e.u.mips.s,
	* tests/escapes/formal-escapes.mips.s,
	* tests/escapes/formal-escapes.u.mips.s,
	* tests/escapes/local-escapes.-e.mips.s,
	* tests/escapes/local-escapes.-e.u.mips.s,
	* tests/escapes/local-escapes.mips.s,
	* tests/escapes/local-escapes.u.mips.s,
	* tests/escapes/no-functiondec-at-all.-e.mips.s,
	* tests/escapes/no-functiondec-at-all.-e.u.mips.s,
	* tests/escapes/no-functiondec-at-all.mips.s,
	* tests/escapes/no-functiondec-at-all.u.mips.s,
	* tests/escapes/record-escapes.-e.mips.s,
	* tests/escapes/record-escapes.-e.u.mips.s,
	* tests/escapes/record-escapes.mips.s,
	* tests/escapes/record-escapes.u.mips.s,
	* tests/escapes/recursion.-e.mips.s,
	* tests/escapes/recursion.-e.u.mips.s,
	* tests/escapes/recursion.mips.s,
	* tests/escapes/recursion.u.mips.s,
	* tests/escapes/redeclaration.-e.mips.s,
	* tests/escapes/redeclaration.-e.u.mips.s,
	* tests/escapes/redeclaration.mips.s,
	* tests/escapes/redeclaration.u.mips.s,
	* tests/escapes/rhs-of-a-vardec.-e.mips.s,
	* tests/escapes/rhs-of-a-vardec.-e.u.mips.s,
	* tests/escapes/rhs-of-a-vardec.mips.s,
	* tests/escapes/rhs-of-a-vardec.u.mips.s,
	* tests/escapes/scopes.-e.mips.s,
	* tests/escapes/scopes.-e.u.mips.s,
	* tests/escapes/scopes.mips.s,
	* tests/escapes/scopes.u.mips.s,
	* tests/escapes/sl-propagation-1.-e.mips.s,
	* tests/escapes/sl-propagation-1.-e.u.mips.s,
	* tests/escapes/sl-propagation-1.mips.s,
	* tests/escapes/sl-propagation-1.u.mips.s,
	* tests/escapes/sl-propagation-2.-e.mips.s,
	* tests/escapes/sl-propagation-2.-e.u.mips.s,
	* tests/escapes/sl-propagation-2.mips.s,
	* tests/escapes/sl-propagation-2.u.mips.s,
	* tests/escapes/variable-escapes.-e.mips.s,
	* tests/escapes/variable-escapes.-e.u.mips.s,
	* tests/escapes/variable-escapes.mips.s,
	* tests/escapes/variable-escapes.u.mips.s,
	* tests/escapes/variable-inside-for-body.-e.mips.s,
	* tests/escapes/variable-inside-for-body.-e.u.mips.s,
	* tests/escapes/variable-inside-for-body.mips.s,
	* tests/escapes/variable-inside-for-body.u.mips.s,
	* tests/escapes/variant-escapes.-e.mips.s,
	* tests/escapes/variant-escapes.-e.u.mips.s,
	* tests/escapes/variant-escapes.mips.s,
	* tests/escapes/variant-escapes.u.mips.s,
	* tests/good/all-binop.-e.mips.s,
	* tests/good/all-binop.-e.u.mips.s,
	* tests/good/all-binop.mips.s,
	* tests/good/all-binop.u.mips.s,
	* tests/good/array-of-alias.-e.mips.s,
	* tests/good/array-of-alias.-e.u.mips.s,
	* tests/good/array-of-alias.mips.s,
	* tests/good/array-of-alias.u.mips.s,
	* tests/good/array-subscript-assign.-e.mips.s,
	* tests/good/array-subscript-assign.-e.u.mips.s,
	* tests/good/array-subscript-assign.mips.s,
	* tests/good/array-subscript-assign.u.mips.s,
	* tests/good/array.-e.mips.s,
	* tests/good/array.-e.u.mips.s,
	* tests/good/array.mips.s,
	* tests/good/array.u.mips.s,
	* tests/good/assign-and-array-instantiation.-e.mips.s,
	* tests/good/assign-and-array-instantiation.-e.u.mips.s,
	* tests/good/assign-and-array-instantiation.mips.s,
	* tests/good/assign-and-array-instantiation.u.mips.s,
	* tests/good/assign-void.-e.mips.s,
	* tests/good/assign-void.-e.u.mips.s,
	* tests/good/assign-void.mips.s,
	* tests/good/assign-void.u.mips.s,
	* tests/good/assign-vs-boolean.-e.mips.s,
	* tests/good/assign-vs-boolean.-e.u.mips.s,
	* tests/good/assign-vs-boolean.mips.s,
	* tests/good/assign-vs-boolean.u.mips.s,
	* tests/good/assign-vs-rel.-e.mips.s,
	* tests/good/assign-vs-rel.-e.u.mips.s,
	* tests/good/assign-vs-rel.mips.s,
	* tests/good/assign-vs-rel.u.mips.s,
	* tests/good/basic-import.-e.mips.s,
	* tests/good/basic-import.-e.u.mips.s,
	* tests/good/basic-import.mips.s,
	* tests/good/basic-import.u.mips.s,
	* tests/good/bempel_j.-e.mips.s,
	* tests/good/bempel_j.-e.u.mips.s,
	* tests/good/bempel_j.mips.s,
	* tests/good/bempel_j.u.mips.s,
	* tests/good/big-exp.-e.mips.s,
	* tests/good/big-exp.-e.u.mips.s,
	* tests/good/big-exp.mips.s,
	* tests/good/big-exp.u.mips.s,
	* tests/good/big-lvalue.-e.mips.s,
	* tests/good/big-lvalue.-e.u.mips.s,
	* tests/good/big-lvalue.mips.s,
	* tests/good/big-lvalue.u.mips.s,
	* tests/good/boolean-1.-e.mips.s,
	* tests/good/boolean-1.-e.u.mips.s,
	* tests/good/boolean-1.mips.s,
	* tests/good/boolean-1.u.mips.s,
	* tests/good/boolean-2.-e.mips.s,
	* tests/good/boolean-2.-e.u.mips.s,
	* tests/good/boolean-2.mips.s,
	* tests/good/boolean-2.u.mips.s,
	* tests/good/break-in-for.-e.mips.s,
	* tests/good/break-in-for.-e.u.mips.s,
	* tests/good/break-in-for.mips.s,
	* tests/good/break-in-for.u.mips.s,
	* tests/good/break-in-while.-e.mips.s,
	* tests/good/break-in-while.-e.u.mips.s,
	* tests/good/break-in-while.mips.s,
	* tests/good/break-in-while.u.mips.s,
	* tests/good/builtins.-e.mips.s,
	* tests/good/builtins.-e.u.mips.s,
	* tests/good/builtins.mips.s,
	* tests/good/builtins.u.mips.s,
	* tests/good/call.-e.mips.s,
	* tests/good/call.-e.u.mips.s,
	* tests/good/call.mips.s,
	* tests/good/call.u.mips.s,
	* tests/good/chr-256.-e.mips.s,
	* tests/good/chr-256.-e.u.mips.s,
	* tests/good/chr-256.mips.s,
	* tests/good/chr-256.u.mips.s,
	* tests/good/chr-minus-1.-e.mips.s,
	* tests/good/chr-minus-1.-e.u.mips.s,
	* tests/good/chr-minus-1.mips.s,
	* tests/good/chr-minus-1.u.mips.s,
	* tests/good/chr.-e.mips.s,
	* tests/good/chr.-e.u.mips.s,
	* tests/good/chr.mips.s,
	* tests/good/chr.u.mips.s,
	* tests/good/comments-javalike-nested.-e.mips.s,
	* tests/good/comments-javalike-nested.-e.u.mips.s,
	* tests/good/comments-javalike-nested.mips.s,
	* tests/good/comments-javalike-nested.u.mips.s,
	* tests/good/comments-nested.-e.mips.s,
	* tests/good/comments-nested.-e.u.mips.s,
	* tests/good/comments-nested.mips.s,
	* tests/good/comments-nested.u.mips.s,
	* tests/good/comments-with-comment-chars.-e.mips.s,
	* tests/good/comments-with-comment-chars.-e.u.mips.s,
	* tests/good/comments-with-comment-chars.mips.s,
	* tests/good/comments-with-comment-chars.u.mips.s,
	* tests/good/comments-with-parens.-e.mips.s,
	* tests/good/comments-with-parens.-e.u.mips.s,
	* tests/good/comments-with-parens.mips.s,
	* tests/good/comments-with-parens.u.mips.s,
	* tests/good/comments-with-quotes.-e.mips.s,
	* tests/good/comments-with-quotes.-e.u.mips.s,
	* tests/good/comments-with-quotes.mips.s,
	* tests/good/comments-with-quotes.u.mips.s,
	* tests/good/commutation-1.-e.mips.s,
	* tests/good/commutation-1.-e.u.mips.s,
	* tests/good/commutation-1.mips.s,
	* tests/good/commutation-1.u.mips.s,
	* tests/good/commutation-2.-e.mips.s,
	* tests/good/commutation-2.-e.u.mips.s,
	* tests/good/commutation-2.mips.s,
	* tests/good/commutation-2.u.mips.s,
	* tests/good/compare-nil-and-record.-e.mips.s,
	* tests/good/compare-nil-and-record.-e.u.mips.s,
	* tests/good/compare-nil-and-record.mips.s,
	* tests/good/compare-nil-and-record.u.mips.s,
	* tests/good/compare-record-and-nil.-e.mips.s,
	* tests/good/compare-record-and-nil.-e.u.mips.s,
	* tests/good/compare-record-and-nil.mips.s,
	* tests/good/compare-record-and-nil.u.mips.s,
	* tests/good/compare-record-and-record.-e.mips.s,
	* tests/good/compare-record-and-record.-e.u.mips.s,
	* tests/good/compare-record-and-record.mips.s,
	* tests/good/compare-record-and-record.u.mips.s,
	* tests/good/compare-void.-e.mips.s,
	* tests/good/compare-void.-e.u.mips.s,
	* tests/good/compare-void.mips.s,
	* tests/good/compare-void.u.mips.s,
	* tests/good/complex-import.-e.mips.s,
	* tests/good/complex-import.-e.u.mips.s,
	* tests/good/complex-import.mips.s,
	* tests/good/complex-import.u.mips.s,
	* tests/good/concat.-e.mips.s,
	* tests/good/concat.-e.u.mips.s,
	* tests/good/concat.mips.s,
	* tests/good/concat.u.mips.s,
	* tests/good/concurrent-arguments.-e.mips.s,
	* tests/good/concurrent-arguments.-e.u.mips.s,
	* tests/good/concurrent-arguments.mips.s,
	* tests/good/concurrent-arguments.u.mips.s,
	* tests/good/division-with-negative-operands.-e.mips.s,
	* tests/good/division-with-negative-operands.-e.u.mips.s,
	* tests/good/division-with-negative-operands.mips.s,
	* tests/good/division-with-negative-operands.u.mips.s,
	* tests/good/donald.-e.mips.s,
	* tests/good/donald.-e.u.mips.s,
	* tests/good/donald.mips.s,
	* tests/good/donald.u.mips.s,
	* tests/good/empty-let-body.-e.mips.s,
	* tests/good/empty-let-body.-e.u.mips.s,
	* tests/good/empty-let-body.mips.s,
	* tests/good/empty-let-body.u.mips.s,
	* tests/good/empty-parens.-e.mips.s,
	* tests/good/empty-parens.-e.u.mips.s,
	* tests/good/empty-parens.mips.s,
	* tests/good/empty-parens.u.mips.s,
	* tests/good/empty-record-type.-e.mips.s,
	* tests/good/empty-record-type.-e.u.mips.s,
	* tests/good/empty-record-type.mips.s,
	* tests/good/empty-record-type.u.mips.s,
	* tests/good/escaping-record.-e.mips.s,
	* tests/good/escaping-record.-e.u.mips.s,
	* tests/good/escaping-record.mips.s,
	* tests/good/escaping-record.u.mips.s,
	* tests/good/evalexp.-e.mips.s,
	* tests/good/evalexp.-e.u.mips.s,
	* tests/good/evalexp.mips.s,
	* tests/good/evalexp.u.mips.s,
	* tests/good/exit-51.-e.mips.s,
	* tests/good/exit-51.-e.u.mips.s,
	* tests/good/exit-51.mips.s,
	* tests/good/exit-51.u.mips.s,
	* tests/good/explicit-record-type.-e.mips.s,
	* tests/good/explicit-record-type.-e.u.mips.s,
	* tests/good/explicit-record-type.mips.s,
	* tests/good/explicit-record-type.u.mips.s,
	* tests/good/fact.-e.mips.s,
	* tests/good/fact.-e.u.mips.s,
	* tests/good/fact.mips.s,
	* tests/good/fact.u.mips.s,
	* tests/good/field-of-field.-e.mips.s,
	* tests/good/field-of-field.-e.u.mips.s,
	* tests/good/field-of-field.mips.s,
	* tests/good/field-of-field.u.mips.s,
	* tests/good/for-high-computed-once.-e.mips.s,
	* tests/good/for-high-computed-once.-e.u.mips.s,
	* tests/good/for-high-computed-once.mips.s,
	* tests/good/for-high-computed-once.u.mips.s,
	* tests/good/for-high-same-name-as-index.-e.mips.s,
	* tests/good/for-high-same-name-as-index.-e.u.mips.s,
	* tests/good/for-high-same-name-as-index.mips.s,
	* tests/good/for-high-same-name-as-index.u.mips.s,
	* tests/good/for-in-let.-e.mips.s,
	* tests/good/for-in-let.-e.u.mips.s,
	* tests/good/for-in-let.mips.s,
	* tests/good/for-in-let.u.mips.s,
	* tests/good/for-in-while.-e.mips.s,
	* tests/good/for-in-while.-e.u.mips.s,
	* tests/good/for-in-while.mips.s,
	* tests/good/for-in-while.u.mips.s,
	* tests/good/for-scope.-e.mips.s,
	* tests/good/for-scope.-e.u.mips.s,
	* tests/good/for-scope.mips.s,
	* tests/good/for-scope.u.mips.s,
	* tests/good/for-up-to-32bits.-e.mips.s,
	* tests/good/for-up-to-32bits.-e.u.mips.s,
	* tests/good/for-up-to-32bits.mips.s,
	* tests/good/for-up-to-32bits.u.mips.s,
	* tests/good/for.-e.mips.s,
	* tests/good/for.-e.u.mips.s,
	* tests/good/for.mips.s,
	* tests/good/for.u.mips.s,
	* tests/good/forward-fun-and-type-decl.-e.mips.s,
	* tests/good/forward-fun-and-type-decl.-e.u.mips.s,
	* tests/good/forward-fun-and-type-decl.mips.s,
	* tests/good/forward-fun-and-type-decl.u.mips.s,
	* tests/good/four-hex-backslash.-e.mips.s,
	* tests/good/four-hex-backslash.-e.u.mips.s,
	* tests/good/four-hex-backslash.mips.s,
	* tests/good/four-hex-backslash.u.mips.s,
	* tests/good/fractions-underloaded.-e.mips.s,
	* tests/good/fractions-underloaded.-e.u.mips.s,
	* tests/good/fractions-underloaded.mips.s,
	* tests/good/fractions-underloaded.u.mips.s,
	* tests/good/fun-vs-var.-e.mips.s,
	* tests/good/fun-vs-var.-e.u.mips.s,
	* tests/good/fun-vs-var.mips.s,
	* tests/good/fun-vs-var.u.mips.s,
	* tests/good/functions.-e.mips.s,
	* tests/good/functions.-e.u.mips.s,
	* tests/good/functions.mips.s,
	* tests/good/functions.u.mips.s,
	* tests/good/getchar-no-static-string.-e.mips.s,
	* tests/good/getchar-no-static-string.-e.u.mips.s,
	* tests/good/getchar-no-static-string.mips.s,
	* tests/good/getchar-no-static-string.u.mips.s,
	* tests/good/getchar.-e.mips.s,
	* tests/good/getchar.-e.u.mips.s,
	* tests/good/getchar.mips.s,
	* tests/good/getchar.u.mips.s,
	* tests/good/if-and-bool.-e.mips.s,
	* tests/good/if-and-bool.-e.u.mips.s,
	* tests/good/if-and-bool.mips.s,
	* tests/good/if-and-bool.u.mips.s,
	* tests/good/if-and-if.-e.mips.s,
	* tests/good/if-and-if.-e.u.mips.s,
	* tests/good/if-and-if.mips.s,
	* tests/good/if-and-if.u.mips.s,
	* tests/good/if-and-rel.-e.mips.s,
	* tests/good/if-and-rel.-e.u.mips.s,
	* tests/good/if-and-rel.mips.s,
	* tests/good/if-and-rel.u.mips.s,
	* tests/good/if-void-body.-e.mips.s,
	* tests/good/if-void-body.-e.u.mips.s,
	* tests/good/if-void-body.mips.s,
	* tests/good/if-void-body.u.mips.s,
	* tests/good/if.-e.mips.s,
	* tests/good/if.-e.u.mips.s,
	* tests/good/if.mips.s,
	* tests/good/if.u.mips.s,
	* tests/good/init-array.-e.mips.s,
	* tests/good/init-array.-e.u.mips.s,
	* tests/good/init-array.mips.s,
	* tests/good/init-array.u.mips.s,
	* tests/good/initialize-to-nil.-e.mips.s,
	* tests/good/initialize-to-nil.-e.u.mips.s,
	* tests/good/initialize-to-nil.mips.s,
	* tests/good/initialize-to-nil.u.mips.s,
	* tests/good/int-comparison.-e.mips.s,
	* tests/good/int-comparison.-e.u.mips.s,
	* tests/good/int-comparison.mips.s,
	* tests/good/int-comparison.u.mips.s,
	* tests/good/int-var-ordering.-e.mips.s,
	* tests/good/int-var-ordering.-e.u.mips.s,
	* tests/good/int-var-ordering.mips.s,
	* tests/good/int-var-ordering.u.mips.s,
	* tests/good/invisible-valid-types.-e.mips.s,
	* tests/good/invisible-valid-types.-e.u.mips.s,
	* tests/good/invisible-valid-types.mips.s,
	* tests/good/invisible-valid-types.u.mips.s,
	* tests/good/just-a-simple-for-1.-e.mips.s,
	* tests/good/just-a-simple-for-1.-e.u.mips.s,
	* tests/good/just-a-simple-for-1.mips.s,
	* tests/good/just-a-simple-for-1.u.mips.s,
	* tests/good/just-a-simple-for-2.-e.mips.s,
	* tests/good/just-a-simple-for-2.-e.u.mips.s,
	* tests/good/just-a-simple-for-2.mips.s,
	* tests/good/just-a-simple-for-2.u.mips.s,
	* tests/good/large-ints.-e.mips.s,
	* tests/good/large-ints.-e.u.mips.s,
	* tests/good/large-ints.mips.s,
	* tests/good/large-ints.u.mips.s,
	* tests/good/let-in-for-init.-e.mips.s,
	* tests/good/let-in-for-init.-e.u.mips.s,
	* tests/good/let-in-for-init.mips.s,
	* tests/good/let-in-for-init.u.mips.s,
	* tests/good/let-scope-for-functions.-e.mips.s,
	* tests/good/let-scope-for-functions.-e.u.mips.s,
	* tests/good/let-scope-for-functions.mips.s,
	* tests/good/let-scope-for-functions.u.mips.s,
	* tests/good/let-scope-for-types.-e.mips.s,
	* tests/good/let-scope-for-types.-e.u.mips.s,
	* tests/good/let-scope-for-types.mips.s,
	* tests/good/let-scope-for-types.u.mips.s,
	* tests/good/letexp-eseq.-e.mips.s,
	* tests/good/letexp-eseq.-e.u.mips.s,
	* tests/good/letexp-eseq.mips.s,
	* tests/good/letexp-eseq.u.mips.s,
	* tests/good/local-vs-global-type.-e.mips.s,
	* tests/good/local-vs-global-type.-e.u.mips.s,
	* tests/good/local-vs-global-type.mips.s,
	* tests/good/local-vs-global-type.u.mips.s,
	* tests/good/many-args.-e.mips.s,
	* tests/good/many-args.-e.u.mips.s,
	* tests/good/many-args.mips.s,
	* tests/good/many-args.u.mips.s,
	* tests/good/many-bool-ops.-e.mips.s,
	* tests/good/many-bool-ops.-e.u.mips.s,
	* tests/good/many-bool-ops.mips.s,
	* tests/good/many-bool-ops.u.mips.s,
	* tests/good/many-functions.-e.mips.s,
	* tests/good/many-functions.-e.u.mips.s,
	* tests/good/many-functions.mips.s,
	* tests/good/many-functions.u.mips.s,
	* tests/good/many-vars.-e.mips.s,
	* tests/good/many-vars.-e.u.mips.s,
	* tests/good/many-vars.mips.s,
	* tests/good/many-vars.u.mips.s,
	* tests/good/merge.-e.mips.s,
	* tests/good/merge.-e.u.mips.s,
	* tests/good/merge.mips.s,
	* tests/good/merge.u.mips.s,
	* tests/good/mini-morpho.-e.mips.s,
	* tests/good/mini-morpho.-e.u.mips.s,
	* tests/good/mini-morpho.mips.s,
	* tests/good/mini-morpho.u.mips.s,
	* tests/good/mutually-recursive-functions.-e.mips.s,
	* tests/good/mutually-recursive-functions.-e.u.mips.s,
	* tests/good/mutually-recursive-functions.mips.s,
	* tests/good/mutually-recursive-functions.u.mips.s,
	* tests/good/mutually-recursive-procedures.-e.mips.s,
	* tests/good/mutually-recursive-procedures.-e.u.mips.s,
	* tests/good/mutually-recursive-procedures.mips.s,
	* tests/good/mutually-recursive-procedures.u.mips.s,
	* tests/good/nil-as-arg.-e.mips.s,
	* tests/good/nil-as-arg.-e.u.mips.s,
	* tests/good/nil-as-arg.mips.s,
	* tests/good/nil-as-arg.u.mips.s,
	* tests/good/nil-as-return-value.-e.mips.s,
	* tests/good/nil-as-return-value.-e.u.mips.s,
	* tests/good/nil-as-return-value.mips.s,
	* tests/good/nil-as-return-value.u.mips.s,
	* tests/good/nine.-e.mips.s,
	* tests/good/nine.-e.u.mips.s,
	* tests/good/nine.mips.s,
	* tests/good/nine.u.mips.s,
	* tests/good/non-commutative-move-mem-expr.-e.mips.s,
	* tests/good/non-commutative-move-mem-expr.-e.u.mips.s,
	* tests/good/non-commutative-move-mem-expr.mips.s,
	* tests/good/non-commutative-move-mem-expr.u.mips.s,
	* tests/good/nul-character.-e.mips.s,
	* tests/good/nul-character.-e.u.mips.s,
	* tests/good/nul-character.mips.s,
	* tests/good/nul-character.u.mips.s,
	* tests/good/of-precedence.-e.mips.s,
	* tests/good/of-precedence.-e.u.mips.s,
	* tests/good/of-precedence.mips.s,
	* tests/good/of-precedence.u.mips.s,
	* tests/good/order-strings.-e.mips.s,
	* tests/good/order-strings.-e.u.mips.s,
	* tests/good/order-strings.mips.s,
	* tests/good/order-strings.u.mips.s,
	* tests/good/precedence.-e.mips.s,
	* tests/good/precedence.-e.u.mips.s,
	* tests/good/precedence.mips.s,
	* tests/good/precedence.u.mips.s,
	* tests/good/preincrement.-e.mips.s,
	* tests/good/preincrement.-e.u.mips.s,
	* tests/good/preincrement.mips.s,
	* tests/good/preincrement.u.mips.s,
	* tests/good/print-chr-ord.-e.mips.s,
	* tests/good/print-chr-ord.-e.u.mips.s,
	* tests/good/print-chr-ord.mips.s,
	* tests/good/print-chr-ord.u.mips.s,
	* tests/good/print-tree.-e.mips.s,
	* tests/good/print-tree.-e.u.mips.s,
	* tests/good/print-tree.mips.s,
	* tests/good/print-tree.u.mips.s,
	* tests/good/queens.-e.mips.s,
	* tests/good/queens.-e.u.mips.s,
	* tests/good/queens.mips.s,
	* tests/good/queens.u.mips.s,
	* tests/good/record.-e.mips.s,
	* tests/good/record.-e.u.mips.s,
	* tests/good/record.mips.s,
	* tests/good/record.u.mips.s,
	* tests/good/recursive-type.-e.mips.s,
	* tests/good/recursive-type.-e.u.mips.s,
	* tests/good/recursive-type.mips.s,
	* tests/good/recursive-type.u.mips.s,
	* tests/good/recursive-types-mutual.-e.mips.s,
	* tests/good/recursive-types-mutual.-e.u.mips.s,
	* tests/good/recursive-types-mutual.mips.s,
	* tests/good/recursive-types-mutual.u.mips.s,
	* tests/good/recursive-types.-e.mips.s,
	* tests/good/recursive-types.-e.u.mips.s,
	* tests/good/recursive-types.mips.s,
	* tests/good/recursive-types.u.mips.s,
	* tests/good/redefine-int.-e.mips.s,
	* tests/good/redefine-int.-e.u.mips.s,
	* tests/good/redefine-int.mips.s,
	* tests/good/redefine-int.u.mips.s,
	* tests/good/redefine-print.-e.mips.s,
	* tests/good/redefine-print.-e.u.mips.s,
	* tests/good/redefine-print.mips.s,
	* tests/good/redefine-print.u.mips.s,
	* tests/good/rel.-e.mips.s,
	* tests/good/rel.-e.u.mips.s,
	* tests/good/rel.mips.s,
	* tests/good/rel.u.mips.s,
	* tests/good/scopes-protect-types.-e.mips.s,
	* tests/good/scopes-protect-types.-e.u.mips.s,
	* tests/good/scopes-protect-types.mips.s,
	* tests/good/scopes-protect-types.u.mips.s,
	* tests/good/scopes-protect-vars.-e.mips.s,
	* tests/good/scopes-protect-vars.-e.u.mips.s,
	* tests/good/scopes-protect-vars.mips.s,
	* tests/good/scopes-protect-vars.u.mips.s,
	* tests/good/seqexp-arithmetics.-e.mips.s,
	* tests/good/seqexp-arithmetics.-e.u.mips.s,
	* tests/good/seqexp-arithmetics.mips.s,
	* tests/good/seqexp-arithmetics.u.mips.s,
	* tests/good/shadowed-streq.-e.mips.s,
	* tests/good/shadowed-streq.-e.u.mips.s,
	* tests/good/shadowed-streq.mips.s,
	* tests/good/shadowed-streq.u.mips.s,
	* tests/good/shadowing-functions.-e.mips.s,
	* tests/good/shadowing-functions.-e.u.mips.s,
	* tests/good/shadowing-functions.mips.s,
	* tests/good/shadowing-functions.u.mips.s,
	* tests/good/shadowing-types-separate.-e.mips.s,
	* tests/good/shadowing-types-separate.-e.u.mips.s,
	* tests/good/shadowing-types-separate.mips.s,
	* tests/good/shadowing-types-separate.u.mips.s,
	* tests/good/side-effects-in-init.-e.mips.s,
	* tests/good/side-effects-in-init.-e.u.mips.s,
	* tests/good/side-effects-in-init.mips.s,
	* tests/good/side-effects-in-init.u.mips.s,
	* tests/good/side-effects-in-sxp.-e.mips.s,
	* tests/good/side-effects-in-sxp.-e.u.mips.s,
	* tests/good/side-effects-in-sxp.mips.s,
	* tests/good/side-effects-in-sxp.u.mips.s,
	* tests/good/side-effects.-e.mips.s,
	* tests/good/side-effects.-e.u.mips.s,
	* tests/good/side-effects.mips.s,
	* tests/good/side-effects.u.mips.s,
	* tests/good/single-variable.-e.mips.s,
	* tests/good/single-variable.-e.u.mips.s,
	* tests/good/single-variable.mips.s,
	* tests/good/single-variable.u.mips.s,
	* tests/good/so-many-args-in-rec-func.-e.mips.s,
	* tests/good/so-many-args-in-rec-func.-e.u.mips.s,
	* tests/good/so-many-args-in-rec-func.mips.s,
	* tests/good/so-many-args-in-rec-func.u.mips.s,
	* tests/good/strcmp.-e.mips.s,
	* tests/good/strcmp.-e.u.mips.s,
	* tests/good/strcmp.mips.s,
	* tests/good/strcmp.u.mips.s,
	* tests/good/string-backslash-char.-e.mips.s,
	* tests/good/string-backslash-char.-e.u.mips.s,
	* tests/good/string-backslash-char.mips.s,
	* tests/good/string-backslash-char.u.mips.s,
	* tests/good/string-backslash-octal.-e.mips.s,
	* tests/good/string-backslash-octal.-e.u.mips.s,
	* tests/good/string-backslash-octal.mips.s,
	* tests/good/string-backslash-octal.u.mips.s,
	* tests/good/string-backslash-tortured.-e.mips.s,
	* tests/good/string-backslash-tortured.-e.u.mips.s,
	* tests/good/string-backslash-tortured.mips.s,
	* tests/good/string-backslash-tortured.u.mips.s,
	* tests/good/string-huge.-e.mips.s,
	* tests/good/string-huge.-e.u.mips.s,
	* tests/good/string-huge.mips.s,
	* tests/good/string-huge.u.mips.s,
	* tests/good/string-int-not-keywords.-e.mips.s,
	* tests/good/string-int-not-keywords.-e.u.mips.s,
	* tests/good/string-int-not-keywords.mips.s,
	* tests/good/string-int-not-keywords.u.mips.s,
	* tests/good/string-simple-quotes.-e.mips.s,
	* tests/good/string-simple-quotes.-e.u.mips.s,
	* tests/good/string-simple-quotes.mips.s,
	* tests/good/string-simple-quotes.u.mips.s,
	* tests/good/string-var-comparing.-e.mips.s,
	* tests/good/string-var-comparing.-e.u.mips.s,
	* tests/good/string-var-comparing.mips.s,
	* tests/good/string-var-comparing.u.mips.s,
	* tests/good/string-var-ordering.-e.mips.s,
	* tests/good/string-var-ordering.-e.u.mips.s,
	* tests/good/string-var-ordering.mips.s,
	* tests/good/string-var-ordering.u.mips.s,
	* tests/good/stupid-array-type.-e.mips.s,
	* tests/good/stupid-array-type.-e.u.mips.s,
	* tests/good/stupid-array-type.mips.s,
	* tests/good/stupid-array-type.u.mips.s,
	* tests/good/substring-copy-all.-e.mips.s,
	* tests/good/substring-copy-all.-e.u.mips.s,
	* tests/good/substring-copy-all.mips.s,
	* tests/good/substring-copy-all.u.mips.s,
	* tests/good/substring-copy-nothing.-e.mips.s,
	* tests/good/substring-copy-nothing.-e.u.mips.s,
	* tests/good/substring-copy-nothing.mips.s,
	* tests/good/substring-copy-nothing.u.mips.s,
	* tests/good/substring-too-high-sum.-e.mips.s,
	* tests/good/substring-too-high-sum.-e.u.mips.s,
	* tests/good/substring-too-high-sum.mips.s,
	* tests/good/substring-too-high-sum.u.mips.s,
	* tests/good/substring-too-low-first.-e.mips.s,
	* tests/good/substring-too-low-first.-e.u.mips.s,
	* tests/good/substring-too-low-first.mips.s,
	* tests/good/substring-too-low-first.u.mips.s,
	* tests/good/substring-too-low-length.-e.mips.s,
	* tests/good/substring-too-low-length.-e.u.mips.s,
	* tests/good/substring-too-low-length.mips.s,
	* tests/good/substring-too-low-length.u.mips.s,
	* tests/good/substring.-e.mips.s,
	* tests/good/substring.-e.u.mips.s,
	* tests/good/substring.mips.s,
	* tests/good/substring.u.mips.s,
	* tests/good/test27.-e.mips.s,
	* tests/good/test27.-e.u.mips.s,
	* tests/good/test27.mips.s,
	* tests/good/test27.u.mips.s,
	* tests/good/test30.-e.mips.s,
	* tests/good/test30.-e.u.mips.s,
	* tests/good/test30.mips.s,
	* tests/good/test30.u.mips.s,
	* tests/good/test37.-e.mips.s,
	* tests/good/test37.-e.u.mips.s,
	* tests/good/test37.mips.s,
	* tests/good/test37.u.mips.s,
	* tests/good/test42.-e.mips.s,
	* tests/good/test42.-e.u.mips.s,
	* tests/good/test42.mips.s,
	* tests/good/test42.u.mips.s,
	* tests/good/test44.-e.mips.s,
	* tests/good/test44.-e.u.mips.s,
	* tests/good/test44.mips.s,
	* tests/good/test44.u.mips.s,
	* tests/good/three-name-spaces.-e.mips.s,
	* tests/good/three-name-spaces.-e.u.mips.s,
	* tests/good/three-name-spaces.mips.s,
	* tests/good/three-name-spaces.u.mips.s,
	* tests/good/types-aliases.-e.mips.s,
	* tests/good/types-aliases.-e.u.mips.s,
	* tests/good/types-aliases.mips.s,
	* tests/good/types-aliases.u.mips.s,
	* tests/good/var-bob-is-another-bob.-e.mips.s,
	* tests/good/var-bob-is-another-bob.-e.u.mips.s,
	* tests/good/var-bob-is-another-bob.mips.s,
	* tests/good/var-bob-is-another-bob.u.mips.s,
	* tests/good/var-override.-e.mips.s,
	* tests/good/var-override.-e.u.mips.s,
	* tests/good/var-override.mips.s,
	* tests/good/var-override.u.mips.s,
	* tests/good/while-in-while.-e.mips.s,
	* tests/good/while-in-while.-e.u.mips.s,
	* tests/good/while-in-while.mips.s,
	* tests/good/while-in-while.u.mips.s,
	* tests/object-good/attribute-modification.-e.mips.s,
	* tests/object-good/attribute-modification.-e.u.mips.s,
	* tests/object-good/attribute-modification.mips.s,
	* tests/object-good/attribute-modification.u.mips.s,
	* tests/object-good/compare-nil-and-object.-e.mips.s,
	* tests/object-good/compare-nil-and-object.-e.u.mips.s,
	* tests/object-good/compare-nil-and-object.mips.s,
	* tests/object-good/compare-nil-and-object.u.mips.s,
	* tests/object-good/compare-object-and-nil.-e.mips.s,
	* tests/object-good/compare-object-and-nil.-e.u.mips.s,
	* tests/object-good/compare-object-and-nil.mips.s,
	* tests/object-good/compare-object-and-nil.u.mips.s,
	* tests/object-good/explicit-class-type.-e.mips.s,
	* tests/object-good/explicit-class-type.-e.u.mips.s,
	* tests/object-good/explicit-class-type.mips.s,
	* tests/object-good/explicit-class-type.u.mips.s,
	* tests/object-good/five-name-spaces.-e.mips.s,
	* tests/object-good/five-name-spaces.-e.u.mips.s,
	* tests/object-good/five-name-spaces.mips.s,
	* tests/object-good/five-name-spaces.u.mips.s,
	* tests/object-good/function-call-in-method.-e.mips.s,
	* tests/object-good/function-call-in-method.-e.u.mips.s,
	* tests/object-good/function-call-in-method.mips.s,
	* tests/object-good/function-call-in-method.u.mips.s,
	* tests/object-good/function-returning-an-object.-e.mips.s,
	* tests/object-good/function-returning-an-object.-e.u.mips.s,
	* tests/object-good/function-returning-an-object.mips.s,
	* tests/object-good/function-returning-an-object.u.mips.s,
	* tests/object-good/function-returning-object.-e.mips.s,
	* tests/object-good/function-returning-object.-e.u.mips.s,
	* tests/object-good/function-returning-object.mips.s,
	* tests/object-good/function-returning-object.u.mips.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.mips.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.u.mips.s,
	* tests/object-good/function-taking-an-object-as-argument.mips.s,
	* tests/object-good/function-taking-an-object-as-argument.u.mips.s,
	* tests/object-good/function-taking-object-as-argument.-e.mips.s,
	* tests/object-good/function-taking-object-as-argument.-e.u.mips.s,
	* tests/object-good/function-taking-object-as-argument.mips.s,
	* tests/object-good/function-taking-object-as-argument.u.mips.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.-e.mips.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.-e.u.mips.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.mips.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.u.mips.s,
	* tests/object-good/initialize-object-to-nil.-e.mips.s,
	* tests/object-good/initialize-object-to-nil.-e.u.mips.s,
	* tests/object-good/initialize-object-to-nil.mips.s,
	* tests/object-good/initialize-object-to-nil.u.mips.s,
	* tests/object-good/inner-class-with-same-member-names.-e.mips.s,
	* tests/object-good/inner-class-with-same-member-names.-e.u.mips.s,
	* tests/object-good/inner-class-with-same-member-names.mips.s,
	* tests/object-good/inner-class-with-same-member-names.u.mips.s,
	* tests/object-good/instantiate-object.-e.mips.s,
	* tests/object-good/instantiate-object.-e.u.mips.s,
	* tests/object-good/instantiate-object.mips.s,
	* tests/object-good/instantiate-object.u.mips.s,
	* tests/object-good/method-call.-e.mips.s,
	* tests/object-good/method-call.-e.u.mips.s,
	* tests/object-good/method-call.mips.s,
	* tests/object-good/method-call.u.mips.s,
	* tests/object-good/method-using-self-as-argument.-e.mips.s,
	* tests/object-good/method-using-self-as-argument.-e.u.mips.s,
	* tests/object-good/method-using-self-as-argument.mips.s,
	* tests/object-good/method-using-self-as-argument.u.mips.s,
	* tests/object-good/new-object.-e.mips.s,
	* tests/object-good/new-object.-e.u.mips.s,
	* tests/object-good/new-object.mips.s,
	* tests/object-good/new-object.u.mips.s,
	* tests/object-good/nil-as-object-arg.-e.mips.s,
	* tests/object-good/nil-as-object-arg.-e.u.mips.s,
	* tests/object-good/nil-as-object-arg.mips.s,
	* tests/object-good/nil-as-object-arg.u.mips.s,
	* tests/object-good/nil-as-object-return-value.-e.mips.s,
	* tests/object-good/nil-as-object-return-value.-e.u.mips.s,
	* tests/object-good/nil-as-object-return-value.mips.s,
	* tests/object-good/nil-as-object-return-value.u.mips.s,
	* tests/object-good/redefining-object.-e.mips.s,
	* tests/object-good/redefining-object.-e.u.mips.s,
	* tests/object-good/redefining-object.mips.s,
	* tests/object-good/redefining-object.u.mips.s,
	* tests/object-good/redefining-self.-e.mips.s,
	* tests/object-good/redefining-self.-e.u.mips.s,
	* tests/object-good/redefining-self.mips.s,
	* tests/object-good/redefining-self.u.mips.s,
	* tests/object-good/simple-class.-e.mips.s,
	* tests/object-good/simple-class.-e.u.mips.s,
	* tests/object-good/simple-class.mips.s,
	* tests/object-good/simple-class.u.mips.s,
	* tests/object-good/simple-extends.-e.mips.s,
	* tests/object-good/simple-extends.-e.u.mips.s,
	* tests/object-good/simple-extends.mips.s,
	* tests/object-good/simple-extends.u.mips.s,
	* tests/object-good/simple-instantiation.-e.mips.s,
	* tests/object-good/simple-instantiation.-e.u.mips.s,
	* tests/object-good/simple-instantiation.mips.s,
	* tests/object-good/simple-instantiation.u.mips.s,
	* tests/object-good/trivial-class.-e.mips.s,
	* tests/object-good/trivial-class.-e.u.mips.s,
	* tests/object-good/trivial-class.mips.s,
	* tests/object-good/trivial-class.u.mips.s,
	* tests/object-good/type-simple-class.-e.mips.s,
	* tests/object-good/type-simple-class.-e.u.mips.s,
	* tests/object-good/type-simple-class.mips.s,
	* tests/object-good/type-simple-class.u.mips.s,
	* tests/object-good/type-simple-extends.-e.mips.s,
	* tests/object-good/type-simple-extends.-e.u.mips.s,
	* tests/object-good/type-simple-extends.mips.s,
	* tests/object-good/type-simple-extends.u.mips.s,
	* tests/object-good/upcast.-e.mips.s,
	* tests/object-good/upcast.-e.u.mips.s,
	* tests/object-good/upcast.mips.s,
	* tests/object-good/upcast.u.mips.s,
	* tests/object-good/using-members-from-within-the-class.-e.mips.s,
	* tests/object-good/using-members-from-within-the-class.-e.u.mips.s,
	* tests/object-good/using-members-from-within-the-class.mips.s,
	* tests/object-good/using-members-from-within-the-class.u.mips.s,
	* tests/object-good/valid-forward-reference-to-class.-e.mips.s,
	* tests/object-good/valid-forward-reference-to-class.-e.u.mips.s,
	* tests/object-good/valid-forward-reference-to-class.mips.s,
	* tests/object-good/valid-forward-reference-to-class.u.mips.s,
	* tests/object-good/variable-modification.-e.mips.s,
	* tests/object-good/variable-modification.-e.u.mips.s,
	* tests/object-good/variable-modification.mips.s,
	* tests/object-good/variable-modification.u.mips.s,
	* tests/object-good/variable-of-type-object.-e.mips.s,
	* tests/object-good/variable-of-type-object.-e.u.mips.s,
	* tests/object-good/variable-of-type-object.mips.s,
	* tests/object-good/variable-of-type-object.u.mips.s,
	* tests/object-good/vehicle.-e.mips.s,
	* tests/object-good/vehicle.-e.u.mips.s,
	* tests/object-good/vehicle.mips.s,
	* tests/object-good/vehicle.u.mips.s,
	* tests/object-good/visitor.-e.mips.s,
	* tests/object-good/visitor.-e.u.mips.s,
	* tests/object-good/visitor.mips.s,
	* tests/object-good/visitor.u.mips.s,
	* tests/overload-good/overload-builtin.-e.mips.s,
	* tests/overload-good/overload-builtin.-e.u.mips.s,
	* tests/overload-good/overload-builtin.mips.s,
	* tests/overload-good/overload-builtin.u.mips.s,
	* tests/overload-good/overload-function-record-arg.-e.mips.s,
	* tests/overload-good/overload-function-record-arg.-e.u.mips.s,
	* tests/overload-good/overload-function-record-arg.mips.s,
	* tests/overload-good/overload-function-record-arg.u.mips.s,
	* tests/overload-good/overload-function.-e.mips.s,
	* tests/overload-good/overload-function.-e.u.mips.s,
	* tests/overload-good/overload-function.mips.s,
	* tests/overload-good/overload-function.u.mips.s,
	* tests/overload-good/overload-nil-diambiguated.-e.mips.s,
	* tests/overload-good/overload-nil-diambiguated.-e.u.mips.s,
	* tests/overload-good/overload-nil-diambiguated.mips.s,
	* tests/overload-good/overload-nil-diambiguated.u.mips.s,
	* tests/overload-good/overload-var-type-inference.-e.mips.s,
	* tests/overload-good/overload-var-type-inference.-e.u.mips.s,
	* tests/overload-good/overload-var-type-inference.mips.s,
	* tests/overload-good/overload-var-type-inference.u.mips.s,
	* tests/runtime/chr-out-of-range1.-e.mips.s,
	* tests/runtime/chr-out-of-range1.-e.u.mips.s,
	* tests/runtime/chr-out-of-range1.mips.s,
	* tests/runtime/chr-out-of-range1.u.mips.s,
	* tests/runtime/chr-out-of-range2.-e.mips.s,
	* tests/runtime/chr-out-of-range2.-e.u.mips.s,
	* tests/runtime/chr-out-of-range2.mips.s,
	* tests/runtime/chr-out-of-range2.u.mips.s,
	* tests/runtime/substring-out-of-bounds1.-e.mips.s,
	* tests/runtime/substring-out-of-bounds1.-e.u.mips.s,
	* tests/runtime/substring-out-of-bounds1.mips.s,
	* tests/runtime/substring-out-of-bounds1.u.mips.s,
	* tests/runtime/substring-out-of-bounds2.-e.mips.s,
	* tests/runtime/substring-out-of-bounds2.-e.u.mips.s,
	* tests/runtime/substring-out-of-bounds2.mips.s,
	* tests/runtime/substring-out-of-bounds2.u.mips.s,
	* tests/runtime/substring-out-of-bounds3.-e.mips.s,
	* tests/runtime/substring-out-of-bounds3.-e.u.mips.s,
	* tests/runtime/substring-out-of-bounds3.mips.s,
	* tests/runtime/substring-out-of-bounds3.u.mips.s,
	...these.

2014-05-14  Roland Levillain  <roland@lrde.epita.fr>

	Regen the GNU/Linux IA-32 Tiger runtime.

	* src/target/ia32/runtime-gnu-linux.s: Here, using the following
	command:

	  gcc -m32 -S -o src/target/ia32/runtime-gnu-linux.s \
	    src/target/tiger-runtime.c

2014-05-14  Roland Levillain  <roland@lrde.epita.fr>

	Handle malloc failures in the generic Tiger runtime.

	* src/target/tiger-runtime.c (tc_malloc): Here, to address Trac
	ticket #13 (https://trac.lrde.epita.fr/tc/ticket/13).

2014-05-14  Roland Levillain  <roland@lrde.epita.fr>

	Require HAVM 0.26.

	* configure.ac: Here.

2014-05-14  Roland Levillain  <roland@lrde.epita.fr>

	Show more code to help students.

	* src/translate/level.cc (translate::Level::fp)
	* src/translate/translation.cc (translate::static_link):
	Here.

2014-05-05  Roland Levillain  <roland@lrde.epita.fr>

	Fix the generation of timestamps in src/transform/.

	* src/transform/local.mk: Fix the name of *.stamp files.
	* dev/stagize: Likewise.

2014-05-05  Roland Levillain  <roland@lrde.epita.fr>

	Improve the documentation of bind::Renamer.

	* src/bind/renamer.hh: Here.

2014-03-18  Roland Levillain  <roland@lrde.epita.fr>

	Improve the documentation of type::Class.

	* src/type/class.hh
	(type::Class::attr_type, type::Class::meth_type): Here.
	Reported by Pierre De Abreu <deabre_p@epita.fr>.
	(type::Class::attr_find): Typo in comment.

2014-03-07  Roland Levillain  <roland@lrde.epita.fr>

	Remove a SWIG workaround.

	* src/escapes/escapes-visitor.hh (escapes::EscapesVisitor): Here.
	* src/parse/tiger-parser.hh: Update a comment about SWIG.

2014-03-07  Roland Levillain  <roland@lrde.epita.fr>

	Fix and re-enable tests/good/getchar.tig.

	* tests/good/getchar.tig: Here, as this test is now fully
	supported.  Read the input from the stdin using getchar(), so that
	the implementation matches the description of the test.
	* tests/good/getchar.-e.s,
	* tests/good/getchar.-e.u.s,
	* tests/good/getchar.hir,
	* tests/good/getchar.hpr,
	* tests/good/getchar.lir,
	* tests/good/getchar.lpr,
	* tests/good/getchar.out,
	* tests/good/getchar.s,
	* tests/good/getchar.u.s:
	Regen.

2014-03-06  Roland Levillain  <roland@lrde.epita.fr>

	Fix the distribution in src/transform/.

	* src/transform/local.mk: Fix timestamps' names.

2014-03-05  Roland Levillain  <roland@lrde.epita.fr>

	Generate Doxygen documentation for members of namespace `misc'.

	* doc/Doxyfile.in (INPUT, STRIP_FROM_PATH): Add @top_srcdir@/lib.

2014-03-05  Roland Levillain  <roland@lrde.epita.fr>

	Do not generate Doxygen documentation for tests.

	* doc/Doxyfile.in (EXCLUDE_PATTERNS): Add test*.cc.

2014-03-03  Roland Levillain  <roland@lrde.epita.fr>

	Regen tests outputs.

	* tests/lexical/object-constructs-in-non-object-program.tc-err:
	Regen (was initially generated in the wrong directory).

2014-03-03  Roland Levillain  <roland@lrde.epita.fr>

	Forbid the use of `self' outside method definitions.

	* src/object/binder.hh, src/object/binder.cc
	(object::Binder::under_class_ty_): Remove attribute.
	(object::Binder::within_method_dec_): New attribute.
	(object::Binder::operator()(ast::SimpleVar& e))
	(object::Binder::operator()(ast::ClassTy& e))
	(object::Binder::operator()(ast::MethodDec& e))
	(object::Binder::visit_dec_body<ast::FunctionDec>):
	Adjust.
	* tests/object-bind/initialize-attribute-with-self.tig:
	New test, exercising this case.
	* tests/object-bind/initialize-attribute-with-self.tc-err,
	* tests/object-bind/initialize-attribute-with-self.tc-sta:
	New test outputs.

2014-02-28  Roland Levillain  <roland@lrde.epita.fr>

	Generate more contents of ast/fwd.hh and thus really hide RuleDecs.

	* dev/ast-fwd-gen: Generate typedefs for *Decs classes and remove
	them...
	* src/ast/ast.yml (fwd_hh_epilogue): ...from this.
	* src/ast/fwd.hh: Regen.

2014-02-27  Roland Levillain  <roland@lrde.epita.fr>

	Update TODO.txt.

	* TODO.txt (bison++ and monoburg++): Remove item, as these scripts
	now differ much more.
	(TC-1: select-const): Remove item, as the Generic Programming
	lecture from the TYLA course covers this topic now (see
	https://trac.lrde.epita.fr/tc/ticket/20).
	(TC-6: Boost::lambda): Remove item, as C++11 lambda expressions do
	a better job now.

2014-02-27  Roland Levillain  <roland@lrde.epita.fr>

	Make tc-check logs uniform w.r.t. spacing.

	* tests/tc-check.in (interface_check): Here.
	Reported by Arnaud Farbos <arnaud.farbos@epita.fr>.

2014-02-19  Roland Levillain  <roland@lrde.epita.fr>

	Work around Apple Flex not using the same interface as stock Flex.

	* build-aux/bin/flex++.in: Here.

2014-02-18  Roland Levillain  <roland@lrde.epita.fr>

	Adjust hidden code.

	* src/ast/object-visitor.hxx: Here.
	(operator()(typename Const<MethodDecs>::type&)): Remove dead code.

2014-02-18  Roland Levillain  <roland@lrde.epita.fr>

	* configure.ac, NEWS.txt: Version 1.34a.

2014-02-17  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.34, for 2016-tc-1.0.

	* configure.ac, NEWS.txt: Here.
	* src/version.cc.in: Update copyright years.

2014-02-17  Roland Levillain  <roland@lrde.epita.fr>

	* NEWS.txt: Update.

2014-02-17  Laurent Gourvénec  <laurent.gourvenec@epita.fr>

	Remove uses of strdupa, not present in FreeBSD 9's libc.

	* src/stc.cc: Replace pointers to strings allocated with strdupa
	with char arrays.

2014-02-17  Laurent Gourvénec  <laurent.gourvenec@epita.fr>

	Support amd64-freebsd in conditionals IA32_FREEBSD and SUPPORTED_IA32.

	* configure.ac (IA32_FREEBSD, SUPPORTED_IA32): Here.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Process method declarations in a single-pass when binding names.

	* src/object/binder.hh, src/object/binder.cc
	(object::Binder::operator()(ast::MethodDecs&)):
	Remove method.
	(object::Binder::visitDecHeader<ast::MethodDec>(ast::MethodDec&)):
	Remove method specialization.
	(object::Binder::visitDecBody<ast::MethodDec>(ast::MethodDec&)):
	Likewise, and move its contents...
	(object::Binder::operator()(ast::MethodDec&)):
	...here.
	* src/object/type-checker.cc
	(object::TypeChecker::operator()(ast::MethodDecs&)):
	Remove an outdated comment.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Factor a method among AST visitors.

	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx,
	* src/ast/object-visitor.hh, src/ast/object-visitor.hxx
	(operator()(E*)): Move and factor this method...
	* dev/ast-visitor-gen,
	* src/ast/visitor.hxx:
	...here.
	* src/ast/visitor.hh: Regen.
	* src/ast/default-visitor.hh: Help ast::GenDefaultVisitor find
	operator()(E*).
	* src/object/renamer.cc,
	* src/object/type-checker.cc: Fix linking issues (I wonder why
	they are only kicking in now).

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Move a remaining object-related method out of ast::GenDefaultVisitor.

	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx
	(operator()(typename Const<MethodDecs>::type&)):
	Move method...
	* src/ast/object-visitor.hh, src/ast/object-visitor.hxx
	(operator()(typename Const<MethodDecs>::type&))
	* src/object/renamer.hh, src/object/renamer.cc
	(object::Renamer::operator()(ast::MethodDecs&)):
	...here (new method).
	* src/ast/non-object-visitor.hh, src/ast/non-object-visitor.hxx
	(operator()(typename Const<MethodDecs>::type&)):
	New (aborting) method.
	* src/ast/pretty-printer.hh (ast::PrettyPrinter): Adjust, by
	inheriting from ast::ObjectConstVisitor as well.
	* src/bind/binder.hh, src/bind/binder.cc
	(bind::Binder::operator()(ast::MethodDecs&)):
	Remove method.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Factor code in object::Binder using base classes.

	* src/object/binder.hh, src/object/binder.hh
	(object::Binder::operator()(ast::ObjectExp&))
	(object::Binder::operator()(ast::MethodCallExp&)):
	Remove methods and rely on ast::ObjectVisitor's.
	(object::Binder::visitDecBody<ast::MethodDec>(ast::MethodDec&)):
	Delegate the traversal of children nodes to ast::DefaultVisitor.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Allow the binding of non-object ASTs containing object constructs.

	So far, a non empty AST whose generation caused a scan and/or
	parse errors did not stop the compiler from binding the names of
	this tree (if asked so), so that more errors would be reported to
	the user; the compiler would eventually stop after the `bind'
	stage and exit with a scan or parse error code.  However, this
	wouldn't not work when the error was triggered by an invalid use
	of an object-related keyword, as the non-object Binder would abort
	as soon as it found an object construct.  To fix this behavior,
	turn bind::Binder into an ast::ObjectVisitor, instead of an
	ast::NonObjectVisitor.  (Other non-object visitors have been left
	untouched.)

	* src/bind/binder.hh (bind::Binder): Inherit from
	ast::ObjectVisitor instead of ast::NonObjectVisitor, to allow the
	traversal of object-related nodes.
	(bind::Binder::operator()(ast::MethodDecs&)):
	Recurse through children nodes instead of aborting.
	* src/ast/object-visitor.hh,
	* src/ast/non-object-visitor.hh:
	Adjust documentation.
	* tests/lexical/new-in-non-object-program-with-unknown-type.tig,
	* tests/lexical/object-constructs-in-non-object-program.tig:
	New tests, exercising this case.
	* tests/lexical/new-in-non-object-program-with-unknown-type.tc-err,
	* tests/lexical/new-in-non-object-program-with-unknown-type.tc-sta,
	* tests/lexical/object-constructs-in-non-object-program.tc-err,
	* tests/lexical/object-constructs-in-non-object-program.tc-sta:
	New test outputs.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Introduce a visitor performing default traversal of object nodes.

	* src/ast/object-visitor.hh, src/ast/object-visitor.hxx: New.
	* src/ast/local.mk (ast_libast_la_SOURCES):
	Add ast/object-visitor.hh and ast/object-visitor.hxx.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Update boost.m4 from upstream.

	* build-aux/m4/boost.m4: Here.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Update the location and the upstream URL of boost.m4.

	* build-aux/local.mk (boost-m4-up): Here.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Remove SWIG workarounds regarding C++ exception handling.

	* lib/misc/tiger_misc.i: Here.
	* tcsh/python/ti.py: Adjust.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Remove exception specifications, deprecated in C++ 2011.

	* lib/misc/endomap.hh,
	* lib/misc/endomap.hxx,
	* lib/misc/map.hh,
	* lib/misc/map.hxx,
	* lib/misc/tiger_misc.i,
	* src/parse/metavar-map.hh,
	* src/parse/metavar-map.hxx,
	* src/parse/tiger_parse.i,
	* src/parse/tweast.hh,
	* src/parse/tweast.hxx,
	* src/target/mips/cpu.cc,
	* src/transform/metavar-pool.hh,
	* src/transform/metavar-pool.hxx:
	Here.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Rename leopard.el as tiger.el.

	* build-aux/leopard.el: Rename as...
	* build-aux/tiger.el: ...this.
	Adjust.
	* build-aux/local.mk (dist_lisp_DATA): Rename build-aux/leopard.el
	as build-aux/tiger.el.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Rename tiger.el as panther.el.

	* build-aux/tiger.el: Rename as...
	* build-aux/panther.el: ...this.
	Adjust.
	* build-aux/local.mk (dist_lisp_DATA): Rename build-aux/tiger.el
	as build-aux/panther.el.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Change Panther (object-less Tiger) file extension to `.pan'.

	* tests/Makefile.am (nodist_exts, good_obj_prog_exts):
	s/desugared/pan/.
	($(srcdir)/%.desugared): Turn target into...
	($(srcdir)/%.pan): ...this.
	* tests/object-good/attribute-modification.desugared,
	* tests/object-good/compare-nil-and-object.desugared,
	* tests/object-good/compare-object-and-nil.desugared,
	* tests/object-good/explicit-class-type.desugared,
	* tests/object-good/five-name-spaces.desugared,
	* tests/object-good/function-call-in-method.desugared,
	* tests/object-good/function-returning-an-object.desugared,
	* tests/object-good/function-returning-object.desugared,
	* tests/object-good/function-taking-an-object-as-argument.desugared,
	* tests/object-good/function-taking-object-as-argument.desugared,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.desugared,
	* tests/object-good/initialize-object-to-nil.desugared,
	* tests/object-good/inner-class-with-same-member-names.desugared,
	* tests/object-good/instantiate-object.desugared,
	* tests/object-good/method-call.desugared,
	* tests/object-good/method-using-self-as-argument.desugared,
	* tests/object-good/new-object.desugared,
	* tests/object-good/nil-as-object-arg.desugared,
	* tests/object-good/nil-as-object-return-value.desugared,
	* tests/object-good/redefining-object.desugared,
	* tests/object-good/redefining-self.desugared,
	* tests/object-good/simple-class.desugared,
	* tests/object-good/simple-extends.desugared,
	* tests/object-good/simple-instantiation.desugared,
	* tests/object-good/trivial-class.desugared,
	* tests/object-good/type-simple-class.desugared,
	* tests/object-good/type-simple-extends.desugared,
	* tests/object-good/upcast.desugared,
	* tests/object-good/using-members-from-within-the-class.desugared,
	* tests/object-good/valid-forward-reference-to-class.desugared,
	* tests/object-good/variable-modification.desugared,
	* tests/object-good/variable-of-type-object.desugared,
	* tests/object-good/vehicle.desugared,
	* tests/object-good/visitor.desugared:
	Rename as...
	* tests/object-good/attribute-modification.pan,
	* tests/object-good/compare-nil-and-object.pan,
	* tests/object-good/compare-object-and-nil.pan,
	* tests/object-good/explicit-class-type.pan,
	* tests/object-good/five-name-spaces.pan,
	* tests/object-good/function-call-in-method.pan,
	* tests/object-good/function-returning-an-object.pan,
	* tests/object-good/function-returning-object.pan,
	* tests/object-good/function-taking-an-object-as-argument.pan,
	* tests/object-good/function-taking-object-as-argument.pan,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.pan,
	* tests/object-good/initialize-object-to-nil.pan,
	* tests/object-good/inner-class-with-same-member-names.pan,
	* tests/object-good/instantiate-object.pan,
	* tests/object-good/method-call.pan,
	* tests/object-good/method-using-self-as-argument.pan,
	* tests/object-good/new-object.pan,
	* tests/object-good/nil-as-object-arg.pan,
	* tests/object-good/nil-as-object-return-value.pan,
	* tests/object-good/redefining-object.pan,
	* tests/object-good/redefining-self.pan,
	* tests/object-good/simple-class.pan,
	* tests/object-good/simple-extends.pan,
	* tests/object-good/simple-instantiation.pan,
	* tests/object-good/trivial-class.pan,
	* tests/object-good/type-simple-class.pan,
	* tests/object-good/type-simple-extends.pan,
	* tests/object-good/upcast.pan,
	* tests/object-good/using-members-from-within-the-class.pan,
	* tests/object-good/valid-forward-reference-to-class.pan,
	* tests/object-good/variable-modification.pan,
	* tests/object-good/variable-of-type-object.pan,
	* tests/object-good/vehicle.pan,
	* tests/object-good/visitor.pan:
	...these.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Aesthetic changes in ti/.

	* ti/tiopts.hh, ti/tiopts.cc: Here.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Small improvements in ast::PrettyPrinter.

	* src/ast/pretty-printer.cc
	(ast::PrettyPrinter::operator()(const MethodDec&)):
	Ensure the visited method has a body.
	(ast::PrettyPrinter::operator()(const ObjectExp&))
	(ast::PrettyPrinter::operator()(const VarDec&, bool)):
	Shorten code.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Typos in comments.

	* src/ast/default-visitor.hh,
	* src/bind/binder.hxx:
	Here.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Remove camelCase method names.

	* doc/schema.xmi,
	* src/bind/binder.cc,
	* src/bind/binder.hh,
	* src/bind/binder.hxx,
	* src/object/binder.cc,
	* src/object/binder.hh,
	* src/object/type-checker.cc,
	* src/object/type-checker.hh,
	* src/overload/binder.cc,
	* src/overload/binder.hh,
	* src/overload/type-checker.cc,
	* src/overload/type-checker.hh,
	* src/translate/exp.cc,
	* src/translate/exp.hh,
	* src/translate/translation.cc,
	* src/translate/translation.hh,
	* src/translate/translator.cc,
	* src/translate/translator.hh,
	* src/type/named.hh,
	* src/type/type-checker.cc,
	* src/type/type-checker.hh,
	* src/type/type-checker.hxx:
	Here, using:
	`git ls-files doc src | xargs sed -i -e \
	   "s/\barrayExp\b/array_exp/g;\
	    s/\bassignExp\b/assign_exp/g;\
	    s/\bbreakExp\b/break_exp/g;\
	    s/\bcallExp\b/call_exp/g;\
	    s/\beseqExp\b/eseq_exp/g;\
	    s/\bfieldVar\b/field_var/g;\
	    s/\bforExp\b/for_exp/g;\
	    s/\bfunctionDec\b/function_dec/g;\
	    s/\bifExpNonVoid\b/if_exp_non_void/g;\
	    s/\bifExpVoid\b/if_exp_void/g;\
	    s/\bifExp\b/if_exp/g;\
	    s/\bintExp\b/int_exp/g;\
	    s/\bnilExp\b/nil_exp/g;\
	    s/\bopExp\b/op_exp/g;\
	    s/\bprocedureDec\b/procedure_dec/g;\
	    s/\brecordExp\b/record_exp/g;\
	    s/\bseqExp\b/seq_exp/g;\
	    s/\bsimpleVar\b/simple_var/g;\
	    s/\bstaticLink\b/static_link/g;\
	    s/\bstringExp\b/string_exp/g;\
	    s/\bstringOpExp\b/string_op_exp/g;\
	    s/\bsubscriptVar\b/subscript_var/g;\
	    s/\bunCx\b/un_cx/g;\
	    s/\bunEx\b/un_ex/g;\
	    s/\bunNx\b/un_nx/g;\
	    s/\bunXx\b/un_xx/g;\
	    s/\bvisitDecBody\b/visit_dec_body/g;\
	    s/\bvisitDecHeader\b/visit_dec_header/g;\
	    s/\bvisitDecMembers\b/visit_dec_members/g;\
	    s/\bvisitFunctionDecBody\b/visit_function_dec_body/g;\
	    s/\bvisitFunctionDecHeader\b/visit_function_dec_header/g;\
	    s/\bvisitFunctionDecHeader\b/visit_function_dec_header/g;\
	    s/\bvisitRoutineBody\b/visit_routine_body/g;\
	    s/\bwhileExp\b/while_exp/g"'.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Remove a comment about a bug in Doxygen.

	* src/bind/binder.hxx
	(bind::Binder::visitDecHeader<ast::FunctionDec>(ast::FunctionDec&)):
	Here, as recent versions of Doxygen (1.8.1.2) no longer exhibit
	this issue.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Remove compiler workarounds.

	* src/object/binder.hh,
	* src/object/renamer.hh,
	* src/tree/trees.cc:
	Here.

2014-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Clarify the descriptions of a couple of disjunctive tasks.

	* src/bind/tasks.hh (bound)
	* src/type/tasks.hh (typed):
	Here.

2014-02-10  Roland Levillain  <roland@lrde.epita.fr>

	Regen the code generators.

	* src/target/ia32/codegen.cc,
	* src/target/mips/codegen.cc:
	Regen.

2014-02-07  Roland Levillain  <roland@lrde.epita.fr>

	Fix even more space before parentheses.

	* lib/misc/algorithm.hxx,
	* lib/misc/endomap.hxx,
	* lib/misc/error.hh, lib/misc/error.hxx, lib/misc/error.cc,
	* lib/misc/escape.cc,
	* lib/misc/flex-lexer.hh,
	* lib/misc/graph.hh, lib/misc/graph.hxx,
	* lib/misc/list.hh, lib/misc/list.hxx,
	* lib/misc/map.hh, lib/misc/map.hxx,
	* lib/misc/path.hh, lib/misc/path.cc,
	* lib/misc/ref.hh, lib/misc/ref.hxx,
	* lib/misc/scoped-map.hxx, lib/misc/separator.hh,
	* lib/misc/set.hh, lib/misc/set.hxx,
	* lib/misc/symbol.hh,
	* lib/misc/tiger_misc.i,
	* lib/misc/timer.hh, lib/misc/timer.hxx, lib/misc/timer.cc,
	* lib/misc/unique.hh, lib/misc/unique.hxx,
	* lib/misc/variant.hh, lib/misc/variant.hxx,
	* src/bind/binder.cc,
	* src/bind/renamer.hxx,
	* src/canon/canon.cc,
	* src/canon/traces.cc,
	* src/desugar/desugar-visitor.cc,
	* src/desugar/libdesugar.cc,
	* src/liveness/liveness.cc,
	* src/object/binder.cc,
	* src/parse/libparse.cc,
	* src/parse/test-tweast.cc,
	* src/parse/tiger-parser.cc,
	* src/parse/tweast.cc,
	* src/target/ia32/binop.brg,
	* src/target/ia32/call.brg,
	* src/target/ia32/cjump.brg,
	* src/target/ia32/epilogue.cc,
	* src/target/ia32/exp.brg,
	* src/target/ia32/gas-assembly.cc,
	* src/target/ia32/mem.brg,
	* src/target/ia32/move.brg,
	* src/target/ia32/move_load.brg,
	* src/target/ia32/move_store.brg,
	* src/target/ia32/stm.brg,
	* src/target/ia32/temp.brg,
	* src/target/mips/binop.brg,
	* src/target/mips/call.brg,
	* src/target/mips/cjump.brg,
	* src/target/mips/exp.brg,
	* src/target/mips/mem.brg,
	* src/target/mips/move.brg,
	* src/target/mips/move_load.brg,
	* src/target/mips/move_store.brg,
	* src/target/mips/spim-assembly.cc,
	* src/target/mips/stm.brg,
	* src/target/mips/temp.brg,
	* src/transform/concrete-syntax-rewriter.cc,
	* src/transform/test-combinators.cc,
	* src/translate/libtranslate.cc,
	* src/translate/translator.cc,
	* src/tree/cjump.hh,
	* src/tree/jump.hxx,
	* src/tree/tree.hh,
	* src/type/type-checker.hh, src/type/type-checker.cc:
	Here.

2014-02-07  Roland Levillain  <roland@lrde.epita.fr>

	Record new tests' outputs.

	* tests/object-good/new-object.-e.s,
	* tests/object-good/new-object.-e.u.s,
	* tests/object-good/new-object.desugared,
	* tests/object-good/new-object.err,
	* tests/object-good/new-object.hir,
	* tests/object-good/new-object.hpr,
	* tests/object-good/new-object.lir,
	* tests/object-good/new-object.lpr,
	* tests/object-good/new-object.out,
	* tests/object-good/new-object.s,
	* tests/object-good/new-object.sta,
	* tests/object-good/new-object.u.s,
	* tests/object-good/redefining-self.-e.s,
	* tests/object-good/redefining-self.-e.u.s,
	* tests/object-good/redefining-self.desugared,
	* tests/object-good/redefining-self.err,
	* tests/object-good/redefining-self.hir,
	* tests/object-good/redefining-self.hpr,
	* tests/object-good/redefining-self.lir,
	* tests/object-good/redefining-self.lpr,
	* tests/object-good/redefining-self.out,
	* tests/object-good/redefining-self.s,
	* tests/object-good/redefining-self.sta,
	* tests/object-good/redefining-self.u.s,
	* tests/object-syntax/class-declaration-in-class-declaration.tc-err,
	* tests/object-syntax/class-declaration-in-class-declaration.tc-sta,
	* tests/object-syntax/function-declaration-in-class.tc-err,
	* tests/object-syntax/function-declaration-in-class.tc-sta,
	* tests/object-syntax/missing-class-body.tc-err,
	* tests/object-syntax/missing-class-body.tc-sta,
	* tests/object-syntax/semi-colon-after-class-declaration.tc-err,
	* tests/object-syntax/semi-colon-after-class-declaration.tc-sta,
	* tests/object-syntax/type-declaration-in-class.tc-err,
	* tests/object-syntax/type-declaration-in-class.tc-sta,
	* tests/object-type/class-extends-itself.tc-err,
	* tests/object-type/class-extends-itself.tc-sta,
	* tests/object-type/instantiate-a-string-as-a-class.tc-err,
	* tests/object-type/instantiate-a-string-as-a-class.tc-sta,
	* tests/object-type/unknown-attribute.tc-err,
	* tests/object-type/unknown-attribute.tc-sta,
	* tests/object-type/unknown-method.tc-err,
	* tests/object-type/unknown-method.tc-sta:
	New.

2014-02-07  Roland Levillain  <roland@lrde.epita.fr>

	Add more object-related tests.

	* tests/object-good/new-object.tig,
	* tests/object-good/redefining-self.tig,
	* tests/object-syntax/class-declaration-in-class-declaration.tig,
	* tests/object-syntax/function-declaration-in-class.tig,
	* tests/object-syntax/missing-class-body.tig,
	* tests/object-syntax/semi-colon-after-class-declaration.tig,
	* tests/object-syntax/type-declaration-in-class.tig,
	* tests/object-type/class-extends-itself.tig,
	* tests/object-type/instantiate-a-string-as-a-class.tig,
	* tests/object-type/unknown-attribute.tig,
	* tests/object-type/unknown-method.tig:
	New.

2014-02-07  Roland Levillain  <roland@lrde.epita.fr>

	Forbid assignments to `self'.

	* src/object/type-checker.cc (object::TypeChecker::TypeChecker):
	Here.
	* tests/object-type/assign-self.tig:
	New test, exercising this case.
	* tests/object-type/assign-self.tc-err,
	* tests/object-type/assign-self.tc-sta:
	New test outputs.

2014-02-07  Roland Levillain  <roland@lrde.epita.fr>

	Forbid the use of `self' outside class definitions.

	* src/object/binder.hh, src/object/binder.cc
	(object::Binder::under_class_ty_): New attribute.
	Set it...
	(object::Binder::operator()(ast::ClassTy& e)):
	...here, and use it...
	(object::Binder::operator()(ast::SimpleVar& e)):
	...here, to ensure that we forbid the use of `self' outside class
	definitions.
	* tests/object-bind/self-outside-class.tig:
	New test, exercising this case.
	* tests/object-bind/self-outside-class.tc-err,
	* tests/object-bind/self-outside-class.tc-sta:
	New test outputs.

2014-02-06  Xavier Grand  <grand.xavier@gmail.com>

	style: minor correction of style for TC-1.

	* src/parse/test-tweast.cc: Here.

2014-02-06  Roland Levillain  <roland@lrde.epita.fr>

	Refresh generated C++ code.

	* src/target/mips/codegen.cc,
	* src/transform/matcher.cc:
	Regen.

2014-02-06  Roland Levillain  <roland@lrde.epita.fr>

	Do not issue trailing whitespace in src/astclone/cloner.cc.

	* dev/ast-cloner-gen: Here.

2014-02-06  Roland Levillain  <roland@lrde.epita.fr>

	Add a uniform means to issue statements referencing metavariables.

	* src/parse/metavar-map.hh, src/parse/metavar-map.hxx
	(parse::MetavarMap<Data>::show): New method.
	Use it...
	* src/parse/metavar-map.hxx (parse::MetavarMap<Data>::append_)
	* src/parse/tweast.hxx (parse::Tweast::move_metavars_)
	* src/parse/tweast.cc (parse::Tweast::flatten):
	...here, to factor redundant code, as well as to prevent
	formatting errors.

2014-02-06  Roland Levillain  <roland@lrde.epita.fr>

	style: use C++ casts instead of C ones.

	* lib/misc/test-path.cc,
	* ti/tiopts.cc:
	Here.

2014-02-06  Roland Levillain  <roland@lrde.epita.fr>

	style: various aesthetic changes.

	* lib/misc/error.hh,
	* lib/misc/indent.cc,
	* lib/misc/symbol.cc,
	* src/assem/fragment.cc,
	* src/ast/decs.hh,
	* src/callgraph/libcallgraph.cc,
	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/test-bound-checking.cc,
	* ti/fork.cc,
	* ti/ti.cc:
	Here.

2014-02-06  Roland Levillain  <roland@lrde.epita.fr>

	style: fix more space before opening parentheses src/transform/.

	* dev/transform-proxy-visitors-gen: Here.
	* src/transform/proxy-visitors.hxx: Regen.

2014-02-06  Theophile Ranquet  <ranquet@lrde.epita.fr>

	style: fix more space before opening parentheses in Tiger code.

	* src/astclone/test-cloner.cc,
	* src/bind/test-bind.cc,
	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/test-bound-checking.cc,
	* src/desugar/test-string-cmp-desugar.cc,
	* src/inlining/inliner.cc,
	* src/object/test-bind.cc,
	* src/object/test-desugar.cc,
	* src/object/test-parse.cc,
	* src/object/test-type.cc,
	* src/parse/libparse.cc,
	* src/parse/metavar-map.hxx,
	* src/parse/test-parse.cc,
	* src/parse/tweast.hxx, src/parse/tweast.cc,
	* src/transform/test-transform-tests.cc:
	Here.

2014-02-06  Roland Levillain  <roland@lrde.epita.fr>

	style: fix more space before opening parentheses in ti/.

	* ti/fork.cc,
	* ti/ti.cc,
	* ti/tiopts.cc,
	* ti/tiopts.hh:
	Here.

2014-02-06  Theophile Ranquet  <ranquet@lrde.epita.fr>

	style: start to fix space before opening parentheses in ti/.

	* ti/fork.cc,
	* ti/fork.hh,
	* ti/fork.hxx,
	* ti/tiopts.hh,
	* ti/tiopts.hxx:
	Here.

2014-02-05  Theophile Ranquet  <ranquet@lrde.epita.fr>

	style: fix more space before opening parentheses in C++ code.

	* src/assem/fragment.hxx,
	* src/assem/fragments.hh,
	* src/assem/fwd.hh,
	* src/assem/instr.hh, src/assem/instr.hxx,
	* src/ast/default-visitor.hxx,
	* src/ast/libast.hh, src/ast/libast.cc,
	* src/ast/non-object-visitor.hxx,
	* src/bind/binder.hxx,
	* src/canon/basic-block.hh, src/canon/basic-block.hxx,
	* src/canon/basic-block.cc,
	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/tasks.hh,
	* src/escapes/escapes-check-visitor.cc,
	* src/frame/access.cc, src/frame/access.hxx,
	* src/inlining/inliner.cc,
	* src/liveness/flowgraph.hxx,
	* src/object/type-checker.cc,
	* src/overload/tasks.cc,
	* src/parse/libparse.cc,
	* src/parse/tasks.cc,
	* src/parse/tweast.hxx,
	* src/regalloc/test-regalloc.cc,
	* src/target/cpu.cc,
	* src/target/ia32/cpu.cc,
	* src/target/ia32/target.cc,
	* src/target/mips/cpu.cc,
	* src/target/mips/epilogue.cc,
	* src/target/mips/target.cc,
	* src/target/mips/test-rw_prg.cc,
	* src/task/function-task.cc,
	* src/task/int-task.cc,
	* src/task/libtask.hh,
	* src/task/task-register.hh, src/task/task-register.cc,
	* src/task/task.hh, src/task/task.cc,
	* src/tc.cc,
	* src/temp/identifier.hh, src/temp/identifier.hxx,
	* src/temp/label.hh,
	* src/temp/temp-set.hh, src/temp/temp-set.cc,
	* src/temp/temp.hh,
	* src/transform/bottom-up-rewriter.cc,
	* src/transform/concrete-syntax-rewriter.hh,
	* src/transform/generic-rewriter.hxx,
	* src/transform/metavar-pool.cc,
	* src/transform/rewriter.cc,
	* src/transform/test-concrete.cc,
	* src/translate/access.hh, src/translate/access.cc,
	* src/translate/exp.hxx,
	* src/translate/level.hh, src/translate/level.hxx,
	* src/tree/binop.cc, src/tree/binop.hxx,
	* src/tree/cjump.cc, src/tree/cjump.hxx,
	* src/tree/const.cc, src/tree/const.hxx,
	* src/tree/eseq.cc, src/tree/eseq.hxx,
	* src/tree/exp.hh, src/tree/exp.cc,
	* src/tree/fragment.cc, src/tree/fragment.hxx,
	* src/tree/fragments.cc,
	* src/tree/fwd.hh,
	* src/tree/iterator.hh, src/tree/iterator.hxx,
	* src/tree/jump.cc,
	* src/tree/label.cc, src/tree/label.hxx,
	* src/tree/libtree.hh, src/tree/libtree.cc,
	* src/tree/mem.cc, src/tree/mem.hxx,
	* src/tree/move.cc, src/tree/move.hxx,
	* src/tree/name.cc, src/tree/name.hxx,
	* src/tree/seq.cc,
	* src/tree/stm.hh, src/tree/stm.cc,
	* src/tree/sxp.cc, src/tree/sxp.hxx,
	* src/tree/temp.cc, src/tree/temp.hxx,
	* src/tree/trees.cc,
	* src/tree/visitor.hh, src/tree/visitor.hxx,
	* src/type/attribute.hh, src/type/attribute.hxx,
	* src/type/field.hh, src/type/field.hxx,
	* src/type/function.cc,
	* src/type/test-type.cc,
	* src/type/type.hh, src/type/type.hxx:
	Here.

2014-02-04  Roland Levillain  <roland@lrde.epita.fr>

	style: fix space before opening parentheses in lib/.

	* lib/misc/contract.hh,
	* lib/misc/deref.hh,
	* lib/misc/deref.hxx,
	* lib/misc/error.cc,
	* lib/misc/error.hh,
	* lib/misc/error.hxx,
	* lib/misc/escape.hh,
	* lib/misc/escape.hxx,
	* lib/misc/file-library.hh,
	* lib/misc/file-library.hxx,
	* lib/misc/generic-variant.hh,
	* lib/misc/generic-variant.hxx,
	* lib/misc/list.hh,
	* lib/misc/list.hxx,
	* lib/misc/pair.hh,
	* lib/misc/pair.hxx,
	* lib/misc/path.hxx,
	* lib/misc/scoped-map.hh,
	* lib/misc/separator.hh,
	* lib/misc/separator.hxx,
	* lib/misc/set.hh,
	* lib/misc/set.hxx,
	* lib/misc/symbol.cc,
	* lib/misc/symbol.hh,
	* lib/misc/symbol.hxx,
	* lib/misc/test-path.cc,
	* lib/misc/timer.hh,
	* lib/misc/unique.hh,
	* lib/misc/unique.hxx,
	* lib/misc/variant.hxx:
	Here.

2014-02-04  Roland Levillain  <roland@lrde.epita.fr>

	Convert the Reference Tiger Compiler Developer Guide to UTF-8.

	* dev/tc.texi: Here, so that OS X sed does not complain about
	encodings.

2014-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: keep m4 files together

	* Makefile.am, configure.ac: Put m4 macros in build-aux/m4

	* build-aux/ax-config-scripts.m4: Rename as...
	* build-aux/m4/ax-config-scripts.m4: this.
	* build-aux/ax_check_compile_flag.m4: Rename as...
	* build-aux/m4/ax_check_compile_flag.m4: this.
	* build-aux/boost.m4: Rename as...
	* build-aux/m4/boost.m4: this.
	* build-aux/make.m4: Rename as...
	* build-aux/m4/make.m4: this.
	* build-aux/pypath.m4: Rename as...
	* build-aux/m4/pypath.m4: this.
	* build-aux/swig.m4: Rename as...
	* build-aux/m4/swig.m4: this.
	* build-aux/tc-prog.m4: Rename as...
	* build-aux/m4/tc-prog.m4: this.
	* build-aux/warning.m4: Rename as...
	* build-aux/m4/warning.m4: this.
	* build-aux/with-tcsh.m4: Rename as...
	* build-aux/m4/with-tcsh.m4: this.

2014-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: factor the generation of scripts

	* build-aux/ax-config-scripts.m4: New, based on Urbi's version.
	* configure.ac: Use it.

2014-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: check compiler version early in configure

	* configure.ac: There's no point is delaying the version check
	on the compiler.
	Keep alphabetical order.
	Remove useless call to "eval".

2014-02-02  Akim Demaille  <akim@lrde.epita.fr>

	style: quote properly in configure.ac

	* configure.ac: here.

2014-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: avoid spurious output during configure

	* configure.ac: Fix a few AM_CONDITIONAL to avoid spurious output.
	Grep -q is certainly not portable, but enought portable for us
	(if it works on OS X, it certainly does on current archs).

2014-02-02  Akim Demaille  <akim@lrde.epita.fr>

	build: update dependency on Boost.

	* configure.ac: Common current requirement is 1.49.

2014-01-31  Roland Levillain  <roland@lrde.epita.fr>

	Regen the parser.

	* src/parse/parsetiger.hh,
	* src/parse/parsetiger.cc:
	Regen.

2014-01-31  Roland Levillain  <roland@lrde.epita.fr>

	Regen tests' outputs.

	* tests/bind/break-in-function-in-while.tc-err,
	* tests/bind/duplicate-formal.tc-err,
	* tests/bind/invalid-function-redefinition-1.tc-err,
	* tests/bind/invalid-function-redefinition-2.tc-err,
	* tests/bind/primitive-and-function-same-chunk.tc-err,
	* tests/bind/print-tree-static.tc-err,
	* tests/bind/test17.tc-err,
	* tests/bind/unknown-return-type.tc-err,
	* tests/good/mini-morpho.-e.s,
	* tests/good/mini-morpho.-e.u.s,
	* tests/good/mini-morpho.hir,
	* tests/good/mini-morpho.lir,
	* tests/good/mini-morpho.s,
	* tests/good/mini-morpho.u.s,
	* tests/good/substring.-e.s,
	* tests/good/substring.-e.u.s,
	* tests/good/substring.hir,
	* tests/good/substring.lir,
	* tests/good/substring.out,
	* tests/good/substring.s,
	* tests/good/substring.u.s,
	* tests/object-bind/undeclared-function.tc-err,
	* tests/object-good/attribute-modification.desugared,
	* tests/object-good/compare-nil-and-object.desugared,
	* tests/object-good/compare-object-and-nil.desugared,
	* tests/object-good/explicit-class-type.desugared,
	* tests/object-good/five-name-spaces.desugared,
	* tests/object-good/function-call-in-method.desugared,
	* tests/object-good/function-returning-an-object.desugared,
	* tests/object-good/function-returning-object.desugared,
	* tests/object-good/function-taking-an-object-as-argument.desugared,
	* tests/object-good/function-taking-object-as-argument.desugared,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.desugared,
	* tests/object-good/initialize-object-to-nil.desugared,
	* tests/object-good/inner-class-with-same-member-names.desugared,
	* tests/object-good/instantiate-object.desugared,
	* tests/object-good/method-call.desugared,
	* tests/object-good/method-using-self-as-argument.desugared,
	* tests/object-good/nil-as-object-arg.desugared,
	* tests/object-good/nil-as-object-return-value.desugared,
	* tests/object-good/redefining-object.desugared,
	* tests/object-good/simple-class.desugared,
	* tests/object-good/simple-extends.desugared,
	* tests/object-good/simple-instantiation.desugared,
	* tests/object-good/trivial-class.desugared,
	* tests/object-good/type-simple-class.desugared,
	* tests/object-good/type-simple-extends.desugared,
	* tests/object-good/upcast.desugared,
	* tests/object-good/using-members-from-within-the-class.desugared,
	* tests/object-good/valid-forward-reference-to-class.desugared,
	* tests/object-good/variable-modification.desugared,
	* tests/object-good/variable-of-type-object.desugared,
	* tests/object-good/vehicle.desugared,
	* tests/object-good/visitor.desugared,
	* tests/object-syntax/method-call-used-as-lvalue.tc-err,
	* tests/object-type/builtin-object-vs-custom-object.tc-err,
	* tests/object-type/contravariant-method.tc-err,
	* tests/object-type/contravariant-return-type.tc-err,
	* tests/object-type/covariant-method.tc-err,
	* tests/object-type/covariant-return-type.tc-err,
	* tests/object-type/duplicate-members.tc-err,
	* tests/object-type/forward-method-reference-1.tc-err,
	* tests/object-type/forward-method-reference-2.tc-err,
	* tests/object-type/invalid-forward-references-to-members.tc-err,
	* tests/object-type/method-redefinition-with-different-signature.tc-err,
	* tests/overload-type/overfun-naive-redef.tc-err,
	* tests/overload-type/overfun-nil-ambiguity.tc-err,
	* tests/overload-type/overfun-redef.tc-err,
	* tests/syntax/call-separator-1.tc-err,
	* tests/syntax/call-separator-2.tc-err,
	* tests/type/funarg-type-mismatch.tc-err,
	* tests/type/missing-arg.tc-err,
	* tests/type/not-enough-args.tc-err,
	* tests/type/primitive-arg.tc-err,
	* tests/type/primitive-result.tc-err,
	* tests/type/test21.tc-err,
	* tests/type/test40.tc-err,
	* tests/type/too-many-args.tc-err,
	* tests/type/unconstrained-nil.tc-err:
	Here.

2014-01-31  Roland Levillain  <roland@lrde.epita.fr>

	Misc. changes regarding spaces in tests.

2014-01-31  Roland Levillain  <roland@lrde.epita.fr>

	Fix space before parentheses in tests/type.

	* tests/type/funarg-type-mismatch.tig,
	* tests/type/missing-arg.tig,
	* tests/type/not-enough-args.tig,
	* tests/type/primitive-arg.tig,
	* tests/type/primitive-result.tig,
	* tests/type/test11.tig,
	* tests/type/test21.tig,
	* tests/type/test40.tig,
	* tests/type/too-many-args.tig:
	Here.

2014-01-31  Roland Levillain  <roland@lrde.epita.fr>

	Fix space before parentheses in tests/syntax.

	* tests/syntax/call-separator-1.tig,
	* tests/syntax/call-separator-2.tig,
	* tests/syntax/multi-functions.tig,
	* tests/syntax/nil-keyword.tig:
	Here.

2014-01-31  Roland Levillain  <roland@lrde.epita.fr>

	Fix space before parentheses in tests/runtime.

	* tests/runtime/chr-out-of-range1.tig,
	* tests/runtime/chr-out-of-range2.tig,
	* tests/runtime/substring-out-of-bounds1.tig,
	* tests/runtime/substring-out-of-bounds2.tig,
	* tests/runtime/substring-out-of-bounds3.tig:
	Here.

2014-01-31  Roland Levillain  <roland@lrde.epita.fr>

	Fix space before parentheses in tests/overload-*.

	* tests/overload-bind-maint/inner-_main-fundec.tig,
	* tests/overload-bind-maint/nonexistent-_main.tig,
	* tests/overload-good/overload-builtin.tig,
	* tests/overload-good/overload-function-record-arg.tig,
	* tests/overload-good/overload-function.tig,
	* tests/overload-good/overload-nil-diambiguated.tig,
	* tests/overload-good/overload-var-type-inference.tig,
	* tests/overload-type-maint/bad-_main-type.tig,
	* tests/overload-type/overfun-naive-redef.tig,
	* tests/overload-type/overfun-nil-ambiguity.tig,
	* tests/overload-type/overfun-redef.tig:
	Here.

2014-01-31  Roland Levillain  <roland@lrde.epita.fr>

	Fix space before parentheses in tests/object-*.

	* tests/object-bind/undeclared-function.tig,
	* tests/object-bind/undeclared-variable.tig,
	* tests/object-good/five-name-spaces.tig,
	* tests/object-good/function-call-in-method.tig,
	* tests/object-good/function-returning-an-object.tig,
	* tests/object-good/function-returning-object.tig,
	* tests/object-good/function-taking-an-object-as-argument.tig,
	* tests/object-good/function-taking-object-as-argument.tig,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.tig,
	* tests/object-good/inner-class-with-same-member-names.tig,
	* tests/object-good/method-call.tig,
	* tests/object-good/method-using-self-as-argument.tig,
	* tests/object-good/nil-as-object-arg.tig,
	* tests/object-good/nil-as-object-return-value.tig,
	* tests/object-good/simple-class.tig,
	* tests/object-good/simple-instantiation.tig,
	* tests/object-good/using-members-from-within-the-class.tig,
	* tests/object-good/variable-modification.tig,
	* tests/object-good/vehicle.tig,
	* tests/object-good/visitor.tig,
	* tests/object-syntax/method-call-used-as-lvalue.tig,
	* tests/object-type/builtin-object-vs-custom-object.tig,
	* tests/object-type/contravariant-method.tig,
	* tests/object-type/contravariant-return-type.tig,
	* tests/object-type/covariant-method.tig,
	* tests/object-type/covariant-return-type.tig,
	* tests/object-type/duplicate-members.tig,
	* tests/object-type/forward-method-reference-1.tig,
	* tests/object-type/forward-method-reference-2.tig,
	* tests/object-type/invalid-forward-references-to-members.tig,
	* tests/object-type/method-redefinition-with-different-signature.tig:
	Here.

2014-01-31  Roland Levillain  <roland@lrde.epita.fr>

	Fix space before parentheses in tests/good.

	* tests/good/all-binop.tig,
	* tests/good/array-subscript-assign.tig,
	* tests/good/assign-and-array-instantiation.tig,
	* tests/good/assign-void.tig,
	* tests/good/builtins.tig,
	* tests/good/call.tig,
	* tests/good/chr-256.tig,
	* tests/good/chr-minus-1.tig,
	* tests/good/chr.tig,
	* tests/good/commutation-1.tig,
	* tests/good/commutation-2.tig,
	* tests/good/concat.tig,
	* tests/good/concurrent-arguments.tig,
	* tests/good/division-with-negative-operands.tig,
	* tests/good/donald.tig,
	* tests/good/escaping-record.tig,
	* tests/good/evalexp.tig,
	* tests/good/exit-51.tig,
	* tests/good/fact.tig,
	* tests/good/for-high-computed-once.tig,
	* tests/good/for-high-same-name-as-index.tig,
	* tests/good/for-up-to-32bits.tig,
	* tests/good/four-hex-backslash.tig,
	* tests/good/fun-vs-var.tig,
	* tests/good/functions.tig,
	* tests/good/getchar-no-static-string.tig,
	* tests/good/getchar.tig,
	* tests/good/int-comparison.tig,
	* tests/good/large-ints.tig,
	* tests/good/let-in-for-init.tig,
	* tests/good/let-scope-for-functions.tig,
	* tests/good/let-scope-for-types.tig,
	* tests/good/many-args.tig,
	* tests/good/many-bool-ops.tig,
	* tests/good/many-functions.tig,
	* tests/good/many-vars.tig,
	* tests/good/merge.tig,
	* tests/good/mini-morpho.tig,
	* tests/good/mutually-recursive-functions.tig,
	* tests/good/mutually-recursive-procedures.tig,
	* tests/good/nil-as-arg.tig,
	* tests/good/nil-as-return-value.tig,
	* tests/good/nine.tig,
	* tests/good/non-commutative-move-mem-expr.tig,
	* tests/good/print-chr-ord.tig,
	* tests/good/print-tree.tig,
	* tests/good/queens.tig,
	* tests/good/redefine-int.tig,
	* tests/good/redefine-print.tig,
	* tests/good/scopes-protect-types.tig,
	* tests/good/shadowed-streq.tig,
	* tests/good/shadowing-functions.tig,
	* tests/good/side-effects-in-init.tig,
	* tests/good/side-effects-in-sxp.tig,
	* tests/good/side-effects.tig,
	* tests/good/so-many-args-in-rec-func.tig,
	* tests/good/strcmp.tig,
	* tests/good/string-backslash-char.tig,
	* tests/good/string-backslash-octal.tig,
	* tests/good/string-backslash-tortured.tig,
	* tests/good/string-int-not-keywords.tig,
	* tests/good/stupid-array-type.tig,
	* tests/good/substring-copy-all.tig,
	* tests/good/substring.tig,
	* tests/good/test27.tig,
	* tests/good/three-name-spaces.tig,
	* tests/good/var-bob-is-another-bob.tig:
	Here.

2014-01-31  Roland Levillain  <roland@lrde.epita.fr>

	Fix space before parentheses in tests/escapes.

	* tests/escapes/for-lower.tig,
	* tests/escapes/for-scope.tig,
	* tests/escapes/for-upper.tig,
	* tests/escapes/formal-escapes.tig,
	* tests/escapes/local-escapes.tig,
	* tests/escapes/record-escapes.tig,
	* tests/escapes/recursion.tig,
	* tests/escapes/redeclaration.tig,
	* tests/escapes/rhs-of-a-vardec.tig,
	* tests/escapes/scopes.tig,
	* tests/escapes/sl-propagation-1.tig,
	* tests/escapes/sl-propagation-2.tig,
	* tests/escapes/variable-escapes.tig,
	* tests/escapes/variable-inside-for-body.tig,
	* tests/escapes/variant-escapes.tig:
	Here.

2014-01-31  Roland Levillain  <roland@lrde.epita.fr>

	Fix space before parentheses in tests/bind/.

	* tests/bind/break-in-function-in-while.tig,
	* tests/bind/duplicate-formal.tig,
	* tests/bind/invalid-function-redefinition-1.tig,
	* tests/bind/invalid-function-redefinition-2.tig,
	* tests/bind/primitive-and-function-same-chunk.tig,
	* tests/bind/print-tree-static.tig,
	* tests/bind/test18.tig,
	* tests/bind/test19.tig,
	* tests/bind/unknown-return-type.tig:
	Here.

2014-01-31  Roland Levillain  <roland@lrde.epita.fr>

	Do not pretty-print spaces after function names.

	* src/ast/pretty-printer.cc
	(PrettyPrinter::operator()(const FunctionDec&, const std::string&))
	(PrettyPrinter::operator()(const CallExp& e)):
	Here.
	(PrettyPrinter::operator()(const CastExp& e))
	(PrettyPrinter::operator()(const CastVar& e)):
	Likewise for casts.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: remove useless namespace qualifications

	* src/parse/scantiger.ll: We _are_ in the parse:: namespace.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/type

	* src/type/array.cc, src/type/array.hh, src/type/array.hxx,
	* src/type/attribute.cc, src/type/attribute.hh,
	* src/type/attribute.hxx, src/type/builtin-types.cc,
	* src/type/builtin-types.hh, src/type/class.cc, src/type/class.hh,
	* src/type/class.hxx, src/type/field.cc, src/type/field.hh,
	* src/type/field.hxx, src/type/function.cc, src/type/function.hh,
	* src/type/function.hxx, src/type/libtype.cc, src/type/libtype.hh,
	* src/type/method.cc, src/type/method.hh, src/type/method.hxx,
	* src/type/named.cc, src/type/named.hh, src/type/named.hxx,
	* src/type/record.cc, src/type/record.hh, src/type/record.hxx,
	* src/type/tasks.cc, src/type/tasks.hh, src/type/test-type.cc,
	* src/type/type-checker.cc, src/type/type-checker.hh,
	* src/type/type-checker.hxx, src/type/type.cc, src/type/type.hh,
	* src/type/type.hxx:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/translate

	* src/translate/access.cc, src/translate/access.hh,
	* src/translate/access.hxx, src/translate/exp.cc,
	* src/translate/exp.hh, src/translate/exp.hxx, src/translate/level.cc,
	* src/translate/level.hh, src/translate/level.hxx,
	* src/translate/libtranslate.cc, src/translate/tasks.cc,
	* src/translate/tasks.hh, src/translate/translation.cc,
	* src/translate/translation.hh, src/translate/translator.cc,
	* src/translate/translator.hh:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/transform

	* src/transform/all.hxx, src/transform/bottom-up-rewriter.cc,
	* src/transform/bottom-up-rewriter.hh, src/transform/bottom-up.cc,
	* src/transform/bottom-up.hh,
	* src/transform/concrete-syntax-rewriter.cc,
	* src/transform/concrete-syntax-rewriter.hh,
	* src/transform/generic-rewriter.hh,
	* src/transform/generic-rewriter.hxx,
	* src/transform/generic-traversal.hh,
	* src/transform/generic-traversal.hxx, src/transform/matcher.cc,
	* src/transform/matcher.hh, src/transform/metavar-pool.cc,
	* src/transform/metavar-pool.hh, src/transform/metavar-pool.hxx,
	* src/transform/proxy-visitors.hh, src/transform/proxy-visitors.hxx,
	* src/transform/rewriter.cc, src/transform/rewriter.hh,
	* src/transform/sequence.hh, src/transform/sequence.hxx,
	* src/transform/test-combinators.cc, src/transform/test-concrete.cc,
	* src/transform/test-transform-tests.cc,
	* src/transform/test-transform-tests.hh,
	* src/transform/test-transform.cc, src/transform/test-voyager.cc,
	* src/transform/visitor.hh, src/transform/visitor.hxx:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/temp

	* src/temp/identifier.hh, src/temp/identifier.hxx,
	* src/temp/libtemp.cc, src/temp/libtemp.hh, src/temp/tasks.cc,
	* src/temp/tasks.hh, src/temp/temp-set.cc, src/temp/temp.hh,
	* src/temp/test-temp.cc:
	Here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/task

	* src/task/boolean-task.cc, src/task/boolean-task.hh,
	* src/task/disjunctive-task.cc, src/task/disjunctive-task.hh,
	* src/task/function-task.cc, src/task/function-task.hh,
	* src/task/int-task.cc, src/task/int-task.hh,
	* src/task/multiple-string-task.cc, src/task/multiple-string-task.hh,
	* src/task/string-task.cc, src/task/string-task.hh,
	* src/task/task-register.cc, src/task/task-register.hh,
	* src/task/task-register.hxx, src/task/task.cc, src/task/task.hh,
	* src/task/task.hxx, src/task/tasks.cc, src/task/tasks.hh:
	here

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/target

	$ astyle --style=gnu --indent=spaces=2 --indent-namespaces \
	    --indent-col1-comments --pad-header --unpad-paren --convert-tabs \
	     --close-templates src/target/*.{cc,hh,hxx}

	* src/target/assembly.cc, src/target/assembly.hh,
	* src/target/codegen.cc, src/target/codegen.hh,
	* src/target/codegen.hxx, src/target/cpu.cc, src/target/cpu.hh,
	* src/target/libtarget.cc, src/target/libtarget.hh,
	* src/target/target.cc, src/target/target.hh, src/target/tasks.cc,
	* src/target/tasks.hh:
	Here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: prefer false to 0 in conditions

	* src/parse/scantiger.ll: here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in scanner and parser

	* src/parse/parsetiger.yy, src/parse/scantiger.ll: Remove space
	before paren.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/parse

	astyle --style=gnu --indent=spaces=2 --indent-namespaces \
	   --indent-col1-comments --pad-header --unpad-paren \
	   src/parse/*.{cc,hh,hxx}

	* src/parse/metavar-map.hh, src/parse/metavar-map.hxx,
	* src/parse/tasks.cc, src/parse/tasks.hh, src/parse/test-parse.cc,
	* src/parse/test-tweast.cc, src/parse/tiger-parser.cc,
	* src/parse/tiger-parser.hh, src/parse/tweast.cc, src/parse/tweast.hh,
	* src/parse/tweast.hxx:
	Here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/regalloc

	* src/regalloc/color.cc, src/regalloc/color.hh,
	* src/regalloc/libregalloc.cc, src/regalloc/libregalloc.hh,
	* src/regalloc/regallocator.cc, src/regalloc/regallocator.hh,
	* src/regalloc/tasks.cc, src/regalloc/tasks.hh,
	* src/regalloc/test-regalloc.cc:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/overload

	* src/overload/binder.cc, src/overload/binder.hh,
	* src/overload/liboverload.cc, src/overload/liboverload.hh,
	* src/overload/over-table.hh, src/overload/tasks.cc,
	* src/overload/tasks.hh, src/overload/type-checker.cc,
	* src/overload/type-checker.hh:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/object

	$ astyle --style=gnu --indent=spaces=2 --indent-namespaces \
	         --indent-col1-comments --pad-header --unpad-paren \
	         --convert-tabs --close-templates src/object/*.{cc,hh}

	* src/object/binder.cc, src/object/binder.hh,
	* src/object/desugar-visitor.cc, src/object/desugar-visitor.hh,
	* src/object/libobject.cc, src/object/libobject.hh,
	* src/object/renamer.cc, src/object/renamer.hh, src/object/tasks.cc,
	* src/object/tasks.hh, src/object/test-bind.cc,
	* src/object/test-desugar.cc, src/object/test-parse.cc,
	* src/object/test-type.cc, src/object/type-checker.cc,
	* src/object/type-checker.hh:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/liveness

	* src/liveness/flowgraph.hh, src/liveness/flowgraph.hxx,
	* src/liveness/interference-graph.cc,
	* src/liveness/interference-graph.hh,
	* src/liveness/interference-graph.hxx, src/liveness/libliveness.cc,
	* src/liveness/libliveness.hh, src/liveness/liveness.cc,
	* src/liveness/liveness.hh, src/liveness/tasks.cc,
	* src/liveness/tasks.hh, src/liveness/test-flowgraph.cc:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/inlining

	* src/inlining/inliner.cc, src/inlining/inliner.hh,
	* src/inlining/libinlining.cc, src/inlining/libinlining.hh,
	* src/inlining/pruner.cc, src/inlining/pruner.hh,
	* src/inlining/tasks.cc, src/inlining/tasks.hh:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/frame

	* src/frame/access.cc, src/frame/access.hh, src/frame/frame.cc,
	* src/frame/frame.hh:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/escapes

	* src/escapes/escapes-check-visitor.cc,
	* src/escapes/escapes-check-visitor.hh,
	* src/escapes/escapes-visitor.cc, src/escapes/escapes-visitor.hh,
	* src/escapes/libescapes.cc, src/escapes/libescapes.hh,
	* src/escapes/tasks.cc, src/escapes/tasks.hh:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/desugar

	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/desugar-visitor.cc, src/desugar/desugar-visitor.hh,
	* src/desugar/libdesugar.cc, src/desugar/libdesugar.hh,
	* src/desugar/tasks.cc, src/desugar/tasks.hh,
	* src/desugar/test-bound-checking.cc,
	* src/desugar/test-for-loops-desugar.cc,
	* src/desugar/test-string-cmp-desugar.cc:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/canon

	* src/canon/basic-block.cc, src/canon/basic-block.hh,
	* src/canon/basic-block.hxx, src/canon/canon.cc, src/canon/canon.hh,
	* src/canon/libcanon.cc, src/canon/libcanon.hh, src/canon/tasks.cc,
	* src/canon/tasks.hh, src/canon/traces.cc, src/canon/traces.hh:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/callgraph

	* src/callgraph/call-graph-visitor.cc,
	* src/callgraph/call-graph-visitor.hh, src/callgraph/fundec-graph.hh,
	* src/callgraph/fundec-graph.hxx, src/callgraph/libcallgraph.cc,
	* src/callgraph/libcallgraph.hh,
	* src/callgraph/parent-graph-visitor.cc,
	* src/callgraph/parent-graph-visitor.hh,
	* src/callgraph/static-link-visitor.cc,
	* src/callgraph/static-link-visitor.hh, src/callgraph/tasks.cc,
	* src/callgraph/tasks.hh:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/bind

	* src/bind/binder.cc, src/bind/binder.hh, src/bind/binder.hxx,
	* src/bind/libbind.cc, src/bind/libbind.hh, src/bind/renamer.cc,
	* src/bind/renamer.hh, src/bind/renamer.hxx, src/bind/tasks.cc,
	* src/bind/tasks.hh, src/bind/test-bind.cc:
	Here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/astclone

	* src/astclone/cloner.cc, src/astclone/cloner.hxx,
	* src/astclone/libastclone.hh, src/astclone/libastclone.hxx,
	* src/astclone/tasks.cc, src/astclone/tasks.hh,
	* src/astclone/test-cloner.cc:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/ast

	* src/ast/any-decs.hh, src/ast/any-decs.hxx, src/ast/decs.cc,
	* src/ast/decs.hh, src/ast/decs.hxx, src/ast/default-visitor.hh,
	* src/ast/default-visitor.hxx, src/ast/libast.cc,
	* src/ast/non-object-visitor.hh, src/ast/non-object-visitor.hxx,
	* src/ast/pretty-printer.cc, src/ast/pretty-printer.hh,
	* src/ast/tasks.cc, src/ast/tasks.hh, src/ast/test-ast.cc,
	* src/ast/visitor.hxx: here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in src/assem

	* src/assem/comment.hh, src/assem/comment.hxx, src/assem/fragment.cc,
	* src/assem/fragment.hh, src/assem/fragment.hxx,
	* src/assem/fragments.cc, src/assem/fragments.hh, src/assem/instr.cc,
	* src/assem/instr.hh, src/assem/instr.hxx, src/assem/instrs.cc,
	* src/assem/instrs.hh, src/assem/label.hh, src/assem/label.hxx,
	* src/assem/layout.cc, src/assem/layout.hh, src/assem/layout.hxx,
	* src/assem/move.hh, src/assem/move.hxx, src/assem/oper.hh,
	* src/assem/oper.hxx, src/assem/visitor.hh, src/assem/visitor.hxx:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in lib/misc

	* lib/misc/algorithm.hh, lib/misc/contract.hh, lib/misc/deref.hh,
	* lib/misc/endomap.hh, lib/misc/error.hh, lib/misc/escape.hh,
	* lib/misc/file-library.hh, lib/misc/flex-lexer.hh,
	* lib/misc/generic-variant.hh, lib/misc/graph.hh, lib/misc/indent.hh,
	* lib/misc/list.hh, lib/misc/map.hh, lib/misc/pair.hh,
	* lib/misc/path.hh, lib/misc/ref.hh, lib/misc/scoped-map.hh,
	* lib/misc/separator.hh, lib/misc/set.hh, lib/misc/symbol.hh,
	* lib/misc/timer.hh, lib/misc/unique.hh, lib/misc/variant.hh:
	here.

2014-01-31  Akim Demaille  <akim@lrde.epita.fr>

	style: indentation and space issues in lib/**/*.cc

	astyle --style=gnu --indent=spaces=2 --indent-namespaces \
	--indent-col1-comments --pad-header --unpad-paren lib/misc/**/*.cc

	* lib/misc/contract.cc, lib/misc/deref.cc, lib/misc/error.cc,
	* lib/misc/escape.cc, lib/misc/file-library.cc, lib/misc/indent.cc,
	* lib/misc/path.cc, lib/misc/symbol.cc, lib/misc/test-deref.cc,
	* lib/misc/test-error.cc, lib/misc/test-escape.cc,
	* lib/misc/test-generic-variant.cc, lib/misc/test-graph.cc,
	* lib/misc/test-indent.cc, lib/misc/test-path.cc,
	* lib/misc/test-scoped.cc, lib/misc/test-separator.cc,
	* lib/misc/test-symbol.cc, lib/misc/test-timer.cc,
	* lib/misc/test-unique.cc, lib/misc/test-variant.cc,
	* lib/misc/test-xalloc.cc, lib/misc/timer.cc:
	Fix indentation/space before paren issues.

2014-01-30  Roland Levillain  <roland@lrde.epita.fr>

	Record new tests' outputs.

	* tests/object-good/compare-nil-and-object.-e.s,
	* tests/object-good/compare-nil-and-object.-e.u.s,
	* tests/object-good/compare-nil-and-object.desugared,
	* tests/object-good/compare-nil-and-object.err,
	* tests/object-good/compare-nil-and-object.hir,
	* tests/object-good/compare-nil-and-object.hpr,
	* tests/object-good/compare-nil-and-object.lir,
	* tests/object-good/compare-nil-and-object.lpr,
	* tests/object-good/compare-nil-and-object.out,
	* tests/object-good/compare-nil-and-object.s,
	* tests/object-good/compare-nil-and-object.sta,
	* tests/object-good/compare-nil-and-object.u.s,
	* tests/object-good/compare-object-and-nil.-e.s,
	* tests/object-good/compare-object-and-nil.-e.u.s,
	* tests/object-good/compare-object-and-nil.desugared,
	* tests/object-good/compare-object-and-nil.err,
	* tests/object-good/compare-object-and-nil.hir,
	* tests/object-good/compare-object-and-nil.hpr,
	* tests/object-good/compare-object-and-nil.lir,
	* tests/object-good/compare-object-and-nil.lpr,
	* tests/object-good/compare-object-and-nil.out,
	* tests/object-good/compare-object-and-nil.s,
	* tests/object-good/compare-object-and-nil.sta,
	* tests/object-good/compare-object-and-nil.u.s,
	* tests/object-good/explicit-class-type.-e.s,
	* tests/object-good/explicit-class-type.-e.u.s,
	* tests/object-good/explicit-class-type.desugared,
	* tests/object-good/explicit-class-type.err,
	* tests/object-good/explicit-class-type.hir,
	* tests/object-good/explicit-class-type.hpr,
	* tests/object-good/explicit-class-type.lir,
	* tests/object-good/explicit-class-type.lpr,
	* tests/object-good/explicit-class-type.out,
	* tests/object-good/explicit-class-type.s,
	* tests/object-good/explicit-class-type.sta,
	* tests/object-good/explicit-class-type.u.s,
	* tests/object-good/initialize-object-to-nil.-e.s,
	* tests/object-good/initialize-object-to-nil.-e.u.s,
	* tests/object-good/initialize-object-to-nil.desugared,
	* tests/object-good/initialize-object-to-nil.err,
	* tests/object-good/initialize-object-to-nil.hir,
	* tests/object-good/initialize-object-to-nil.hpr,
	* tests/object-good/initialize-object-to-nil.lir,
	* tests/object-good/initialize-object-to-nil.lpr,
	* tests/object-good/initialize-object-to-nil.out,
	* tests/object-good/initialize-object-to-nil.s,
	* tests/object-good/initialize-object-to-nil.sta,
	* tests/object-good/initialize-object-to-nil.u.s,
	* tests/object-good/nil-as-object-arg.-e.s,
	* tests/object-good/nil-as-object-arg.-e.u.s,
	* tests/object-good/nil-as-object-arg.desugared,
	* tests/object-good/nil-as-object-arg.err,
	* tests/object-good/nil-as-object-arg.hir,
	* tests/object-good/nil-as-object-arg.hpr,
	* tests/object-good/nil-as-object-arg.lir,
	* tests/object-good/nil-as-object-arg.lpr,
	* tests/object-good/nil-as-object-arg.out,
	* tests/object-good/nil-as-object-arg.s,
	* tests/object-good/nil-as-object-arg.sta,
	* tests/object-good/nil-as-object-arg.u.s,
	* tests/object-good/nil-as-object-return-value.-e.s,
	* tests/object-good/nil-as-object-return-value.-e.u.s,
	* tests/object-good/nil-as-object-return-value.desugared,
	* tests/object-good/nil-as-object-return-value.err,
	* tests/object-good/nil-as-object-return-value.hir,
	* tests/object-good/nil-as-object-return-value.hpr,
	* tests/object-good/nil-as-object-return-value.lir,
	* tests/object-good/nil-as-object-return-value.lpr,
	* tests/object-good/nil-as-object-return-value.out,
	* tests/object-good/nil-as-object-return-value.s,
	* tests/object-good/nil-as-object-return-value.sta,
	* tests/object-good/nil-as-object-return-value.u.s,
	* tests/object-type/order-nil-with-object.tc-err,
	* tests/object-type/order-nil-with-object.tc-sta,
	* tests/object-type/order-object-with-nil.tc-err,
	* tests/object-type/order-object-with-nil.tc-sta:
	New.

2014-01-30  Roland Levillain  <roland@lrde.epita.fr>

	Exercise the compatibility between `nil' and objects.

	* tests/object-good/compare-nil-and-object.tig,
	* tests/object-good/compare-object-and-nil.tig,
	* tests/object-good/explicit-class-type.tig,
	* tests/object-good/initialize-object-to-nil.tig,
	* tests/object-good/nil-as-object-arg.tig,
	* tests/object-good/nil-as-object-return-value.tig,
	* tests/object-type/order-nil-with-object.tig,
	* tests/object-type/order-object-with-nil.tig:
	New tests.

2014-01-30  Roland Levillain  <roland@lrde.epita.fr>

	Allow `nil' as valid value for objects

	* src/type/builtin-types.cc (Nil::compatible_with): Make the `nil'
	type compatible with class types...
	* src/type/class.cc (Class::compatible_with): ...and vice versa.
	* src/type/type-checker.cc
	(TypeChecker::operator() (ast::VarDec&): Adjust error messages.
	* src/object/desugar-visitor.cc
	(object::DesugarVisitor::operator() (const ast::VarDec&)):
	Allow `nil' in object (variable) declarations.
	(DesugarVisitor::operator() (const ast::AssignExp& e)):
	Allow `nil' in object assignments.
	(DesugarVisitor::recurse_args):
	Allow `nil' as actual argument in a function call.

2014-01-30  Roland Levillain  <roland@lrde.epita.fr>

	Remove unnecessary `class' keywords.

	* src/type/builtin-types.cc (type::Nil::compatible_with)
	* src/type/record.cc (type::Record::compatible_with):
	Here.

2014-01-30  Roland Levillain  <roland@lrde.epita.fr>

	Regenerate the scanner and parser from src/ at distribution time.

	* dev/stagize: Here, so as to minimize the differences with the
	scanner and parser generated in the build dir.

2014-01-30  Roland Levillain  <roland@lrde.epita.fr>

	Update stagize w.r.t. the generation of the scanner.

	* dev/stagize: Here.

2014-01-28  Roland Levillain  <roland@lrde.epita.fr>

	Regen tests' outputs.

	* tests/lexical/unterminated-comment.tc-err,
	* tests/lexical/unterminated-string.tc-err:
	Regen.

2014-01-17  Roland Levillain  <roland@lrde.epita.fr>

	Fix various Doxygen comments.

	* src/ast/default-visitor.hh,
	* src/bind/renamer.hh,
	* src/callgraph/fundec-graph.hh,
	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/desugar-visitor.hh,
	* src/inlining/inliner.hh,
	* src/inlining/pruner.hh,
	* src/object/desugar-visitor.cc,
	* src/object/desugar-visitor.hh,
	* src/object/renamer.hh,
	* src/parse/tweast.hh,
	* src/regalloc/color.hh,
	* src/transform/generic-rewriter.hh,
	* src/transform/generic-traversal.hh,
	* src/transform/generic-traversal.hxx,
	* src/transform/matcher.hh,
	* src/transform/rewriter.hh,
	* src/transform/test-combinators.cc
	* src/translate/translator.hh:
	Here.

2014-01-17  Roland Levillain  <roland@lrde.epita.fr>

	Factor src/transform/local.mk.

	* src/transform/local.mk: Here, thanks to dev/ast-gen.mk and
	src/ast/local.mk.
	(BUILT_SOURCES): List only generated .hh and .hxx files.

2014-01-16  Roland Levillain  <roland@lrde.epita.fr>

	Have src/ast/all.hh actually contain all headers from ast/.

	* dev/ast-all-gen: Generate #include statements for ast/*decs.hh
	files.
	* src/ast/all.hh: Regen.

2014-01-16  Roland Levillain  <roland@lrde.epita.fr>

	Ensure src/ast/all.hh gets regenerated with `make all'.

	* src/ast/local.mk (BUILT_SOURCES): Add ast/all.hh.

2014-01-16  Roland Levillain  <roland@lrde.epita.fr>

	Fix the distribution.

	* src/ast/local.mk (ast_libast_la_SOURCES): Add ast/rule-decs.hh,
	but only when the transform distribution is available.
	* dev/stagize: Adjust pruning.
	* src/parse/parsetiger.yy: Do not include ast/rule-decs.hh when
	the `transform' module is not available.
	* src/parse/parsetiger.hh,
	* src/parse/parsetiger.cc:
	Regen.

2014-01-09  Roland Levillain  <roland@lrde.epita.fr>

	Typos.

	 * src/object/desugar-visitor.cc: Here.

2014-01-09  Roland Levillain  <roland@lrde.epita.fr>

	Pacify OS X's `paste'.

	* tests/Makefile.am (gen-all-outputs): Explicitly pass `-' as
	argument to read from the standard input.

2014-01-08  Roland Levillain  <roland@lrde.epita.fr>

	Add 2014 to the list of years in the copyright notice.

	* AUTHORS.txt: Here.

2014-01-08  Roland Levillain  <roland@lrde.epita.fr>

	Repair TCSH, by hiding C++11 constructs from SWIG.

	* src/ast/any-decs.hh (ast::AnyDecs<D>::decs_) [!SWIG]:
	Hide initializer.
	* src/ast/tiger_ast.i,
	* src/target/tiger_target.i (override):
	Define this macro as empty to hide `override' attributes.

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Aesthetic changes.

	* src/translate/translator.hh:
	Close a Doxygen comment.
	* src/assem/fragment.hh,
	* src/tree/fragment.hh,
	* src/target/ia32/gas-layout.hh,
	* src/target/ia32/gas-layout.cc:
	Typos in Doxygen comments.

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Remove useless dtors.

	* src/bind/binder.hh, src/bind/binder.cc,
	* src/object/binder.hh, src/object/binder.cc,
	* src/overload/binder.hh, src/overload/binder.cc,
	* src/target/ia32/gas-layout.hh,
	* src/target/mips/spim-layout.hh:

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Remove useless pairs of parentheses.

	* src/assem/layout.cc,
	* src/target/ia32/gas-layout.cc,
	* src/target/mips/spim-layout.cc:
	Here.

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Use more explicitly defaulted ctors.

	* src/target/ia32/gas-layout.hh (GasLayout::GasLayout)
	* src/target/mips/spim-layout.hh (SpimLayout::SpimLayout):
	Here.

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Do not define (static) function members within class declarations.

	* src/target/ia32/gas-layout.hh (GasLayout::instance)
	* src/target/mips/spim-layout.hh (SpimLayout::instance):
	Move definitions of these static function members...
	* src/target/ia32/gas-layout.cc,
	* src/target/mips/spim-layout.cc:
	...here.

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Remove a useless empty ctor.

	* src/target/target.hh, src/target/target.cc
	(target::Target::Target): Remove.

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Another conversion to range-based `for' loops in libmisc.

	* lib/misc/escape.cc (misc::escaped::escape_): Here.

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Regen tests' outputs.

	* tests/good/big-lvalue.hir,
	* tests/good/big-lvalue.hpr,
	* tests/good/big-lvalue.lir,
	* tests/good/big-lvalue.lpr,
	* tests/good/big-lvalue.s,
	* tests/good/big-lvalue.u.s,
	* tests/good/compare-nil-and-record.hir,
	* tests/good/compare-nil-and-record.hpr,
	* tests/good/compare-nil-and-record.lir,
	* tests/good/compare-nil-and-record.lpr,
	* tests/good/compare-record-and-nil.hir,
	* tests/good/compare-record-and-nil.hpr,
	* tests/good/compare-record-and-nil.lir,
	* tests/good/compare-record-and-nil.lpr,
	* tests/good/compare-record-and-record.hir,
	* tests/good/compare-record-and-record.hpr,
	* tests/good/compare-record-and-record.lir,
	* tests/good/compare-record-and-record.lpr,
	* tests/good/escaping-record.hir,
	* tests/good/escaping-record.hpr,
	* tests/good/escaping-record.lir,
	* tests/good/escaping-record.lpr,
	* tests/good/evalexp.-e.s,
	* tests/good/evalexp.-e.u.s,
	* tests/good/evalexp.hir,
	* tests/good/evalexp.hpr,
	* tests/good/evalexp.lir,
	* tests/good/evalexp.lpr,
	* tests/good/evalexp.s,
	* tests/good/evalexp.u.s,
	* tests/good/explicit-record-type.hir,
	* tests/good/explicit-record-type.hpr,
	* tests/good/explicit-record-type.lir,
	* tests/good/explicit-record-type.lpr,
	* tests/good/field-of-field.-e.s,
	* tests/good/field-of-field.-e.u.s,
	* tests/good/field-of-field.hir,
	* tests/good/field-of-field.hpr,
	* tests/good/field-of-field.lir,
	* tests/good/field-of-field.lpr,
	* tests/good/field-of-field.s,
	* tests/good/field-of-field.u.s,
	* tests/good/forward-fun-and-type-decl.hir,
	* tests/good/forward-fun-and-type-decl.hpr,
	* tests/good/forward-fun-and-type-decl.lir,
	* tests/good/forward-fun-and-type-decl.lpr,
	* tests/good/fractions-underloaded.-e.s,
	* tests/good/fractions-underloaded.-e.u.s,
	* tests/good/fractions-underloaded.hir,
	* tests/good/fractions-underloaded.hpr,
	* tests/good/fractions-underloaded.lir,
	* tests/good/fractions-underloaded.lpr,
	* tests/good/fractions-underloaded.s,
	* tests/good/fractions-underloaded.u.s,
	* tests/good/merge.-e.s,
	* tests/good/merge.-e.u.s,
	* tests/good/merge.hir,
	* tests/good/merge.hpr,
	* tests/good/merge.lir,
	* tests/good/merge.lpr,
	* tests/good/merge.s,
	* tests/good/merge.u.s,
	* tests/good/mini-morpho.hir,
	* tests/good/mini-morpho.hpr,
	* tests/good/mini-morpho.lir,
	* tests/good/mini-morpho.lpr,
	* tests/good/mini-morpho.s,
	* tests/good/mini-morpho.u.s,
	* tests/good/print-tree.hir,
	* tests/good/print-tree.hpr,
	* tests/good/print-tree.lir,
	* tests/good/print-tree.lpr,
	* tests/good/record.hir,
	* tests/good/record.hpr,
	* tests/good/record.lir,
	* tests/good/record.lpr,
	* tests/good/recursive-type.hir,
	* tests/good/recursive-type.hpr,
	* tests/good/recursive-type.lir,
	* tests/good/recursive-type.lpr,
	* tests/good/recursive-types-mutual.hir,
	* tests/good/recursive-types-mutual.hpr,
	* tests/good/recursive-types-mutual.lir,
	* tests/good/recursive-types-mutual.lpr,
	* tests/good/recursive-types-mutual.s,
	* tests/good/recursive-types-mutual.u.s,
	* tests/good/recursive-types.hir,
	* tests/good/recursive-types.hpr,
	* tests/good/recursive-types.lir,
	* tests/good/recursive-types.lpr,
	* tests/good/redefine-int.hir,
	* tests/good/redefine-int.hpr,
	* tests/good/redefine-int.lir,
	* tests/good/redefine-int.lpr,
	* tests/good/scopes-protect-types.hir,
	* tests/good/scopes-protect-types.hpr,
	* tests/good/scopes-protect-types.lir,
	* tests/good/scopes-protect-types.lpr,
	* tests/good/scopes-protect-types.s,
	* tests/good/scopes-protect-types.u.s,
	* tests/good/string-int-not-keywords.hir,
	* tests/good/string-int-not-keywords.hpr,
	* tests/good/string-int-not-keywords.lir,
	* tests/good/string-int-not-keywords.lpr,
	* tests/good/test42.hir,
	* tests/good/test42.hpr,
	* tests/good/test42.lir,
	* tests/good/test42.lpr,
	* tests/good/three-name-spaces.-e.s,
	* tests/good/three-name-spaces.-e.u.s,
	* tests/good/three-name-spaces.hir,
	* tests/good/three-name-spaces.hpr,
	* tests/good/three-name-spaces.lir,
	* tests/good/three-name-spaces.lpr,
	* tests/good/three-name-spaces.s,
	* tests/good/three-name-spaces.u.s,
	* tests/good/types-aliases.hir,
	* tests/good/types-aliases.hpr,
	* tests/good/types-aliases.lir,
	* tests/good/types-aliases.lpr,
	* tests/object-good/attribute-modification.-e.s,
	* tests/object-good/attribute-modification.-e.u.s,
	* tests/object-good/attribute-modification.hir,
	* tests/object-good/attribute-modification.hpr,
	* tests/object-good/attribute-modification.lir,
	* tests/object-good/attribute-modification.lpr,
	* tests/object-good/attribute-modification.s,
	* tests/object-good/attribute-modification.u.s,
	* tests/object-good/five-name-spaces.-e.s,
	* tests/object-good/five-name-spaces.-e.u.s,
	* tests/object-good/five-name-spaces.hir,
	* tests/object-good/five-name-spaces.hpr,
	* tests/object-good/five-name-spaces.lir,
	* tests/object-good/five-name-spaces.lpr,
	* tests/object-good/five-name-spaces.s,
	* tests/object-good/five-name-spaces.u.s,
	* tests/object-good/function-call-in-method.-e.s,
	* tests/object-good/function-call-in-method.-e.u.s,
	* tests/object-good/function-call-in-method.hir,
	* tests/object-good/function-call-in-method.lir,
	* tests/object-good/function-call-in-method.s,
	* tests/object-good/function-call-in-method.u.s,
	* tests/object-good/function-returning-an-object.-e.s,
	* tests/object-good/function-returning-an-object.-e.u.s,
	* tests/object-good/function-returning-an-object.hir,
	* tests/object-good/function-returning-an-object.hpr,
	* tests/object-good/function-returning-an-object.lir,
	* tests/object-good/function-returning-an-object.lpr,
	* tests/object-good/function-returning-an-object.s,
	* tests/object-good/function-returning-an-object.u.s,
	* tests/object-good/function-returning-object.-e.s,
	* tests/object-good/function-returning-object.-e.u.s,
	* tests/object-good/function-returning-object.hir,
	* tests/object-good/function-returning-object.hpr,
	* tests/object-good/function-returning-object.lir,
	* tests/object-good/function-returning-object.lpr,
	* tests/object-good/function-returning-object.s,
	* tests/object-good/function-returning-object.u.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.u.s,
	* tests/object-good/function-taking-an-object-as-argument.hir,
	* tests/object-good/function-taking-an-object-as-argument.hpr,
	* tests/object-good/function-taking-an-object-as-argument.lir,
	* tests/object-good/function-taking-an-object-as-argument.lpr,
	* tests/object-good/function-taking-an-object-as-argument.s,
	* tests/object-good/function-taking-an-object-as-argument.u.s,
	* tests/object-good/function-taking-object-as-argument.-e.s,
	* tests/object-good/function-taking-object-as-argument.-e.u.s,
	* tests/object-good/function-taking-object-as-argument.hir,
	* tests/object-good/function-taking-object-as-argument.hpr,
	* tests/object-good/function-taking-object-as-argument.lir,
	* tests/object-good/function-taking-object-as-argument.lpr,
	* tests/object-good/function-taking-object-as-argument.s,
	* tests/object-good/function-taking-object-as-argument.u.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.-e.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.-e.u.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.hir,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.lir,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.u.s,
	* tests/object-good/inner-class-with-same-member-names.-e.s,
	* tests/object-good/inner-class-with-same-member-names.-e.u.s,
	* tests/object-good/inner-class-with-same-member-names.hir,
	* tests/object-good/inner-class-with-same-member-names.lir,
	* tests/object-good/inner-class-with-same-member-names.s,
	* tests/object-good/inner-class-with-same-member-names.u.s,
	* tests/object-good/instantiate-object.-e.s,
	* tests/object-good/instantiate-object.-e.u.s,
	* tests/object-good/instantiate-object.hir,
	* tests/object-good/instantiate-object.hpr,
	* tests/object-good/instantiate-object.lir,
	* tests/object-good/instantiate-object.lpr,
	* tests/object-good/instantiate-object.s,
	* tests/object-good/instantiate-object.u.s,
	* tests/object-good/method-call.-e.s,
	* tests/object-good/method-call.-e.u.s,
	* tests/object-good/method-call.hir,
	* tests/object-good/method-call.hpr,
	* tests/object-good/method-call.lir,
	* tests/object-good/method-call.lpr,
	* tests/object-good/method-call.s,
	* tests/object-good/method-call.u.s,
	* tests/object-good/method-using-self-as-argument.-e.s,
	* tests/object-good/method-using-self-as-argument.-e.u.s,
	* tests/object-good/method-using-self-as-argument.hir,
	* tests/object-good/method-using-self-as-argument.hpr,
	* tests/object-good/method-using-self-as-argument.lir,
	* tests/object-good/method-using-self-as-argument.lpr,
	* tests/object-good/method-using-self-as-argument.s,
	* tests/object-good/method-using-self-as-argument.u.s,
	* tests/object-good/redefining-object.-e.s,
	* tests/object-good/redefining-object.-e.u.s,
	* tests/object-good/redefining-object.hir,
	* tests/object-good/redefining-object.lir,
	* tests/object-good/redefining-object.s,
	* tests/object-good/redefining-object.u.s,
	* tests/object-good/simple-class.-e.s,
	* tests/object-good/simple-class.-e.u.s,
	* tests/object-good/simple-class.hir,
	* tests/object-good/simple-class.lir,
	* tests/object-good/simple-class.s,
	* tests/object-good/simple-class.u.s,
	* tests/object-good/simple-extends.-e.s,
	* tests/object-good/simple-extends.-e.u.s,
	* tests/object-good/simple-extends.hir,
	* tests/object-good/simple-extends.hpr,
	* tests/object-good/simple-extends.lir,
	* tests/object-good/simple-extends.lpr,
	* tests/object-good/simple-extends.s,
	* tests/object-good/simple-extends.u.s,
	* tests/object-good/simple-instantiation.-e.s,
	* tests/object-good/simple-instantiation.-e.u.s,
	* tests/object-good/simple-instantiation.hir,
	* tests/object-good/simple-instantiation.hpr,
	* tests/object-good/simple-instantiation.lir,
	* tests/object-good/simple-instantiation.lpr,
	* tests/object-good/simple-instantiation.s,
	* tests/object-good/simple-instantiation.u.s,
	* tests/object-good/trivial-class.-e.s,
	* tests/object-good/trivial-class.-e.u.s,
	* tests/object-good/trivial-class.hir,
	* tests/object-good/trivial-class.lir,
	* tests/object-good/trivial-class.s,
	* tests/object-good/trivial-class.u.s,
	* tests/object-good/type-simple-class.-e.s,
	* tests/object-good/type-simple-class.-e.u.s,
	* tests/object-good/type-simple-class.hir,
	* tests/object-good/type-simple-class.lir,
	* tests/object-good/type-simple-class.s,
	* tests/object-good/type-simple-class.u.s,
	* tests/object-good/type-simple-extends.-e.s,
	* tests/object-good/type-simple-extends.-e.u.s,
	* tests/object-good/type-simple-extends.hir,
	* tests/object-good/type-simple-extends.lir,
	* tests/object-good/type-simple-extends.s,
	* tests/object-good/type-simple-extends.u.s,
	* tests/object-good/upcast.-e.s,
	* tests/object-good/upcast.-e.u.s,
	* tests/object-good/upcast.hir,
	* tests/object-good/upcast.hpr,
	* tests/object-good/upcast.lir,
	* tests/object-good/upcast.lpr,
	* tests/object-good/upcast.s,
	* tests/object-good/upcast.u.s,
	* tests/object-good/using-members-from-within-the-class.-e.s,
	* tests/object-good/using-members-from-within-the-class.-e.u.s,
	* tests/object-good/using-members-from-within-the-class.hir,
	* tests/object-good/using-members-from-within-the-class.hpr,
	* tests/object-good/using-members-from-within-the-class.lir,
	* tests/object-good/using-members-from-within-the-class.lpr,
	* tests/object-good/using-members-from-within-the-class.s,
	* tests/object-good/using-members-from-within-the-class.u.s,
	* tests/object-good/valid-forward-reference-to-class.-e.s,
	* tests/object-good/valid-forward-reference-to-class.-e.u.s,
	* tests/object-good/valid-forward-reference-to-class.hir,
	* tests/object-good/valid-forward-reference-to-class.lir,
	* tests/object-good/valid-forward-reference-to-class.s,
	* tests/object-good/valid-forward-reference-to-class.u.s,
	* tests/object-good/variable-modification.-e.s,
	* tests/object-good/variable-modification.-e.u.s,
	* tests/object-good/variable-modification.hir,
	* tests/object-good/variable-modification.lir,
	* tests/object-good/variable-modification.s,
	* tests/object-good/variable-modification.u.s,
	* tests/object-good/variable-of-type-object.-e.s,
	* tests/object-good/variable-of-type-object.-e.u.s,
	* tests/object-good/variable-of-type-object.hir,
	* tests/object-good/variable-of-type-object.hpr,
	* tests/object-good/variable-of-type-object.lir,
	* tests/object-good/variable-of-type-object.lpr,
	* tests/object-good/variable-of-type-object.s,
	* tests/object-good/variable-of-type-object.u.s,
	* tests/object-good/vehicle.-e.s,
	* tests/object-good/vehicle.-e.u.s,
	* tests/object-good/vehicle.hir,
	* tests/object-good/vehicle.hpr,
	* tests/object-good/vehicle.lir,
	* tests/object-good/vehicle.lpr,
	* tests/object-good/vehicle.s,
	* tests/object-good/vehicle.u.s,
	* tests/object-good/visitor.-e.s,
	* tests/object-good/visitor.-e.u.s,
	* tests/object-good/visitor.hir,
	* tests/object-good/visitor.hpr,
	* tests/object-good/visitor.lir,
	* tests/object-good/visitor.lpr,
	* tests/object-good/visitor.s,
	* tests/object-good/visitor.u.s,
	* tests/overload-good/overload-function-record-arg.hir,
	* tests/overload-good/overload-function-record-arg.hpr,
	* tests/overload-good/overload-function-record-arg.lir,
	* tests/overload-good/overload-function-record-arg.lpr,
	* tests/overload-good/overload-nil-diambiguated.hir,
	* tests/overload-good/overload-nil-diambiguated.hpr,
	* tests/overload-good/overload-nil-diambiguated.lir,
	* tests/overload-good/overload-nil-diambiguated.lpr:
	Here.

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Optimize the translation of records' first field accesses.

	* src/translate/translation.cc
	(translate::fieldVar, translate::recordExp):
	Replace `binop add <exp> const 0' with `<exp>'.

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Initialize variables when declaring them.

	* src/translate/translation.cc
	(translate::fieldVar, translate::subscriptVar): Here.

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Use extension `gv' for GraphViz files instead of `dot'.

	* TODO.txt,
	* build-aux/bin/bison++.in,
	* dev/ast-gen.mk,
	* dev/ast-graph-gen,
	* dev/stagize,
	* lib/misc/graph.hxx,
	* src/ast/local.mk,
	* src/liveness/libliveness.cc,
	* src/liveness/local.mk,
	* tests/Makefile.am,
	* tests/tc-check.in:
	Here.
	* src/ast/ast.dot: Rename as...
	* src/ast/ast.gv: ...this.

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Pacify g++ 4.8.

	* src/parse/parsetiger.yy: Include the required class declarations
	to have `delete' statements within %destructor clauses work
	properly.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc: Regen.

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Regen the parser (with Bison 3.0.2.13-5e63).

	* src/parse/parsetiger.hh,
	* src/parse/parsetiger.cc:
	Regen.

2014-01-07  Roland Levillain  <roland@lrde.epita.fr>

	Generate and use a Flex C++ scanner.

	* build-aux/bin/flex++.in,
	* lib/misc/flex-lexer.hh:
	New.  Borrowed from Akim's work in Vaucanson 2.
	* lib/misc/local.mk (misc_libmisc_la_SOURCES):
	Add misc/flex-lexer.hh.
	* src/parse/scantiger.ll: Enable option `c++' and disable option
	`noyywrap'.
	Use YY_FLEX_NAMESPACE_BEGIN and YY_FLEX_NAMESPACE_END to enclose
	the implementation of the generated scanner in the namespace
	`parse'.
	(yylex_destroy, TigerParser::scan_open, TigerParser::scan_close):
	Remove funtion definitions.
	(yyFlexLexer::scan_open_, yyFlexLexer::scan_close_):
	New member function definitions.
	(yyFlexLexer::yywrap): New dummy member function definition.
	* src/parse/scantiger.hh: New.
	* src/parse/parsetiger.yy (YY_DECL_, YY_DECL): New macros.
	(parselex): New function.
	* src/parse/tiger-parser.hh (YYLEX_SIGNATURE, YY_DECL):
	Remove macros.  Use parsetiger.yy's YY_DECL_ instead.
	(TigerParser::scanner_): New member.
	(TigerParser::states_): Remove member.
	(TigerParser::scan_open, TigerParser::scan_close):
	Remove member functions.  Replaced by yyFlexLexer::scan_open_ and
	yyFlexLexer::scan_close_.
	* src/parse/tiger-parser.cc
	(TigerParser::TigerParser): Initialize scanner_.
	(TigerParser::parse_): Prepare the scanner's input and adjust the
	implementation to its new interface.
	* src/parse/fwd.hh: Adjust.
	* src/parse/local.mk (FLEXXX, FLEXXX_IN): New variables.
	($(FLEXXX), parse/scantiger.cc): New targets
	(MAINTAINERCLEANFILES): Add parse/scantiger.cc.
	(EXTRA_DIST): Add parse/scantiger.ll
	(parse_libparsetiger_la_SOURCES): Remove parse/scantiger.ll.
	Add parse/scantiger.hh and parse/scantiger.cc.
	* configure.ac: Require Flex 2.5.35 at least.
	No longer rely on AM_PROG_LEX, as we now use the flex++ wrapper to
	generate the scanner.

2014-01-02  Roland Levillain  <roland@lrde.epita.fr>

	Do not distribute src/parse/stack.hh when generating a GLR parser.

	* src/parse/local.mk (SOURCES_PARSETIGER_YY_OTHER): Remove
	parse/stack.hh.
	(dist-hook): New hook, distributing src/parse/stack.hh only with
	non-GLR parsers.

2013-12-18  Roland Levillain  <roland@lrde.epita.fr>

	Regen the parser with Bison 3.0.2.13-5e63.

	* src/parse/parsetiger.hh,
	* src/parse/parsetiger.cc,
	* src/parse/location.hh,
	* src/parse/position.hh:
	Regen.

2013-12-11  Roland Levillain  <roland@lrde.epita.fr>

	Revert to the previous behavior of misc::path.

	* lib/misc/path.cc (misc::path::path ()): Build an empty path
	instead of "/".

2013-12-11  Roland Levillain  <roland@lrde.epita.fr>

	Require Bison 3.0.

	* configure.ac: Here.

2013-12-10  Akim Demaille  <akim@lrde.epita.fr>

	parse: regen

	* src/parse/location.hh, src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh, src/parse/position.hh: Regen.

2013-12-10  Akim Demaille  <akim@lrde.epita.fr>

	build: fix a compiler warning

	* lib/misc/timer.hxx: When NDEBUG is set, task_name is not used,
	hence a warning.

2013-12-10  Akim Demaille  <akim@lrde.epita.fr>

	path: use delegating constructors

	* lib/misc/path.hh, lib/misc/path.cc (init): Fuse into...
	(path(std::string)): here.
	(path(const char*)): Use the latter.

2013-12-10  Akim Demaille  <akim@lrde.epita.fr>

	parse: update to Bison 3.0

	* src/parse/parsetiger.yy: Require 3.0.
	(filename_type): Adjust definition syntax.

2013-12-10  Akim Demaille  <akim@lrde.epita.fr>

	style: formatting changes in codegen

	* src/target/ia32/codegen.cc, src/target/ia32/codegen.hh,
	* src/target/mips/codegen.cc, src/target/mips/codegen.hh:
	Regen with newest monoburg.
	Space changes only (spaces instead of tabulations).

2013-12-09  Roland Levillain  <roland@lrde.epita.fr>

	Update URLs to point to the new Web location.

	* build-aux/leopard.el,
	* dev/install-bison,
	* dev/install-havm,
	* dev/install-monoburg,
	* dev/install-nolimips,
	* dev/tc.texi,
	* src/doc.hh:
	Here.

2013-12-09  Roland Levillain  <roland@lrde.epita.fr>

	Do not hide a `%code requires' section to students.

	* src/parse/parsetiger.yy: Here.
	* src/parse/parsetiger.hh,
	* src/parse/parsetiger.cc:
	Regen.

2013-12-06  Roland Levillain  <roland@lrde.epita.fr>

	Update remote doc installation settings to target the new location.

	* Makefile.am
	(install_doc_user, install_doc_host, install_doc_dir): Here.
	(install-doc): Remove this rule, as it no longer works.
	(install-doc-remote): Call bootstrap instead of autoreconf to
	properly generate all the files required by configure and make.

2013-10-30  Roland Levillain  <roland@lrde.epita.fr>

	Require Libtool 2.2.6.

	* bootstrap: Here.

2013-10-15  Roland Levillain  <roland@lrde.epita.fr>

	Provide AX_CHECK_COMPILE_FLAG.

	* build-aux/ax_check_compile_flag.m4: New.
	Imported from
	http://www.gnu.org/software/autoconf-archive/ax_check_compile_flag.html.
	* configure.ac: Ensure AX_* macros are expanded.

2013-10-10  Roland Levillain  <roland@lrde.epita.fr>

	Add a target to generate tc-base updates.

	* Makefile.am (20%.git): New target.
	(TC_BASE_URL, TC_BASE_BRANCH): New variables.

2013-09-20  Roland Levillain  <roland@lrde.epita.fr>

	Correct two mistakes in lib/misc/test-graph.

	* lib/misc/test-graph.cc (consistency): Ensure the vertex to
	remove is valid.
	Remove all edges to and from a vertex prior to removing the vertex
	itself.

2013-09-19  Roland Levillain  <roland@lrde.epita.fr>

	Work around a link problem regarding code generated by clang++ 3.3.

	* src/assem/instrs.hh
	(assem::Instrs::operator=(const Instrs&))
	(assem::Instrs::operator=(Instrs&&)): Remove `virtual' qualifiers,
	as the code generated by clang++ 3.3 produces the following error
	at link time while linking ti/ti (at least with Mac OS X's Mach-O
	linker):

	  Undefined symbols for architecture x86_64:
	    "___cxa_deleted_virtual", referenced from:
	        vtable for assem::Instrs in libassem.a(instrs.o)
	  ld: symbol(s) not found for architecture x86_64

2013-09-19  Roland Levillain  <roland@lrde.epita.fr>

	Work around a clang++ 3.3 ICE.

	* src/liveness/liveness.cc (liveness::Liveness::Liveness)
	* src/object/desugar-visitor.cc
	(object::DesugarVisitor::type_symbol)
	(object::DesugarVisitor::variant_exp)
	* src/transform/metavar-pool.hxx (transform::MetavarPool::get):
	Use the syntax `x.operator() (y)' instead of `x (y)' to please
	MacPorts' clang++ 3.3.

2013-09-19  Roland Levillain  <roland@lrde.epita.fr>

	Use fully qualified names for routines of the standard library.

	* lib/misc/timer.cc (misc::timer::timeinfo, misc::timer::dump):
	s/setiosflags/std::setiosflags/.
	s/resetiosflags/std::resetiosflags/.
	Reported by clang++ 3.3.

2013-09-19  Roland Levillain  <roland@lrde.epita.fr>

	Improve support for OS X w.r.t clang++ and C++ 2011.

	* configure.ac: Here.

2013-09-19  Roland Levillain  <roland@lrde.epita.fr>

	Use AX_CHECK_COMPILE_FLAG to check compiler flag support.

	* configure.ac: Here.

2013-09-16  Roland Levillain  <roland@lrde.epita.fr>

	Warn if the C++ compiler is neither g++ 4.8 nor clang++ 3.3.

	* configure.ac: here.
	Reported by Arnaud Farbos <arnaud.farbos@epita.fr>.

2013-08-02  Roland Levillain  <roland@lrde.epita.fr>

	Give move semantics to assem::Instrs to prevent multiple deletions.

	* src/assem/instrs.hh (assem::Instrs (const Instrs&))
	(assem::operator=(const Instrs&)):
	Defined these functions members as explicitly deleted.
	(assem::Instrs (Instrs&&)))
	(assem::operator=(Instrs&&)):
	Defined these functions members as explicitly defaulted.
	* src/assem/instrs.hxx (assem::Instrs::~Instrs): Explain why a
	deep destruction of the list's elements is now safe.

2013-08-02  Roland Levillain  <roland@lrde.epita.fr>

	Provide a more accurate documentation for misc::map's insert().

	* lib/misc/map.hh (misc::map<T, N>::insert): Here, to avoid
	confusion with std::list's splice() behavior.

2013-08-02  Roland Levillain  <roland@lrde.epita.fr>

	Use emplace() and friends to save copies (and shorten code).

	* lib/misc/algorithm.hxx (misc::put)
	* lib/misc/endomap.hxx (misc::endo_map<T>::operator[])
	* lib/misc/scoped-map.hxx
	(misc::scoped_map<Key, Data>::scoped_map)
	(misc::scoped_map<Key, Data>::scope_begin)
	* src/bind/renamer.hxx (bind::Renamer::new_name)
	* src/overload/over-table.hxx (overload::OverTable<T>::OverTable)
	* src/liveness/interference-graph.cc
	(liveness::InterferenceGraph::compute_liveness)
	* src/translate/translator.cc
	(translate::Translator::operator() (const ast::WhileExp&))
	(translate::Translator::operator() (const ast::ForExp&))
	* src/type/class.hxx
	(type::Class::attr_add (const ast::VarDec*))
	* src/type/record.hxx
	(type::Record::field_add (const misc::symbol, const Type&)):
	Here.
	Suggested by Akim Demaille <akim@lrde.epita.fr>.
	* lib/misc/map.hh, lib/misc/map.hxx
	(misc::map<T, N>::emplace): New method.

2013-08-01  Roland Levillain  <roland@lrde.epita.fr>

	Make GCC 4.8 the official C/C++ compiler.

	* configure.ac (GCC_PREREQ): Set to 4.8.
	* tests/tc-check.in: Require gcc-4.8 and g++-4.8.

2013-08-01  Roland Levillain  <roland@lrde.epita.fr>

	Announce recently added C++11-related changes.

	* NEWS: Here.

2013-08-01  Roland Levillain  <roland@lrde.epita.fr>

	Regen the parser.

	* src/parse/parsetiger.cc: Regen.

2013-08-01  Roland Levillain  <roland@lrde.epita.fr>

	Introduce the use of inherited constructors.

	* src/tree/fragments.hh, src/tree/fragments.cc
	(tree::Fragments): Here.

2013-08-01  Roland Levillain  <roland@lrde.epita.fr>

	Introduce the use of non-static data member initializers.

	* src/ast/any-decs.hh, src/ast/any-decs.hxx,
	* src/bind/binder.hh, src/bind/binder.cc,
	* src/object/binder.hh, src/object/binder.cc,
	* src/overload/binder.hh, src/overload/binder.cc,
	* src/callgraph/call-graph-visitor.hh,
	* src/callgraph/call-graph-visitor.cc,
	* src/callgraph/parent-graph-visitor.hh,
	* src/callgraph/parent-graph-visitor.cc,
	* src/callgraph/static-link-visitor.hh,
	* src/callgraph/static-link-visitor.cc,
	* src/frame/frame.hh, src/frame/frame.cc,
	* src/target/cpu-limits.hh,
	* src/tree/tree.hh, src/tree/tree.hxx:
	Here.  Remove useless ctors.
	* src/target/cpu-limits.cc: Remove.
	* src/target/local.mk (target_libtarget_la_SOURCES):
	Remove target/cpu-limits.cc.

	* dev/ast-nodes-gen (print_attributes): Generate non-static data
	member initializers where available and...
	* dev/ast.py (Attribute.ctor_init, Node.ctor_init): ...disable the
	corresponding in-ctor initializations.
	* src/ast/break-exp.hh, src/ast/break-exp.cc,
	* src/ast/call-exp.hh, src/ast/call-exp.cc,
	* src/ast/escapable.hh, src/ast/escapable.cc,
	* src/ast/field-var.hh, src/ast/field-var.cc,
	* src/ast/function-dec.hh, src/ast/function-dec.cc,
	* src/ast/method-call-exp.hh, src/ast/method-call-exp.cc,
	* src/ast/name-ty.hh, src/ast/name-ty.cc,
	* src/ast/simple-var.hh, src/ast/simple-var.cc,
	* src/ast/typable.hh, src/ast/typable.cc,
	* src/ast/type-constructor.hh, src/ast/type-constructor.cc:
	Regen.

2013-08-01  Roland Levillain  <roland@lrde.epita.fr>

	Introduce the use of delegating constructors.

	* src/parse/tweast.cc (parse::Tweast::Tweast()):
	Delegate construction to...
	(parse::Tweast::Tweast (const std::string&)):
	...this ctor.

2013-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Use new function declarator syntax.

	* src/astclone/libastclone.hh (applicable): Here.
	Suggested by Akim Demaille <akim@lrde.epita.fr>.
	* src/astclone/libastclone.hxx (apply): Use function pointer's
	implicit dereference syntax.

2013-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Start to use template aliases.

	* src/astclone/libastclone.hh, src/astclone/libastclone.hxx
	(applicable): Turn this (traits) class template into a template
	alias.
	(apply): Adjust.

2013-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Use explicit overrides.

	* dev/ast-cloner-gen,
	* dev/ast-default-visitor-gen,
	* dev/ast-nodes-gen,
	* dev/ast-pretty-printer-gen,
	* dev/transform-all-gen,
	* dev/transform-proxy-visitors-gen,
	* lib/misc/endomap.hh,
	* lib/misc/graph.hh,
	* lib/misc/xalloc.hh,
	* src/assem/fragment.hh,
	* src/assem/layout.hh,
	* src/assem/move.hh,
	* src/assem/oper.hh,
	* src/ast/any-decs.hh,
	* src/ast/default-visitor.hh,
	* src/ast/non-object-visitor.hh,
	* src/bind/binder.hh,
	* src/bind/renamer.hh,
	* src/callgraph/call-graph-visitor.hh,
	* src/callgraph/fundec-graph.hh,
	* src/callgraph/parent-graph-visitor.hh,
	* src/callgraph/static-link-visitor.hh,
	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/desugar-visitor.hh,
	* src/escapes/escapes-check-visitor.hh,
	* src/escapes/escapes-visitor.hh,
	* src/frame/access.hh,
	* src/inlining/inliner.hh,
	* src/inlining/pruner.hh,
	* src/liveness/interference-graph.hh,
	* src/liveness/libliveness.cc,
	* src/object/binder.hh,
	* src/object/desugar-visitor.hh,
	* src/object/renamer.hh,
	* src/overload/binder.hh,
	* src/overload/type-checker.hh,
	* src/regalloc/regallocator.hh,
	* src/target/libtarget.cc,
	* src/target/ia32/cpu.hh,
	* src/target/ia32/gas-assembly.hh,
	* src/target/ia32/gas-layout.hh,
	* src/target/ia32/prologue.hh,
	* src/target/ia32/target.hh,
	* src/target/mips/cpu.hh,
	* src/target/mips/prologue.hh,
	* src/target/mips/spim-assembly.hh,
	* src/target/mips/spim-layout.hh,
	* src/target/mips/target.hh,
	* src/task/boolean-task.hh,
	* src/task/disjunctive-task.hh,
	* src/task/function-task.hh,
	* src/task/int-task.hh,
	* src/task/multiple-string-task.hh,
	* src/task/string-task.hh,
	* src/transform/generic-rewriter.hh,
	* src/transform/generic-traversal.hh,
	* src/transform/rewriter.hh,
	* src/translate/exp.hh,
	* src/translate/translator.hh,
	* src/tree/binop.hh,
	* src/tree/call.hh,
	* src/tree/cjump.hh,
	* src/tree/const.hh,
	* src/tree/eseq.hh,
	* src/tree/fragment.hh,
	* src/tree/jump.hh,
	* src/tree/label.hh,
	* src/tree/mem.hh,
	* src/tree/move.hh,
	* src/tree/name.hh,
	* src/tree/seq.hh,
	* src/tree/sxp.hh,
	* src/tree/temp.hh,
	* src/type/array.hh,
	* src/type/builtin-types.hh,
	* src/type/class.hh,
	* src/type/function.hh,
	* src/type/named.hh,
	* src/type/record.hh,
	* src/type/type-checker.hh:
	Here.
	* src/ast/array-exp.hh,
	* src/ast/array-ty.hh,
	* src/ast/assign-exp.hh,
	* src/ast/break-exp.hh,
	* src/ast/call-exp.hh,
	* src/ast/cast-exp.hh,
	* src/ast/cast-var.hh,
	* src/ast/class-ty.hh,
	* src/ast/dec.hh,
	* src/ast/decs-list.hh,
	* src/ast/exp.hh,
	* src/ast/field-init.hh,
	* src/ast/field-var.hh,
	* src/ast/field.hh,
	* src/ast/for-exp.hh,
	* src/ast/function-dec.hh,
	* src/ast/if-exp.hh,
	* src/ast/int-exp.hh,
	* src/ast/let-exp.hh,
	* src/ast/metavar-exp.hh,
	* src/ast/method-call-exp.hh,
	* src/ast/method-dec.hh,
	* src/ast/name-ty.hh,
	* src/ast/nil-exp.hh,
	* src/ast/object-exp.hh,
	* src/ast/op-exp.hh,
	* src/ast/record-exp.hh,
	* src/ast/record-ty.hh,
	* src/ast/rule-dec.hh,
	* src/ast/seq-exp.hh,
	* src/ast/simple-var.hh,
	* src/ast/string-exp.hh,
	* src/ast/subscript-var.hh,
	* src/ast/ty.hh,
	* src/ast/type-dec.hh,
	* src/ast/var-dec.hh,
	* src/ast/while-exp.hh,
	* src/astclone/cloner.hh,
	* src/target/ia32/codegen.hh,
	* src/target/mips/codegen.hh,
	* src/transform/all.hh,
	* src/transform/proxy-visitors.hh:
	Regen.

2013-07-31  Roland Levillain  <roland@lrde.epita.fr>

	No longer require the Boost Lambda Library.

	* configure.ac: Here.

2013-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Use lambda expressions.

	* src/canon/traces.cc
	(canon::block_frontier_p)
	(canon::label_p):
	Remove functors, and replace their uses (resp.)...
	(canon::Traces::make_basic_blocks)
	(canon::Traces::useless_jump_p):
	...by lambda expressions, here (resp.).
	* src/assem/instrs.cc (assem::same_label_p): Remove functor, and
	replace its use...
	(assem::Instrs::splice): ...by a lambda expression, here.

2013-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Use more initializer lists.

	* src/tree/fragments.hh, src/tree/fragments.cc
	(Fragments (std::initializer_list<tree::Fragment*>)): New ctor.
	* src/target/ia32/test-target.cc,
	* src/target/mips/test-target.cc:
	Here.

2013-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Use range-based for-loops with initializer lists.

	* tree/seq.hxx (Seq::Seq (std::initializer_list<rStm>)): Here.

2013-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Use initializer lists in module tree.

	* src/tree/jump.hxx (tree::Jump::label_get): Here.

2013-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Get rid of a const_cast in assem::Instrs.

	* src/assem/instrs.hh, src/assem/instrs.cc
	(assem::Instrs::splice): Remove this method, as we now rely on...
	(std::list<Instr*>::splice (const_iterator, list<Instr*>&&)):
	...this (inherited) method, required by the C++ 2011 standard.

2013-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Use new and more uniform shortcuts for labels and temps in assemblies.

	* src/target/ia32/gas-assembly.cc (target::ia32::L)
	* src/target/mips/spim-assembly.cc (target::mips::L):
	Rename typedefs as...
	* src/target/ia32/gas-assembly.cc (target::ia32::Ts)
	* src/target/mips/spim-assembly.cc (target::mips::Ts):
	...these.
	* src/target/ia32/gas-assembly.cc (target::ia32::Ls)
	* src/target/mips/spim-assembly.cc (target::mips::Ls):
	New typedefs, used to replace temp::label_list_type.

2013-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Introduce the use of general-purpose initializer lists.

	* src/assem/instrs.hh, src/assem/instrs.cc
	(assem::Instrs::Instrs ()): New explicitely defaulted ctor.
	(assem::Instrs::Instrs (std::initializer_list<Instr*>)): New ctor.
	* src/tree/seq.hh, src/tree/seq.hxx
	(tree::Seq::Seq (std::initializer_list<rStm>)): New ctor.
	* src/ast/test-ast.cc,
	* src/liveness/test-flowgraph.cc,
	* src/parse/parsetiger.yy,
	* src/target/ia32/gas-assembly.cc,
	* src/target/mips/spim-assembly.cc,
	* src/temp/test-temp.cc,
	* src/translate/exp.cc,
	* src/translate/translation.cc,
	* src/translate/translator.cc,
	* ti/ti.cc:
	Simplify some constructions using initializer lists.

2013-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Use std::shared_ptr instead boost::shared_ptr.

	* lib/misc/ref.hh: Here.
	* lib/misc/ref.hxx: Fix headers inclusions.
	s/boost::dynamic_pointer_cast/std::dynamic_pointer_cast/.

2013-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Use std::unique_ptr instead std::auto_ptr.

	* src/callgraph/tasks.cc,
	* src/desugar/libdesugar.cc,
	* src/inlining/libinlining.cc,
	* src/object/libobject.cc,
	* src/object/tasks.cc,
	* src/target/cpu.hh,
	* src/target/tasks.cc,
	* src/target/tasks.hh,
	* src/temp/tasks.cc,
	* src/temp/tasks.hh,
	* src/translate/libtranslate.cc,
	* src/translate/libtranslate.hh,
	* src/translate/tasks.cc,
	* src/translate/tasks.hh,
	* ti/ti.cc:
	Here.

2013-07-25  Roland Levillain  <roland@lrde.epita.fr>

	Fix a comment about the binding of method calls.

	* src/object/binder.cc (Binder::operator() (ast::MethodCallExp&)):
	Here.

2013-07-25  Roland Levillain  <roland@lrde.epita.fr>

	Address warnings about conversions from string constants to char*.

	* src/stc.cc (main): Here.

2013-07-25  Roland Levillain  <roland@lrde.epita.fr>

	Aesthetic changes.

	* src/target/fwd.hh,
	* src/target/ia32/epilogue.cc,
	* src/target/tasks.hh,
	* tcsh/python/ti.py:
	Here.
	* src/target/ia32/codegen.cc: Regen.

2013-07-25  Roland Levillain  <roland@lrde.epita.fr>

	Change IA32 into IA-32 (in relevant places).

	* src/target/ia32/call.brg,
	* src/target/ia32/cpu.hh,
	* src/target/ia32/epilogue.cc,
	* src/target/ia32/gas-assembly.hh,
	* src/target/ia32/gas-layout.cc,
	* src/target/ia32/gas-layout.hh,
	* src/target/ia32/prologue.hh,
	* src/target/ia32/target.hh,
	* src/target/tasks.cc,
	* src/target/tasks.hh,
	* tcsh/python/ti.py,
	* tests/tc-check.in:
	Here.
	* src/target/ia32/codegen.hh,
	* src/target/ia32/codegen.cc:
	Regen.

2013-07-25  Roland Levillain  <roland@lrde.epita.fr>

	Small improvements in the Tiger Interpreter.

	* ti/tiopts.cc (TiOpts::parse): Provide a better description of
	the command line options.
	* ti/ti.cc: Aesthetic changes.

2013-07-25  Roland Levillain  <roland@lrde.epita.fr>

	Fix the IA-32 back end of the Tiger Interpreter.

	* ti/ti.cc (backend_gcc): Pass option -m32 to gcc.
	(backend_asm): Catch up with target::runtime_dump's signature.

2013-07-23  Roland Levillain  <roland@lrde.epita.fr>

	Add the Tiger Project's URL to package information.

	* configure.ac (AC_INIT): Here.

2013-07-23  Roland Levillain  <roland@lrde.epita.fr>

	Overhaul warnings.m4.

	* build-aux/warning.m4 (TC_CXX_FLAGS): Get rid of obsolete code.

2013-07-12  Roland Levillain  <roland@lrde.epita.fr>

	Try to avoid parsetiger.hh's strict-aliasing related warnings.

	* configure.ac: Set NO_STRICT_ALIASING_CXXFLAGS to
	-Wno-strict-aliasing if the compiler supports it.
	* src/parse/local.mk
	(SOURCES_PARSETIGER_YY_PARSER)
	(SOURCES_PARSETIGER_YY_OTHER):
	New variables.
	Use them...
	(SOURCES_PARSETIGER_YY): ...here.
	(parse_libparse_la_SOURCES): Move sources related to
	parse/parsetiger.hh...
	(parse_libparsetiger_la_SOURCES): ...here, so that they are
	separately compiled as a convenience library using...
	(parse_libparsetiger_la_CXXFLAGS): ...these flags, containing
	$(NO_STRICT_ALIASING_CXXFLAGS).
	(nodist_parse_libparser_la_SOURCES): Rename as...
	(nodist_parse_libparsetiger_la_SOURCES): ...this.
	(noinst_LTLIBRARIES): Add parse/libparsetiger.la.
	(parse_libparse_la_LIBADD): New.  Add parse/libparsetiger.la.
	* src/inlining/pruner.cc: Do not include parse/tiger-parser.hh as
	it is not required, thus saving us many warnings regarding strict
	aliasing.

2013-07-12  Roland Levillain  <roland@lrde.epita.fr>

	Add an M4 macro to record supported compiler flags in a variable.

	* build-aux/warning.m4 (TC_CXX_FLAGS): New macro.
	Use it to rewrite...
	(TC_CXX_WARNINGS): ...this macro.

2013-06-05  Roland Levillain  <roland@lrde.epita.fr>

	Retain compatibility with Clang 3.0.

	* target/ia32/test-target.cc,
	* target/mips/test-target.cc:
	Do not use initializer lists at all.

2013-06-04  Roland Levillain  <roland@lrde.epita.fr>

	Aesthetic change in libmisc.

	* lib/misc/escape.hh: Here.

2013-06-03  Roland Levillain  <roland@lrde.epita.fr>

	Update the documention of Tree's Jump instruction.

	* src/tree/README.txt,
	* src/tree/jump.hh:
	Here.

2013-06-03  Roland Levillain  <roland@lrde.epita.fr>

	Improve ChangeLog regeneration.

	* Makefile.am (update-ChangeLog): Here.

2013-06-03  Roland Levillain  <roland@lrde.epita.fr>

	Typo in a Doxygen header.

	* src/tree/jump.hxx: Here.

2013-05-20  Roland Levillain  <roland@lrde.epita.fr>

	More silent rules.

	* src/Makefile.am (stc-runtime.cc): Here.

2013-05-20  Roland Levillain  <roland@lrde.epita.fr>

	* AUTHORS.txt: Typos.

2013-05-03  Roland Levillain  <roland@lrde.epita.fr>

	Fix the name of an argument.

	* src/translate/exp.hh, src/translate/exp.cc
	(translate::Ix::unCx): Rename argument `outer_type' (which was
	wrongly renamed during a batch processing from `outer_t') to
	`t_outer'.  Do not use `outer_t' again, as suffix `_t' should be
	reserved for the C language and POSIX.  Symmetrically, rename
	argument `outer_f' to `f_outer'.

2013-04-16  Roland Levillain  <roland@lrde.epita.fr>

	Use `nullptr' in the parser.

	* src/parse/parsetiger.yy: Here.
	* src/parse/parsetiger.cc: Regen.

2013-04-16  Roland Levillain  <roland@lrde.epita.fr>

	Get rid of `ltihooks' in TCSH.

	* tcsh/python/ltihooks.py: Remove.
	* tcsh/python/Makefile.am (python_PYTHON)
	* dev/stats (PYTHON_TCSH_SOURCES):
	Remove ltihooks.py.
	* tcsh/python/tc.py: No longer import `ltihooks'.
	* tcsh/run.in: Help Python find actual dynamic modules in directory
	`.libs', as suggested by Alexandre Duret-Lutz in
	http://stackoverflow.com/a/5125879/1551751.
	Convert to UTF-8.

2013-04-12  Akim Demaille  <akim@lrde.epita.fr>

	style: fix xalloc style

	* lib/misc/xalloc.hh, lib/misc/xalloc.hxx, lib/misc/xalloc.cc:
	Remove space before parens.
	Fix ctor style.

2013-03-27  Roland Levillain  <roland@lrde.epita.fr>

	Rephrase some comments.

	* src/type/class.hh,
	* src/type/named.hh:
	Here.

2013-03-27  Roland Levillain  <roland@lrde.epita.fr>

	Hide ast::RuleDecs.

	* src/ast/ast.yml (fwd_hh_epilogue): Here.
	Remove a duplicate forward declaraction.
	* src/ast/fwd.hh: Regen.

2013-03-24  Robin Wils  <robin.wils@epita.fr>

	Fixed duplicated error message in functions overloading.

	* src/overload/type-checker.ccL Here.
	When a function was undeclared, the error message was duplicated,
	error recovery was not done for this kind of error.

2013-03-15  Roland Levillain  <roland@lrde.epita.fr>

	Regen tests' outputs.

	* tests/good/mutually-recursive-functions.-e.s,
	* tests/good/mutually-recursive-functions.-e.u.s,
	* tests/good/mutually-recursive-functions.hir,
	* tests/good/mutually-recursive-functions.hpr,
	* tests/good/mutually-recursive-functions.lir,
	* tests/good/mutually-recursive-functions.lpr,
	* tests/good/mutually-recursive-functions.s,
	* tests/good/mutually-recursive-functions.u.s,
	* tests/good/mutually-recursive-procedures.-e.s,
	* tests/good/mutually-recursive-procedures.-e.u.s,
	* tests/good/mutually-recursive-procedures.hir,
	* tests/good/mutually-recursive-procedures.hpr,
	* tests/good/mutually-recursive-procedures.lir,
	* tests/good/mutually-recursive-procedures.lpr,
	* tests/good/mutually-recursive-procedures.s,
	* tests/good/mutually-recursive-procedures.u.s,
	* tests/type/field-in-not-record.tc-err:
	Regen.

2013-03-15  Roland Levillain  <roland@lrde.epita.fr>

	Aesthetic changes in tests.

	* tests/good/array.tig,
	* tests/good/for-in-let.tig,
	* tests/good/shadowing-functions.tig,
	* tests/type/field-in-not-record.tig,
	* tests/type/types-endless-recursion.tig:
	Here.
	* tests/good/mutually-recursive-functions.tig:
	Rename this test as...
	* tests/good/mutually-recursive-procedures.tig:
	...this, and vice versa.

2013-03-15  Roland Levillain  <roland@lrde.epita.fr>

	Remove tests/type/test52.tig, which duplicates tests/type/test43.tig.

	* tests/type/test52.tig: Remove.
	* tests/type/test52.tc-err,
	* tests/type/test52.tc-sta:
	Remove outputs.

2013-03-14  Roland Levillain  <roland@lrde.epita.fr>

	Remove test mandelbrot.tig.

	* tests/good/mandelbrot.tig: Remove this test, as it produces
	different outputs with HAVM and Nolimips.
	* tests/good/mandelbrot.-e.s,
	* tests/good/mandelbrot.-e.u.s,
	* tests/good/mandelbrot.err,
	* tests/good/mandelbrot.hir,
	* tests/good/mandelbrot.hpr,
	* tests/good/mandelbrot.lir,
	* tests/good/mandelbrot.lpr,
	* tests/good/mandelbrot.out,
	* tests/good/mandelbrot.s,
	* tests/good/mandelbrot.sta,
	* tests/good/mandelbrot.u.s:
	Remove outputs.

2013-03-14  Roland Levillain  <roland@lrde.epita.fr>

	More silent rules.

	* tcsh/generate-swig-mk: Emit silent rules.

2013-03-14  Roland Levillain  <roland@lrde.epita.fr>

	* configure.ac: Remove the MODULES variable, no longer used.

2013-03-13  Roland Levillain  <roland@lrde.epita.fr>

	Fix the signature of type::Function's ctor in the documentation.

	* src/type/README.txt: Here.
	Reported by Alexandre Rinville <rinvil_a@epita.fr>.

2013-03-11  Roland Levillain  <roland@lrde.epita.fr>

	Fix the distribution w.r.t. the AST matcher generator.

	* dev/stagize: Regen the AST matcher and refresh its timestamp if
	needed.
	* dev/Makefile.am (dist_noinst_SCRIPTS): Add transform-matcher-gen.
	* src/transform/local.mk (BUILT_SOURCES): Add transform/matcher.hh
	and transform/matcher.cc.

2013-03-11  Roland Levillain  <roland@lrde.epita.fr>

	Typo in comment.

	* src/object/binder.cc: Here.

2013-03-07  Roland Levillain  <roland@lrde.epita.fr>

	Regen tests' outputs.

	* tests/import-syntax/import-exp.tc-err: Regen.

2013-03-07  Roland Levillain  <roland@lrde.epita.fr>

	Remove old Vcs helpers.

	* vcs/tiger.rb,
	* lib/argp/vcs/local.rb:
	Remove.

2013-03-07  Roland Levillain  <roland@lrde.epita.fr>

	Use uniform shebangs.

	* build-aux/bin/move-if-change,
	* debian/rules,
	* dev/ampersand.rb,
	* dev/ast-all-gen,
	* dev/ast-fwd-gen,
	* dev/ast-ignores-gen,
	* dev/ast-pretty-printer-gen,
	* dev/ast-visitor-gen,
	* dev/transform-proxy-visitors-gen,
	* tcsh/generate-swig-mk,
	* tcsh/run.in,
	* tools/tiger-interpretor.pl:
	Here.

2013-03-07  Roland Levillain  <roland@lrde.epita.fr>

	Remove trailing whitespaces.

	* bistromatig/Makefile.am,
	* bistromatig/bistromatig-r10.tig,
	* bistromatig/bistromatig.tig,
	* bistromatig/mp-add.tig,
	* bistromatig/mp-div.tig,
	* bistromatig/mp-mul.tig,
	* bistromatig/mp-r10-add.tig,
	* bistromatig/mp-sub.tig,
	* bistromatig/sugar.tih,
	* build-aux/leopard.el,
	* build-aux/pypath.m4,
	* build-aux/tiger.el,
	* dev/stats,
	* dev/tc.texi,
	* src/astclone/libastclone.hh,
	* src/object/binder.hh,
	* src/target/ia32/runtime-gnu-linux.s,
	* src/target/mips/runtime.s,
	* src/target/tiger-runtime.c,
	* src/translate/translator.hh,
	* tcsh/python/Makefile.am,
	* tcsh/python/ti.py,
	* tcsh/ruby/ltrequire.rb,
	* tests/good/concurrent-arguments.tig,
	* tests/good/getchar-no-static-string.tig,
	* tests/good/mandelbrot.tig,
	* tests/good/mini-morpho.tig,
	* tests/good/side-effects.tig,
	* tests/object-good/five-name-spaces.tig,
	* tests/object-good/visitor.tig,
	* tests/object-type/invalid-forward-references-to-members.tig,
	* tools/toc.php:
	Here.

2013-03-07  Roland Levillain  <roland@lrde.epita.fr>

	Replace more tab characters.

	* configure.ac,
	* bistromatig/bigint.tih,
	* bistromatig/bistromatig.tih,
	* bistromatig/sugar.tih,
	* dev/ast-all-gen,
	* dev/ast-default-visitor-gen,
	* dev/ast-fwd-gen,
	* dev/ast-nodes-mk-gen,
	* dev/ast-pretty-printer-gen,
	* dev/ast-visitor-gen,
	* dev/ast.py,
	* dev/tc.css,
	* lib/misc/tiger_misc.i,
	* src/liveness/tiger_liveness.i,
	* src/parse/tiger-parser.cc,
	* src/parse/tiger_parse.i,
	* src/target/ia32/test-target.cc,
	* src/target/mips/test-target.cc,
	* src/target/tiger-runtime.c,
	* src/tiger_common.i,
	* tests/good/mandelbrot.tig:
	Here.
	* src/ast/visitor.hh: Regen.

2013-03-07  Roland Levillain  <roland@lrde.epita.fr>

	Help Doxygen generate valid URLs.

	* src/doc.hh: Here, by removing a trailing full spot.

2013-03-07  Roland Levillain  <roland@lrde.epita.fr>

	Typos in comment.

	* src/parse/libparse.hh,
	* src/parse/tiger-parser.cc:
	Here.

2013-03-07  Roland Levillain  <roland@lrde.epita.fr>

	Remove `\n' in Doxygen comments.

	* src/ast/default-visitor.hh,
	* src/bind/binder.hh,
	* src/escapes/escapes-visitor.hh,
	* src/parse/libparse.hh,
	* src/regalloc/color.hh:
	Here.

2013-03-07  Roland Levillain  <roland@lrde.epita.fr>

	Remove useless #include directive.

	* src/escapes/escapes-visitor.hh: Here.

2013-02-26  Roland Levillain  <roland@lrde.epita.fr>

	Fix a memory issue in tree::Fragment.

	* src/tree/fragment.hh (DataFrag::data_): Make this string a copy
	of the original passed to the ctor, as tree::Fragment does not
	have ownership of the original string (which is likely to be owned
	by ast::StringExp).

2013-02-26  Roland Levillain  <roland@lrde.epita.fr>

	Add tests exercising the code generators.

	* src/target/ia32/test-target.cc: New.
	* src/target/ia32/local.mk (TESTS): Add target/ia32/test-target.
	(target_ia32_test_target_LDADD): New.
	* src/target/mips/test-target.cc: New.
	* src/target/mips/local.mk (TESTS): Add target/mips/test-target.
	(target_mips_test_target_LDADD): New.
	* src/tc.mk (libtarget): Add $(libassem) as a dependency.

2013-02-26  Roland Levillain  <roland@lrde.epita.fr>

	Stylistic changes in src/tree.

	* src/tree/call.hh, src/tree/call.cc (Call::Call): Get the list
	of argument as a const reference.
	* src/tree/tree.cc (Tree::~Tree): Do not check whether Tree::temp_
	is null before deleting it, as operator `delete' already takes
	care of this.
	* src/tree/tree.hh, src/tree/tree.hxx,
	* src/tree/trees.hh:
	Fix header guards.

2013-02-26  Roland Levillain  <roland@lrde.epita.fr>

	Make option `--rule-trace' actually work.

	* src/target/tasks.cc (target_mips, target_ia32): Pass
	rule_trace_p to target objects.

2013-02-19  Roland Levillain  <roland@lrde.epita.fr>

	Regen the parser.

	* src/parse/location.hh,
	* src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh,
	* src/parse/position.hh:
	Regen.

2013-02-19  Roland Levillain  <roland@lrde.epita.fr>

	Fix a memory leak related to a DecsList metavar not freed after use.

	* src/parse/parsetiger.yy (decs): After a DecsList metavariable
	has been extracted from the Tweast being parsed and its contents
	spliced (i.e. moved) to the current DecsList, make sure to remove
	the old DecsList (now an empty shell).

2013-02-19  Roland Levillain  <roland@lrde.epita.fr>

	Fix a memory leak related to symbols (mis)used in locations.

	* src/parse/parsetiger.yy: Do not use a pointer to misc::symbol to
	implement the filename of a location, as it requires an uneasy
	manual deallocation.  Use a pointer to a constant std::string
	instead, but still use the misc::symbol to ``allocate'' it: it
	will be freed along with other symbol-related strings.
	* src/parse/tiger-parser.cc (parse::TigerParser::parse_): Adjust:
	allocate the misc::symbol object containing the filename on the
	stack, so that the corresponding string is still created and
	preserved until the end of the program (and then properly freed),
	but without the need to handle the deallocation of the
	misc::symbol itself.
	* src/parse/tiger_parse.i: Adjust.

2013-02-19  Roland Levillain  <roland@lrde.epita.fr>

	Integrate tests/good/mandelbrot.tig into the test suite.

	* tests/Makefile.am (HAVMFLAGS): Increase the maximum stack size
	of the GHC runtime.
	* tests/good/mandelbrot.tig: Reduce the size of the output image
	to shorten computation times.
	* tests/good/mandelbrot.-e.s,
	* tests/good/mandelbrot.-e.u.s,
	* tests/good/mandelbrot.err,
	* tests/good/mandelbrot.hir,
	* tests/good/mandelbrot.hpr,
	* tests/good/mandelbrot.lir,
	* tests/good/mandelbrot.lpr,
	* tests/good/mandelbrot.out,
	* tests/good/mandelbrot.s,
	* tests/good/mandelbrot.sta,
	* tests/good/mandelbrot.u.s:
	New (generated).
	* AUTHORS.txt: Update.

2013-02-19  Pablo Oliveira  <pablo.oliveira@prism.uvsq.fr>

	New test: Mandelbrot set plotting.

	* tests/good/mandelbrot.tig: New.

2013-02-19  Roland Levillain  <roland@lrde.epita.fr>

	Regen tests outputs, including some new ones.

	* tests/import-syntax/import-exp.tc-err,
	* tests/import-syntax/import-exp.tc-sta,
	* tests/import/import-non-existent-file.tc-err,
	* tests/import/import-non-existent-file.tc-sta,
	* tests/import/import-recursive1.tc-err,
	* tests/import/import-recursive1.tc-sta,
	* tests/import/import-recursive2.tc-err,
	* tests/import/import-recursive2.tc-sta,
	* tests/object-bind/extends-different-chunk.tc-err,
	* tests/object-bind/extends-different-chunk.tc-sta,
	* tests/object-bind/invalid-forward-reference-to-class.tc-err,
	* tests/object-bind/invalid-forward-reference-to-class.tc-sta,
	* tests/object-bind/undeclared-extends.tc-err,
	* tests/object-bind/undeclared-extends.tc-sta,
	* tests/object-bind/undeclared-function.tc-err,
	* tests/object-bind/undeclared-function.tc-sta,
	* tests/object-bind/undeclared-variable.tc-err,
	* tests/object-bind/undeclared-variable.tc-sta,
	* tests/object-bind/variable-defined-later.tc-err,
	* tests/object-bind/variable-defined-later.tc-sta,
	* tests/object-syntax/method-call-used-as-lvalue.tc-err,
	* tests/object-syntax/method-call-used-as-lvalue.tc-sta,
	* tests/object-type/attribute-redefined.tc-err,
	* tests/object-type/attribute-redefined.tc-sta,
	* tests/object-type/builtin-object-vs-custom-object.tc-err,
	* tests/object-type/builtin-object-vs-custom-object.tc-sta,
	* tests/object-type/contravariant-method.tc-err,
	* tests/object-type/contravariant-method.tc-sta,
	* tests/object-type/contravariant-return-type.tc-err,
	* tests/object-type/contravariant-return-type.tc-sta,
	* tests/object-type/covariant-method.tc-err,
	* tests/object-type/covariant-method.tc-sta,
	* tests/object-type/covariant-return-type.tc-err,
	* tests/object-type/covariant-return-type.tc-sta,
	* tests/object-type/downcast.tc-err,
	* tests/object-type/downcast.tc-sta,
	* tests/object-type/duplicate-members.tc-err,
	* tests/object-type/duplicate-members.tc-sta,
	* tests/object-type/forward-method-reference-1.tc-err,
	* tests/object-type/forward-method-reference-1.tc-sta,
	* tests/object-type/forward-method-reference-2.tc-err,
	* tests/object-type/forward-method-reference-2.tc-sta,
	* tests/object-type/illegal-redefinition-of-object-1.tc-err,
	* tests/object-type/illegal-redefinition-of-object-1.tc-sta,
	* tests/object-type/illegal-redefinition-of-object-2.tc-err,
	* tests/object-type/illegal-redefinition-of-object-2.tc-sta,
	* tests/object-type/int-as-super-class.tc-err,
	* tests/object-type/int-as-super-class.tc-sta,
	* tests/object-type/invalid-forward-references-to-members.tc-err,
	* tests/object-type/invalid-forward-references-to-members.tc-sta,
	* tests/object-type/method-redefinition-with-different-signature.tc-err,
	* tests/object-type/method-redefinition-with-different-signature.tc-sta,
	* tests/overload-type/overfun-naive-redef.tc-err,
	* tests/overload-type/overfun-naive-redef.tc-sta,
	* tests/overload-type/overfun-nil-ambiguity.tc-err,
	* tests/overload-type/overfun-nil-ambiguity.tc-sta,
	* tests/overload-type/overfun-redef.tc-err,
	* tests/overload-type/overfun-redef.tc-sta:
	New (generated).

2013-02-19  Roland Levillain  <roland@lrde.epita.fr>

	Add rules to generate outputs for more test cases.

	* tests/Makefile.am (gen-outputs): Here.
	(AM_TCFLAGS): Cover all object-* and overload-* directories
	instead of just object-good and overload-good.
	($(srcdir)/%.tc-sta $(srcdir)/%.tc-err): Erase more traces of the
	srcdir.
	(gen-all-outputs): New (shortcut) target.

2013-02-19  Roland Levillain  <roland@lrde.epita.fr>

	Fix the generation of temporary test outputs.

	* tests/Makefile.am ($(srcdir)/%.tc-sta $(srcdir)/%.tc-err)
	($(srcdir)/%.out $(srcdir)/%.err $(srcdir)/%.sta $(srcdir)/%.hpr):
	Generate temporary files in (subdirectories of) the source dir, as
	the build dir no longer contains subdirectories.

2013-02-14  Roland Levillain  <roland@lrde.epita.fr>

	Misc changes for 2015-tc-2.0.

	* src/ast/pretty-printer.hh,
	* src/ast/pretty-printer.cc:
	Show code that students are not expected to write.
	Reorder a few methods.
	(PrettyPrinter::operator() (const CastExp&)): Fix the output of
	this operator.
	* src/ast/test-ast.cc,
	* src/parse/test-tweast.cc:
	Remove uses of `auto', as we prefer not to show students too much
	C++ 2011 features at this stage of the project.
	* lib/misc/variant.hh: Typo.

2013-02-11  Roland Levillain  <roland@lrde.epita.fr>

	* configure.ac, NEWS.txt: Version 1.33a.

2013-02-11  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.33, for 2015-tc-1.0.

	* configure.ac, NEWS.txt: Here.
	* src/version.cc.in: Update copyright years.

2013-02-08  Roland Levillain  <roland@lrde.epita.fr>

	Have monoburg++ remove its work directory (again).

	* build-aux/bin/monoburg++.in: Here.

2013-02-08  Roland Levillain  <roland@lrde.epita.fr>

	Regen the parser and the code generators.

	* src/parse/location.hh,
	* src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh,
	* src/parse/position.hh,
	* src/target/ia32/codegen.cc,
	* src/target/ia32/codegen.hh,
	* src/target/mips/codegen.cc,
	* src/target/mips/codegen.hh:
	Regen.

2013-02-08  Roland Levillain  <roland@lrde.epita.fr>

	Regen mini-morpho's outputs.

	* tests/good/mini-morpho.-e.s,
	* tests/good/mini-morpho.-e.u.s,
	* tests/good/mini-morpho.hir,
	* tests/good/mini-morpho.lir,
	* tests/good/mini-morpho.s,
	* tests/good/mini-morpho.u.s:
	Regen.

2013-02-08  Pablo Oliveira  <pablo.oliveira@prism.uvsq.fr>

	Fix test mini-morpho.tig.

	* tests/good/mini-morpho.tig: Properly handle rows and columns,
	so that non-square images can be processed.

2013-01-21  Akim Demaille  <akim@lrde.epita.fr>

	style: regen codegen without tabulations

	* src/target/ia32/codegen.cc, src/target/ia32/codegen.hh,
	* src/target/mips/codegen.cc, src/target/mips/codegen.hh:
	Use the latest monoburg to get rid of tabs.

2013-01-21  Akim Demaille  <akim@lrde.epita.fr>

	style: avoid tabulations in MonoBurg files

	* src/target/ia32/binop.brg, src/target/ia32/call.brg,
	* src/target/ia32/cjump.brg, src/target/ia32/exp.brg,
	* src/target/ia32/mem.brg, src/target/ia32/move.brg,
	* src/target/ia32/move_load.brg, src/target/ia32/move_store.brg,
	* src/target/ia32/stm.brg, src/target/ia32/temp.brg,
	* src/target/ia32/tree.brg, src/target/mips/binop.brg,
	* src/target/mips/call.brg, src/target/mips/cjump.brg,
	* src/target/mips/exp.brg, src/target/mips/mem.brg,
	* src/target/mips/move.brg, src/target/mips/move_load.brg,
	* src/target/mips/move_store.brg, src/target/mips/stm.brg,
	* src/target/mips/temp.brg, src/target/mips/tree.brg:
	Untabify.

2013-01-21  Akim Demaille  <akim@lrde.epita.fr>

	monoburg++: avoid collisions

	When we have two builds in parallel, they might use colliding
	temporary directories if they have the same basename (but different
	dirnames).

	* build-aux/bin/monoburg++.in ($tmp): Use the full path of the output,
	instead of just the basename.

2013-01-11  Akim Demaille  <akim@lrde.epita.fr>

	maint: upgrade use of obsolete macros

	This is required by Automake 1.13.

	* lib/argp/configure.ac: AM_CONFIG_HEADER and AM_PROG_CC_STDC are
	obsolete, upgrade.

2013-01-10  Roland Levillain  <roland@lrde.epita.fr>

	Regen AST classes and visitors.

	* src/ast/array-exp.cc, src/ast/array-ty.cc,
	* src/ast/assign-exp.cc, src/ast/break-exp.cc,
	* src/ast/call-exp.cc, src/ast/cast-exp.cc,
	* src/ast/cast-var.cc, src/ast/class-ty.cc, src/ast/dec.cc,
	* src/ast/decs-list.cc, src/ast/decs-list.hh, src/ast/exp.cc,
	* src/ast/field-init.cc, src/ast/field-var.cc,
	* src/ast/field.cc, src/ast/for-exp.cc,
	* src/ast/function-dec.cc, src/ast/function-dec.hh,
	* src/ast/if-exp.cc, src/ast/if-exp.hh, src/ast/int-exp.cc,
	* src/ast/let-exp.cc, src/ast/metavar-exp.cc,
	* src/ast/method-call-exp.cc, src/ast/method-dec.cc,
	* src/ast/name-ty.cc, src/ast/nil-exp.cc,
	* src/ast/object-exp.cc, src/ast/op-exp.cc, src/ast/op-exp.hh,
	* src/ast/record-exp.cc, src/ast/record-ty.cc,
	* src/ast/rule-dec.cc, src/ast/seq-exp.cc,
	* src/ast/simple-var.cc, src/ast/string-exp.cc,
	* src/ast/subscript-var.cc, src/ast/ty.cc,
	* src/ast/type-dec.cc, src/ast/var-dec.cc, src/ast/var.cc,
	* src/ast/visitor.hh, src/ast/while-exp.cc,
	* src/transform/all.cc, src/transform/all.hh,
	* src/transform/matcher.cc:
	Regen.

2013-01-10  Roland Levillain  <roland@lrde.epita.fr>

	More before-parenthesis space removals in AST generators.

	* dev/ast-default-visitor-gen,
	* dev/ast-nodes-gen,
	* dev/ast-pretty-printer-gen,
	* dev/ast-visitor-gen,
	* dev/ast.py,
	* dev/transform-all-gen,
	* dev/transform-matcher-gen,
	* src/ast/ast.yml:
	Here.

2013-01-09  Akim Demaille  <akim@lrde.epita.fr>

	ast: regen

2013-01-09  Akim Demaille  <akim@lrde.epita.fr>

	style: untabify in dev

	* dev/ast-cloner-gen, dev/ast-nodes-gen, dev/transform-all-gen,
	* dev/transform-matcher-gen: Untabify.

2013-01-09  Akim Demaille  <akim@lrde.epita.fr>

	ast: regen

	Remove spaces before parens.

2013-01-09  Akim Demaille  <akim@lrde.epita.fr>

	style: remove space before parens in AST generators

	* dev/ast-cloner-gen, dev/ast-nodes-gen, dev/ast.py,
	* dev/transform-all-gen, dev/transform-matcher-gen: Remove spaces
	before parens.

2013-01-04  Roland Levillain  <roland@lrde.epita.fr>

	Require HAVM 0.25.

	* configure.ac: Here.

2013-01-04  Roland Levillain  <roland@lrde.epita.fr>

	Catch up with Bison's new interface.

	* src/parse/parsetiger.yy: Use api.value.type.
	* configure.ac: Require Bison 2.7.

2013-01-04  Akim Demaille  <akim@lrde.epita.fr>

	parse: regen

	* src/parse/parsetiger.cc: Regen.

2013-01-04  Akim Demaille  <akim@lrde.epita.fr>

	parser: require Bison 2.7+

	* src/parse/parsetiger.yy: here.

2013-01-04  Akim Demaille  <akim@lrde.epita.fr>

	style: untabify

	* src/parse/parsetiger.yy, src/parse/scantiger.ll: Untabify.

2013-01-04  Akim Demaille  <akim@lrde.epita.fr>

	parse: regen

	* src/parse/location.hh, src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh, src/parse/position.hh:
	Regenerate.

2013-01-04  Akim Demaille  <akim@lrde.epita.fr>

	transform: remove useless type

	* src/transform/metavar-pool.hxx (append): here.

2013-01-03  Roland Levillain  <roland@lrde.epita.fr>

	More changes in the same spirit as the ones suggested by Cppcheck.

	* dev/ast-cloner-gen: Emit a constructor initializing the sole
	member result_.
	* src/astclone/cloner.hh, src/astclone/cloner.cc: Regen.
	* lib/misc/timer.hh, lib/misc/timer.hxx, lib/misc/timer.cc
	(timer::push, timer::name):
	Pass std::string arguments by reference instead of value.
	(timer::pop): Remove `const' before argument passed by value.
	* src/frame/frame.cc (Frame::Frame): Do not explicitly initialize
	the default-constructed member `formals_'.

2013-01-03  Roland Levillain  <roland@lrde.epita.fr>

	Address some warnings reported by Cppcheck.

	* lib/misc/timer.hh, lib/misc/timer.hxx (timer::pop):
	Pass std::string argument by reference instead of value.
	* callgraph/call-graph-visitor.cc (CallGraphVisitor::caller)
	* callgraph/parent-graph-visitor.cc (ParentGraphVisitor::parent)
	* callgraph/static-link-visitor.cc (StaticLinkVisitor::depth_)
	* frame/frame.cc (Frame::locals_)
	* translate/translator.cc (Translator::hir_naive_p_):
	* target/ia32/epilogue.cc (Codegen::cpu_, Codegen::assembly_)
	* target/mips/epilogue.cc (Codegen::cpu_, Codegen::assembly_)
	Initialize these members in their respective ctor.
	* target/ia32/codegen.cc,
	* target/mips/codegen.cc:
	Regen.
	* escapes/escapes-visitor.hh, escapes/escapes-visitor.cc
	(EscapesVisitor::EscapesVisitor): New ctor, initializing
	EscapesVisitor::depth_.
	* tree/iterator.hxx (Iterator::is_ok): Check std::list non-emptiness
	using empty() instead of size().
	(Iterator::tree_get, Iterator::next): Rely on is_ok() to ensure
	list non-emptiness.

2012-12-18  Roland Levillain  <roland@lrde.epita.fr>

	Have tests bear relevant names.

	* tests/syntax/multi-functions.tig: Change this test to have it
	match its name.
	Move the original contents...
	* tests/syntax/function-without-argument-list.tig:
	...here (new file).
	* tests/syntax/multi-functions.tc-err: Regen.
	* tests/syntax/function-without-argument-list.tc-err,
	* tests/syntax/function-without-argument-list.tc-sta:
	New (generated).

2012-12-18  Roland Levillain  <roland@lrde.epita.fr>

	Fix Makefile pattern rules generating several tests outputs.

	* tests/Makefile.am
	($(srcdir)/%.tc-sta $(srcdir)/%.tc-err)
	($(srcdir)/%.out $(srcdir)/%.err $(srcdir)/%.sta $(srcdir)/%.hpr):
	Do not use `$@' in action to represent the first output, as `$@'
	may stand for any target of the rule; instead, rely on an explicit
	pattern based on `$*'.

2012-12-13  Akim Demaille  <akim@lrde.epita.fr>

	formatting changes: untabify

	git grep -l '       ' |
	  grep -Ee '\.(hxx|hh|cc|hcc|txt|tig|m4)$' |
	   while read f
	   do
	     test -f $f -a -w $f || continue
	     gexpand $f >$f.t
	     perl -pe 's/ +$//' $f.t > $f
	     rm $f.t
	  done

	* best-of.txt, bistromatig/evalexp++.tig,
	* bistromatig/tests/README.txt, lib/misc/algorithm.hxx,
	* lib/misc/contract.cc, lib/misc/contract.hh, lib/misc/endomap.hh,
	* lib/misc/endomap.hxx, lib/misc/error.hh, lib/misc/escape.cc,
	* lib/misc/file-library.cc, lib/misc/file-library.hh
	* lib/misc/generic-variant.hh, lib/misc/generic-variant.hxx
	* lib/misc/graph.hh, lib/misc/graph.hxx, lib/misc/indent.cc
	* lib/misc/list.hh, lib/misc/list.hxx, lib/misc/map.hxx,
	* lib/misc/path.cc, lib/misc/scoped-map.hxx, lib/misc/separator.hxx,
	* lib/misc/set.hh, lib/misc/set.hxx, lib/misc/test-generic-variant.cc
	* lib/misc/test-graph.cc, lib/misc/test-path.cc
	* lib/misc/test-variant.cc, lib/misc/timer.cc, lib/misc/unique.hh
	* src/assem/comment.hxx, src/assem/fragment.cc, src/assem/fragment.hh
	* src/assem/fragment.hxx, src/assem/fragments.cc, src/assem/instr.cc
	* src/assem/instr.hh, src/assem/instr.hxx, src/assem/instrs.cc
	* src/assem/label.hh, src/assem/label.hxx, src/assem/layout.cc
	* src/assem/move.hh, src/assem/move.hxx, src/assem/oper.hh
	* src/assem/oper.hxx, src/ast/pretty-printer.cc, src/ast/tasks.cc
	* src/ast/tasks.hh, src/ast/test-ast.cc, src/astclone/cloner.hxx
	* src/astclone/tasks.cc, src/bind/binder.cc, src/bind/binder.hxx
	* src/bind/renamer.hxx, src/bind/tasks.cc, src/bind/tasks.hh
	* src/bind/test-bind.cc, src/callgraph/fundec-graph.hxx
	* src/callgraph/libcallgraph.cc, src/callgraph/libcallgraph.hh
	* src/callgraph/parent-graph-visitor.cc,
	* src/callgraph/static-link-visitor.cc, src/callgraph/tasks.cc,
	* src/callgraph/tasks.hh, src/canon/basic-block.cc,
	* src/canon/basic-block.hxx, src/canon/canon.cc, src/canon/canon.hh,
	* src/canon/libcanon.cc, src/canon/libcanon.hh, src/canon/tasks.cc,
	* src/canon/tasks.hh, src/canon/traces.cc, src/canon/traces.hh,
	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/desugar-visitor.cc, src/desugar/desugar-visitor.hh,
	* src/desugar/libdesugar.cc, src/desugar/libdesugar.hh,
	* src/desugar/tasks.cc, src/desugar/tasks.hh,
	* src/desugar/test-bound-checking.cc,
	* src/desugar/test-for-loops-desugar.cc,
	* src/desugar/test-string-cmp-desugar.cc,
	* src/escapes/escapes-check-visitor.cc,
	* src/escapes/escapes-visitor.cc, src/escapes/libescapes.cc,
	* src/escapes/libescapes.hh, src/escapes/tasks.hh,
	* src/frame/access.cc, src/frame/access.hh, src/frame/frame.cc,
	* src/inlining/inliner.cc, src/inlining/libinlining.hh,
	* src/inlining/pruner.cc, src/inlining/tasks.hh,
	* src/liveness/flowgraph.hh, src/liveness/flowgraph.hxx,
	* src/liveness/interference-graph.cc,
	* src/liveness/interference-graph.hh, src/liveness/libliveness.cc,
	* src/liveness/libliveness.hh, src/liveness/liveness.cc,
	* src/liveness/liveness.hh, src/liveness/tasks.cc,
	* src/liveness/tasks.hh, src/object/binder.cc,
	* src/object/desugar-visitor.cc, src/object/desugar-visitor.hh,
	* src/object/libobject.cc, src/object/libobject.hh,
	* src/object/renamer.cc, src/object/tasks.cc, src/object/tasks.hh,
	* src/object/test-bind.cc, src/object/test-desugar.cc,
	* src/object/test-parse.cc, src/object/test-type.cc,
	* src/object/type-checker.cc, src/object/type-checker.hh,
	* src/overload/binder.hh, src/overload/liboverload.cc,
	* src/overload/liboverload.hh, src/overload/over-table.hh,
	* src/overload/over-table.hxx, src/overload/tasks.cc,
	* src/overload/tasks.hh, src/overload/type-checker.cc,
	* src/parse/libparse.cc, src/parse/libparse.hh,
	* src/parse/parsetiger.cc, src/parse/stack.hh, src/parse/tasks.cc,
	* src/parse/tasks.hh, src/parse/test-parse.cc,
	* src/parse/test-tweast.cc, src/parse/tiger-parser.cc,
	* src/parse/tiger-parser.hh, src/parse/tweast.cc,
	* src/parse/tweast.hxx, src/regalloc/color.cc, src/regalloc/color.hh,
	* src/regalloc/libregalloc.cc, src/regalloc/libregalloc.hh,
	* src/regalloc/regallocator.cc, src/regalloc/regallocator.hh,
	* src/regalloc/tasks.cc, src/regalloc/tasks.hh,
	* src/regalloc/test-regalloc.cc, src/stc.cc, src/target/cpu.cc,
	* src/target/ia32/epilogue.cc, src/target/ia32/gas-assembly.cc,
	* src/target/ia32/gas-assembly.hh, src/target/ia32/gas-layout.cc,
	* src/target/ia32/gas-layout.hh, src/target/ia32/prologue.hh,
	* src/target/libtarget.cc, src/target/libtarget.hh,
	* src/target/mips/cpu.cc, src/target/mips/epilogue.cc,
	* src/target/mips/prologue.hh, src/target/mips/spim-assembly.cc,
	* src/target/mips/spim-assembly.hh, src/target/mips/spim-layout.cc,
	* src/target/mips/spim-layout.hh, src/target/mips/test-rw_prg.cc,
	* src/target/tasks.cc, src/target/tasks.hh, src/task/boolean-task.cc,
	* src/task/boolean-task.hh, src/task/disjunctive-task.cc,
	* src/task/disjunctive-task.hh, src/task/function-task.cc,
	* src/task/function-task.hh, src/task/int-task.cc,
	* src/task/int-task.hh, src/task/libtask.hh,
	* src/task/multiple-string-task.cc, src/task/multiple-string-task.hh,
	* src/task/string-task.cc, src/task/string-task.hh,
	* src/task/task-register.cc, src/task/task.cc, src/task/task.hh,
	* src/task/tasks.hh, src/tc.cc, src/temp/identifier.hxx,
	* src/temp/label.hh, src/temp/tasks.cc, src/temp/tasks.hh,
	* src/temp/temp-set.cc, src/temp/temp.hh, src/temp/test-temp.cc,
	* src/transform/README.txt, src/transform/all.hxx,
	* src/transform/bottom-up-rewriter.cc,
	* src/transform/bottom-up-rewriter.hh,
	* src/transform/generic-rewriter.hh,
	* src/transform/generic-rewriter.hxx,
	* src/transform/generic-traversal.hh,
	* src/transform/generic-traversal.hxx, src/transform/macros.hh,
	* src/transform/matcher.hh, src/transform/rewriter.cc,
	* src/transform/rewriter.hh, src/transform/sequence.hh,
	* src/transform/sequence.hxx, src/transform/test-concrete.cc,
	* src/transform/test-transform-tests.cc,
	* src/transform/test-transform.cc, src/translate/access.cc,
	* src/translate/access.hxx, src/translate/exp.cc,
	* src/translate/exp.hh, src/translate/exp.hxx, src/translate/level.cc,
	* src/translate/level.hh, src/translate/libtranslate.cc,
	* src/translate/libtranslate.hh, src/translate/tasks.cc,
	* src/translate/tasks.hh, src/translate/translation.cc,
	* src/translate/translation.hh, src/translate/translator.cc,
	* src/tree/README.txt, src/tree/binop.hh, src/tree/call.cc,
	* src/tree/call.hh, src/tree/cjump.cc, src/tree/cjump.hh,
	* src/tree/cjump.hxx, src/tree/eseq.cc, src/tree/eseq.hh,
	* src/tree/fragment.cc, src/tree/fragment.hh, src/tree/fragment.hxx,
	* src/tree/fwd.hh, src/tree/iterator.hxx, src/tree/mem.hh,
	* src/tree/move.hh, src/tree/seq.cc, src/tree/tree.cc,
	* src/tree/tree.hh, src/type/class.cc, src/type/class.hxx,
	* src/type/function.cc, src/type/method.cc, src/type/method.hh,
	* src/type/named.cc, src/type/record.cc, src/type/tasks.cc,
	* src/type/tasks.hh, src/type/test-type.cc, src/type/type-checker.cc,
	* src/type/type-checker.hh, src/type/type-checker.hxx, tcsh/DOC.txt,
	* tcsh/README-deps.txt, tests/bind/fractions-overloaded.tig,
	* tests/bind/print-tree-static.tig, tests/bind/test18.tig,
	* tests/bind/test19.tig, tests/bind/unknown-record.tig,
	* tests/escapes/for-lower.tig, tests/escapes/for-upper.tig,
	* tests/escapes/local-escapes.tig, tests/escapes/recursion.tig,
	* tests/escapes/redeclaration.tig, tests/escapes/rhs-of-a-vardec.tig,
	* tests/good/array-of-alias.tig, tests/good/donald.tig,
	* tests/good/evalexp.tig, tests/good/for-in-let.tig,
	* tests/good/fractions-underloaded.tig, tests/good/if-and-if.tig,
	* tests/good/let-in-for-init.tig, tests/good/letexp-eseq.tig,
	* tests/good/local-vs-global-type.tig, tests/good/many-args.tig,
	* tests/good/many-vars.tig, tests/good/merge.tig,
	* tests/good/mini-morpho.tig,
	* tests/good/mutually-recursive-functions.tig,
	* tests/good/mutually-recursive-procedures.tig,
	* tests/good/print-tree.tig, tests/good/queens.tig,
	* tests/good/shadowing-functions.tig,
	* tests/good/so-many-args-in-rec-func.tig, tests/good/test27.tig,
	* tests/good/test37.tig, tests/good/test42.tig, tests/good/test44.tig,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.tig,
	* tests/object-good/inner-class-with-same-member-names.tig,
	* tests/object-good/vehicle.tig,
	* tests/overload-good/overload-nil-diambiguated.tig,
	* tests/syntax/multi-functions.tig, tests/syntax/multi-types.tig,
	* tests/syntax/multi-vars.tig, tests/syntax/typeid.tig,
	* tests/type/field-in-not-record.tig,
	* tests/type/funarg-type-mismatch.tig, tests/type/missing-arg.tig,
	* tests/type/not-enough-args.tig, tests/type/test14.tig,
	* tests/type/test21.tig, tests/type/test22.tig, tests/type/test23.tig,
	* tests/type/test24.tig, tests/type/test28.tig, tests/type/test29.tig,
	* tests/type/test31.tig, tests/type/test32.tig, tests/type/test40.tig,
	* tests/type/test43.tig, tests/type/test52.tig,
	* tests/type/too-many-args.tig, ti/fork.cc, ti/fork.hh, ti/ti.cc,
	* ti/tiopts.cc, build-aux/bin/authors.h-gen, build-aux/bin/bison++.in,
	* build-aux/bin/logeval-to-csv, build-aux/bin/ls-files,
	* build-aux/bin/monoburg++.in, build-aux/tc-prog.m4,
	* build-aux/warning.m4, build-aux/with-tcsh.m4: here.

2012-12-05  Roland Levillain  <roland@lrde.epita.fr>

	Regen the parser with Bison 2.6.5.1035-843c.

	* src/parse/location.hh,
	* src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh,
	* src/parse/position.hh:
	Regen.

2012-12-05  Roland Levillain  <roland@lrde.epita.fr>

	Use Bison 2.6.5.1035-843c.

	* configure.ac: Require Bison 2.6.
	* src/parse/parsetiger.yy:
	Rename lex_symbol as api.token.constructor
	and api.tokens.prefix as api.token.prefix.

2012-12-05  Roland Levillain  <roland@lrde.epita.fr>

	Require SWIG 2.0.

	* build-aux/with-tcsh.m4: Here.
	* lib/misc/tiger_misc.i: Do not wrap misc::error::operator<<'s.

2012-12-05  Roland Levillain  <roland@lrde.epita.fr>

	Teach Git to ignore build-aux/ar-lib.

2012-11-30  Akim Demaille  <akim@lrde.epita.fr>

	build: please Automake 1.12

	* configure.ac: here.

2012-11-30  Akim Demaille  <akim@lrde.epita.fr>

	authors.h: fix generation

	* build-aux/bin/authors.h-gen (stringify): Beware of special characters.

2012-11-26  Roland Levillain  <roland@lrde.epita.fr>

	Improve ChangeLog generation using gitlog-to-changelog's new options.

	* Makefile.am (update-ChangeLog): Invoke gitlog-to-changelog with
	options ``--no-cluster'' and ``--strip-cherry-pick''.

2012-11-26  Roland Levillain  <roland@lrde.epita.fr>

	Update gitlog-to-changelog from upstream.

	* dev/gitlog-to-changelog: Here.

2012-11-26  Roland Levillain  <roland@lrde.epita.fr>

	Fix a Makefile action.

	* src/target/mips/local.mk: Here.

2012-10-26  Roland Levillain  <roland@lrde.epita.fr>

	More silent rules.

	* dev/ast-gen.mk,
	* src/Makefile.am,
	* src/ast/local.mk,
	* src/astclone/local.mk,
	* src/parse/local.mk,
	* src/target/ia32/local.mk,
	* src/target/mips/local.mk,
	* src/transform/local.mk,
	* tcsh/python/Makefile.am,
	* tcsh/ruby/Makefile.am:
	Here.

2012-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Regen READMEs.

	* src/ast/README.txt,
	* src/ast/README-student.txt:
	Regen.

2012-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Generate READMEs located in src/ast/ in the source tree.

	* src/ast/local.mk
	($(ast_basedir)README.txt, $(ast_basedir)README-student.txt):
	Replace these target with...
	($(ast_srcdir)/README.txt, $(ast_srcdir)/README-student.txt):
	...these.

2012-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Minor changes following the previous changes in src/transform/.

	* dev/tools.py (indef_article, plural, wrap_after_char, wrap_line)
	(wrap_proto, wrap_assignment_of_and_list, banner):
	Convert function documention written in comments to Python
	docstrings.
	* src/ast/ast.yml: Typos.

2012-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Work around a compilation bug in Boost 1.50.

	* src/liveness/liveness.cc: Include boost/utility/enable_if.hpp,
	required by boost/graph/reverse_graph.hpp.

2012-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Help configure find ruby.h when using Ruby 1.9.

	* build-aux/with-tcsh.m4 (_TC_WITH_SWIG): Here.

2012-10-26  Akim Demaille  <akim@lrde.epita.fr>

	build-aux: update tools

	Import from Vaucanson.

	* build-aux/bin/bison++.in: No longer "cd", this produces
	more accurate error message locations, which is nice when
	compiling under Emacs.
	* build-aux/bin/move-if-change: Beware that colordiff
	might now hang on stdin.

2012-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Regen tests' outputs.

	* tests/escapes/for-lower.-e.u.s,
	* tests/escapes/for-lower.hir,
	* tests/escapes/for-lower.lir,
	* tests/escapes/for-scope.-e.u.s,
	* tests/escapes/for-scope.hir,
	* tests/escapes/for-scope.lir,
	* tests/escapes/for-upper.-e.u.s,
	* tests/escapes/for-upper.hir,
	* tests/escapes/for-upper.lir,
	* tests/escapes/variable-inside-for-body.-e.u.s,
	* tests/escapes/variable-inside-for-body.hir,
	* tests/escapes/variable-inside-for-body.lir,
	* tests/good/break-in-for.-e.u.s,
	* tests/good/break-in-for.hir,
	* tests/good/break-in-for.lir,
	* tests/good/chr.-e.s,
	* tests/good/chr.-e.u.s,
	* tests/good/chr.hir,
	* tests/good/chr.lir,
	* tests/good/chr.s,
	* tests/good/chr.u.s,
	* tests/good/for-high-computed-once.-e.u.s,
	* tests/good/for-high-computed-once.hir,
	* tests/good/for-high-computed-once.lir,
	* tests/good/for-high-same-name-as-index.-e.u.s,
	* tests/good/for-high-same-name-as-index.hir,
	* tests/good/for-high-same-name-as-index.lir,
	* tests/good/for-in-let.-e.u.s,
	* tests/good/for-in-let.hir,
	* tests/good/for-in-let.lir,
	* tests/good/for-in-while.-e.u.s,
	* tests/good/for-in-while.hir,
	* tests/good/for-in-while.lir,
	* tests/good/for-scope.-e.u.s,
	* tests/good/for-scope.hir,
	* tests/good/for-scope.lir,
	* tests/good/for-up-to-32bits.-e.u.s,
	* tests/good/for-up-to-32bits.hir,
	* tests/good/for-up-to-32bits.lir,
	* tests/good/for.-e.u.s,
	* tests/good/for.hir,
	* tests/good/for.lir,
	* tests/good/just-a-simple-for-1.-e.u.s,
	* tests/good/just-a-simple-for-1.hir,
	* tests/good/just-a-simple-for-1.lir,
	* tests/good/just-a-simple-for-2.-e.u.s,
	* tests/good/just-a-simple-for-2.hir,
	* tests/good/just-a-simple-for-2.lir,
	* tests/good/let-in-for-init.-e.u.s,
	* tests/good/let-in-for-init.hir,
	* tests/good/let-in-for-init.lir,
	* tests/good/let-in-for-init.s,
	* tests/good/let-in-for-init.u.s,
	* tests/good/mini-morpho.-e.u.s,
	* tests/good/mini-morpho.hir,
	* tests/good/mini-morpho.lir,
	* tests/good/print-tree.-e.u.s,
	* tests/good/print-tree.hir,
	* tests/good/print-tree.lir,
	* tests/good/queens.-e.u.s,
	* tests/good/queens.hir,
	* tests/good/queens.lir,
	* tests/good/substring.-e.u.s,
	* tests/good/substring.hir,
	* tests/good/substring.lir:
	Here.

2012-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Simplify the translation of `for' loops.

	* src/translate/translator.cc
	(translate::Translator::operator() (const ast::ForExp&)):
	No longer translate the upper bound first, as the binder already
	ensures that the index will not capture an outer variable bearing
	the same name.
	Shorten code.

2012-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Factor explicit template instantiations.

	* src/temp/label.hh,
	* src/temp/temp.hh
	(MAYBE_EXTERN) [!MAYBE_EXTERN]:
	Define as `extern'.
	s/extern/MAYBE_EXTERN/.
	* src/temp/label.cc,
	* src/temp/temp.cc:
	Remove explicit template instantiation definitions.
	Define MAYBE_EXTERN (as an empty macro) before including the
	previous explicit template instantiation declarations, so as to
	turn them into definitions.
	Suggested by Akim Demaille <akim@lrde.epita.fr>.

2012-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Get rid of *.hcc files.

	* src/temp/identifier.hcc: Rename as...
	* src/temp/identifier.hxx: ...this.
	Adjust.
	* src/temp/identifier.hh: Include src/temp/identifier.hxx.
	* src/temp/temp.cc,
	* src/temp/label.cc:
	Do not include temp/identifier.hcc.
	Reorganize.
	* src/temp/local.mk (temp_libtemp_la_SOURCES):
	Adjust paths.
	* doc/Doxyfile.in (FILE_PATTERNS): Remove *.hcc.

2012-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Introduce explicit template instantiation declarations.

	* lib/misc/endomap.hcc,
	* lib/misc/list.hcc:
	Rename as...
	* lib/misc/endomap.hxx,
	* lib/misc/list.hxx:
	...this.
	Adjust.
	* src/temp/label.cc,
	* src/temp/temp.cc:
	Adjust paths.
	Improve comments.
	* lib/misc/endomap.hh: Include lib/misc/endomap.hxx.
	* lib/misc/list.hh: Include lib/misc/list.hxx.
	* lib/misc/local.mk (misc_libmisc_la_SOURCES): Update paths.
	* src/temp/label.hh,
	* src/temp/temp.hh:
	Add explicit template instantiation declarations (`extern
	template' statements) for each explicit template instantiation
	definition in src/temp/label.cc and src/temp/temp.cc.
	(temp::Identifier<label_traits>::count_)
	(temp::Identifier<temp_traits>::count_):
	Declare these static member specializations ahead of the
	explicit template instantiation declarations, so that the compiler
	is aware of them at the time it processes the aforementioned
	explicit template specializations.
	* src/temp/libtemp.hh: Include temp/temp.hh.

2012-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Remove useless #include directives.

	* lib/misc/list.hh,
	* src/assem/instr.hh,
	* src/assem/move.hxx,
	* src/canon/basic-block.cc,
	* src/canon/traces.cc,
	* src/target/cpu-limits.hh,
	* src/target/cpu.cc,
	* src/target/cpu.hh,
	* src/target/ia32/gas-assembly.cc,
	* src/target/mips/spim-assembly.cc,
	* src/temp/fwd.hh,
	* src/tree/cjump.hh,
	* src/tree/jump.hh:
	Here.

2012-10-19  Roland Levillain  <roland@lrde.epita.fr>

	Document the different types of files contained in tests/*/.

	* tests/README.txt: Here.

2012-10-19  Roland Levillain  <roland@lrde.epita.fr>

	Document the organization of the test suite.

	* tests/README.txt: New.
	* tests/Makefile.am (EXTRA_DIST): Add README.txt.

2012-09-17  Roland Levillain  <roland@lrde.epita.fr>

	Reintroduce `auto' in dynamic_casts of const references.

	* src/type/type-checker.cc,
	* src/type/type-checker.hxx:
	Here.
	Suggested by Akim Demaille <akim@lrde.epita.fr>.

2012-09-14  Roland Levillain  <roland@lrde.epita.fr>

	Turn dynamically-cast-then-checked pointers into references.

	* src/type/type-checker.cc
	(type::TypeChecker::operator() (ast::CallExp&))
	(type::TypeChecker::visitDecBody<ast::TypeDec> (ast::TypeDec&))
	* src/type/type-checker.hxx (type::TypeChecker::visitRoutineBody):
	Here.
	Suggested by Akim Demaille <akim@lrde.epita.fr>.

2012-09-05  Roland Levillain  <roland@lrde.epita.fr>

	Fix typos.

	* src/regalloc/tasks.hh,
	* src/target/tasks.hh,
	* src/tree/tree.hh:
	Here.

2012-09-05  Roland Levillain  <roland@lrde.epita.fr>

	Improve the style and the documentation of misc::timer.

	* lib/misc/timer.hh,
	* lib/misc/timer.hxx,
	* lib/misc/timer.cc:
	Here.

2012-08-28  Roland Levillain  <roland@lrde.epita.fr>

	Convert more files to UTF-8.

	* NEWS.txt,
	* the-tiger.txt:
	Here.

2012-08-28  Roland Levillain  <roland@lrde.epita.fr>

	Avoid gratuitous uses of extended ASCII characters.

	* src/temp/identifier.hh,
	* src/desugar/tasks.hh,
	* src/desugar/test-for-loops-desugar.cc:
	Here.
	* src/desugar/test-string-cmp-desugar.cc: Likewise.
	Fix comments.

2012-07-26  Roland Levillain  <roland@lrde.epita.fr>

	Properly update locations w.r.t. multibyte newlines.

	* src/parse/scantiger.ll: Process newlines one by one to keep an
	accurate record of the number of lines seen so far, at the expense
	of the scanner's speed.
	Reported by Akim Demaille <akim@lrde.epita.fr>.

2012-07-18  Roland Levillain  <roland@lrde.epita.fr>

	Factor explicit template instantiations.

	* src/temp/label.hh,
	* src/temp/temp.hh
	(MAYBE_EXTERN) [!MAYBE_EXTERN]:
	Define as `extern'.
	s/extern/MAYBE_EXTERN/.
	* src/temp/label.cc,
	* src/temp/temp.cc:
	Remove explicit template instantiation definitions.
	Define MAYBE_EXTERN (as an empty macro) before including the
	previous explicit template instantiation declarations, so as to
	turn them into definitions.
	Suggested by Akim Demaille <akim@lrde.epita.fr>.

2012-07-18  Roland Levillain  <roland@lrde.epita.fr>

	Get rid of *.hcc files.

	* src/temp/identifier.hcc: Rename as...
	* src/temp/identifier.hxx: ...this.
	Adjust.
	* src/temp/identifier.hh: Include src/temp/identifier.hxx.
	* src/temp/temp.cc,
	* src/temp/label.cc:
	Do not include temp/identifier.hcc.
	Reorganize.
	* src/temp/local.mk (temp_libtemp_la_SOURCES):
	Adjust paths.
	* doc/Doxyfile.in (FILE_PATTERNS): Remove *.hcc.

2012-07-17  Roland Levillain  <roland@lrde.epita.fr>

	Introduce explicit template instantiation declarations.

	* lib/misc/endomap.hcc,
	* lib/misc/list.hcc:
	Rename as...
	* lib/misc/endomap.hxx,
	* lib/misc/list.hxx:
	...this.
	Adjust.
	* src/temp/label.cc,
	* src/temp/temp.cc:
	Adjust paths.
	Improve comments.
	* lib/misc/endomap.hh: Include lib/misc/endomap.hxx.
	* lib/misc/list.hh: Include lib/misc/list.hxx.
	* lib/misc/local.mk (misc_libmisc_la_SOURCES): Update paths.
	* src/temp/label.hh,
	* src/temp/temp.hh:
	Add explicit template instantiation declarations (`extern
	template' statements) for each explicit template instantiation
	definition in src/temp/label.cc and src/temp/temp.cc.
	(temp::Identifier<label_traits>::count_)
	(temp::Identifier<temp_traits>::count_):
	Declare these static member specializations ahead of the
	explicit template instantiation declarations, so that the compiler
	is aware of them at the time it processes the aforementioned
	explicit template specializations.
	* src/temp/libtemp.hh: Include temp/temp.hh.

2012-06-29  Roland Levillain  <roland@lrde.epita.fr>

	Remove useless #include directives.

	* lib/misc/list.hh,
	* src/assem/instr.hh,
	* src/assem/move.hxx,
	* src/canon/basic-block.cc,
	* src/canon/traces.cc,
	* src/target/cpu-limits.hh,
	* src/target/cpu.cc,
	* src/target/cpu.hh,
	* src/target/ia32/gas-assembly.cc,
	* src/target/mips/spim-assembly.cc,
	* src/temp/fwd.hh,
	* src/tree/cjump.hh,
	* src/tree/jump.hh:
	Here.

2012-05-15  Roland Levillain  <roland@lrde.epita.fr>

	Have TCSH/Python be robust w.r.t. Bison 2.5's new C++ API.

	* src/parse/tiger_parse.i: Do not wrap parse::position::initialize
	nor parse::location::initialize.

2012-05-14  Roland Levillain  <roland@lrde.epita.fr>

	Regen tests outputs with no encoding (as unibyte chars), as previously.

	* tests/good/string-backslash-octal.out,
	* tests/good/string-backslash-tortured.out:
	Here.

2012-04-23  Roland Levillain  <roland@lrde.epita.fr>

	Require Nolimips 0.9.

	* configure.ac: Here.

	Require MonoBURG 1.0.6.

	* configure.ac: Here.

2012-04-12  Akim Demaille  <akim@lrde.epita.fr>

	headers: fix some guards.

	* src/assem/instrs.hh, src/callgraph/static-link-visitor.hh: here.
	Comment changes only.

	reheader: clean up and complete.

	* dev/reheader: Remove comment code.
	Use "local" when using $_.
	Insert the CPP guards when they are not part of the file.

2012-03-12  Roland Levillain  <roland@lrde.epita.fr>

	Require HAVM 0.24.

	* configure.ac: Here.

2012-03-05  Roland Levillain  <roland@lrde.epita.fr>

	Prepare 2014-tc-5.0.

	* src/tree/README.txt,
	* src/tree/tree.hh:
	Update documentation.
	* src/tree/fragment.hxx: Include tree/fwd.hh instead of tree/all.hh.
	* src/tree/fragment.cc: Adjust headers inclusions.
	Aesthetic changes.
	* src/frame/access.cc: Likewise.
	* src/frame/access.hh (frame::Access::exp (const tree::rExp&)):
	Change the documentation.
	* src/translate/level.cc (translate::Level::fp): Hide some code.
	* src/translate/translator.hh
	(translate::Translator (Translator&)): Remove ctor.
	(translate::Translator (const Translator&))
	(translate::Translator& operator= (const Translator&)):
	New explicitly deleted methods.

	Kill a warning in the Tiger Interpreter.

	* ti/ti.cc (main): Remove a useless local declaration of
	program_name.

2012-03-05  Roland Levillain  <roland@lrde.epita.fr>

	Prepare 2014-tc-5.0.

	* src/tree/README.txt,
	* src/tree/tree.hh:
	Update documentation.
	* src/tree/fragment.hxx: Include tree/fwd.hh instead of tree/all.hh.
	* src/tree/fragment.cc: Adjust headers inclusions.
	Aesthetic changes.
	* src/frame/access.cc: Likewise.
	* src/frame/access.hh (frame::Access::exp (const tree::rExp&)):
	Change the documentation.
	* src/translate/level.cc (translate::Level::fp): Hide some code.
	* src/translate/translator.hh
	(translate::Translator (Translator&)): Remove ctor.
	(translate::Translator (const Translator&))
	(translate::Translator& operator= (const Translator&)):
	New explicitly deleted methods.

	Kill a warning in the Tiger Interpreter.

	* ti/ti.cc (main): Remove a useless local declaration of
	program_name.

2012-02-22  Roland Levillain  <roland@lrde.epita.fr>

	Factor code in tc-check.

	* tests/tc-check.in (load_tests): Merge object-related
	type-checking test cases into the main TC-4 test suite.

	Relax tc-check interface constraints w.r.t. TC-3.

	* tests/tc-check.in (load_tests): Do not require option
	`--object-bindings-compute' to execute TC-3 tests.

	Distribute build-aux/bin/fuse-switch.

	* build-aux/local.mk (dist_noinst_SCRIPTS):
	Add build-aux/bin/fuse-switch.
	Reported by Victor Tram <tram_v@epita.fr>.

2012-02-20  Roland Levillain  <roland@lrde.epita.fr>

	Fix the instructions at the end of make-git-tc-base.

	* dev/make-git-tc-base: Here.

2012-02-20  Roland Levillain  <roland@lrde.epita.fr>

	Add a script to initialize a public TC repository.

	* dev/make-git-tc-base: New.

	Remove more generated files from student tarballs.

	* dev/stagize: Here.

	Reorganize .gitignore files.

	Use plain diff instead of diff-r to produce faithful patches.

	* Makefile.am (%.diff): Here.

	Update stagize to catch up with the new interface of bison++.

	* dev/stagize: Here.

	build-aux/bin/bison++.in: Remove `set -x'.

2012-02-20  Akim Demaille  <demaille@gostai.com>

	regen.

	Something is fishy here: this is basically reverting commit
	3bc335a8b119681d210cd88cf6c6e66a0b03d9ac which is also regenerating
	using this very same version of Bison.  Something is broken somewhere.

	* src/parse/parsetiger.hh, src/parse/parsetiger.cc: Regen.

	maint: upgrade bison++.

	* build-aux/bin/fuse-switch: New.
	* build-aux/bin/bison++.in: Upgrade: use fuse-switch (does not
	make any difference in the case of tc), support more options,
	support verbosity levels.
	* src/parse/local.mk: Fix the bison++ regeneration.
	(BISONXXFLAGS, AM_BISONFLAGS): New.
	(FROM_PARSETIGER_YY): Rename as...
	(SOURCES_PARSETIGER_YY): this, for clarity.
	Use silent-rules.

2012-02-17  Akim Demaille  <demaille@gostai.com>

	move-if-change: in colors (no 3d available).

	* build-aux/bin/move-if-change: Sync with Urbi.

2012-02-17  Roland Levillain  <roland@lrde.epita.fr>

	Tighten type checking in escapes::EscapesVisitor.

	* src/escapes/escapes-visitor.hh
	(escapes::EscapesVisitor::escapes_): Change the key type from
	`const ast::Ast*' to `const ast::VarDec*'.

	dev/diff-r: Do not exclude pattern ``testsuite''.

2012-02-08  Roland Levillain  <roland@lrde.epita.fr>

	Remove `bound's dependency on `overfun-types-compute' before TC-3.

	* src/bind/tasks.hh: Here.
	* dev/stagize: Adjust.

	Generate outputs of tests/good/empty-parens.tig.

	* tests/good/empty-parens.-e.s,
	* tests/good/empty-parens.-e.u.s,
	* tests/good/empty-parens.err,
	* tests/good/empty-parens.hir,
	* tests/good/empty-parens.hpr,
	* tests/good/empty-parens.lir,
	* tests/good/empty-parens.lpr,
	* tests/good/empty-parens.out,
	* tests/good/empty-parens.s,
	* tests/good/empty-parens.sta,
	* tests/good/empty-parens.u.s:
	New.  Generated using
	``make gen-outputs INPUTS=<srcdir>/good/empty-parens.tig''.

	Add a target to explicitly generate/update a test's outputs.

	* tests/Makefile.am (gen-outputs): New target.
	(good_prog_exts, good_obj_prog_exts, bad_prog_exts): New.

	Exercise empty sequences of expressions.

	* tests/good/empty-parens.tig: New.
	Suggested by Akim Demaille <akim@lrde.epita.fr>.

	Remove a superfluous attribute and its accessor in transform::All.

	* dev/transform-all-gen: Here.
	* src/transform/all.hh, src/transform/all.cc: Regen.

	Clean up ChangeLog.

	Fix Argp's build system.

	* configure.ac: No longer configure testsuite/Makefile.

2012-02-02  Akim Demaille  <demaille@gostai.com>

	argp: upgrade test suite.

	* lib/argp/configure.ac: Request parallel test suite.
	* lib/argp/testsuite/Makefile.am: Rename as...
	* lib/argp/testsuite/local.mk: this.
	Adjust.
	* lib/argp/testsuite/ex1-test, lib/argp/testsuite/permute-test,
	* lib/argp/Makefile.am: .
	Adjust.

2012-02-01  Roland Levillain  <roland@lrde.epita.fr>

	Update and clean up ChangeLog.

	Misc changes.

	* configure.ac, NEWS.txt: Version 1.32a.
	* AUTHORS.txt, src/version.cc.in: Update copyright years.
	* src/parse/parsetiger.yy: Do not show TC-2 related FIXMEs before
	TC-2.

	AUTHORS.txt: Update copyright dates.

2012-01-27  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.32.

	* configure.ac, NEWS.txt: Here.
	* AUTHORS.txt: Update.

	Make GCC 4.6 the official C/C++ compiler.

	* configure.ac (GCC_PREREQ): Set to 4.6.
	* tests/tc-check.in: Require gcc-4.6 and g++-4.6.

	Use range-based for-loops instead of iterator-based for-loops.

	* lib/misc/file-library.cc,
	* lib/misc/map.hxx,
	* lib/misc/path.cc,
	* lib/misc/scoped-map.hxx,
	* lib/misc/set.hxx,
	* lib/misc/timer.cc,
	* src/ast/ast.yml,
	* src/canon/canon.cc,
	* src/overload/type-checker.cc,
	* src/target/ia32/stm.brg,
	* src/target/mips/stm.brg:
	Here.
	* src/ast/function-dec.hh,
	* src/target/ia32/codegen.cc,
	* src/target/mips/codegen.cc:
	Regen.

	No longer require BOOST_FOREACH.

	* configure.ac: Here.

	Use range-based for-loops instead of std::for_each.

	* lib/misc/algorithm.hxx (misc::deep_clear): Here.
	(misc::Delete): Remove functor.

	Use range-based for-loops instead of BOOST_FOREACH.

	* src/assem/fragments.cc,
	* src/assem/instrs.cc,
	* src/astclone/cloner.hxx,
	* src/bind/binder.hxx,
	* src/callgraph/call-graph-visitor.cc,
	* src/callgraph/parent-graph-visitor.cc,
	* src/canon/traces.cc,
	* src/desugar/bound-checking-visitor.cc,
	* src/frame/frame.cc,
	* src/inlining/inliner.cc,
	* src/inlining/pruner.cc,
	* src/liveness/flowgraph.hxx,
	* src/liveness/interference-graph.cc,
	* src/object/binder.cc,
	* src/object/desugar-visitor.cc,
	* src/object/renamer.cc,
	* src/object/type-checker.cc,
	* src/overload/binder.cc,
	* src/overload/over-table.hxx,
	* src/overload/type-checker.cc,
	* src/parse/tweast.cc,
	* src/parse/tweast.hxx,
	* src/regalloc/color.cc,
	* src/target/cpu.cc,
	* src/target/ia32/epilogue.cc,
	* src/target/mips/epilogue.cc,
	* src/task/task-register.cc,
	* src/task/task.cc,
	* src/transform/all.hxx,
	* src/transform/concrete-syntax-rewriter.cc,
	* src/translate/level.cc,
	* src/translate/translation.cc,
	* src/translate/translator.cc,
	* src/tree/call.cc,
	* src/tree/fragment.cc,
	* src/tree/tree.hxx,
	* src/type/class.cc,
	* src/type/class.hxx,
	* src/type/record.cc,
	* src/type/type-checker.cc,
	* ti/ti.cc:
	Here.
	* src/target/ia32/prologue.hh,
	* src/target/mips/prologue.hh:
	Include header `cstring' for memset().
	* src/target/ia32/codegen.cc,
	* src/target/ia32/codegen.hh,
	* src/target/mips/codegen.cc,
	* src/target/mips/codegen.hh:
	Regen.
	* lib/misc/foreach.hh: Remove.
	* lib/misc/local.mk (misc_libmisc_la_SOURCES):
	Remove misc/foreach.hh.

	Use `nullptr' instead of `NULL'.

	* src/assem/fragments.cc,
	* src/liveness/interference-graph.cc,
	* src/liveness/liveness.cc,
	* src/parse/tasks.cc,
	* src/stc.cc,
	* src/target/ia32/epilogue.cc,
	* src/target/ia32/prologue.hh,
	* src/target/mips/epilogue.cc,
	* src/target/mips/prologue.hh,
	* src/translate/level.cc,
	* ti/fork.cc:
	Here.
	* src/target/ia32/codegen.cc,
	* src/target/ia32/codegen.hh,
	* src/target/mips/codegen.cc,
	* src/target/mips/codegen.hh:
	Regen.
	* lib/misc/ref.hh: Adjust documentation.

	Use `nullptr' instead of literal `0' where applicable.

	* lib/misc/file-library.cc,
	* lib/misc/ref.hh,
	* lib/misc/scoped-map.hh,
	* lib/misc/timer.cc,
	* src/assem/layout.hxx,
	* src/ast/ast.yml,
	* src/ast/break-exp.cc,
	* src/ast/call-exp.cc,
	* src/ast/function-dec.cc,
	* src/ast/method-call-exp.cc,
	* src/ast/name-ty.cc,
	* src/ast/pretty-printer.cc,
	* src/ast/simple-var.cc,
	* src/ast/tasks.cc,
	* src/ast/test-ast.cc,
	* src/ast/typable.cc,
	* src/ast/type-constructor.cc,
	* src/astclone/cloner.hxx,
	* src/bind/binder.cc,
	* src/callgraph/call-graph-visitor.cc,
	* src/callgraph/parent-graph-visitor.cc,
	* src/callgraph/static-link-visitor.cc,
	* src/desugar/test-bound-checking.cc,
	* src/desugar/test-for-loops-desugar.cc,
	* src/desugar/test-string-cmp-desugar.cc,
	* src/object/desugar-visitor.cc,
	* src/object/test-desugar.cc,
	* src/object/type-checker.cc,
	* src/parse/libparse.cc,
	* src/parse/libparse.hh,
	* src/parse/tiger-parser.cc,
	* src/parse/tiger_parse.i,
	* src/parse/tweast.hxx,
	* src/regalloc/test-regalloc.cc,
	* src/target/codegen.hxx,
	* src/target/ia32/codegen.cc,
	* src/target/ia32/epilogue.cc,
	* src/target/mips/codegen.cc,
	* src/target/mips/epilogue.cc,
	* src/target/mips/test-rw_prg.cc,
	* src/target/tasks.cc,
	* src/task/int-task.cc,
	* src/task/task-register.cc,
	* src/task/task-register.hh,
	* src/task/task.cc,
	* src/transform/all.hxx,
	* src/translate/level.hh,
	* src/translate/translation.hh,
	* src/translate/translator.cc,
	* src/tree/tree.cc,
	* src/tree/tree.hxx,
	* src/type/class.cc,
	* src/type/class.hh,
	* src/type/class.hxx,
	* src/type/named.hxx,
	* src/type/record.cc,
	* ti/tiopts.cc:
	Here.

	Use std::is_pointer instead of misc::is_pointer.

	* lib/misc/scoped-map.hxx (misc::scoped_map<Key, Data>::get):
	Here.
	* lib/misc/traits.hh, lib/misc/traits.hxx: Remove.
	* lib/misc/local.mk (misc_libmisc_la_SOURCES):
	Remove misc/traits.hh and misc/traits.hxx.

	Use auto-typed variables when the initializer includes the type's name.

	* dev/ast-cloner-gen,
	* dev/transform-all-gen,
	* src/assem/instrs.cc,
	* src/ast/test-ast.cc,
	* src/astclone/cloner.hxx,
	* src/canon/traces.cc,
	* src/desugar/bound-checking-visitor.cc,
	* src/inlining/pruner.cc,
	* src/liveness/flowgraph.hxx,
	* src/liveness/interference-graph.cc,
	* src/object/desugar-visitor.cc,
	* src/object/renamer.cc,
	* src/object/type-checker.cc,
	* src/overload/type-checker.cc,
	* src/parse/test-tweast.cc,
	* src/regalloc/regallocator.cc,
	* src/target/ia32/epilogue.cc,
	* src/target/libtarget.cc,
	* src/target/mips/epilogue.cc,
	* src/transform/all.hxx,
	* src/type/class.cc,
	* src/type/function.cc,
	* src/type/method.cc,
	* src/type/type-checker.cc,
	* src/type/type-checker.hxx:
	Here, where the initializers are `new ...' or `dynamic_cast<...>'.
	* src/astclone/cloner.cc,
	* src/transform/all.cc,
	* src/target/ia32/codegen.cc,
	* src/target/mips/codegen.cc:
	Regen.

	Allow consecutive right angle brackets.

	* lib/misc/set.hh,
	* lib/misc/unique.hh,
	* src/liveness/flowgraph.hxx,
	* src/liveness/liveness.hh,
	* src/overload/binder.hh,
	* src/translate/translator.hh:
	Here.

	Use explicitly deleted functions to make singleton classes non-copyable.

	* src/task/task-register.hh
	(task::TaskRegister::TaskRegister (const TaskRegister&))
	(task::TaskRegister::operator= (const TaskRegister&))
	* src/type/builtin-types.hh
	(type::Nil::Nil (const Nil&))
	(type::Nil::operator= (const Nil&))
	(type::Void::Void (const Void&))
	(type::Void::operator= (const Void&))
	(type::Int::Int (const Int&))
	(type::Int::operator= (const Int&))
	(type::String::String (const String&))
	(type::String::operator= (const String&)):
	New explicitely deleted methods.

	Introduce explicitly defaulted functions.

	* src/task/task-register.hh, src/task/task-register.cc
	(task::TaskRegister::TaskRegister ())
	* src/tree/seq.hh, src/tree/seq.hxx
	(tree::Seq::Seq ())
	* src/type/builtin-types.hh, src/type/builtin-types.cc
	(type::Nil::Nil ())
	(type::Void::Void ())
	(type::Int::Int ())
	(type::String::String ()):
	Replace ctor definitions by defaulted versions.

	Have configure add `-std=c++0x' to CXXFLAGS when g++ is used.

	* configure.ac: Here.

	Remove old, Subversion-related instructions.

	* README-Subversion.txt: Remove.

	Remove an irrelevant test in src/translate.

	* src/translate/test-exp.cc: Remove.
	* src/translate/local.mk (TESTS): Remove translate/test-exp.
	(translate_test_exp_LDADD): Remove.
	Aesthetic changes.

	Regen the parser.

	* src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh:
	Regen with Bison 2.4.570-7a582.

	Clang compatibility.

	* lib/misc/escape.cc (misc::escaped::escape_): Use octal escapes,
	as clang does not support hexadecimal escapes.
	* lib/misc/test-escape.cc: Adjust.
	* tests/good/nul-character.-e.s,
	* tests/good/nul-character.-e.u.s,
	* tests/good/nul-character.hir,
	* tests/good/nul-character.lir,
	* tests/good/nul-character.s,
	* tests/good/nul-character.u.s,
	* tests/good/string-backslash-octal.-e.s,
	* tests/good/string-backslash-octal.-e.u.s,
	* tests/good/string-backslash-octal.hir,
	* tests/good/string-backslash-octal.lir,
	* tests/good/string-backslash-octal.out,
	* tests/good/string-backslash-octal.s,
	* tests/good/string-backslash-octal.u.s,
	* tests/good/string-backslash-tortured.-e.s,
	* tests/good/string-backslash-tortured.-e.u.s,
	* tests/good/string-backslash-tortured.hir,
	* tests/good/string-backslash-tortured.lir,
	* tests/good/string-backslash-tortured.out,
	* tests/good/string-backslash-tortured.s,
	* tests/good/string-backslash-tortured.u.s,
	* tests/lexical/invalid-character.tc-err:
	Regen.

2012-01-24  Roland Levillain  <roland@lrde.epita.fr>

	Aesthetic changes.

	* configure.ac,
	* src/callgraph/tasks.cc,
	* src/parse/parsetiger.yy:
	Here.
	* src/target/mips/cpu.hh, src/target/ia32/cpu.hh: Fix a comment.
	* src/transform/bottom-up-rewriter.cc (BottomUpRewriter::visit):
	Make a call to a base class method more legible.
	* src/ast/libast.hh (operator<< (std::ostream&, const Ast&)):
	Match arguments' name of the declaration with the ones of the
	definition.
	* src/object/type-checker.cc
	(TypeChecker::operator() (ast::FieldVar&)): Simplify.
	* src/target/mips/test-rw_prg.cc: Wrap a long line.
	Typo.
	* src/tree/tiger_tree.i: Clean up dead code.
	* dev/ast-default-visitor-gen: Space change.

	* dev/ast-readme-gen: Typo in output.
	Reported by Akim Demaille <akim@lrde.epita.fr>.

	Hide more AST code in the parser shipped at TC-1.

	* src/parse/parsetiger.yy: Here.

2012-01-20  Grall Julien  <grall_j@acu.epita.fr>

	Patch tc-check to support TC-0

	* tests/tc-check.in

	Thanks to Yann Grandmaitre  <yanngrandmaitre@gmail.com> for the
	first version of this tc-check improvement.

2012-01-09  Roland Levillain  <roland@lrde.epita.fr>

	Get rid of the X86_64_GNU_LINUX conditional.

	* configure.ac (IA32_GNU_LINUX): Enable conditional also for
	X86-64 hosts.
	(X86_64_GNU_LINUX): Remove conditional.
	* src/Makefile.am: Adjust.
	* bistromatig/Makefile.am (%-ia32)
	* tcsh/python/ti.py:
	Pass option `-m32' to the assembler.
	Suggested by Akim Demaille <akim.demaille@gmail.com>.

	Fix the install-doc targets.

	* Makefile.am (install-doc, install-doc-remote): Generate the
	documentation in doc/ only.
	Reported by Akim Demaille <akim.demaille@gmail.com>.

	Mention the Doxygen documentation for students in the developer guide.

	* dev/tc.texi (Doxygen documentation): New section.
	(Top): Update table of contents.
	(Test): Typo.

	Enable the DHTML search engine in the Doxygen documentation.

	* doc/Doxyfile.in (SEARCHENGINE): Here.

	Use rsync to install the Doxygen documentation for students.

	* Makefile.am (RSYNC, RSYNCFLAGS)
	(install_doc_dir, install_doc_user, install_doc_host):
	New variables.
	Use them...
	(install-doc, install-doc-remote): ...here.
	Shorten commands.
	(install-doc-remote): Use rsync instead of ssh and scp to update
	the documentation files.

2012-01-06  Roland Levillain  <roland@lrde.epita.fr>

	Update dev/cut-bison-actions to handle parsetiger.yy properly.

	* dev/cut-bison-actions: Do no match braces preceded by
	`%printer ', using (?<!%printer\ ).
	Use the cleaner syntax (?!") instead of ([^"]|\n) to ensure that
	the pattern does not match a brace followed by double quotes.

2011-12-06  Roland Levillain  <roland@lrde.epita.fr>

	Aesthetic changes in src/tree/.

	* src/tree/binop.cc (tree::Binop::tag_print)
	* src/tree/cjump.cc (tree::symmetrize):
	Here.

	Fix translate::Cx::dump.

	* src/tree/cjump.hh, src/tree/cjump.cc
	(tree::operator<< (std::ostream& ostr, const Cjump::Relop& r)):
	New operator, printing a meaningful values for tree::Cjump's
	relops.
	Also use it to factor...
	(tree::Cjump::tag_print): ...this method.
	* src/translate/test-exp.cc: New test.
	* src/translate/local.mk (TESTS): Add translate/test-exp.
	(translate_test_exp_LDADD): New.

	Fix tree::Cjump's pretty-printer.

	* src/tree/cjump.cc (tree::Cjump::tag_print):
	Properly print the `ult' relop.

	Misc. changes.

	* configure.ac: Aesthetic change.
	* src/tree/fragment.hh: s/semant::/translate/::.
	* src/regalloc/color.cc: Develop a FIXME.

	Ensure identifiers of different kinds cannot be compared.

	* src/temp/identifier.hcc
	(IdentifierCompareVisitor<Cmp_>::operator() (const T&, const U&)):
	Abort.

	Address compiler warnings.

	* src/target/mips/local.mk (target/mips/runtime.cc):
	Do not name the (unused) argument of SpimAssembly::runtime().
	* src/temp/test-temp.cc (bar): Remove unused function.

	Have stc work on x86-64 architectures too.

	* configure.ac (X86_64_GNU_LINUX): New conditional.
	(SUPPORTED_IA32): Enable this conditional for x86-64 hosts too.
	* src/Makefile.am (STC_RUNTIME) [X86_64_GNU_LINUX]:
	Set to $(srcdir)/target/ia32/runtime-gnu-linux.s.
	* src/stc.cc: Force gcc to assemble 32-bit code.

2011-12-03  Roland Levillain  <roland@lrde.epita.fr>

	Small improvements in the Tiger Interpreter.

	* ti/ti.cc (backend_havm, backend_nolimips, backend_gcc, backend_asm)
	Use more `const' qualifiers.
	Use less std::auto_ptr's.
	(main): Adjust.
	(backend_asm): s/lir_fragments/assem_fragments/.
	Use an std::auto_ptr to store the Assem fragments.

2011-12-02  Roland Levillain  <roland@lrde.epita.fr>

	Use the enum value `misc::error::success' instead of 0.

	* lib/misc/error.cc (misc::error::operator bool),
	* lib/misc/tiger_misc.i (misc::exit_on_error):
	Here.

	Remove `return 0;' statements at the end of main() functions.

	* lib/misc/test-deref.cc,
	* lib/misc/test-error.cc,
	* lib/misc/test-indent.cc,
	* lib/misc/test-path.cc,
	* lib/misc/test-separator.cc,
	* lib/misc/test-timer.cc,
	* lib/misc/test-xalloc.cc,
	* src/ast/test-ast.cc,
	* src/astclone/test-cloner.cc,
	* src/liveness/test-flowgraph.cc,
	* src/regalloc/color.cc,
	* src/regalloc/test-regalloc.cc,
	* src/target/mips/test-rw_prg.cc,
	* src/temp/test-temp.cc:
	Here.
	* AUTHORS.txt,
	* src/version.cc.in:
	Update copyright years.

2011-11-22  Roland Levillain  <roland@lrde.epita.fr>

	Revert "Have TCSH catch up with the interface of the parser."

	This reverts commit 2c3c0f69cbfe038f6c6aba42f92ea8bbbb6e8217.

2011-10-31  Roland Levillain  <roland@lrde.epita.fr>

	Have tc-check's IA-32 tests work on AMD64/Intel 64.

	* tests/tc-check.in (ia32_check_one): Pass option `-m32' to the C
	compiler (actually, the assembler and linker).

	Make GCC 4.4 the official C/C++ compiler.

	* configure.ac (GCC_PREREQ): Set to 4.4.
	* tests/tc-check.in: Require gcc-4.4 and g++-4.4.

2011-06-06  Roland Levillain  <roland@lrde.epita.fr>

	2013-tc-9.0.

	Prepare 2013-tc-9.0.

	* src/transform/test-concrete.cc,
	* src/transform/test-transform-tests.cc,
	* src/transform/test-transform.cc:
	Help the compiler find some headers.
	* dev/stagize: Force the use of Bash so that non-standard
	features (such as brace expansion) continue to work.
	Bash called as `/bin/sh' is becoming stricter and stricter.
	* dev/diff-r (untar): Do not use the `function' keyword to please
	Bash called as `/bin/sh'.

2011-06-06  Roland Levillain  <roland@lrde.epita.fr>

	Prepare 2013-tc-9.0.

	* src/transform/test-concrete.cc,
	* src/transform/test-transform-tests.cc,
	* src/transform/test-transform.cc:
	Help the compiler find some headers.
	* dev/stagize: Force the use of Bash so that non-standard
	features (such as brace expansion) continue to work.
	Bash called as `/bin/sh' is becoming stricter and stricter.
	* dev/diff-r (untar): Do not use the `function' keyword to please
	Bash called as `/bin/sh'.

2011-05-06  Akim Demaille  <demaille@gostai.com>

	Formatting changes.

2011-04-26  Akim Demaille  <demaille@gostai.com>

	minor style changes.

	* src/canon/libcanon.cc, src/canon/local.mk, src/canon/traces.cc:
	here.

2011-02-17  Akim Demaille  <demaille@gostai.com>

	stagize: chmod +w ast files.

	* dev/stagize: here.

	build: safety check on make 2013-tc-3.0.tar.bz.

	* Makefile.am: here.

	diff-r --color.

	* dev/diff-r: Support --color.

2011-02-15  Akim Demaille  <demaille@gostai.com>

	ChangeLog: update.

	* .last-cl-gen, ChangeLog: Update.

	locations: help the transition.

	* src/parse/tiger-parser.cc: Provide the initialization code to
	the students.
	* NEWS.txt: Explain.

2011-02-15  Akim Demaille  <demaille@gostai.com>

	locations: help the transition.

	* src/parse/tiger-parser.cc: Provide the initialization code to
	the students.
	* NEWS.txt: Explain.

	*.txt: fixes.

	* dev/stagize, dev/tc.texi, tests/tc-check.in: Adjust to *.txt
	changes.

2011-02-08  Akim Demaille  <demaille@gostai.com>

	check: make runs silent.

	* tests/Makefile.am (%.lpr, %.hpr): here.

	Use *.txt for text files.

	* AUTHORS: Rename as...
	* AUTHORS.txt: this.
	* NEWS: Rename as...
	* NEWS.txt: this.
	* README-Subversion: Rename as...
	* README-Subversion.txt: this.
	* README: Rename as...
	* README.txt: this.
	* THANKS: Rename as...
	* THANKS.txt: this.
	* TODO: Rename as...
	* TODO.txt: this.
	* best-of: Rename as...
	* best-of.txt: this.
	* bistromatig/Makefile.am: .
	* bistromatig/tests/README: Rename as...
	* bistromatig/tests/README.txt: this.
	* src/assem/README: Rename as...
	* src/assem/README.txt: this.
	* src/ast/README.student: Rename as...
	* src/ast/README-student.txt: this.
	* src/ast/README: Rename as...
	* src/ast/README.txt: this.
	* src/task/README: Rename as...
	* src/task/README.txt: this.
	* src/transform/README: Rename as...
	* src/transform/README.txt: this.
	* src/tree/README: Rename as...
	* src/tree/README.txt: this.
	* src/type/README: Rename as...
	* src/type/README.txt: this.
	* tcsh/DOC: Rename as...
	* tcsh/DOC.txt: this.
	* tcsh/README.deps: Rename as...
	* tcsh/README-deps.txt: this.
	* tcsh/README: Rename as...
	* tcsh/README.txt: this.

	* Import_readme, NOTES: Remove.

	* Makefile.am, configure.ac, dev/stagize,
	* dev/tc.texi, src/ast/local.mk, src/tree/local.mk,
	* tcsh/Makefile.am, src/type/local.mk, src/task/local.mk,
	* src/transform/local.mk:
	Adjust.

	clang: fixes.

	* src/assem/fragment.cc: here.
	* src/temp/label.cc: and there.
	* src/temp/temp.cc, src/tree/visitor.hxx: and there too.

	TODO: update.

	scanner: use (?i:...).

	* src/parse/scantiger.ll: here.
	The resulting scanner _is_ different, I have no idea why.

	formatting changes.

	* src/parse/parsetiger.cc, src/parse/parsetiger.yy: here.

	tests: register tc's status and error messages.

	This is intended to check the reference compiler, as the messages may
	vary bw implementations.  Yet, when we change something, we should
	check that "make recheck" changes nothing to these files.  Nothing
	unexpected.

	* tests/Makefile.am: Also generate *.tc-sta and *.tc-err.

	* tests/bind/break-alone.tc-err: New.
	* tests/bind/break-alone.tc-sta: New.
	* tests/bind/break-in-for-high.tc-err: New.
	* tests/bind/break-in-for-high.tc-sta: New.
	* tests/bind/break-in-for-init.tc-err: New.
	* tests/bind/break-in-for-init.tc-sta: New.
	* tests/bind/break-in-function-in-while.tc-err: New.
	* tests/bind/break-in-function-in-while.tc-sta: New.
	* tests/bind/break-in-vardec-in-while.tc-err: New.
	* tests/bind/break-in-vardec-in-while.tc-sta: New.
	* tests/bind/break-in-while-cond.tc-err: New.
	* tests/bind/break-in-while-cond.tc-sta: New.
	* tests/bind/break-outside-loop.tc-err: New.
	* tests/bind/break-outside-loop.tc-sta: New.
	* tests/bind/duplicate-formal.tc-err: New.
	* tests/bind/duplicate-formal.tc-sta: New.
	* tests/bind/for-index-in-higher-bound.tc-err: New.
	* tests/bind/for-index-in-higher-bound.tc-sta: New.
	* tests/bind/fractions-overloaded.tc-err: New.
	* tests/bind/fractions-overloaded.tc-sta: New.
	* tests/bind/invalid-function-redefinition-1.tc-err: New.
	* tests/bind/invalid-function-redefinition-1.tc-sta: New.
	* tests/bind/invalid-function-redefinition-2.tc-err: New.
	* tests/bind/invalid-function-redefinition-2.tc-sta: New.
	* tests/bind/invalid-type-redefinition.tc-err: New.
	* tests/bind/invalid-type-redefinition.tc-sta: New.
	* tests/bind/nonexistent-vardec-type.tc-err: New.
	* tests/bind/nonexistent-vardec-type.tc-sta: New.
	* tests/bind/nonexistent-vardecrec-type.tc-err: New.
	* tests/bind/nonexistent-vardecrec-type.tc-sta: New.
	* tests/bind/overload-function-redefinition.tc-err: New.
	* tests/bind/overload-function-redefinition.tc-sta: New.
	* tests/bind/overload-nil-ambiguity.tc-err: New.
	* tests/bind/overload-nil-ambiguity.tc-sta: New.
	* tests/bind/primitive-and-function-same-chunk.tc-err: New.
	* tests/bind/primitive-and-function-same-chunk.tc-sta: New.
	* tests/bind/print-tree-static.tc-err: New.
	* tests/bind/print-tree-static.tc-sta: New.
	* tests/bind/test17.tc-err: New.
	* tests/bind/test17.tc-sta: New.
	* tests/bind/test18.tc-err: New.
	* tests/bind/test18.tc-sta: New.
	* tests/bind/test19.tc-err: New.
	* tests/bind/test19.tc-sta: New.
	* tests/bind/undeclared-variable.tc-err: New.
	* tests/bind/undeclared-variable.tc-sta: New.
	* tests/bind/unknown-array-base-type.tc-err: New.
	* tests/bind/unknown-array-base-type.tc-sta: New.
	* tests/bind/unknown-array-type-1.tc-err: New.
	* tests/bind/unknown-array-type-1.tc-sta: New.
	* tests/bind/unknown-array-type-2.tc-err: New.
	* tests/bind/unknown-array-type-2.tc-sta: New.
	* tests/bind/unknown-record.tc-err: New.
	* tests/bind/unknown-record.tc-sta: New.
	* tests/bind/unknown-return-type.tc-err: New.
	* tests/bind/unknown-return-type.tc-sta: New.
	* tests/bind/void-does-not-exist.tc-err: New.
	* tests/bind/void-does-not-exist.tc-sta: New.
	* tests/lexical/backslash-n-not-in-string.tc-err: New.
	* tests/lexical/backslash-n-not-in-string.tc-sta: New.
	* tests/lexical/backslash-oct-not-in-string.tc-err: New.
	* tests/lexical/backslash-oct-not-in-string.tc-sta: New.
	* tests/lexical/invalid-character.tc-err: New.
	* tests/lexical/invalid-character.tc-sta: New.
	* tests/lexical/string-comma-escape.tc-err: New.
	* tests/lexical/string-comma-escape.tc-sta: New.
	* tests/lexical/string-octal-escape.tc-err: New.
	* tests/lexical/string-octal-escape.tc-sta: New.
	* tests/lexical/too-large-ints.tc-err: New.
	* tests/lexical/too-large-ints.tc-sta: New.
	* tests/lexical/unterminated-comment.tc-err: New.
	* tests/lexical/unterminated-comment.tc-sta: New.
	* tests/lexical/unterminated-string.tc-err: New.
	* tests/lexical/unterminated-string.tc-sta: New.
	* tests/lexical/var-named-underscore.tc-err: New.
	* tests/lexical/var-named-underscore.tc-sta: New.
	* tests/syntax/call-separator-1.tc-err: New.
	* tests/syntax/call-separator-1.tc-sta: New.
	* tests/syntax/call-separator-2.tc-err: New.
	* tests/syntax/call-separator-2.tc-sta: New.
	* tests/syntax/less-than-non-assoc-with-uminus.tc-err: New.
	* tests/syntax/less-than-non-assoc-with-uminus.tc-sta: New.
	* tests/syntax/less-than-non-assoc.tc-err: New.
	* tests/syntax/less-than-non-assoc.tc-sta: New.
	* tests/syntax/multi-functions.tc-err: New.
	* tests/syntax/multi-functions.tc-sta: New.
	* tests/syntax/multi-types.tc-err: New.
	* tests/syntax/multi-types.tc-sta: New.
	* tests/syntax/multi-vars.tc-err: New.
	* tests/syntax/multi-vars.tc-sta: New.
	* tests/syntax/nil-keyword.tc-err: New.
	* tests/syntax/nil-keyword.tc-sta: New.
	* tests/syntax/record-exp-1.tc-err: New.
	* tests/syntax/record-exp-1.tc-sta: New.
	* tests/syntax/record-exp-2.tc-err: New.
	* tests/syntax/record-exp-2.tc-sta: New.
	* tests/syntax/seqexp-1.tc-err: New.
	* tests/syntax/seqexp-1.tc-sta: New.
	* tests/syntax/seqexp-2.tc-err: New.
	* tests/syntax/seqexp-2.tc-sta: New.
	* tests/syntax/seqexp-3.tc-err: New.
	* tests/syntax/seqexp-3.tc-sta: New.
	* tests/syntax/seqexp-4.tc-err: New.
	* tests/syntax/seqexp-4.tc-sta: New.
	* tests/syntax/several-exps.tc-err: New.
	* tests/syntax/several-exps.tc-sta: New.
	* tests/syntax/syntax-vs-type-1.tc-err: New.
	* tests/syntax/syntax-vs-type-1.tc-sta: New.
	* tests/syntax/type-nil.tc-err: New.
	* tests/syntax/type-nil.tc-sta: New.
	* tests/syntax/typeid.tc-err: New.
	* tests/syntax/typeid.tc-sta: New.
	* tests/type/assign-loop-var.tc-err: New.
	* tests/type/assign-loop-var.tc-sta: New.
	* tests/type/assign-non-assoc.tc-err: New.
	* tests/type/assign-non-assoc.tc-sta: New.
	* tests/type/dangling-else.tc-err: New.
	* tests/type/dangling-else.tc-sta: New.
	* tests/type/duplicate-field.tc-err: New.
	* tests/type/duplicate-field.tc-sta: New.
	* tests/type/empty-decs-type.tc-err: New.
	* tests/type/empty-decs-type.tc-sta: New.
	* tests/type/empty-let-type.tc-err: New.
	* tests/type/empty-let-type.tc-sta: New.
	* tests/type/field-in-not-record.tc-err: New.
	* tests/type/field-in-not-record.tc-sta: New.
	* tests/type/for-body-non-void.tc-err: New.
	* tests/type/for-body-non-void.tc-sta: New.
	* tests/type/for-var-string.tc-err: New.
	* tests/type/for-var-string.tc-sta: New.
	* tests/type/funarg-type-mismatch.tc-err: New.
	* tests/type/funarg-type-mismatch.tc-sta: New.
	* tests/type/incompatible-record-comparison.tc-err: New.
	* tests/type/incompatible-record-comparison.tc-sta: New.
	* tests/type/invalid-array-base-type.tc-err: New.
	* tests/type/invalid-array-base-type.tc-sta: New.
	* tests/type/missing-arg.tc-err: New.
	* tests/type/missing-arg.tc-sta: New.
	* tests/type/multiple-instances-types-2.tc-err: New.
	* tests/type/multiple-instances-types-2.tc-sta: New.
	* tests/type/multiple-instances-types.tc-err: New.
	* tests/type/multiple-instances-types.tc-sta: New.
	* tests/type/nil-arithmetics.tc-err: New.
	* tests/type/nil-arithmetics.tc-sta: New.
	* tests/type/nil-equal-nil.tc-err: New.
	* tests/type/nil-equal-nil.tc-sta: New.
	* tests/type/not-enough-args.tc-err: New.
	* tests/type/not-enough-args.tc-sta: New.
	* tests/type/not-enough-fields.tc-err: New.
	* tests/type/not-enough-fields.tc-sta: New.
	* tests/type/order-arrays.tc-err: New.
	* tests/type/order-arrays.tc-sta: New.
	* tests/type/order-nil-with-record.tc-err: New.
	* tests/type/order-nil-with-record.tc-sta: New.
	* tests/type/order-record-with-nil.tc-err: New.
	* tests/type/order-record-with-nil.tc-sta: New.
	* tests/type/order-records.tc-err: New.
	* tests/type/order-records.tc-sta: New.
	* tests/type/primitive-arg.tc-err: New.
	* tests/type/primitive-arg.tc-sta: New.
	* tests/type/primitive-result.tc-err: New.
	* tests/type/primitive-result.tc-sta: New.
	* tests/type/recursive-type.tc-err: New.
	* tests/type/recursive-type.tc-sta: New.
	* tests/type/string-arithmetics.tc-err: New.
	* tests/type/string-arithmetics.tc-sta: New.
	* tests/type/test09.tc-err: New.
	* tests/type/test09.tc-sta: New.
	* tests/type/test10.tc-err: New.
	* tests/type/test10.tc-sta: New.
	* tests/type/test11.tc-err: New.
	* tests/type/test11.tc-sta: New.
	* tests/type/test13.tc-err: New.
	* tests/type/test13.tc-sta: New.
	* tests/type/test14.tc-err: New.
	* tests/type/test14.tc-sta: New.
	* tests/type/test15.tc-err: New.
	* tests/type/test15.tc-sta: New.
	* tests/type/test21.tc-err: New.
	* tests/type/test21.tc-sta: New.
	* tests/type/test22.tc-err: New.
	* tests/type/test22.tc-sta: New.
	* tests/type/test23.tc-err: New.
	* tests/type/test23.tc-sta: New.
	* tests/type/test24.tc-err: New.
	* tests/type/test24.tc-sta: New.
	* tests/type/test26.tc-err: New.
	* tests/type/test26.tc-sta: New.
	* tests/type/test28.tc-err: New.
	* tests/type/test28.tc-sta: New.
	* tests/type/test29.tc-err: New.
	* tests/type/test29.tc-sta: New.
	* tests/type/test31.tc-err: New.
	* tests/type/test31.tc-sta: New.
	* tests/type/test32.tc-err: New.
	* tests/type/test32.tc-sta: New.
	* tests/type/test40.tc-err: New.
	* tests/type/test40.tc-sta: New.
	* tests/type/test43.tc-err: New.
	* tests/type/test43.tc-sta: New.
	* tests/type/test52.tc-err: New.
	* tests/type/test52.tc-sta: New.
	* tests/type/too-many-args.tc-err: New.
	* tests/type/too-many-args.tc-sta: New.
	* tests/type/too-many-fields.tc-err: New.
	* tests/type/too-many-fields.tc-sta: New.
	* tests/type/types-endless-recursion.tc-err: New.
	* tests/type/types-endless-recursion.tc-sta: New.
	* tests/type/unconstrained-nil.tc-err: New.
	* tests/type/unconstrained-nil.tc-sta: New.
	* tests/type/unsound-types-uses.tc-err: New.
	* tests/type/unsound-types-uses.tc-sta: New.
	* tests/type/void.tc-err: New.
	* tests/type/void.tc-sta: New.

	Regen.

	Parser: change the handling of the current location.

	The new scheme (make_SYMBOL) actually also cut the transmission of the
	parser current location to the scanner (via yylloc).  Therefore, since
	the make_SYMBOL change, we actually two current locations: the
	scanner's and the parser's.  Only the latter was properly initialized
	(with the current file name).  "Fortunately" the standard default
	constructor also make the scanner's location work properly wrt lines
	and columns, but, of course, had an empty file name.

	It turns out that the TigerParser features a useless location_ member.
	Use it to exchange the current location bw the parser and the scanner.
	Maybe Bison should provide other ways to exchange them (e.g., as an
	input argument to yylex).

	* src/parse/tiger-parser.cc (parse_): Maintain the current location_.
	(parse_import): Save and restore the current location.
	* src/parse/parsetiger.yy: Don't initialize @$.
	* src/parse/scantiger.ll (loc): Remove.
	Use TigerParser.location_ instead.

	Formatting changes.

	Misc.Path: empty.

	* lib/misc/path.hh, lib/misc/path.hxx (empty): New.
	* lib/misc/test-path.cc: Check it.
	* src/parse/tiger-parser.cc: Use it.

	tc-check: be kind about missing file names in locations.

	* tests/tc-check.in (check): Here.

2011-02-01  Akim Demaille  <demaille@gostai.com>

	ast: the README is not for students.

	* src/ast/local.mk: here.
	Reported by Julien Grall.

2011-01-31  Akim Demaille  <demaille@gostai.com>

	build: recognize options that clang does not support.

	* build-aux/warning.m4: Here.

	diff-r: don't include .last-cl-gen.

	* dev/diff-r: Skip it.
	Reported by Julien Grall.

	build: don't ex[ect GNU sed.

	* build-aux/bin/diff-dirs: New.
	* Makefile.am (diff_re1, diff_re2): Remove.
	(%.diff): Use diff-dirs.

	Regen.

	tc 1.31a.

	* NEWS, configure.ac: here.

2011-01-30  Akim Demaille  <demaille@gostai.com>

	tc 1.31.

	For 2013-tc-2.0.

	* NEWS, configure.ac: Version 1.31.

	boost.m4: update.

	* build-aux/boost.m4: From upstream.

2011-01-30  Akim Demaille  <demaille@gostai.com>

	boost.m4: update.

	* build-aux/boost.m4: From upstream.

	include style changes.

	git grep -l '# *include *"' tcsh |
	  xargs perl -pi -e 's/(#\s*include\s+)"(.*?)"/$1<$2>/g'

	* dev/ast-default-visitor-gen, dev/ast-nodes-gen,
	* dev/ast-visitor-gen, dev/transform-proxy-visitors-gen,
	* lib/misc/algorithm.hh, lib/misc/algorithm.hxx,
	* lib/misc/deref.cc, lib/misc/deref.hh,
	* lib/misc/deref.hxx, lib/misc/endomap.hh,
	* lib/misc/error.hh, lib/misc/error.hxx,
	* lib/misc/escape.hh, lib/misc/escape.hxx,
	* lib/misc/file-library.hh, lib/misc/file-library.hxx,
	* lib/misc/generic-variant.hh, lib/misc/generic-variant.hxx,
	* lib/misc/graph.hh, lib/misc/graph.hxx,
	* lib/misc/list.hcc, lib/misc/map.hh,
	* lib/misc/map.hxx, lib/misc/pair.hh,
	* lib/misc/pair.hxx, lib/misc/path.hh,
	* lib/misc/path.hxx, lib/misc/ref.hh,
	* lib/misc/ref.hxx, lib/misc/scoped-map.hh,
	* lib/misc/scoped-map.hxx, lib/misc/separator.hh,
	* lib/misc/separator.hxx, lib/misc/set.hh,
	* lib/misc/set.hxx, lib/misc/symbol.hh,
	* lib/misc/symbol.hxx, lib/misc/timer.hh,
	* lib/misc/timer.hxx, lib/misc/traits.hh,
	* lib/misc/unique.hh, lib/misc/unique.hxx,
	* lib/misc/variant.hh, lib/misc/variant.hxx,
	* lib/misc/xalloc.hh, lib/misc/xalloc.hxx,
	* src/assem/comment.hh, src/assem/comment.hxx,
	* src/assem/fragment.hh, src/assem/fragment.hxx,
	* src/assem/fragments.hh, src/assem/fwd.hh,
	* src/assem/instr.hh, src/assem/instr.hxx,
	* src/assem/instrs.hh, src/assem/label.hh,
	* src/assem/label.hxx, src/assem/layout.hh,
	* src/assem/layout.hxx, src/assem/libassem.hh,
	* src/assem/move.hh, src/assem/move.hxx,
	* src/assem/oper.hh, src/assem/oper.hxx,
	* src/assem/visitor.hh, src/assem/visitor.hxx,
	* src/ast/any-decs.hh, src/ast/any-decs.hxx,
	* src/ast/array-exp.hh, src/ast/array-ty.hh,
	* src/ast/assign-exp.hh, src/ast/ast.yml,
	* src/ast/break-exp.hh, src/ast/call-exp.hh,
	* src/ast/cast-exp.hh, src/ast/cast-var.hh,
	* src/ast/class-ty.hh, src/ast/dec.hh,
	* src/ast/decs-list.hh, src/ast/decs.hh,
	* src/ast/decs.hxx, src/ast/default-visitor.hh,
	* src/ast/default-visitor.hxx, src/ast/exp.hh,
	* src/ast/field-init.hh, src/ast/field-var.hh,
	* src/ast/field.hh, src/ast/for-exp.hh,
	* src/ast/function-dec.hh, src/ast/function-decs.hh,
	* src/ast/if-exp.hh, src/ast/int-exp.hh,
	* src/ast/let-exp.hh, src/ast/libast.hh,
	* src/ast/location.hh, src/ast/metavar-exp.hh,
	* src/ast/method-call-exp.hh, src/ast/method-dec.hh,
	* src/ast/method-decs.hh, src/ast/name-ty.hh,
	* src/ast/nil-exp.hh, src/ast/non-object-visitor.hh,
	* src/ast/non-object-visitor.hxx, src/ast/object-exp.hh,
	* src/ast/op-exp.hh, src/ast/pretty-printer.hh,
	* src/ast/record-exp.hh, src/ast/record-ty.hh,
	* src/ast/rule-dec.hh, src/ast/rule-decs.hh,
	* src/ast/seq-exp.hh, src/ast/simple-var.hh,
	* src/ast/string-exp.hh, src/ast/subscript-var.hh,
	* src/ast/tasks.hh, src/ast/tiger_ast.i,
	* src/ast/ty.hh, src/ast/typable.hh,
	* src/ast/type-constructor.hh, src/ast/type-dec.hh,
	* src/ast/type-decs.hh, src/ast/var-dec.hh,
	* src/ast/var-decs.hh, src/ast/var.hh,
	* src/ast/visitor.hh, src/ast/visitor.hxx,
	* src/ast/while-exp.hh, src/astclone/cloner.hxx,
	* src/astclone/libastclone.hh, src/astclone/tasks.hh,
	* src/bind/binder.hh, src/bind/binder.hxx,
	* src/bind/libbind.hh, src/bind/renamer.hh,
	* src/bind/renamer.hxx, src/bind/tasks.hh,
	* src/callgraph/call-graph-visitor.hh, src/callgraph/fundec-graph.hh,
	* src/callgraph/fundec-graph.hxx, src/callgraph/libcallgraph.hh,
	* src/callgraph/parent-graph-visitor.hh,
	* src/callgraph/static-link-visitor.hh,
	* src/callgraph/tasks.hh, src/canon/basic-block.hh,
	* src/canon/basic-block.hxx, src/canon/libcanon.hh,
	* src/canon/tasks.hh, src/canon/traces.hh,
	* src/common.hh, src/desugar/bound-checking-visitor.hh,
	* src/desugar/desugar-visitor.hh, src/desugar/libdesugar.hh,
	* src/desugar/tasks.hh, src/escapes/escapes-check-visitor.hh,
	* src/escapes/escapes-visitor.hh, src/escapes/libescapes.hh,
	* src/escapes/tasks.hh, src/frame/access.hh,
	* src/frame/access.hxx, src/frame/frame.hh,
	* src/inlining/inliner.hh, src/inlining/libinlining.hh,
	* src/inlining/pruner.hh, src/inlining/tasks.hh,
	* src/liveness/flowgraph.hh, src/liveness/flowgraph.hxx,
	* src/liveness/libliveness.hh, src/liveness/liveness.hh,
	* src/liveness/tasks.hh, src/object/binder.hh,
	* src/object/desugar-visitor.hh, src/object/libobject.hh,
	* src/object/renamer.hh, src/object/tasks.hh,
	* src/object/type-checker.hh, src/overload/binder.hh,
	* src/overload/liboverload.hh, src/overload/over-table.hh,
	* src/overload/over-table.hxx, src/overload/tasks.hh,
	* src/overload/type-checker.hh, src/parse/fwd.hh,
	* src/parse/libparse.hh, src/parse/location.hh,
	* src/parse/metavar-map.hh, src/parse/metavar-map.hxx,
	* src/parse/parsetiger.cc, src/parse/parsetiger.hh,
	* src/parse/scantiger.ll, src/parse/tasks.hh,
	* src/parse/tiger-parser.hh, src/parse/tiger_parse.i,
	* src/parse/tweast.hh, src/parse/tweast.hxx,
	* src/regalloc/color.hh, src/regalloc/libregalloc.hh,
	* src/regalloc/regallocator.hh, src/regalloc/tasks.hh,
	* src/target/assembly.hh, src/target/codegen.hh,
	* src/target/codegen.hxx, src/target/cpu-limits.hh,
	* src/target/cpu.hh, src/target/ia32/codegen.cc,
	* src/target/ia32/cpu.hh, src/target/ia32/gas-assembly.hh,
	* src/target/ia32/gas-layout.hh, src/target/ia32/target.hh,
	* src/target/libtarget.hh, src/target/mips/codegen.cc,
	* src/target/mips/cpu.hh, src/target/mips/spim-assembly.hh,
	* src/target/mips/spim-layout.hh, src/target/mips/target.hh,
	* src/target/target.hh, src/target/tasks.hh,
	* src/target/tiger_target.i, src/task/boolean-task.hh,
	* src/task/disjunctive-task.hh, src/task/function-task.hh,
	* src/task/int-task.hh, src/task/multiple-string-task.hh,
	* src/task/string-task.hh, src/task/task-register.hh,
	* src/task/task-register.hxx, src/task/task.hh,
	* src/task/task.hxx, src/task/tasks.hh,
	* src/temp/fwd.hh, src/temp/identifier.hcc,
	* src/temp/identifier.hh, src/temp/label.hh,
	* src/temp/libtemp.hh, src/temp/tasks.hh,
	* src/temp/temp-set.hh, src/temp/temp.hh,
	* src/transform/all.hxx, src/transform/bottom-up-rewriter.hh,
	* src/transform/bottom-up.hh,
	* src/transform/concrete-syntax-rewriter.hh,
	* src/transform/generic-rewriter.hh,
	* src/transform/generic-rewriter.hxx,
	* src/transform/generic-traversal.hh,
	* src/transform/generic-traversal.hxx,
	* src/transform/matcher.hh, src/transform/metavar-pool.hh,
	* src/transform/metavar-pool.hxx, src/transform/proxy-visitors.hh,
	* src/transform/proxy-visitors.hxx, src/transform/rewriter.hh,
	* src/transform/visitor.hh, src/transform/visitor.hxx,
	* src/translate/access.hh, src/translate/access.hxx,
	* src/translate/exp.hh, src/translate/exp.hxx,
	* src/translate/fwd.hh, src/translate/level.hh,
	* src/translate/level.hxx, src/translate/libtranslate.hh,
	* src/translate/tasks.hh, src/translate/translation.hh,
	* src/translate/translator.hh, src/tree/all.hh,
	* src/tree/binop.hh, src/tree/binop.hxx,
	* src/tree/call.hh, src/tree/cjump.hh,
	* src/tree/cjump.hxx, src/tree/const.hh,
	* src/tree/const.hxx, src/tree/eseq.hh,
	* src/tree/eseq.hxx, src/tree/exp.hh,
	* src/tree/fragment.hh, src/tree/fragment.hxx,
	* src/tree/fragments.hh, src/tree/fwd.hh,
	* src/tree/iterator.hh, src/tree/iterator.hxx,
	* src/tree/jump.hh, src/tree/jump.hxx,
	* src/tree/label.hh, src/tree/label.hxx,
	* src/tree/libtree.hh, src/tree/mem.hh,
	* src/tree/mem.hxx, src/tree/move.hh,
	* src/tree/move.hxx, src/tree/name.hh,
	* src/tree/name.hxx, src/tree/seq.hh,
	* src/tree/seq.hxx, src/tree/stm.hh,
	* src/tree/sxp.hh, src/tree/sxp.hxx,
	* src/tree/temp.hh, src/tree/temp.hxx,
	* src/tree/tiger_tree.i, src/tree/tree.hh,
	* src/tree/tree.hxx, src/tree/trees.hh,
	* src/tree/visitor.hh, src/tree/visitor.hxx,
	* src/type/array.hh, src/type/array.hxx,
	* src/type/attribute.hh, src/type/builtin-types.hh,
	* src/type/class.hh, src/type/class.hxx,
	* src/type/field.hh, src/type/field.hxx,
	* src/type/function.hh, src/type/function.hxx,
	* src/type/libtype.hh, src/type/method.hh,
	* src/type/named.hh, src/type/named.hxx,
	* src/type/record.hh, src/type/record.hxx,
	* src/type/tasks.hh, src/type/type-checker.hh,
	* src/type/type-checker.hxx, src/type/type.hh,
	* src/type/type.hxx, src/type/types.hh,
	* tcsh/README, ti/fork.cc,
	* ti/fork.hh, ti/fork.hxx,
	* ti/ti.cc, ti/tiopts.cc,
	* ti/tiopts.hh, ti/tiopts.hxx:
	Here.

2011-01-30  Akim Demaille  <demaille@gostai.com>

	include style changes.

	git grep -l '# *include *"' tcsh |
	  xargs perl -pi -e 's/(#\s*include\s+)"(.*?)"/$1<$2>/g'

	* dev/ast-default-visitor-gen, dev/ast-nodes-gen,
	* dev/ast-visitor-gen, dev/transform-proxy-visitors-gen,
	* lib/misc/algorithm.hh, lib/misc/algorithm.hxx,
	* lib/misc/deref.cc, lib/misc/deref.hh,
	* lib/misc/deref.hxx, lib/misc/endomap.hh,
	* lib/misc/error.hh, lib/misc/error.hxx,
	* lib/misc/escape.hh, lib/misc/escape.hxx,
	* lib/misc/file-library.hh, lib/misc/file-library.hxx,
	* lib/misc/generic-variant.hh, lib/misc/generic-variant.hxx,
	* lib/misc/graph.hh, lib/misc/graph.hxx,
	* lib/misc/list.hcc, lib/misc/map.hh,
	* lib/misc/map.hxx, lib/misc/pair.hh,
	* lib/misc/pair.hxx, lib/misc/path.hh,
	* lib/misc/path.hxx, lib/misc/ref.hh,
	* lib/misc/ref.hxx, lib/misc/scoped-map.hh,
	* lib/misc/scoped-map.hxx, lib/misc/separator.hh,
	* lib/misc/separator.hxx, lib/misc/set.hh,
	* lib/misc/set.hxx, lib/misc/symbol.hh,
	* lib/misc/symbol.hxx, lib/misc/timer.hh,
	* lib/misc/timer.hxx, lib/misc/traits.hh,
	* lib/misc/unique.hh, lib/misc/unique.hxx,
	* lib/misc/variant.hh, lib/misc/variant.hxx,
	* lib/misc/xalloc.hh, lib/misc/xalloc.hxx,
	* src/assem/comment.hh, src/assem/comment.hxx,
	* src/assem/fragment.hh, src/assem/fragment.hxx,
	* src/assem/fragments.hh, src/assem/fwd.hh,
	* src/assem/instr.hh, src/assem/instr.hxx,
	* src/assem/instrs.hh, src/assem/label.hh,
	* src/assem/label.hxx, src/assem/layout.hh,
	* src/assem/layout.hxx, src/assem/libassem.hh,
	* src/assem/move.hh, src/assem/move.hxx,
	* src/assem/oper.hh, src/assem/oper.hxx,
	* src/assem/visitor.hh, src/assem/visitor.hxx,
	* src/ast/any-decs.hh, src/ast/any-decs.hxx,
	* src/ast/array-exp.hh, src/ast/array-ty.hh,
	* src/ast/assign-exp.hh, src/ast/ast.yml,
	* src/ast/break-exp.hh, src/ast/call-exp.hh,
	* src/ast/cast-exp.hh, src/ast/cast-var.hh,
	* src/ast/class-ty.hh, src/ast/dec.hh,
	* src/ast/decs-list.hh, src/ast/decs.hh,
	* src/ast/decs.hxx, src/ast/default-visitor.hh,
	* src/ast/default-visitor.hxx, src/ast/exp.hh,
	* src/ast/field-init.hh, src/ast/field-var.hh,
	* src/ast/field.hh, src/ast/for-exp.hh,
	* src/ast/function-dec.hh, src/ast/function-decs.hh,
	* src/ast/if-exp.hh, src/ast/int-exp.hh,
	* src/ast/let-exp.hh, src/ast/libast.hh,
	* src/ast/location.hh, src/ast/metavar-exp.hh,
	* src/ast/method-call-exp.hh, src/ast/method-dec.hh,
	* src/ast/method-decs.hh, src/ast/name-ty.hh,
	* src/ast/nil-exp.hh, src/ast/non-object-visitor.hh,
	* src/ast/non-object-visitor.hxx, src/ast/object-exp.hh,
	* src/ast/op-exp.hh, src/ast/pretty-printer.hh,
	* src/ast/record-exp.hh, src/ast/record-ty.hh,
	* src/ast/rule-dec.hh, src/ast/rule-decs.hh,
	* src/ast/seq-exp.hh, src/ast/simple-var.hh,
	* src/ast/string-exp.hh, src/ast/subscript-var.hh,
	* src/ast/tasks.hh, src/ast/tiger_ast.i,
	* src/ast/ty.hh, src/ast/typable.hh,
	* src/ast/type-constructor.hh, src/ast/type-dec.hh,
	* src/ast/type-decs.hh, src/ast/var-dec.hh,
	* src/ast/var-decs.hh, src/ast/var.hh,
	* src/ast/visitor.hh, src/ast/visitor.hxx,
	* src/ast/while-exp.hh, src/astclone/cloner.hxx,
	* src/astclone/libastclone.hh, src/astclone/tasks.hh,
	* src/bind/binder.hh, src/bind/binder.hxx,
	* src/bind/libbind.hh, src/bind/renamer.hh,
	* src/bind/renamer.hxx, src/bind/tasks.hh,
	* src/callgraph/call-graph-visitor.hh, src/callgraph/fundec-graph.hh,
	* src/callgraph/fundec-graph.hxx, src/callgraph/libcallgraph.hh,
	* src/callgraph/parent-graph-visitor.hh,
	* src/callgraph/static-link-visitor.hh,
	* src/callgraph/tasks.hh, src/canon/basic-block.hh,
	* src/canon/basic-block.hxx, src/canon/libcanon.hh,
	* src/canon/tasks.hh, src/canon/traces.hh,
	* src/common.hh, src/desugar/bound-checking-visitor.hh,
	* src/desugar/desugar-visitor.hh, src/desugar/libdesugar.hh,
	* src/desugar/tasks.hh, src/escapes/escapes-check-visitor.hh,
	* src/escapes/escapes-visitor.hh, src/escapes/libescapes.hh,
	* src/escapes/tasks.hh, src/frame/access.hh,
	* src/frame/access.hxx, src/frame/frame.hh,
	* src/inlining/inliner.hh, src/inlining/libinlining.hh,
	* src/inlining/pruner.hh, src/inlining/tasks.hh,
	* src/liveness/flowgraph.hh, src/liveness/flowgraph.hxx,
	* src/liveness/libliveness.hh, src/liveness/liveness.hh,
	* src/liveness/tasks.hh, src/object/binder.hh,
	* src/object/desugar-visitor.hh, src/object/libobject.hh,
	* src/object/renamer.hh, src/object/tasks.hh,
	* src/object/type-checker.hh, src/overload/binder.hh,
	* src/overload/liboverload.hh, src/overload/over-table.hh,
	* src/overload/over-table.hxx, src/overload/tasks.hh,
	* src/overload/type-checker.hh, src/parse/fwd.hh,
	* src/parse/libparse.hh, src/parse/location.hh,
	* src/parse/metavar-map.hh, src/parse/metavar-map.hxx,
	* src/parse/parsetiger.cc, src/parse/parsetiger.hh,
	* src/parse/scantiger.ll, src/parse/tasks.hh,
	* src/parse/tiger-parser.hh, src/parse/tiger_parse.i,
	* src/parse/tweast.hh, src/parse/tweast.hxx,
	* src/regalloc/color.hh, src/regalloc/libregalloc.hh,
	* src/regalloc/regallocator.hh, src/regalloc/tasks.hh,
	* src/target/assembly.hh, src/target/codegen.hh,
	* src/target/codegen.hxx, src/target/cpu-limits.hh,
	* src/target/cpu.hh, src/target/ia32/codegen.cc,
	* src/target/ia32/cpu.hh, src/target/ia32/gas-assembly.hh,
	* src/target/ia32/gas-layout.hh, src/target/ia32/target.hh,
	* src/target/libtarget.hh, src/target/mips/codegen.cc,
	* src/target/mips/cpu.hh, src/target/mips/spim-assembly.hh,
	* src/target/mips/spim-layout.hh, src/target/mips/target.hh,
	* src/target/target.hh, src/target/tasks.hh,
	* src/target/tiger_target.i, src/task/boolean-task.hh,
	* src/task/disjunctive-task.hh, src/task/function-task.hh,
	* src/task/int-task.hh, src/task/multiple-string-task.hh,
	* src/task/string-task.hh, src/task/task-register.hh,
	* src/task/task-register.hxx, src/task/task.hh,
	* src/task/task.hxx, src/task/tasks.hh,
	* src/temp/fwd.hh, src/temp/identifier.hcc,
	* src/temp/identifier.hh, src/temp/label.hh,
	* src/temp/libtemp.hh, src/temp/tasks.hh,
	* src/temp/temp-set.hh, src/temp/temp.hh,
	* src/transform/all.hxx, src/transform/bottom-up-rewriter.hh,
	* src/transform/bottom-up.hh,
	* src/transform/concrete-syntax-rewriter.hh,
	* src/transform/generic-rewriter.hh,
	* src/transform/generic-rewriter.hxx,
	* src/transform/generic-traversal.hh,
	* src/transform/generic-traversal.hxx,
	* src/transform/matcher.hh, src/transform/metavar-pool.hh,
	* src/transform/metavar-pool.hxx, src/transform/proxy-visitors.hh,
	* src/transform/proxy-visitors.hxx, src/transform/rewriter.hh,
	* src/transform/visitor.hh, src/transform/visitor.hxx,
	* src/translate/access.hh, src/translate/access.hxx,
	* src/translate/exp.hh, src/translate/exp.hxx,
	* src/translate/fwd.hh, src/translate/level.hh,
	* src/translate/level.hxx, src/translate/libtranslate.hh,
	* src/translate/tasks.hh, src/translate/translation.hh,
	* src/translate/translator.hh, src/tree/all.hh,
	* src/tree/binop.hh, src/tree/binop.hxx,
	* src/tree/call.hh, src/tree/cjump.hh,
	* src/tree/cjump.hxx, src/tree/const.hh,
	* src/tree/const.hxx, src/tree/eseq.hh,
	* src/tree/eseq.hxx, src/tree/exp.hh,
	* src/tree/fragment.hh, src/tree/fragment.hxx,
	* src/tree/fragments.hh, src/tree/fwd.hh,
	* src/tree/iterator.hh, src/tree/iterator.hxx,
	* src/tree/jump.hh, src/tree/jump.hxx,
	* src/tree/label.hh, src/tree/label.hxx,
	* src/tree/libtree.hh, src/tree/mem.hh,
	* src/tree/mem.hxx, src/tree/move.hh,
	* src/tree/move.hxx, src/tree/name.hh,
	* src/tree/name.hxx, src/tree/seq.hh,
	* src/tree/seq.hxx, src/tree/stm.hh,
	* src/tree/sxp.hh, src/tree/sxp.hxx,
	* src/tree/temp.hh, src/tree/temp.hxx,
	* src/tree/tiger_tree.i, src/tree/tree.hh,
	* src/tree/tree.hxx, src/tree/trees.hh,
	* src/tree/visitor.hh, src/tree/visitor.hxx,
	* src/type/array.hh, src/type/array.hxx,
	* src/type/attribute.hh, src/type/builtin-types.hh,
	* src/type/class.hh, src/type/class.hxx,
	* src/type/field.hh, src/type/field.hxx,
	* src/type/function.hh, src/type/function.hxx,
	* src/type/libtype.hh, src/type/method.hh,
	* src/type/named.hh, src/type/named.hxx,
	* src/type/record.hh, src/type/record.hxx,
	* src/type/tasks.hh, src/type/type-checker.hh,
	* src/type/type-checker.hxx, src/type/type.hh,
	* src/type/type.hxx, src/type/types.hh,
	* tcsh/README, ti/fork.cc,
	* ti/fork.hh, ti/fork.hxx,
	* ti/ti.cc, ti/tiopts.cc,
	* ti/tiopts.hh, ti/tiopts.hxx:
	Here.

	utf-8.

	* TODO: here.

2011-01-29  Akim Demaille  <demaille@gostai.com>

	NEWS: update.

	* NEWS: here.

	style changes.

	We do not use relative paths for headers to headers.  So use #include
	<...> instead of #include "...".

	git grep -l '#include.*"' dev src |
	  xargs perl -pi -e 's/(#\s*include\s+)"(.*?)"/$1<$2>/g'

	* dev/ast-cloner-gen, dev/ast-nodes-gen,
	* src/ast/array-exp.cc, src/ast/array-exp.hh,
	* src/ast/array-exp.hxx, src/ast/array-ty.cc,
	* src/ast/array-ty.hh, src/ast/array-ty.hxx,
	* src/ast/assign-exp.cc, src/ast/assign-exp.hh,
	* src/ast/assign-exp.hxx, src/ast/ast.cc,
	* src/ast/ast.hh, src/ast/ast.hxx,
	* src/ast/break-exp.cc, src/ast/break-exp.hh,
	* src/ast/break-exp.hxx, src/ast/call-exp.cc,
	* src/ast/call-exp.hh, src/ast/call-exp.hxx,
	* src/ast/cast-exp.cc, src/ast/cast-exp.hh,
	* src/ast/cast-exp.hxx, src/ast/cast-var.cc,
	* src/ast/cast-var.hh, src/ast/cast-var.hxx,
	* src/ast/class-ty.cc, src/ast/class-ty.hh,
	* src/ast/class-ty.hxx, src/ast/dec.cc,
	* src/ast/dec.hh, src/ast/dec.hxx,
	* src/ast/decs-list.cc, src/ast/decs-list.hh,
	* src/ast/decs-list.hxx, src/ast/escapable.cc,
	* src/ast/escapable.hh, src/ast/escapable.hxx,
	* src/ast/exp.cc, src/ast/exp.hh,
	* src/ast/exp.hxx, src/ast/field-init.cc,
	* src/ast/field-init.hh, src/ast/field-init.hxx,
	* src/ast/field-var.cc, src/ast/field-var.hh,
	* src/ast/field-var.hxx, src/ast/field.cc,
	* src/ast/field.hh, src/ast/field.hxx,
	* src/ast/for-exp.cc, src/ast/for-exp.hh,
	* src/ast/for-exp.hxx, src/ast/function-dec.cc,
	* src/ast/function-dec.hh, src/ast/function-dec.hxx,
	* src/ast/if-exp.cc, src/ast/if-exp.hh,
	* src/ast/if-exp.hxx, src/ast/int-exp.cc,
	* src/ast/int-exp.hh, src/ast/int-exp.hxx,
	* src/ast/let-exp.cc, src/ast/let-exp.hh,
	* src/ast/let-exp.hxx, src/ast/metavar-exp.cc,
	* src/ast/metavar-exp.hh, src/ast/metavar-exp.hxx,
	* src/ast/metavariable.cc, src/ast/metavariable.hh,
	* src/ast/metavariable.hxx, src/ast/method-call-exp.cc,
	* src/ast/method-call-exp.hh, src/ast/method-call-exp.hxx,
	* src/ast/method-dec.cc, src/ast/method-dec.hh,
	* src/ast/method-dec.hxx, src/ast/name-ty.cc,
	* src/ast/name-ty.hh, src/ast/name-ty.hxx,
	* src/ast/nil-exp.cc, src/ast/nil-exp.hh,
	* src/ast/nil-exp.hxx, src/ast/object-exp.cc,
	* src/ast/object-exp.hh, src/ast/object-exp.hxx,
	* src/ast/op-exp.cc, src/ast/op-exp.hh,
	* src/ast/op-exp.hxx, src/ast/record-exp.cc,
	* src/ast/record-exp.hh, src/ast/record-exp.hxx,
	* src/ast/record-ty.cc, src/ast/record-ty.hh,
	* src/ast/record-ty.hxx, src/ast/rule-dec.cc,
	* src/ast/rule-dec.hh, src/ast/rule-dec.hxx,
	* src/ast/seq-exp.cc, src/ast/seq-exp.hh,
	* src/ast/seq-exp.hxx, src/ast/simple-var.cc,
	* src/ast/simple-var.hh, src/ast/simple-var.hxx,
	* src/ast/string-exp.cc, src/ast/string-exp.hh,
	* src/ast/string-exp.hxx, src/ast/subscript-var.cc,
	* src/ast/subscript-var.hh, src/ast/subscript-var.hxx,
	* src/ast/ty.cc, src/ast/ty.hh,
	* src/ast/ty.hxx, src/ast/typable.cc,
	* src/ast/typable.hh, src/ast/typable.hxx,
	* src/ast/type-constructor.cc, src/ast/type-constructor.hh,
	* src/ast/type-constructor.hxx, src/ast/type-dec.cc,
	* src/ast/type-dec.hh, src/ast/type-dec.hxx,
	* src/ast/var-dec.cc, src/ast/var-dec.hh,
	* src/ast/var-dec.hxx, src/ast/var.cc,
	* src/ast/var.hh, src/ast/var.hxx,
	* src/ast/while-exp.cc, src/ast/while-exp.hh,
	* src/ast/while-exp.hxx, src/astclone/cloner.cc,
	* src/astclone/cloner.hh, src/transform/all.cc,
	* src/transform/all.hh:
	Here.

	style changes.

	We do not use relative paths for headers to headers.  So use #include
	<...> instead of #include "...".

	git grep -l '#include.*"' dev |
	  xargs perl -pi -e 's/(#\s*include\s+)"(.*?)"/$1<$2>/g'

	* dev/ast-cloner-gen, dev/ast-pretty-printer-gen,
	* dev/transform-all-gen: here.

	style changes.

	We do not use relative paths for headers to headers.  So use #include
	<...> instead of #include "...".

	git grep -l '#include.*"' src/ lib/misc/ |
	  xargs perl -pi -e 's/(#\s*include\s+)"(.*?)"/$1<$2>/g'

	* lib/misc/contract.cc, lib/misc/endomap.hcc,
	* lib/misc/error.cc, lib/misc/escape.cc,
	* lib/misc/file-library.cc, lib/misc/indent.cc,
	* lib/misc/path.cc, lib/misc/symbol.cc,
	* lib/misc/test-deref.cc, lib/misc/test-error.cc,
	* lib/misc/test-escape.cc, lib/misc/test-generic-variant.cc,
	* lib/misc/test-graph.cc, lib/misc/test-indent.cc,
	* lib/misc/test-path.cc, lib/misc/test-scoped.cc,
	* lib/misc/test-separator.cc, lib/misc/test-symbol.cc,
	* lib/misc/test-timer.cc, lib/misc/test-unique.cc,
	* lib/misc/test-variant.cc, lib/misc/test-xalloc.cc,
	* lib/misc/tiger_misc.i, lib/misc/timer.cc,
	* lib/misc/xalloc.cc, src/assem/fragment.cc,
	* src/assem/fragments.cc, src/assem/instr.cc,
	* src/assem/instrs.cc, src/assem/layout.cc,
	* src/ast/ast.hh, src/ast/ast.yml,
	* src/ast/decs-list.cc, src/ast/decs.cc,
	* src/ast/escapable.hh, src/ast/fwd.hh,
	* src/ast/if-exp.hh, src/ast/let-exp.hh,
	* src/ast/libast.cc, src/ast/pretty-printer.cc,
	* src/ast/tasks.cc, src/ast/test-ast.cc,
	* src/ast/typable.hh, src/ast/type-constructor.hh,
	* src/ast/type-constructor.hxx, src/ast/visitor.hh,
	* src/astclone/libastclone.hxx, src/astclone/tasks.cc,
	* src/astclone/test-cloner.cc, src/bind/binder.cc,
	* src/bind/libbind.cc, src/bind/renamer.cc,
	* src/bind/tasks.cc, src/bind/test-bind.cc,
	* src/bind/tiger_bind.i, src/callgraph/call-graph-visitor.cc,
	* src/callgraph/libcallgraph.cc, src/callgraph/parent-graph-visitor.cc,
	* src/callgraph/static-link-visitor.cc, src/callgraph/tasks.cc,
	* src/callgraph/tiger_callgraph.i, src/canon/basic-block.cc,
	* src/canon/canon.cc, src/canon/canon.hh,
	* src/canon/libcanon.cc, src/canon/tasks.cc,
	* src/canon/tiger_canon.i, src/canon/traces.cc,
	* src/common.cc, src/desugar/bound-checking-visitor.cc,
	* src/desugar/desugar-visitor.cc, src/desugar/libdesugar.cc,
	* src/desugar/tasks.cc, src/desugar/test-bound-checking.cc,
	* src/desugar/test-for-loops-desugar.cc,
	* src/desugar/test-string-cmp-desugar.cc,
	* src/escapes/escapes-check-visitor.cc,
	* src/escapes/escapes-visitor.cc,
	* src/escapes/libescapes.cc, src/escapes/tasks.cc,
	* src/escapes/tiger_escapes.i, src/frame/access.cc,
	* src/frame/frame.cc, src/inlining/inliner.cc,
	* src/inlining/libinlining.cc, src/inlining/pruner.cc,
	* src/inlining/tasks.cc, src/liveness/interference-graph.cc,
	* src/liveness/interference-graph.hh, src/liveness/libliveness.cc,
	* src/liveness/liveness.cc, src/liveness/tasks.cc,
	* src/liveness/test-flowgraph.cc, src/liveness/tiger_liveness.i,
	* src/modules.cc, src/object/binder.cc,
	* src/object/desugar-visitor.cc, src/object/libobject.cc,
	* src/object/renamer.cc, src/object/tasks.cc,
	* src/object/test-bind.cc, src/object/test-desugar.cc,
	* src/object/test-parse.cc, src/object/test-type.cc,
	* src/object/tiger_object.i, src/object/type-checker.cc,
	* src/overload/binder.cc, src/overload/liboverload.cc,
	* src/overload/tasks.cc, src/overload/tiger_overload.i,
	* src/overload/type-checker.cc, src/parse/libparse.cc,
	* src/parse/parsetiger.cc, src/parse/parsetiger.hh,
	* src/parse/parsetiger.yy, src/parse/tasks.cc,
	* src/parse/test-parse.cc, src/parse/test-tweast.cc,
	* src/parse/tiger-parser.cc, src/parse/tweast.cc,
	* src/regalloc/color.cc, src/regalloc/libregalloc.cc,
	* src/regalloc/regallocator.cc, src/regalloc/tasks.cc,
	* src/regalloc/test-regalloc.cc, src/regalloc/tiger_regalloc.i,
	* src/stc.cc, src/target/assembly.cc,
	* src/target/codegen.cc, src/target/cpu-limits.cc,
	* src/target/cpu.cc, src/target/ia32/codegen.cc,
	* src/target/ia32/codegen.hh, src/target/ia32/cpu.cc,
	* src/target/ia32/epilogue.cc, src/target/ia32/gas-assembly.cc,
	* src/target/ia32/gas-layout.cc, src/target/ia32/prologue.hh,
	* src/target/ia32/target.cc, src/target/libtarget.cc,
	* src/target/mips/codegen.cc, src/target/mips/codegen.hh,
	* src/target/mips/cpu.cc, src/target/mips/epilogue.cc,
	* src/target/mips/prologue.hh, src/target/mips/spim-assembly.cc,
	* src/target/mips/spim-layout.cc, src/target/mips/target.cc,
	* src/target/mips/test-rw_prg.cc, src/target/target.cc,
	* src/target/tasks.cc, src/task/boolean-task.cc,
	* src/task/disjunctive-task.cc, src/task/function-task.cc,
	* src/task/int-task.cc, src/task/libtask.hh,
	* src/task/multiple-string-task.cc, src/task/string-task.cc,
	* src/task/task-register.cc, src/task/task.cc,
	* src/task/tasks.cc, src/tc.cc,
	* src/temp/label.cc, src/temp/libtemp.cc,
	* src/temp/tasks.cc, src/temp/temp-set.cc,
	* src/temp/temp.cc, src/temp/test-temp.cc,
	* src/temp/tiger_temp.i, src/tiger_common.i,
	* src/transform/bottom-up-rewriter.cc, src/transform/bottom-up.cc,
	* src/transform/concrete-syntax-rewriter.cc,
	* src/transform/metavar-pool.cc,
	* src/transform/rewriter.cc, src/transform/sequence.hh,
	* src/transform/sequence.hxx, src/transform/test-combinators.cc,
	* src/transform/test-concrete.cc,
	* src/transform/test-transform-tests.cc,
	* src/transform/test-transform.cc, src/transform/test-voyager.cc,
	* src/translate/access.cc, src/translate/exp.cc,
	* src/translate/level.cc, src/translate/libtranslate.cc,
	* src/translate/tasks.cc, src/translate/tiger_translate.i,
	* src/translate/translation.cc, src/translate/translator.cc,
	* src/tree/binop.cc, src/tree/call.cc,
	* src/tree/cjump.cc, src/tree/const.cc,
	* src/tree/eseq.cc, src/tree/exp.cc,
	* src/tree/fragment.cc, src/tree/fragments.cc,
	* src/tree/jump.cc, src/tree/label.cc,
	* src/tree/libtree.cc, src/tree/mem.cc,
	* src/tree/move.cc, src/tree/name.cc,
	* src/tree/seq.cc, src/tree/stm.cc,
	* src/tree/sxp.cc, src/tree/temp.cc,
	* src/tree/tree.cc, src/tree/trees.cc,
	* src/type/array.cc, src/type/attribute.cc,
	* src/type/builtin-types.cc, src/type/class.cc,
	* src/type/field.cc, src/type/function.cc,
	* src/type/libtype.cc, src/type/method.cc,
	* src/type/named.cc, src/type/record.cc,
	* src/type/tasks.cc, src/type/test-type.cc,
	* src/type/tiger_type.i, src/type/type-checker.cc,
	* src/type/type.cc, src/version.cc.in:
	Convert #include style.

	scanner: simplifications.

	* src/parse/scantiger.ll (IDENTIFIER, NEW_IDENTIFIER): Remove,
	useless.
	Style fixes.

	build-aux: build-aux/bin.

	* build-aux/authors.h-gen: Rename as...
	* build-aux/bin/authors.h-gen: this.
	* build-aux/bison++.in: Rename as...
	* build-aux/bin/bison++.in: this.
	* build-aux/logeval-to-csv: Rename as...
	* build-aux/bin/logeval-to-csv: this.
	* build-aux/monoburg++.in: Rename as...
	* build-aux/bin/monoburg++.in: this.
	* Makefile.am, bistromatig/Makefile.am, build-aux/local.mk,
	* configure.ac, dev/stagize, dev/stats, src/Makefile.am,
	* src/parse/local.mk, src/target/ia32/local.mk,
	* src/target/local.mk, src/target/monoburg.mk:
	Adjust.

	NEWS: update.

	* NEWS: here.

	stagize: fixes.

	Escapable and others are delivered too soon.
	Reported by Julien Grall.

	* dev/stagize: Beware that ast-nodes.mk is no longer containing
	array-exp.cc and so forth, but ast/array-exp.cc etc.  So don't go into
	src/ast, but in src, and pass ast as argument to the generators.
	Likewise for the other cases.
	* dev/studentize (--report): New option.
	* dev/stagize: Use it for README, as we were now outputting into
	stderr, the > redirection did not work.

2011-01-27  Akim Demaille  <demaille@gostai.com>

	style changes.

	* dev/ast-nodes-gen, lib/misc/deref.cc, lib/misc/timer.cc,
	* lib/misc/timer.hxx, lib/misc/xalloc.cc, src/assem/fragment.cc,
	* src/assem/fragment.hxx, src/assem/instr.cc, src/assem/layout.cc,
	* src/assem/layout.hxx, src/assem/visitor.hxx, src/ast/any-decs.hxx,
	* src/ast/array-exp.cc, src/ast/array-ty.cc, src/ast/assign-exp.cc,
	* src/ast/ast.cc, src/ast/break-exp.cc, src/ast/call-exp.cc,
	* src/ast/cast-exp.cc, src/ast/cast-var.cc, src/ast/class-ty.cc,
	* src/ast/dec.cc, src/ast/decs-list.cc, src/ast/decs.hxx,
	* src/ast/escapable.cc, src/ast/exp.cc, src/ast/field-init.cc,
	* src/ast/field-var.cc, src/ast/field.cc, src/ast/for-exp.cc,
	* src/ast/function-dec.cc, src/ast/if-exp.cc, src/ast/int-exp.cc,
	* src/ast/let-exp.cc, src/ast/metavar-exp.cc, src/ast/metavariable.cc,
	* src/ast/method-call-exp.cc, src/ast/method-dec.cc, src/ast/name-ty.cc,
	* src/ast/nil-exp.cc, src/ast/object-exp.cc, src/ast/op-exp.cc,
	* src/ast/record-exp.cc, src/ast/record-ty.cc, src/ast/rule-dec.cc,
	* src/ast/seq-exp.cc, src/ast/simple-var.cc, src/ast/string-exp.cc,
	* src/ast/subscript-var.cc, src/ast/ty.cc, src/ast/typable.cc,
	* src/ast/type-constructor.cc, src/ast/type-dec.cc, src/ast/var-dec.cc,
	* src/ast/var.cc, src/ast/while-exp.cc, src/canon/basic-block.hxx,
	* src/canon/libcanon.cc, src/escapes/escapes-check-visitor.cc,
	* src/frame/access.cc, src/liveness/libliveness.cc,
	* src/target/libtarget.cc, src/task/disjunctive-task.cc,
	* src/task/task-register.cc, src/task/task.cc,
	* src/translate/translator.cc, src/tree/const.hxx, src/tree/exp.cc,
	* src/tree/exp.hh, src/tree/fragment.cc, src/tree/fragment.hxx,
	* src/tree/iterator.hxx, src/tree/stm.cc, src/tree/stm.hh,
	* src/tree/visitor.hxx, src/type/array.hxx, src/type/field.cc,
	* src/type/type.cc:
	s/{ }/{}/g.

	style changes.

	Change constructors (and class inheritance declaration) from

	   Codegen::Codegen (bool rule_trace_p)
	    : frame_ (0),
	      rule_trace_p_ (rule_trace_p)

	to

	   Codegen::Codegen (bool rule_trace_p)
	    : frame_ (0)
	    , rule_trace_p_ (rule_trace_p)

	* dev/transform-all-gen,
	* src/assem/instr.hxx,
	* src/assem/label.hxx,
	* src/callgraph/call-graph-visitor.hh,
	* src/callgraph/parent-graph-visitor.hh,
	* src/callgraph/static-link-visitor.hh,
	* src/escapes/escapes-check-visitor.cc,
	* src/escapes/escapes-check-visitor.hh,
	* src/escapes/escapes-visitor.hh,
	* src/liveness/interference-graph.cc,
	* src/object/desugar-visitor.cc,
	* src/object/renamer.cc,
	* src/object/type-checker.cc,
	* src/overload/binder.cc,
	* src/parse/tiger-parser.cc,
	* src/parse/tweast.hh,
	* src/regalloc/color.cc,
	* src/regalloc/regallocator.cc,
	* src/target/codegen.hxx,
	* src/target/cpu-limits.cc,
	* src/target/mips/target.cc,
	* src/task/string-task.cc,
	* src/temp/identifier.hcc,
	* src/transform/all.cc,
	* src/transform/bottom-up-rewriter.cc,
	* src/transform/concrete-syntax-rewriter.cc,
	* src/transform/matcher.cc,
	* src/transform/metavar-pool.cc,
	* src/transform/metavar-pool.hh,
	* src/transform/sequence.hxx,
	* src/translate/exp.hxx,
	* src/translate/level.cc,
	* src/translate/translator.cc,
	* src/translate/translator.hh,
	* src/tree/binop.hxx,
	* src/tree/cjump.hxx,
	* src/tree/fragment.hxx,
	* src/tree/label.hxx,
	* src/tree/name.hxx,
	* src/tree/temp.hxx,
	* src/tree/tree.hxx,
	* src/type/field.hxx,
	* src/type/method.cc,
	* src/type/named.hxx,
	* src/type/type-checker.cc:
	here.

	stagize: also prune on # in Makefiles.

	* dev/stagize: here.

	Regen.

	parse: fix.

	* src/parse/parsetiger.yy: typeid.opt can be 0, so use a
	printer that does not dereference in that case.
	There is nothing to do for the destructor, as delete 0 is valid.

	1.30a.

	* configure.ac: Bump to 1.30a.
	* NEWS: Adjust.

2011-01-13  Akim Demaille  <demaille@gostai.com>

	tc 1.30.

	* NEWS, configure.ac: Release 1.30.

2011-01-13  Akim Demaille  <demaille@gostai.com>

	tc 1.30.

	* NEWS, configure.ac: Release 1.30.

	Regen.

	pretty-printer: avoid trailing spaces.

	* src/ast/pretty-printer.cc: Don't issue spaces before an incendl.

	Regen.

	NEWS: fixes.

	* NEWS: here.

	NEWS: Update.

	* NEWS: Document changes about Bison and Automake.

	Regen.

	parse: refactor.

	* src/parse/parsetiger.yy (typeid.opt): New.
	Use it.
	Use named references at random places.

	ast: fix.

	* src/ast/ast.yml: here.
	* src/ast/if-exp.hh: regen.

	ChangeLog: regen.

	* .last-cl-gen, ChangeLog: run "make update-ChangeLog".

	style changes.

	* src/task/task.cc (Task::Task): Scope reduction.

2011-01-13  Akim Demaille  <demaille@gostai.com>

	style changes.

	* src/task/task.cc (Task::Task): Scope reduction.

	style changes.

	* lib/misc/separator.hxx, src/ast/ast.yml,
	* src/parse/tweast.cc, src/task/boolean-task.cc,
	* src/task/function-task.cc, src/task/int-task.cc,
	* src/task/multiple-string-task.cc, src/task/task.cc:
	Change constructor style.

	style changes.

	More from

		Foo::Foo(int a, int b)
		  : a(a),
		    b(b)

	to

		Foo::Foo(int a, int b)
		  : a(a)
		  , b(b)

	* dev/ast.py: Do it.

	* src/ast/array-exp.cc, src/ast/array-ty.cc,
	* src/ast/assign-exp.cc, src/ast/break-exp.cc,
	* src/ast/call-exp.cc, src/ast/cast-exp.cc,
	* src/ast/cast-var.cc, src/ast/class-ty.cc,
	* src/ast/dec.cc, src/ast/decs-list.cc,
	* src/ast/escapable.cc, src/ast/exp.cc,
	* src/ast/field-init.cc, src/ast/field-var.cc,
	* src/ast/field.cc, src/ast/for-exp.cc,
	* src/ast/function-dec.cc, src/ast/if-exp.cc,
	* src/ast/int-exp.cc, src/ast/let-exp.cc,
	* src/ast/metavar-exp.cc, src/ast/method-call-exp.cc,
	* src/ast/name-ty.cc, src/ast/object-exp.cc,
	* src/ast/op-exp.cc, src/ast/record-exp.cc,
	* src/ast/record-ty.cc, src/ast/rule-dec.cc,
	* src/ast/seq-exp.cc, src/ast/simple-var.cc,
	* src/ast/string-exp.cc, src/ast/subscript-var.cc,
	* src/ast/ty.cc, src/ast/type-dec.cc,
	* src/ast/var-dec.cc, src/ast/while-exp.cc:
	Regen.

2011-01-12  Akim Demaille  <demaille@gostai.com>

	build: fixes.

	It turned out that it un-hid a comment that was removed by
	accident:

	 #
	+#  ../../../src/type/types.hxx(64): remark #522:
	 #    function "type::Named::type_set(const type::Type *)" redeclared "inline"

	* configure.ac: Upgrade style.
	Add a few comments.
	Fix studentize marks.
	* dev/stagize: Do not use 'sed -i -e' because Mac OS X's sed
	understands this as 'sed -i-e', i.e., it leaves a backup with
	"-e appended".  Anyway, don't use sed, use perl.
	Remove things that are handled by studentize anyway.
	* src/object/binder.cc: Style change.

2011-01-11  Akim Demaille  <demaille@gostai.com>

	build: fix distcheck.

	* lib/misc/local.mk, src/Makefile.am: Clean the test binaries.

	regen.

	Formatting changes.

	parser: improve Bison usage.

	* src/parse/parsetiger.yy: Specify the language, and use %param.

2011-01-11  Roland Levillain  <roland@lrde.epita.fr>

	Remove old parser code.

	* src/parse/parsetiger.yy (take): Remove function (now useless).

2011-01-11  Akim Demaille  <demaille@gostai.com>

	Adjust to changes in glr.cc.

	* src/parse/parsetiger.yy (token.prefix): Rename as...
	(api.tokens.prefix): this.

2011-01-11  Akim Demaille  <akim@lrde.epita.fr>

	Use Bison's variant and lex_symbol interfaces.

	This implementation is certainly incorrect with recursive
	parsing (because of the static variable loc), but this will
	be addressed later.
	* src/parse/parsetiger.yy: Request Bison's variant, assert,
	token.prefix and lex_symbol features.
	Eliminate all uses of %union, rather associate the C++ type to
	each symbol.
	Use objects (instead of pointers to objects) for strings and symbols.
	Adjust all uses.
	The variant implementation does not implement $$ = $1 by default,
	so add the missing actions where needed.
	* src/parse/tiger-parser.hh (YYLEX_SIGNATURE): Thanks to
	lex_symbol, we now return a symbol_type and need no argument.
	* src/parse/scantiger.ll (TOKEN, TOKEN_VAL): New.
	Use them to return values.
	(grown_string, loc): New static variables.
	The first one does not need to be static (but making it static
	saves from zillions of useless default constructions).  The second
	needs to be, as it implements location tracking.

	Allow default construction of misc::symbol.

	This is needed in order to use Bison's variants.
	* lib/misc/symbol.hh (symbol::symbol): Add a default argument
	to provide a default ctor.

2011-01-11  Akim Demaille  <demaille@gostai.com>

	Comment changes.

	tc-check: style changes.

	* tests/tc-check.in: Use Cwd::cwd.
	Formatting changes.

	tc-check: refactor.

	* tests/tc-check.in (tarball_parse): Return the results in a more
	natural order.

	tasks: remove useless mutable attribute.

	* src/task/boolean-task.hh, src/task/int-task.hh,
	* src/task/string-task.hh: here.
	Reported by clang++.

	tc: please clang.

	* lib/misc/endomap.hcc, lib/misc/list.hcc, lib/misc/set.hxx,
	* src/ast/default-visitor.hxx, src/liveness/flowgraph.hxx:
	Specify this-> where needed.

	argp: please clang.

	* lib/argp/argp-help.c, lib/argp/mempcpy.c, lib/argp/strchrnul.c:
	Fixes.
	* lib/argp/argp-fmtstream.h: Disable the __OPTIMIZE__ section, as it
	creates symbols that conflict with the duplicate definition in
	argp-fmtstream.c.
	The proper fix is probably to use #ifndef __OPTIMIZE__ in
	argp-fmtstream.c, but then linking fails because the
	"optimized" versions from the headers occur in several compilation
	unique, and cause duplicate symbols.
	I don't feel like looking for something more elaborate.

	Style changes.

	build: ship AUTHORS.

	* Makefile.am: here.

2010-12-19  Akim Demaille  <demaille@gostai.com>

	parser: regen.

	* src/parse/location.hh, src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh, src/parse/position.hh: Regen.

2010-12-19  Roland Levillain  <roland@lrde.epita.fr>

	Catch up with Akim's studentize.

	* dev/studentize: Add missing entries in documentation.

2010-12-19  Akim Demaille  <demaille@gostai.com>

	studentize: beware of flex.

	* dev/studentize: Indent the comment that we leave in the
	output.

	studentize: allow to name the closing tags.

	* dev/studentize (&studentize): here.

	studentize: do not pollute stdout.

	* dev/studentize (report): New.
	Use it to send verbose messages to stderr, since when fed on
	stdin, we answer on stdout.

	studentize: --mark.

	* dev/studentize (--mark): New.
	Provide its usage.

	studentize: improve error messages.

	* dev/studentize (&studentize): here.

	studentize: config_load.

	* dev/studentize (&config_load): New.
	Use it.
	Comment changes.

	lib: boost 1.45 compatibility.

	* lib/misc/graph.hxx (name_get): Please Boost 1.45.
	* lib/misc/test-graph.cc: Excersize the name.

	parser: regen.

	* src/parse/location.hh, src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh, src/parse/position.hh: Regen.

2010-12-16  Roland Levillain  <roland@lrde.epita.fr>

	Add a rule to update ChangeLog using Git commit messages.

	* dev/gitlog-to-changelog: New script.
	Imported from Git GNU Coreutils.
	* dev/Makefile.am (EXTRA_DIST): Add gitlog-to-changelog.
	* .last-cl-gen: New.
	* Makefile.am (update-ChangeLog): New (phony) target.
	(EXTRA_DIST): Add .last-cl-gen.

	Exercise ti.

	* ti/fact.tig: New.
	* ti/Makefile.am (TESTS, TEST_EXTENSIONS, TIG_LOG_COMPILER): New.
	(EXTRA_DIST): New.

2010-12-15  Roland Levillain  <roland@lrde.epita.fr>

	Update copyright years.

	* AUTHORS,
	* src/version.cc.in:
	Here.

	s/T9/TC-9/.

	* dev/studentize,
	* src/target/ia32/epilogue.cc,
	* src/target/mips/epilogue.cc:
	Here.
	* src/target/ia32/codegen.cc,
	* src/target/mips/codegen.cc:
	Regen.

	Have TCSH catch up with the interface of the parser.

	* src/parse/tiger_parse.i: No longer provide replacements for
	parse::position's ctors.

2010-12-08  Roland Levillain  <roland@lrde.epita.fr>

	Typo in src/ast/visitor.hh.

	* dev/ast-visitor-gen: Typo.
	* src/ast/visitor.hh: Regen.

	Fix build issues.

	* src/callgraph/local.mk (callgraph_libcallgraph_la_LDFLAGS)
	* src/inlining/local.mk (inlining_libinlining_la_LDFLAGS)
	* src/liveness/local.mk (liveness_libliveness_la_LDFLAGS):
	Set it back to $(BOOST_GRAPH_LDFLAGS).
	* dev/transform-proxy-visitors-gen: Do not emit header guards
	twice.
	* src/transform/proxy-visitors.hh: Regen.

2010-11-27  Akim Demaille  <demaille@gostai.com>

	autoconf 2.64.

	* bootstrap, configure.ac: here.

2010-11-27  Roland Levillain  <roland@lrde.epita.fr>

	Use modern M4sh idioms in warning.m4 (again).

	* build-aux/warning.m4 (TC_COMPILER_OPTION_IF):
	Use AS_VAR_IF instead of AS_IF and AS_VAR_GET.

2010-11-27  Akim Demaille  <demaille@gostai.com>

	tests: enable parallel tests.

	As a matter of fact, most of the tests were not run, because while
	check_PROGRAMS were defined, TESTS was not.  One fix was to define
	TESTS as $(check_PROGRAMS), but, as reported in the documentation
	of Automake, it is then better to use EXTRA_PROGRAMS, so that tests
	can be compiled in parallel as other tests are run (check_PROGRAMS
	are compiled before the first test is even started).

	* configure.ac: Here.
	* src/ast/local.mk, src/astclone/local.mk,
	* src/bind/local.mk, src/canon/local.mk,
	* src/desugar/local.mk, src/liveness/local.mk,
	* src/object/local.mk, src/parse/local.mk,
	* src/regalloc/local.mk, src/target/mips/local.mk,
	* src/temp/local.mk, src/transform/local.mk,
	* src/type/local.mk:
	(check_PROGRAMS): Rename as...
	(TESTS): this.
	* src/Makefile.am (EXTRA_PROGRAMS): Define to TESTS.
	* lib/misc/local.mk: Ditto.

	regen.

2010-11-27  Roland Levillain  <roland@lrde.epita.fr>

	Shorten some actions in the parser.

	* src/parse/parsetiger.yy: Save us a call to std::list::push_back
	to build a 1-element list when an std::list's ctor can be used
	instead.

2010-11-27  Akim Demaille  <demaille@gostai.com>

	remove stray files.

	* lib/misc/Makefile.am, src/task/Makefile.am: Remove.

2010-11-19  Akim Demaille  <demaille@gostai.com>

	data: move to local.mk.

	* Makefile.am, configure.ac: Adjust.
	* data/Makefile.am: Rename as...
	* data/local.mk: New.

	* Makefile.am (EXTRA_DIST, dist_noinst_DATA): Initialize.
	* build-aux/local.mk, data/local.mk: Adjust.

	Style changes.

	distcheck: fix.

	Remove traces of the defunct tests/tests.mk.

	* tests/Makefile.am: here.
	* tests/mk-Makefile-am: Remove.

	build: silent-rules

	* src/Makefile.am (version.stamp): here.

	build: simplify silent-rules.

	$(AM_V_GEN) can be used just as $(AM_V_at), it does not need to be
	alone.

	perl -0777 \
	     -pi -e 's/(\$\(AM_V_GEN\))\n\t\$\(AM_V_at\)/$1/g' \
	     **/{Makefile.am,*.mk}

	* Makefile.am, bistromatig/Makefile.am, src/parse/local.mk,
	* src/target/ia32/local.mk, src/target/mips/local.mk,
	* tests/Makefile.am: Merge $(AM_V_GEN) and its first $(AM_V_at).

	build: fix recheck.

	* tests/Makefile.am (BUILT_SOURCES): Help Make generating the
	test files.
	(AM_TCFLAGS): Pass --object-desugar and --overfun-types-compute
	when appropriate.
	(MAINTAINERCLEANFILES): Replace with...
	(MAINTAINERCLEANEXTS): this.
	(recheck): Adjust to use it.

	ignores: update.

	* .gitignore: here.

	build: simplify the Makefile support for tests.

	Instead of generating Makefile.ams with the list of files to ship,
	use git ls-files.  Actually, use a wrapper (build-aux/bin/ls-files)
	that runs git ls-files when under git, otherwise uses find.

	This change is not enough: some of the sub-Makefiles defined specific
	options (e.g., object-good/Makefile.am defined
	AM_TCFLAGS = --object-desugar).

	* build-aux/bin/ls-files: New.
	* configure.ac: .
	* tests/tests.mk: Merge into...
	* tests/Makefile.am: here.

	* tests/bind/Makefile.am: Remove.
	* tests/escapes/Makefile.am: Remove.
	* tests/good/Makefile.am: Remove.
	* tests/import-syntax/Makefile.am: Remove.
	* tests/import/Makefile.am: Remove.
	* tests/lexical/Makefile.am: Remove.
	* tests/object-bind/Makefile.am: Remove.
	* tests/object-good/Makefile.am: Remove.
	* tests/object-syntax/Makefile.am: Remove.
	* tests/object-type/Makefile.am: Remove.
	* tests/overload-bind-maint/Makefile.am: Remove.
	* tests/overload-good/Makefile.am: Remove.
	* tests/overload-type-maint/Makefile.am: Remove.
	* tests/overload-type/Makefile.am: Remove.
	* tests/runtime/Makefile.am: Remove.
	* tests/syntax/Makefile.am: Remove.
	* tests/type/Makefile.am: Remove.
	* tests/Makefile.am: Use ls_files instead of SUBDIRS.

	build: fix distcheck.

	* dev/ast-gen.mk, src/parse/local.mk: Be careful to help Make
	understand when to apply VPATH search.

	build: silent-rules.

	* src/parse/local.mk: here.

	stagize: adjust to local.mk changes.

	* dev/stagize: here.

	stagize: refactor.

	* dev/stagize (stderr, fatal): New.
	Use them.

	stagize: fail on failures.

	* dev/stagize: Avoid subshells, they hide failures, even with -e.

	stagize: refactor.

	* dev/stagize (seq): Issue several lines, like the real one.

	bootstrap: fix requirements.

	* bootstrap: here.

	build: style changes.

	* tcsh/python/Makefile.am, tcsh/ruby/Makefile.am: here.

	build-aux: use local.mk.

	* build-aux/Makefile.am: Rename as...
	* build-aux/local.mk: this.
	* Makefile.am, configure.ac: Adjust.

	* Makefile.am (CLEANFILES): Initialize.

2010-11-11  Akim Demaille  <demaille@gostai.com>

	build: refactor.

	* Makefile.am (install-epita): Update configure invocation.
	Use current versions of GCC.
	Use $(distdir).

	leopard: remove.

	* Makefile.am, dev/stagize, dev/tc.texi: Remove remains of Leopard.

	build: fixes.

	* lib/misc/local.mk: Add missing misc/.
	* src/astcloner: Fix invocation of generator.
	* dev/ast-gen.mk: Disable generation in ast/.
	* dev/ast-gen.mk, src/transform/local.mk: Fix differences
	between Gostai and LRDE.

	tc-check: simplify.

	* tests/tc-check.in: GetOpt sets flags itself.
	Avoid "return" when we can.

	argp: silent-rules.

	* lib/argp/configure.ac: here.

	Regen.

	parse: regen.

2010-11-10  Akim Demaille  <demaille@gostai.com>

	build: convert lib/ to local.mk.

	* lib/misc/Makefile.am: Rename as...
	* lib/misc/local.mk: this.
	Adjust.
	* configure.ac, lib/Makefile.am: Adjust.

	build: fix src vs. build issues.

	I really hate this part of Make...

	* src/parse/local.mk (FROM_PARSETIGER_YY_SRC): New.
	Use it.

	build: fix transform/ generation.

	* src/transform/local.mk: here (adjust output dir).
	* dev/transform-all-gen: Minor upgrade.

	dev: updates.

	* dev/ast-all-gen: Sync with Gostai.
	* dev/ast-gen.mk: Ditto.
	* src/ast/local.mk: Adjust.

	dev: update.

	* dev/tools.py: Catch up with Gostai.
	* dev/ast-all-gen, dev/ast-cloner-gen, dev/ast-default-visitor-gen,
	* dev/ast-fwd-gen, dev/ast-nodes-gen, dev/ast-pretty-printer-gen,
	* dev/ast-visitor-gen, dev/transform-all-gen,
	* dev/transform-proxy-visitors-gen: Adjust calls to banner.
	* src/ast/ast.yml (file_prologue): New.

	build: fix authors.h.

	* AUTHORS, THANKS: Convert to UTF-8.
	* build-aux/authors.h-gen: New.
	* Makefile.am: Adjust to use it.

	build: simplify.

	* src/target/ia32/local.mk, src/target/mips/local.mk: Factor rm's.

	prereq: gcc 4.2.

	* configure.ac, tests/tc-check.in: Update requirements to GCC 4.2.

	build: silent-rules.

	* src/target/ia32/local.mk, src/target/mips/local.mk,
	* bistromatig/Makefile.am: here.

	build: remove remains from Leopard.

	* configure.ac: here.

	tests: beware of interruptions in builds.

	* tests/tests.mk: Use mv $@.tmp $@.

	tests: revamp the Makefiles.

	* tests/Makefile.am, tests/tests.mk: Use silent-rules.
	(HAVM): New.
	(HAVM_FLAGS, TC_CHECK_FLAGS): Rename as...
	(HAVMFLAGS, TC_CHECKFLAGS): these, for consistency with traditional
	Make variables.
	(TC_RUN): New.
	Use it.

	build: various fixes.

	* build-aux/monoburg++.in, src/parse/local.mk: Adjust to the
	Makefile.am -> local.mk changes.

2010-09-15  Akim Demaille  <demaille@gostai.com>

	package: Fix handling of AM_DEFAULT_SOURCE_EXT.

	Automake prefers to see the definition in Makefile.am, so that it
	properly uses the C++ linker for C++ programs.

	* configure.ac (AM_DEFAULT_SOURCE_EXT): Remove.
	* lib/misc/Makefile.am, src/Makefile.am: Add.

	package: make handling of modules more modular.

	* src/Makefile.am (dist_tc_SOURCES): Move definitions to...
	* src/assem/local.mk, src/ast/local.mk, src/astclone/local.mk,
	* src/bind/local.mk, src/callgraph/local.mk, src/canon/local.mk,
	* src/desugar/local.mk, src/escapes/local.mk, src/frame/local.mk,
	* src/inlining/local.mk, src/liveness/local.mk, src/object/local.mk,
	* src/overload/local.mk, src/parse/local.mk, src/regalloc/local.mk,
	* src/target/local.mk, src/task/local.mk, src/temp/local.mk,
	* src/transform/local.mk, src/translate/local.mk, src/tree/local.mk,
	* src/type/local.mk (TASKS):
	here.

	Regen.

	package: migrate the whole src tree to a single Makefile.

	For the record, amongst the various tricks that were used in src/:

	for i in **/local.mk
	do
	  dir=$(dirname $i)
	  case $dir in
	    (ast|parse|task) continue;;
	  esac
	  perl -0777 -pi                                 \
	       -e 's{\b(test_\w+)}{'"$dir"'_$1}g;'       \
	       -e 's{(test-\w+)}{'"$dir"'/$1}g;'         \
	       -e 's{\b([-\w.]+\.\w+)\b}{'"$dir/"'$1}g;' \
	       -e 's{(\w+_SOURCES)}{'"$dir"'_$1}g;' $i
	done

	and tons of adjustments by hand.

	package: task/local.mk.

	* src/task/Makefile.am: Rename as...
	* src/task/local.mk: this.
	Adjust.
	* configure.ac, src/Makefile.am: Ditto.

	canon: fix warning.

	* src/canon/libcanon.cc: Include libcanon.hh to avoid warnings
	about undeclared non-static functions.

	package: make the declaration of test sources useless.

	* configure.ac: Define the AM_DEFAULT_SOURCE_EXT.
	* lib/misc/Makefile.am, src/ast/local.mk,
	* src/astclone/Makefile.am, src/bind/Makefile.am,
	* src/canon/Makefile.am, src/desugar/Makefile.am,
	* src/liveness/Makefile.am, src/object/Makefile.am,
	* src/parse/local.mk, src/regalloc/Makefile.am,
	* src/target/mips/Makefile.am, src/temp/Makefile.am,
	* src/transform/Makefile.am, src/type/Makefile.am:
	Simplify accordingly.

	package: ast/local.mk.

	* src/ast/Makefile.am: Rename as...
	* src/ast/local.mk: this.
	Adjust.
	* src/Makefile.am, src/ast/ast-nodes.mk, src/ast/ast.yml,
	Adjust to the ast/ prefix.
	* src/parse/local.mk: Adjust to other Automake variables being
	initialized.

	package: shush Automake.

	* bistromatig/Makefile.am: We feel entilted to use GNU Make.

	tweast: fix compilation.

	I cannot get this file to compile properly.  Maybe a difference between
	Boost versions?

	/opt/local/include/boost/lambda/detail/function_adaptors.hpp:264: error: invalid initialization of reference of type 'parse::Tweast*&' from expression of type 'parse::Tweast* const'

	* src/parse/tweast.cc: Don't use Boost.Lambda, use Boost.Foreach.

	package: use Automake's silent-rules.

	* configure.ac: here.
	Require 1.11.1.

	package: src/parse/local.mk.

	* src/Makefile.am: Predeclare some relevant Automake variables.
	* src/parse/Makefile.am: Rename as...
	* src/parse/local.mk: this.
	Adjust: prefix parse/ for sources, and parse_ for Automake
	variables.
	Make parse/prelude.cc cuter.
	* configure.ac, src/Makefile.am: Adjust.

	package: update AUTHORS.

	* AUTHORS: Update a few emails.

	test-flowgraph: syntactic suggar.

	* src/liveness/test-flowgraph.cc (OPER, LABEL): New.
	Use them.

	test-flowgraph: fix

	* src/liveness/test-flowgraph.cc (main): Fix the conditional
	branching, that needs two destination labels.
	The test code was correct, its intended semantics was not.
	Reported by Alban Tilatti.

2009-03-02  Akim Demaille  <akim@lrde.epita.fr>

	Use Bison's variant and lex_symbol interfaces.
	This implementation is certainly incorrect with recursive
	parsing (because of the static variable loc), but this will
	be addressed later.
	* src/parse/parsetiger.yy: Request Bison's variant, assert,
	token.prefix and lex_symbol features.
	Eliminate all uses of %union, rather associate the C++ type to
	each symbol.
	Use objects (instead of pointers to objects) for strings and symbols.
	Adjust all uses.
	The variant implementation does not implement $$ = $1 by default,
	so add the missing actions where needed.
	* src/parse/tiger-parser.hh (YYLEX_SIGNATURE): Thanks to
	lex_symbol, we now return a symbol_type and need no argument.
	* src/parse/scantiger.ll (TOKEN, TOKEN_VAL): New.
	Use them to return values.
	(grown_string, loc): New static variables.
	The first one does not need to be static (but making it static
	saves from zillions of useless default constructions).  The second
	needs to be, as it implements location tracking.

2009-03-02  Akim Demaille  <akim@lrde.epita.fr>

	Improve dependencies.
	* src/target/ia32/Makefile.am, src/target/mips/Makefile.am:
	Since the generation of the runtime files is performed by
	the Makefile, depend on it so that they are properly regenerated
	when needed.

2009-11-23  Roland Levillain  <roland@lrde.epita.fr>

	Catch up with Akim's studentize.

	* dev/studentize: Add missing entries in documentation.

2009-05-28  Akim Demaille  <demaille@gostai.com>

	studentize: beware of flex.

	* dev/studentize: Indent the comment that we leave in the
	output.

2009-05-28  Akim Demaille  <demaille@gostai.com>

	studentize: allow to name the closing tags.

	* dev/studentize (&studentize): here.

2009-05-28  Akim Demaille  <demaille@gostai.com>

	studentize: do not pollute stdout.

	* dev/studentize (report): New.
	Use it to send verbose messages to stderr, since when fed on
	stdin, we answer on stdout.

2009-05-28  Akim Demaille  <demaille@gostai.com>

	studentize: --mark.

	* dev/studentize (--mark): New.
	Provide its usage.

2009-05-28  Akim Demaille  <demaille@gostai.com>

	studentize: improve error messages.

	* dev/studentize (&studentize): here.

2009-05-28  Akim Demaille  <demaille@gostai.com>

	studentize: config_load.

	* dev/studentize (&config_load): New.
	Use it.
	Comment changes.

2010-05-25  Roland Levillain  <roland@lrde.epita.fr>

	Shorten some actions in the parser.

	* src/parse/parsetiger.yy: Save us a call to std::list::push_back
	to build a 1-element list when an std::list's ctor can be used
	instead.

2010-05-27  Akim Demaille  <demaille@gostai.com>

	* src/liveness/test-flowgraph.cc (main): Fix the conditional
	branching, that needs two destination labels.
	The test code was correct, its intended semantics was not.
	Reported by Alban Tilatti.

2010-04-30  Roland Levillain  <roland@lrde.epita.fr>

	Remove unnecessary inclusions of header `functional'.

	* src/parse/tweast.hxx,
	* src/regalloc/libregalloc.cc,
	* src/target/cpu.cc,
	* src/temp/identifier.hh:
	Here.

2010-03-08  Roland Levillain  <roland@lrde.epita.fr>

	Update the documentation w.r.t. casts and l-values.

	* src/parse/parsetiger.yy: Here.

2010-02-25  Roland Levillain  <roland@lrde.epita.fr>

	Move a comment to a more relevant location.

	* src/translate/translator.cc
	(translate::Translator::operator() (const ast::FunctionDecs&)):
	Here.

2010-02-25  Roland Levillain  <roland@lrde.epita.fr>

	Fix header inclusions.

	* src/translate/translator.hh: Include tree/fwd.hh.

2010-02-24  Roland Levillain  <roland@lrde.epita.fr>

	Add missing forward references to Tiger types' classes.

	* src/type/fwd.hh (type): Announce classes type::Function,
	type::Method, type::Attribute and type::Class.

2010-03-10  Akim Demaille  <demaille@gostai.com>

	build: simplify.

	* configure.ac: AC_SUBST does the m4_pattern_allow for us.

2010-02-25  Roland Levillain  <roland@lrde.epita.fr>

	Add a hint about method ast::FunctionDec::escapes_get at TC-5.

	* src/ast/ast.yml (FunctionDec): Here.
	* src/ast/function-dec.hh: Regen.

2010-02-25  Roland Levillain  <roland@lrde.epita.fr>

	* dev/stagize: Keep `translate' marks after TC-5.

2010-02-25  Roland Levillain  <roland@lrde.epita.fr>

	Remove all traces of escape_get attributes in student tarballs.

	* dev/ast-cloner-gen: Handle hidden attributes properly.
	* src/astclone/cloner.cc: Regen.
	* src/object/desugar-visitor.cc
	(object::DesugarVisitor::operator() (const ast::VarDec& e)): Hide
	references to escape_tag.

2010-02-15  Roland Levillain  <roland@lrde.epita.fr>

	Regen the AST nodes.

	* src/ast/break-exp.hxx: Regen.

2010-02-15  Roland Levillain  <roland@lrde.epita.fr>

	Add a hint about methods to be implemented at TC-3.

	* src/ast/ast.yml (BreakExp): Here.

2010-02-15  Roland Levillain  <roland@lrde.epita.fr>

	Improve the documentation of the AST description.

	* src/ast/ast.yml: Distinguish the effects of nodes' and
	accessors' hide attributes.
	Use a uniform layout.
	Fix punctuation.

2010-01-15  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.29a.

	* configure.ac, NEWS: Here.

2010-02-22  Roland Levillain  <roland@lrde.epita.fr>

	Prevent diff-r from removing gap hints (FIXMEs for students).

	* dev/diff-r: Do not prune comment lines.

2010-01-28  Roland Levillain  <roland@lrde.epita.fr>

	Use Perl in stagize to work around Darwin sed limitations.

	* dev/stagize: Here.

2010-01-15  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.29, for 2012-tc-1.1.

	* configure.ac, NEWS: Here.

2010-01-15  Roland Levillain  <roland@lrde.epita.fr>

	Fix a bug in unique objects' pretty-printer.

	* lib/misc/unique.hxx
	(operator<<(std::ostream&, const unique<T, C>&)):
	Have the prototype of the implementation match the interface's.
	s/obj_get/object_get/.
	Reported by François Lamboley <lambol_f@epita.fr>
	* lib/misc/test-unique.cc: New test.
	* lib/misc/Makefile.am (check_PROGRAMS): Add test-unique.
	(test_unique_SOURCES): New.

2010-01-12  Roland Levillain  <roland@lrde.epita.fr>

	Add more developer documentation on the distribution process.

	* dev/tc.texi: Add copyright information.
	Add my name as author.
	(Releases): Document the 20%.tar.bz2 distribution target.
	Document `make distcheck' for teacher tarball.

2010-01-12  Roland Levillain  <roland@lrde.epita.fr>

	Hide more code.

	* src/type/function.hh, src/type/function.cc,
	* src/type/method.hh, src/type/method.cc:
	Here.

2010-01-11  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.28a.

	* configure.ac, NEWS: Here.

2010-01-11  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.28, for 2012-tc-1.0.

	* configure.ac, NEWS: Update.
	* Makefile.am (20%): Remove temporary files ending in ``~''.
	Remove write permissions for the group and other users (maybe
	wrongly set by studentize, but I am not sure).
	(20%.tar.bz2): New target.
	Shortcut to create student tarballs.
	* dev/stagize (stages_opts): Simplify a test.

2010-01-08  Roland Levillain  <roland@lrde.epita.fr>

	Pacify diff in tc-check.

	* tests/tc-check.in (ast_check_one): Use `diff -U 0' instead of
	`diff -u0'.

2010-01-08  Roland Levillain  <roland@lrde.epita.fr>

	Regenerate the parser using Bison 2.4.426-827948.

	* src/parse/location.hh,
	* src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh,
	* src/parse/position.hh:
	Regen.

2010-01-08  Roland Levillain  <roland@lrde.epita.fr>

	Fix the TC-1 distribution.

	* src/parse/parsetiger.yy,
	* src/parse/scantiger.ll,
	* src/parse/tiger-parser.cc,
	* src/object/Makefile.am,
	* src/object/test-parse.cc:
	Hide object-related constructs if the stage does not feature
	object-parse.

2009-12-15  Roland Levillain  <roland@lrde.epita.fr>

	Require Bison 2.4.

	* configure.ac,
	* src/parse/parsetiger.yy:
	Here.

2009-12-18  Roland Levillain  <roland@lrde.epita.fr>

	Remove old parser code.

	* src/parse/parsetiger.yy (take): Remove function (now useless).

2009-12-02  Roland Levillain  <roland@lrde.epita.fr>

	Have `make dist' work on IA-32 hosts not in supported targets.

	* src/Makefile.am (dist_stc_SOURCES): Move stc-runtime.cc...
	(nodist_stc_SOURCES): ...here.

2009-12-01  Roland Levillain  <roland@lrde.epita.fr>

	Use modern M4sh idioms in warning.m4 (again).

	* build-aux/warning.m4 (TC_COMPILER_OPTION_IF):
	Use AS_VAR_IF instead of AS_IF and AS_VAR_GET.

2009-12-01  Roland Levillain  <roland@lrde.epita.fr>

	Switch back to idioms compatible with Autoconf 2.61.

	* build-aux/warning.m4 (TC_COMPILER_OPTION_IF):
	Use AS_IF and AS_VAR_GET instead of AS_VAR_IF.

2009-11-23  Warren Seine  <soow@lrde.epita.fr>

	Update bootstrap to check for PyYAML.

	* bootstrap: Check for module "yaml" instead of "syck".

2009-11-19  Roland Levillain  <roland@lrde.epita.fr>

	Create lib/argp/build-aux if needed.

	* bootstrap: Here.

2009-11-05  Roland Levillain  <roland@lrde.epita.fr>

	Move from PySyck to PyYAML.

	* dev/ast.py: Import `yaml' instead of `syck'.
	(Loader.load): Adjust.
	Adjust documentation.
	From Akim Demaille <akim@lrde.epita.fr>.
	* src/ast/ast.yml (OpExp): Surround type with quotes to please
	PyYAML.

2009-10-30  Roland Levillain  <roland@lrde.epita.fr>

	Improve __str__ conversion methods in SWIG wrappers.

	* lib/misc/tiger_misc.i,
	* src/ast/tiger_ast.i,
	* src/parse/tiger_parse.i,
	* src/tree/tiger_tree.i
	(__str__): Make them const.
	Use `$self' instead of `self', according to SWIG's manual.

2009-10-30  Roland Levillain  <roland@lrde.epita.fr>

	Help SWIG generate a valid Python wrapper for parse::position's ctor.

	* src/parse/tiger_parse.i: Provide a ctor using `int'
	literals (e.g. `1') as default values, instead of `unsigned int'
	literals (e.g., `1u'), since Python does not understand the latter.

2009-10-19  Roland Levillain  <roland@lrde.epita.fr>

	Get rid of some warnings in tests.

	* src/astclone/test-cloner.cc,
	* src/bind/test-bind.cc,
	* src/desugar/test-bound-checking.cc,
	* src/desugar/test-string-cmp-desugar.cc,
	* src/object/test-bind.cc,
	* src/object/test-desugar.cc,
	* src/object/test-type.cc,
	* src/transform/test-concrete.cc,
	* src/transform/test-transform-tests.cc,
	* src/transform/test-voyager.cc:
	Qualify internal functions as static.
	* src/transform/test-transform-tests.hh: New.
	Include this file...
	* src/transform/test-concrete.cc,
	* src/transform/test-transform.cc,
	* src/transform/test-transform-tests.cc:
	...here.
	Remove the now useless declarations.
	* src/transform/Makefile.am (noinst_HEADERS): New.
	Add test-transform-tests.hh.

2009-10-19  Roland Levillain  <roland@lrde.epita.fr>

	Be compatible with Boost.Variant 1.40.

	* src/inlining/inliner.cc (inlining): Use misc::variant's
	conversion operator instead of boost::get.

2009-10-13  Roland Levillain  <roland@lrde.epita.fr>

	Give more documentation and hints about escapes::EscapesVisitor.

	* src/escapes/escapes-visitor.hh: Here.

2009-10-13  Roland Levillain  <roland@lrde.epita.fr>

	Get rid of a const_cast in escapes::EscapesVisitor.

	* src/ast/ast.yml (SimpleVar): Provide a non const def_get
	accessor.
	* src/ast/simple-var.hh, src/ast/simple-var.cc: Regen.
	* src/escapes/escapes-visitor.cc (escapes): Use ast::SimpleVar's
	non const def_get accessor to avoid the use of const_cast.

2009-10-13  Roland Levillain  <roland@lrde.epita.fr>

	Use modern M4sh idioms in warning.m4.

	* build-aux/warning.m4 (TC_COMPILER_OPTION_IF):
	Use AS_VAR_IF instead of AS_IF and AS_VAR_GET.
	Use AS_VAR_POPDEF instead of AS_VAR_PUSHDEF.

2009-10-13  Roland Levillain  <roland@lrde.epita.fr>

	Have TC_CXX_WARNINGS be compatible with recent versions of Autoconf.

	* build-aux/warning.m4
	(AC_COMPILE_STDERR_IFELSE, TC_CXX_WARNINGS): Prevent unwanted
	concatenations creating dummy tokens with recent versions of
	Autoconf.

2009-06-29  Roland Levillain  <roland@lrde.epita.fr>

	Fix the distribution of the Tiger Interpreter in Python.

	* dev/stagize: Do not deliver tcsh/python/tip nor
	tcsh/python/tip.in in student tarballs.
	* tcsh/python/Makefile.am (dist_bin_SCRIPTS): Rename as...
	(bin_SCRIPTS): ...this.
	(CLEANFILES): Add $(bin_SCRIPTS).
	Remove `tip' installcheck targets in student tarballs.

2009-06-29  Roland Levillain  <roland@lrde.epita.fr>

	* dev/stagize, bistromatig/bigint.tih: Typos.

2009-06-29  Roland Levillain  <roland@lrde.epita.fr>

	Resolve a name conflict between the Tiger Interpreters in C and
	Python.

	* tcsh/python/ti.in: Rename as...
	* tcsh/python/tip.in: ...this.
	Adjust.
	* configure.ac: Adjust as well.
	* tcsh/python/Makefile.am (dist_bin_SCRIPTS)
	(MAYBE_INSTALLCHECK_IA32, installcheck-local):
	s/ti/tip/.

2009-06-29  Roland Levillain  <roland@lrde.epita.fr>

	Fix the distribution of the Bistromatig.

	* bistromatig/tests.mk: New file.
	Include it...
	* bistromatig/Makefile.am: Here.
	(EXTRA_DIST): Add tests/README.
	(dist_noinst_SCRIPT): Rename bogus variable as...
	(dist_check_SCRIPTS): ...this.

2009-04-23  Roland Levillain  <roland@lrde.epita.fr>

	Fix TCSH/Python w.r.t. the new interface of target::runtime_dump.

	* configure.ac, NEWS: Version 1.27a.
	* tcsh/python/ti.py: Catch up with the new signature of
	tc.target.runtime_dump.
	* src/target/libtarget.hh (target::runtime_dump): Document the
	arguments of this function.

2009-03-23  Benoit Sigoure  <tsunanet@gmail.com>

	Don't forget to distribute bistromatig.tih.
	* bistromatig/Makefile.am (dist_noinst_DATA): Add bistromatig.tih.
	Actually, re-use a few variables instead of manually re-listing the
	files to distribute, which is error prone.

2009-03-01  Roland Levillain  <roland@lrde.epita.fr>

	Regenerate the parser using Bison 2.4.266-4ff3b.

	* src/parse/parsetiger.hh, src/parse/parsetiger.cc,
	* src/parse/location.hh, src/parse/position.hh:
	Regen.

2009-03-01  Roland Levillain  <roland@lrde.epita.fr>

	Show some more of object::DesugarVisitor to students.

	* src/object/desugar-visitor.cc: Here.

2009-03-01  Roland Levillain  <roland@lrde.epita.fr>

	* src/escapes/tasks.cc (escapes_tags_display): Hide from students.

2009-02-27  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.27, for 2011-tc-3.0.

	* configure.ac, NEWS: Version 1.27.
	* AUTHORS: Update.
	* dev/ast-gen.mk ($(ast_basedir)README)
	($(ast_basedir)README.student):
	New targets.
	* src/target/tasks.hh: Improve documentation.
	* dev/stagize (prune): Remove escapes.
	Deliver the escapes module (but the EscapesCheckVisitor) at TC-3.
	Regen the READMEs in src/ast/.

2009-02-20  Roland Levillain  <roland@lrde.epita.fr>

	Update documentation about overloaded operator() in AST visitors.

	* configure.ac: Set version to 1.26a.
	* src/ast/default-visitor.hh
	(operator() (typename Const<Ast>::type&)): Update comment.
	* src/ast/non-object-visitor.hh: Add a missing comment about
	injected overloaded operator() methods from the base class.

2009-03-02  Akim Demaille  <akim@lrde.epita.fr>

	Allow default construction of misc::symbol.
	This is needed in order to use Bison's variants.
	* lib/misc/symbol.hh (symbol::symbol): Add a default argument
	to provide a default ctor.

2009-02-08  Yann Grandmaitre  <yanngrandmaitre@gmail.com>

	Add garbage collection(use Bohem's GC) for IA-32 back-end.
	* src/target/assembly.hh, src/target/mips/Makefile.am,
	* src/target/mips/spim-assembly.hh, src/target/ia32/gas-assembly.hh:
	Add a boolean argument to runtime to enable garbage collection
	if it is necessary.
	* src/target/ia32/Makefile.am: (runtime-gnu-linux.cc) Add a runtime
	which call to GC_malloc instead of malloc.
	* src/target/libtarget.cc, src/target/libtarget.hh: Add a boolean
	argument to runtime_dump to enable garbage collection if it is
	necessary.
	* src/target/tasks.cc, src/target/tasks.hh: Add the option
	--garbage-collection to enable the garbage collection.

2009-01-16  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.26, for 2011-tc-1.0.

	* Makefile.am: Disable `ti' and the Bistromatig when the compiler
	is incomplete.
	* src/Makefile.am: Disable `stc' when the compiler is incomplete.
	* dev/stagize: Adjust accordingly.
	* configure.ac: Likewise.
	Version 1.26.
	* NEWS: Likewise.
	Update.
	* AUTHORS, src/version.cc.in: Update copyright dates.
	* TODO: Kill dead items and update.
	* dev/stagize: Deliver parts labelled `object-parse' at TC-2.
	* src/parse/tiger-parser.hh: Adjust studentize's marks.

2008-12-20  Roland Levillain  <roland@lrde.epita.fr>

	Regen tests' outputs.

	* tests/object-good/visitor.-e.s,
	* tests/object-good/visitor.-e.u.s,
	* tests/object-good/visitor.desugared,
	* tests/object-good/visitor.hir,
	* tests/object-good/visitor.hpr,
	* tests/object-good/visitor.lir,
	* tests/object-good/visitor.lpr,
	* tests/object-good/visitor.s,
	* tests/object-good/visitor.u.s:
	Regen.

2008-12-20  Roland Levillain  <roland@lrde.epita.fr>

	Generate outputs for the test added by the previous patch.

	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.-e.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.-e.u.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.desugared,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.err,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.hir,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.hpr,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.lir,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.lpr,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.out,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.s,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.sta,
	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.u.s:
	New.
	* tests/object-good/Makefile.am: Regen.

2008-12-20  Roland Levillain  <roland@lrde.epita.fr>

	Add a test to exercise the bug fix of the previous patch.

	* tests/object-good/homonym-local-variables-in-two-methods-of-the-same-class.tig:
	New tests.

2008-12-20  Roland Levillain  <roland@lrde.epita.fr>

	Fix a bug in the object type-checker where a method's local
	variable was considered as an attribute of the enclosing class.

	* src/object/type-checker.hh
	(object::TypeChecker::within_methoddec_body_p_): New attribute.
	* src/object/type-checker.cc (object::TypeChecker::TypeChecker):
	Initialize within_methoddec_body_p_ to false.
	(object::TypeChecker::visitDecBody): Ensure we are not already
	within a method.
	Set within_methoddec_body_p_ to true during the type-checking of
	the body.
	(object::TypeChecker::operator() (ast::VarDec&)): Don't record a
	variable within a class scope as an attribute if it is defined
	inside a method's body.
	(object::TypeChecker::visitDecMembers): Save the value
	within_methoddec_body_p_ and set it to false before visiting a
	class' members, then set the saved value back.

2008-12-20  Roland Levillain  <roland@lrde.epita.fr>

	Ensure valid inputs for the Bistromatig are terminated by an EOF.

	* bistromatig/bistromatig.tih (program): New function.
	Expect and parse an `exp', then an `EOF'.
	Use it...
	* bistromatig/bistromatig.tih: ...here as entry point to the
	parser, instead of `exp'.
	* bistromatig/evalexp++.tig (program): Likewise.
	* bistromatig/Makefile.am: Exercise evalexp++ a bit more.
	* bistromatig/tests/README: Update.

2008-12-17  Roland Levillain  <roland@lrde.epita.fr>

	Adjust tests w.r.t. the new conventions on inputs set by the
	previous patch.

	* bistromatig/tests/bistromatig-r10/bistromatig-r10_long1.in,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_long2.in,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_medium1.in,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_medium2.in,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short1.in,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short10.in,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short2.in,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short3.in,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short4.in,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short5.in,
	* bistromatig/tests/infinitematig/addmatig/addmatig_long1.in,
	* bistromatig/tests/infinitematig/addmatig/addmatig_long2.in,
	* bistromatig/tests/infinitematig/addmatig/addmatig_medium1.in,
	* bistromatig/tests/infinitematig/addmatig/addmatig_medium2.in,
	* bistromatig/tests/infinitematig/addmatig/addmatig_short1.in,
	* bistromatig/tests/infinitematig/addmatig/addmatig_short2.in,
	* bistromatig/tests/infinitematig/addmatig/addmatig_short3.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_long1.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_long2.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_medium1.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_medium2.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short0.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short1.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short2.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short3.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short4.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short5.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short6.in,
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_long1.in,
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_long2.in,
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_medium1.in,
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_medium2.in,
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_short1.in,
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_short2.in,
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_short3.in,
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_short4.in,
	* bistromatig/tests/infinitematig/submatig/submatig_long1.in,
	* bistromatig/tests/infinitematig/submatig/submatig_long2.in,
	* bistromatig/tests/infinitematig/submatig/submatig_medium1.in,
	* bistromatig/tests/infinitematig/submatig/submatig_medium2.in,
	* bistromatig/tests/infinitematig/submatig/submatig_short0.in,
	* bistromatig/tests/infinitematig/submatig/submatig_short1.in,
	* bistromatig/tests/infinitematig/submatig/submatig_short2.in,
	* bistromatig/tests/infinitematig/submatig/submatig_short3.in,
	* bistromatig/tests/mp-add/mp-add-short0.in,
	* bistromatig/tests/mp-mul/mp-mul-short0.in:
	Here.
	* bistromatig/tests/README: New.

2008-12-17  Roland Levillain  <roland@lrde.epita.fr>

	Have nicer drivers (w.r.t. their inputs).

	* bistromatig/mp-r10-add.tig,
	* bistromatig/mp-r10-div.tig,
	* bistromatig/mp-r10-mul.tig,
	* bistromatig/mp-r10-sub.tig:
	Use the real operator's character as operands delimiter, not `\0'.
	Allow newlines at end of input.
	* bistromatig/mp-add.tig,
	* bistromatig/mp-div.tig,
	* bistromatig/mp-mul.tig,
	* bistromatig/mp-sub.tig:
	Likewise.

2008-12-16  Nicolas Teck  <teck.nicolas@gmail.com>

	Fix signed arithmetics operators.
	* bistromatig/bigint.tih (bigint_add): Handle more case.
	(bigint_sub, bigint_mul, bigint_div): Fix neg function.
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_long1.out:
	Fix the result number.

2008-12-15  Roland Levillain  <roland@lrde.epita.fr>

	Add more tests.

	* bistromatig/tests/infinitematig/divmatig/divmatig_short4.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short4.out,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short5.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short5.out,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short6.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short6.out,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short5.in,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short5.out,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short10.in,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short10.out:
	New.

2008-12-15  Roland Levillain  <roland@lrde.epita.fr>

	Fix the negation (unary minus) and the division.

	* bistromatig/bigint.tih (bigint_negate): Actually change the
	sign.
	(bigint_div_u): Rework and simplify algorithm.

2008-12-14  Roland Levillain  <roland@lrde.epita.fr>

	Use bistromatig-check to perform (almost) all of the tests.

	* bistromatig/bistromatig-check (output): Remove useless echoes.
	* bistromatig/Makefile.am (%-mips.s, %-ia32.s): Avoid useless
	rebuilds.
	(check): Reindent dependencies.
	(check-mp-add, check-mp-r10-add, check-mp-sub, check-mp-r10-sub)
	(check-mp-mul, check-mp-r10-mul, check-mp-div, check-mp-r10-div)
	(check-bistromatig, check-bistromatig-r10):
	Simplify actions using bistromatig-check.
	* build-aux/move-if-change: Add a FIXME.

	* bistromatig/tests/mp-add,
	* bistromatig/tests/mp-mul:
	New directories.
	* bistromatig/tests/mp-add/mp-add-short0.in,
	* bistromatig/tests/mp-add/mp-add-short0.out,
	* bistromatig/tests/mp-mul/mp-mul-short0.in,
	* bistromatig/tests/mp-mul/mp-mul-short0.out,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short3.in,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short3.out,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short4.in,
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short4.out,
	* bistromatig/tests/infinitematig/addmatig/addmatig_short3.in,
	* bistromatig/tests/infinitematig/addmatig/addmatig_short3.out,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short3.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short3.out,
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_short3.in,
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_short3.out,
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_short4.in,
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_short4.out,
	* bistromatig/tests/infinitematig/submatig/submatig_short0.in,
	* bistromatig/tests/infinitematig/submatig/submatig_short0.out,
	* bistromatig/tests/infinitematig/submatig/submatig_short3.in,
	* bistromatig/tests/infinitematig/submatig/submatig_short3.out:
	New tests.

2008-12-14  Roland Levillain  <roland@lrde.epita.fr>

	Factor the Bistromatig's test framework.

	* bistromatig/Makefile.am (check-mp-r10-div): Move test routine
	into...
	* bistromatig/bistromatig-check: ...this (new) script.
	Use it...
	* bistromatig/Makefile.am (check-mp-r10-div): ...here.
	Have this target depend on bistromatig-check.
	(dist_noinst_SCRIPT): New variable.
	Add bistromatig-check.

2008-12-14  Roland Levillain  <roland@lrde.epita.fr>

	Handle divisions with 1-digit divisors in the Bistromatig.

	* bistromatig/bigint.tih (bigint_div_u): Handle the ``n = 1'' case
	by using a simpler, dedicated algorithm, as advised by D. Knuth.
	* bistromatig/Makefile.am (check-mp-r10-div): Show more
	information in case of failure.
	Make this target a phony one.
	Depend on $(check_mp_r10_div_dependencies).
	(check): Depend on check-mp-r10-div.
	* bistromatig/tests/infinitematig/divmatig/divmatig_short0.in,
	* bistromatig/tests/infinitematig/divmatig/divmatig_short0.out:
	New test data.

2008-12-14  Roland Levillain  <roland@lrde.epita.fr>

	Start to automate tests on the Bistromatig.

	* bistromatig/Makefile.am (check-mp-r10-div-all-new): New target.

2008-12-14  Roland Levillain  <roland@lrde.epita.fr>

	Don not accept single-digit divisors (for the moment) in Bistromatig.

	* bistromatig/bigint.tih (bigint_div_u): Ensure the divisor is at
	least a 2-digit number.

2008-12-14  Roland Levillain  <roland@lrde.epita.fr>

	* bistromatig/bigint.tih (bigint_is_null): Fix this function.

2008-12-14  Roland Levillain  <roland@lrde.epita.fr>

	Fix the pretty-printer of bigints.

	* bistromatig/bigint.tih (bigint_print): Fix the case of 0.

2008-12-14  Roland Levillain  <roland@lrde.epita.fr>

	Fix simple, radix-10 binaries of the Bistromatig.

	* bistromatig/mp-r10-sub.tig,
	* bistromatig/mp-r10-mul.tig,
	* bistromatig/mp-r10-div.tig:
	Use unsigned-version of the operator.

2008-12-12  Nicolas Teck  <teck.nicolas@gmail.com>

	Add tests for the radix-10 Bistromatig.
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_long1.in: New.
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_long1.out: New.
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_long2.in: New.
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_long2.out: New.
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_medium1.in: New.
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_medium1.out: New.
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_medium2.in: New.
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_medium2.out: New.
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short1.in: New.
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short1.out: New.
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short2.in: New.
	* bistromatig/tests/bistromatig-r10/bistromatig-r10_short2.out: New.
	* bistromatig/tests/bistromatig-r10: New.

2008-12-12  Nicolas Teck  <teck.nicolas@gmail.com>

	Add tests for the multiple-precision division in bistromatig.
	* bistromatig/tests/infinitematig/divmatig/divmatig_long1.in: New.
	* bistromatig/tests/infinitematig/divmatig/divmatig_long1.out: New.
	* bistromatig/tests/infinitematig/divmatig/divmatig_long2.in: New.
	* bistromatig/tests/infinitematig/divmatig/divmatig_long2.out: New.
	* bistromatig/tests/infinitematig/divmatig/divmatig_medium1.in: New.
	* bistromatig/tests/infinitematig/divmatig/divmatig_medium1.out: New.
	* bistromatig/tests/infinitematig/divmatig/divmatig_medium2.in: New.
	* bistromatig/tests/infinitematig/divmatig/divmatig_medium2.out: New.
	* bistromatig/tests/infinitematig/divmatig/divmatig_short1.in: New.
	* bistromatig/tests/infinitematig/divmatig/divmatig_short1.out: New.
	* bistromatig/tests/infinitematig/divmatig/divmatig_short2.in: New.
	* bistromatig/tests/infinitematig/divmatig/divmatig_short2.out: New.
	* bistromatig/tests/infinitematig/divmatig: New.

2008-12-12  Nicolas Teck  <teck.nicolas@gmail.com>

	Add tests for the multiple-precision multiplication in bistromatig.
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_long1.in: New.
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_long1.out: New.
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_long2.in: New.
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_long2.out: New.
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_medium1.in: New.
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_medium1.out: New.
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_medium2.in: New.
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_medium2.out: New.
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_short1.in: New.
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_short1.out: New.
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_short2.in: New.
	* bistromatig/tests/infinitematig/mulmatig/mulmatig_short2.out: New.
	* bistromatig/tests/infinitematig/mulmatig: New.

2008-12-12  Nicolas Teck  <teck.nicolas@gmail.com>

	Add tests for the multiple-precision subtraction in bistromatig.
	* bistromatig/tests/infinitematig/submatig/submatig_long1.in: New.
	* bistromatig/tests/infinitematig/submatig/submatig_long1.out: New.
	* bistromatig/tests/infinitematig/submatig/submatig_long2.in: New.
	* bistromatig/tests/infinitematig/submatig/submatig_long2.out: New.
	* bistromatig/tests/infinitematig/submatig/submatig_medium1.in: New.
	* bistromatig/tests/infinitematig/submatig/submatig_medium1.out: New.
	* bistromatig/tests/infinitematig/submatig/submatig_medium2.in: New.
	* bistromatig/tests/infinitematig/submatig/submatig_medium2.out: New.
	* bistromatig/tests/infinitematig/submatig/submatig_short1.in: New.
	* bistromatig/tests/infinitematig/submatig/submatig_short1.out: New.
	* bistromatig/tests/infinitematig/submatig/submatig_short2.in: New.
	* bistromatig/tests/infinitematig/submatig/submatig_short2.out: New.
	* bistromatig/tests/infinitematig/submatig: New.

2008-12-11  Nicolas Teck  <teck.nicolas@gmail.com>

	Add a driver for radix-10 multiple-precision multiplication and
	division.

	* bistromatig/Makefile.am: (drivers): Add mp-r10-mul.tig
	and mp-r10-div.tig.
	(mp_r10_mul_dependencies): New variable.
	(mp_r10_div_dependencies): New variable.
	(mp-r10-mul-mips.s, mp-r10-mul-ia32.s): Depend on
	$(mp_r10_mul_dependencies).
	(mp-r10-div-mips.s, mp-r10-div-ia32.s): Depend on
	$(mp_r10_div_dependencies).
	(mp_r10_mul): New variable.
	(mp_r10_div): New variable.
	* bistromatig/mp-r10-div.tig: New.
	* bistromatig/mp-r10-mul.tig: New.

2008-12-11  Roland Levillain  <roland@lrde.epita.fr>

	Factor and clean up a bit bistromatig/Makefile.am.

	* bistromatig/Makefile.am (operator_dependencies): New variable.
	Replace...
	(mp_add_dependencies, mp_r10_add_dependencies)
	(mp_sub_dependencies, mp_r10_sub_dependencies)
	(mp_mul_dependencies, mp_div_dependencies):
	...these variables.
	(bistromatig_dependencies): Factor using $(operator_dependencies).
	Replace...
	(bistromatig_r10_dependencies): this variable.
	(check-bistromatig, check-bistromatig-r10): Fix error messages.

2008-12-11  Roland Levillain  <roland@lrde.epita.fr>

	Add a radix-10 Bistromatig.

	* bistromatig/bistromatig-r10.tig: New.
	* bistromatig/Makefile.am (drivers): Add bistromatig-r10.tig.
	(bistromatig_r10_dependencies): New variable.
	(bistromatig-r10-mips.s, bistromatig-r10-ia32.s): New targets.
	Depend on $(bistromatig_r10_dependencies).
	(bistromatig_r10, check_bistromatig_r10_dependencies):
	New variables.
	(check-bistromatig-r10): New (phony) target.
	(check): Depend on check-bistromatig-r10.

2008-12-11  Roland Levillain  <roland@lrde.epita.fr>

	Start to factor (future) shared code from the Bistromatig.

	* bistromatig/bistromatig.tig: Move almost all of the declarations
	of the top-level let-in-end statement into...
	* bistromatig/bistromatig.tih: ...this (new) file.
	* bistromatig/Makefile.am (bistromatig_dependencies):
	Add bistromatig.tih.

2008-12-11  Roland Levillain  <roland@lrde.epita.fr>

	Complete the Bistromatig: handle signed bigints.

	* bistromatig/bigint.tih (bigint_abs): New function.
	(bigint_add, bigint_sub, bigint_mul, bigint_div): New functions.
	(bigint_add_u, bigint_div_u): Adjust comments.
	* bistromatig/bistromatig.tig (Evaluator.visitBinaryExp):
	s/bigint_add_u/bigint_add/.
	s/bigint_sub_u/bigint_sub/.
	s/bigint_mul_u/bigint_mul/.
	s/bigint_div_u/bigint_div/.
	* bistromatig/Makefile.am (check-bistromatig): Add another test.

2008-12-11  Roland Levillain  <roland@lrde.epita.fr>

	Rename unsigned arithmetic routines on bigints.

	* bistromatig/bigint.tih
	(bigint_add, bigint_sub, bigint_mul, bigint_div):
	Rename functions as...
	(bigint_add_u, bigint_sub_u, bigint_mul_u, bigint_div_u):
	...these.
	Adjust.
	* bistromatig/mp-add.tig,
	* bistromatig/mp-sub.tig,
	* bistromatig/mp-div.tig,
	* bistromatig/mp-mul.tig,
	* bistromatig/mp-r10-add.tig,
	* bistromatig/bistromatig.tig:
	Adjust.

2008-12-11  Nicolas Teck  <teck.nicolas@gmail.com>

	Add a driver for radix-10 multiple-precision subtraction.
	* bistromatig/Makefile.am: (drivers): Add mp-r10-sub.tig.
	(mp_r10_sub_dependencies): New variable.
	(mp-r10-sub-mips.s, mp-r10-sub-ia32.s): Depend on
	$(mp_r10_sub_dependencies).
	(mp_r10_sub): New variable.
	(check_mp_r10_sub_dependencies): New variable.
	(check-mp-r10-sub): New target.
	Depend on $(check_mp_r10_sub_dependencies).
	(check): Depend on check-mp-r10-sub..
	* bistromatig/mp-r10-sub.tig: New.

2008-12-11  Roland Levillain  <roland@lrde.epita.fr>

	First version of the arbitrary-radix multiple-precision Bistromatig.

	* bistromatig/bistromatig.tig: New.
	* bistromatig/bigint.tih (is_digit): New function.
	* bistromatig/Makefile.am (drivers): Add bistromatig.tig.
	(bistromatig_dependencies): New variable.
	(bistromatig-mips.s, bistromatig-ia32.s:): New targets.
	Depend on $(bistromatig_dependencies).
	(bistromatig, check_bistromatig_dependencies): New variables.
	(check-bistromatig): New target.
	(check): Depend on check-bistromatig.

2008-12-10  Roland Levillain  <roland@lrde.epita.fr>

	Add the division of nonnegative bigints.

	* bistromatig/bigint.tih
	(bigint_make_from_digit, bigint_clone_trim): New functions.
	(bigint_div): New function.
	Implement multiple-precision integer division.
	* bistromatig/mp-div.tig: New.
	* bistromatig/Makefile.am (drivers): Add mp-div.tig.
	(mp_div_dependencies): New.
	(mp-div-mips.s, mp-div-ia32.s): Depend on $(mp_div_dependencies).
	(mp_div, check_mp_div_dependencies): New variables.
	(check-mp-div): New (phony) target.
	(check): Depend on check-mp-div.

2008-12-10  Roland Levillain  <roland@lrde.epita.fr>

	Clean up and add missing routines in bistromatig/.

	* bistromatig/bigint.tih (bigint_make): Document.
	(bigint_zero): New function.
	(bigint_padding): Rename as...
	(bigint_clone_pad): ...this.
	Instead of altering the argument, create a copy of it, possibly
	add padding, and return it.
	(bigint_ge, bigint_add, bigint_sub): Adjust clients.
	(bigint_le, bigint_gt, bigint_lt): New functions.

2008-12-10  Nicolas Teck  <teck.nicolas@gmail.com>

	Add tests for the multiple-precision addition in bistromatig..
	* bistromatig/tests/infinitematig/addmatig/addmatig_long1.in: New.
	* bistromatig/tests/infinitematig/addmatig/addmatig_long1.out: New.
	* bistromatig/tests/infinitematig/addmatig/addmatig_long2.in: New.
	* bistromatig/tests/infinitematig/addmatig/addmatig_long2.out: New.
	* bistromatig/tests/infinitematig/addmatig/addmatig_medium1.in: New.
	* bistromatig/tests/infinitematig/addmatig/addmatig_medium1.out: New.
	* bistromatig/tests/infinitematig/addmatig/addmatig_medium2.in: New.
	* bistromatig/tests/infinitematig/addmatig/addmatig_medium2.out: New.
	* bistromatig/tests/infinitematig/addmatig/addmatig_short1.in: New.
	* bistromatig/tests/infinitematig/addmatig/addmatig_short1.out: New.
	* bistromatig/tests/infinitematig/addmatig/addmatig_short2.in: New.
	* bistromatig/tests/infinitematig/addmatig/addmatig_short2.out: New.
	* bistromatig/tests/infinitematig/addmatig: New.
	* bistromatig/tests/infinitematig: New.

2008-12-10  Nicolas Teck  <teck.nicolas@gmail.com>

	Correct the bistromatig tests repository name according to the subject.
	* bistromatig/tests/simplemathic/add/add_simple_long.in: Remove.
	* bistromatig/tests/simplemathic/add/add_simple_long.out: Remove.
	* bistromatig/tests/simplemathic/add/add_simple_medium.in: Remove.
	* bistromatig/tests/simplemathic/add/add_simple_medium.out: Remove.
	* bistromatig/tests/simplemathic/add/add_simple_short.in: Remove.
	* bistromatig/tests/simplemathic/add/add_simple_short.out: Remove.
	* bistromatig/tests/simplemathic/add: Remove.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_long_1.in: Remove.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_long_1.out: Remove.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_long_2.in: Remove.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_long_2.out: Remove.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_medium_1.in: Remove.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_medium_1.out: Remove.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_medium_2.in: Remove.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_medium_2.out: Remove.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_short_1.in: Remove.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_short_1.out: Remove.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_short_2.in: Remove.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_short_2.out: Remove.
	* bistromatig/tests/simplemathic/cplx: Remove.
	* bistromatig/tests/simplemathic/div/div_simple_long.in: Remove.
	* bistromatig/tests/simplemathic/div/div_simple_long.out: Remove.
	* bistromatig/tests/simplemathic/div/div_simple_medium.in: Remove.
	* bistromatig/tests/simplemathic/div/div_simple_medium.out: Remove.
	* bistromatig/tests/simplemathic/div/div_simple_short.in: Remove.
	* bistromatig/tests/simplemathic/div/div_simple_short.out: Remove.
	* bistromatig/tests/simplemathic/div: Remove.
	* bistromatig/tests/simplemathic/mul/mul_simple_long.in: Remove.
	* bistromatig/tests/simplemathic/mul/mul_simple_long.out: Remove.
	* bistromatig/tests/simplemathic/mul/mul_simple_medium.in: Remove.
	* bistromatig/tests/simplemathic/mul/mul_simple_medium.out: Remove.
	* bistromatig/tests/simplemathic/mul/mul_simple_short.in: Remove.
	* bistromatig/tests/simplemathic/mul/mul_simple_short.out: Remove.
	* bistromatig/tests/simplemathic/mul: Remove.
	* bistromatig/tests/simplemathic/sub/sub_simple_long.in: Remove.
	* bistromatig/tests/simplemathic/sub/sub_simple_long.out: Remove.
	* bistromatig/tests/simplemathic/sub/sub_simple_medium.in: Remove.
	* bistromatig/tests/simplemathic/sub/sub_simple_medium.out: Remove.
	* bistromatig/tests/simplemathic/sub/sub_simple_short.in: Remove.
	* bistromatig/tests/simplemathic/sub/sub_simple_short.out: Remove.
	* bistromatig/tests/simplemathic/sub: Remove.
	* bistromatig/tests/simplemathic: Remove.
	* bistromatig/tests/simplematig/add/add_simple_long.in: New.
	* bistromatig/tests/simplematig/add/add_simple_long.out: New.
	* bistromatig/tests/simplematig/add/add_simple_medium.in: New.
	* bistromatig/tests/simplematig/add/add_simple_medium.out: New.
	* bistromatig/tests/simplematig/add/add_simple_short.in: New.
	* bistromatig/tests/simplematig/add/add_simple_short.out: New.
	* bistromatig/tests/simplematig/add: New.
	* bistromatig/tests/simplematig/cplx/simple_cplx_long_1.in: New.
	* bistromatig/tests/simplematig/cplx/simple_cplx_long_1.out: New.
	* bistromatig/tests/simplematig/cplx/simple_cplx_long_2.in: New.
	* bistromatig/tests/simplematig/cplx/simple_cplx_long_2.out: New.
	* bistromatig/tests/simplematig/cplx/simple_cplx_medium_1.in: New.
	* bistromatig/tests/simplematig/cplx/simple_cplx_medium_1.out: New.
	* bistromatig/tests/simplematig/cplx/simple_cplx_medium_2.in: New.
	* bistromatig/tests/simplematig/cplx/simple_cplx_medium_2.out: New.
	* bistromatig/tests/simplematig/cplx/simple_cplx_short_1.in: New.
	* bistromatig/tests/simplematig/cplx/simple_cplx_short_1.out: New.
	* bistromatig/tests/simplematig/cplx/simple_cplx_short_2.in: New.
	* bistromatig/tests/simplematig/cplx/simple_cplx_short_2.out: New.
	* bistromatig/tests/simplematig/cplx: New.
	* bistromatig/tests/simplematig/div/div_simple_long.in: New.
	* bistromatig/tests/simplematig/div/div_simple_long.out: New.
	* bistromatig/tests/simplematig/div/div_simple_medium.in: New.
	* bistromatig/tests/simplematig/div/div_simple_medium.out: New.
	* bistromatig/tests/simplematig/div/div_simple_short.in: New.
	* bistromatig/tests/simplematig/div/div_simple_short.out: New.
	* bistromatig/tests/simplematig/div: New.
	* bistromatig/tests/simplematig/mul/mul_simple_long.in: New.
	* bistromatig/tests/simplematig/mul/mul_simple_long.out: New.
	* bistromatig/tests/simplematig/mul/mul_simple_medium.in: New.
	* bistromatig/tests/simplematig/mul/mul_simple_medium.out: New.
	* bistromatig/tests/simplematig/mul/mul_simple_short.in: New.
	* bistromatig/tests/simplematig/mul/mul_simple_short.out: New.
	* bistromatig/tests/simplematig/mul: New.
	* bistromatig/tests/simplematig/sub/sub_simple_long.in: New.
	* bistromatig/tests/simplematig/sub/sub_simple_long.out: New.
	* bistromatig/tests/simplematig/sub/sub_simple_medium.in: New.
	* bistromatig/tests/simplematig/sub/sub_simple_medium.out: New.
	* bistromatig/tests/simplematig/sub/sub_simple_short.in: New.
	* bistromatig/tests/simplematig/sub/sub_simple_short.out: New.
	* bistromatig/tests/simplematig/sub: New.
	* bistromatig/tests/simplematig: New.

2008-12-09  Yann Grandmaitre  <yanngrandmaitre@gmail.com>

	Fix compilation of ti on FreeBSD.
	* ti/Makefile.am: Add dependency with lib/argp/libargp.
	* ti/fork.cc: Use strdup instead of strndup because strndup
	is GNU extension.

2008-12-09  Roland Levillain  <roland@lrde.epita.fr>

	Misc. corrections in ti/.

	* Makefile.am (SUBDIRS): Don't deliver ti/ to students.
	* ti/ti.hh: Remove, and merge into...
	* ti/ti.cc: ...this file.
	Aesthetic changes w.r.t. indentation and line breaks.
	(backend_havm, backend_asm): Add an extra argument to pass a
	misc::error object.
	Use this error object, instead of manipulating std::cerr and
	exit() directly.
	(main): Adjust calls to backend_havm and backend_asm.
	Don't explicitly return 0, as C++ does it for us.
	* ti/tiopts.hh: Add a Doxygen header.
	Aesthetic changes.
	Move implementation-only related headers inclusions...
	* ti/tiopts.cc: ...here.
	Add a Doxygen header.
	* ti/tiopts.hxx: Add a Doxygen header.
	Include "tiopts.hh".
	* ti/fork.hh: Fix Doxygen header.
	Move implementation-only related headers inclusions...
	* ti/fork.cc: ...here.
	Add a Doxygen header.
	Use C++ headers instead of C ones.
	* ti/fork.hxx: Add a Doxygen header.
	Include "fork.hh".
	(Fork::is_parent, Fork::is_child): Simplify return values.
	* ti/Makefile.am: Adjust comments.
	(AM_CPPFLAGS): Don't add $(BOOST_CPPFLAGS) twice.
	(dist_ti_SOURCES): Remove ti.hh.
	(ti_LDFLAGS): New.
	Set to `-static'.

2008-12-09  Roland Levillain  <roland@lrde.epita.fr>

	* src/stc.cc: Aesthetic changes.

2008-12-09  Roland Levillain  <roland@lrde.epita.fr>

	Forbid spaces and non-terminal newlines in evalexp++ inputs.

	* bistromatig/evalexp++.tig (get_next_char): Move function...
	* bistromatig/io.tih: ...here.
	* bistromatig/evalexp++.tig (eat): Use getc() instead of
	get_next_char().
	Handle "\n" properly.

2008-12-09  Yann Grandmaitre  <yanngrandmaitre@gmail.com>

	Add front end ti C++.
	* Makefile.am (SUBDIRS): Add directory ti.
	* configure.ac: Configure ti/Makefile.
	* ti/Makefile.am: New.
	* ti/fork.cc, ti/fork.hh, ti/fork.hxx: New.
	Simple C++ wrapper for fork.
	* ti/tiopts.cc, ti/tiopts.hh, ti/tiopts.hxx: New.
	Getopts for ti which use libargp.
	* ti, ti/ti.cc, ti/ti.hh: New.

2008-12-09  Nicolas Teck  <teck.nicolas@gmail.com>

	Remove extra spaces in bistromatig tests.
	* bistromatig/tests/simplemathic/add/add_simple_long.in,
	* bistromatig/tests/simplemathic/add/add_simple_medium.in,
	* bistromatig/tests/simplemathic/add/add_simple_short.in,
	* bistromatig/tests/simplemathic/div/div_simple_long.in,
	* bistromatig/tests/simplemathic/div/div_simple_medium.in,
	* bistromatig/tests/simplemathic/div/div_simple_short.in,
	* bistromatig/tests/simplemathic/mul/mul_simple_long.in,
	* bistromatig/tests/simplemathic/mul/mul_simple_medium.in,
	* bistromatig/tests/simplemathic/mul/mul_simple_short.in,
	* bistromatig/tests/simplemathic/sub/sub_simple_long.in,
	* bistromatig/tests/simplemathic/sub/sub_simple_medium.in,
	* bistromatig/tests/simplemathic/sub/sub_simple_short.in:
	Here.

2008-12-08  Roland Levillain  <roland@lrde.epita.fr>

	Speed up (a bit) the multiplication of bigints.

	* bistromatig/bigint.tih (bigint_mul): Remove a superfluous
	assignment.

2008-12-08  Roland Levillain  <roland@lrde.epita.fr>

	Add the multiplication of nonnegative bigints.

	* bistromatig/bigint.tih: Credit D. Knuth.
	(bigint_mul): New function.
	* bistromatig/mp-mul.tig: New.
	* bistromatig/Makefile.am (drivers): Add mp-mul.tig.
	(mp_mul_dependencies): New variable.
	(mp-mul-mips.s, mp-mul-ia32.s): New targets.
	Depend on $(mp_mul_dependencies).
	(mp_mul, check_mp_mul_dependencies): New variables.
	(check-mp-mul): New (phony) target.
	Depend on $(check_mp_mul_dependencies).
	(check): Depend on check-mp-mul.

2008-12-08  Roland Levillain  <roland@lrde.epita.fr>

	* bistromatig/bigint.tih (bigint_negate): Simplify.
	Suggested by Akim Demaille <akim@lrde.epita.fr>.

2008-12-08  Roland Levillain  <roland@lrde.epita.fr>

	Simplify the multiple-precision addition of the Bistromatig.

	* bistromatig/bigint.tih (bigint_add): Simplification the
	computation of digits and carries.
	Adjust comments.
	(bigint_sub): Adjust comments as well.

2008-12-07  Roland Levillain  <roland@lrde.epita.fr>

	Exercise the subtraction of bigints.

	* bistromatig/Makefile.am (drivers): Add mp-sub.tig.
	(mp_sub_dependencies): New variables.
	(mp-sub-mips.s, mp-sub-ia32.s): New targets.
	Depend on $(mp_sub_dependencies).
	(mp_sub, check_mp_sub_dependencies): New variables.
	(check-mp-sub): New target.
	(check): Depend on check-mp-sub.

2008-12-07  Roland Levillain  <roland@lrde.epita.fr>

	Add the subtraction of nonnegative bigints.

	* bistromatig/bigint.tih (bigint_sub): New function.

2008-12-07  Roland Levillain  <roland@lrde.epita.fr>

	Add a greater-or-equal comparison operation on bigints.

	* bistromatig/bigint.tih (bigint_ge): New function.

2008-12-07  Roland Levillain  <roland@lrde.epita.fr>

	Add a negation operation on bigint.

	* bistromatig/bigint.tih (bigint_negate): New function.

2008-12-07  Roland Levillain  <roland@lrde.epita.fr>

	Add a deep-copy operation on bigints.

	* bistromatig/bigint.tih (bigint_clone): New function.

2008-12-07  Roland Levillain  <roland@lrde.epita.fr>

	Add operations on signs.

	* bistromatig/bigint.tih (internal_check_sign, bigint_is_null)
	(bigint_is_nonnegative, bigint_is_nonpositive)
	(bigint_is_positive, bigint_is_negative):
	New functions.
	(bigint_add): Use bigint_is_nonnegative(lhs) in preconditions.

2008-12-07  Roland Levillain  <roland@lrde.epita.fr>

	Misc. fixes in bistromatig/bigint.tih.

	* bistromatig/bigint.tih (bigint_make): Reindent.
	(bigint_print): Typo in comment.
	(bigint_add): Update header comment.
	Reindent.
	Fix comment in invariant.

2008-12-07  Roland Levillain  <roland@lrde.epita.fr>

	Have error management routines print their messages on stderr.

	* bistromatig/error.tih (error, internal_error): Print on the
	standard error, not the standard ouput.

2008-12-07  Roland Levillain  <roland@lrde.epita.fr>

	Add a driver for radix-10 multiple-precision additions.

	* bistromatig/mp-r10-add.tig: New.
	* bistromatig/Makefile.am (drivers): Add mp-r10-add.tig.
	(mp_r10_add_dependencies): New variable.
	(mp-r10-add-mips.s, mp-r10-add-ia32.s): Depend on
	$(mp_r10_add_dependencies).
	(mp_r10_add): New variable.
	(check_mp_r10_add_dependencies): New variable.
	(check-mp-r10-add): New target.
	Depend on $(check_mp_r10_add_dependencies).
	(check): Depend on check-mp-r10-add.

2008-12-07  Roland Levillain  <roland@lrde.epita.fr>

	Improve dependencies in bistromatig/Makefile.am's check targets.

	* bistromatig/Makefile.am
	(check_evalexpxx_dependencies, check_mp_add_dependencies):
	New variables.
	(check-evalexpxx): Depend on $(check_evalexpxx_dependencies).
	(check-mp-add): Depend on $(check_mp_add_dependencies).
	* bistromatig/mp-add.tig: Typo in comment.

2008-12-07  Roland Levillain  <roland@lrde.epita.fr>

	Make bistromatig/mp-add more modular and handle dependencies.

	* bistromatig/mp-add.tig Move bigint-related code...
	* bistromatig/bigint.tih: ...here (new file).
	* bistromatig/Makefile.am (drivers): New variable.
	Use it instead of $(dist_noinst_DATA).
	(dist_noinst_DATA): Adjust.
	(evalexpxx_dependencies): New variable.
	Populate bool.tih, error.tih, io.tih and sugar.tih.
	(evalexp++-mips.s, evalexp++-ia32.s): Depend on
	$(evalexpxx_dependencies).
	(mp_add_dependencies): New variable.
	Populate with bigint.tih, bool.tih, error.tih, io.tih and
	math.tih.
	(mp-add-mips.s, mp-add-ia32.s): Depend on $(mp_add_dependencies).
	(dist_noinst_DATA): Add bigint.tih, bool.tih, error.tih, io.tih,
	math.tih and sugar.tih.

2008-12-05  Roland Levillain  <roland@lrde.epita.fr>

	Update copyright dates in version.cc.in.

	* src/version.cc.in (program_doc): Add 2008.

2008-12-05  Roland Levillain  <roland@lrde.epita.fr>

	Fix (hopefully) the code generated by the IA-32 back-end for the
	division operation when operands are negative.

	* src/target/ia32/gas-assembly.cc (binop_build): Replace
	instruction `xor %edx, %edx' by instruction `cltd' before
	executing `idivl' in the case of a division.

2008-12-05  Roland Levillain  <roland@lrde.epita.fr>

	Regen tests outputs.

	* tests/good/Makefile.am: Regen.
	* tests/good/division-with-negative-operands.-e.s,
	* tests/good/division-with-negative-operands.-e.u.s,
	* tests/good/division-with-negative-operands.err,
	* tests/good/division-with-negative-operands.hir,
	* tests/good/division-with-negative-operands.hpr,
	* tests/good/division-with-negative-operands.lir,
	* tests/good/division-with-negative-operands.lpr,
	* tests/good/division-with-negative-operands.out,
	* tests/good/division-with-negative-operands.s,
	* tests/good/division-with-negative-operands.sta,
	* tests/good/division-with-negative-operands.u.s:
	New (generated outputs).

2008-12-05  Roland Levillain  <roland@lrde.epita.fr>

	Exercise the division of negative integers.

	* tests/good/division-with-negative-operands.tig: New test.

2008-12-05  Roland Levillain  <roland@lrde.epita.fr>

	Factor common code using imported declarations.

	* bistromatig/bool.tih,
	* bistromatig/error.tih,
	* bistromatig/io.tih,
	* bistromatig/math.tih,
	* bistromatig/sugar.tih:
	New.
	Use them...
	* bistromatig/evalexp++.tig, bistromatig/mp-add.tig:
	...here, to factor shared code.

2008-12-05  Roland Levillain  <roland@lrde.epita.fr>

	* bistromatig/Makefile.am (check-mp-add): Don't hide actions.

2008-12-05  Roland Levillain  <roland@lrde.epita.fr>

	Introduce concat3, concat4, concat5 in bistromatig/.

	* bistromatig/evalexp++.tig (concat3, concat4, concat5): New
	functions.
	Use them...
	(eat, factor): ...here, instead of multiple calls to concat.
	Suggested by Akim Demaille <akim@lrde.epita.fr>.

2008-12-04  Roland Levillain  <roland@lrde.epita.fr>

	Distribute the FreeBSD runtime.

	* src/target/ia32/Makefile.am (dist_noinst_DATA):
	Add runtime-freebsd.s.

2008-12-04  Roland Levillain  <roland@lrde.epita.fr>

	Polish evalexp++.

	* bistromatig/evalexp++.tig: Update header.
	Aesthetic changes.

2008-12-04  Roland Levillain  <roland@lrde.epita.fr>

	Some more simplifications in bistromatig/Makefile.am.

	* bistromatig/Makefile.am (nolimips): New variable.
	Use it...
	(evalexpxx, mp_add) [!IA32_GNU_LINUX]:
	...here, to simplify these variables.

2008-12-04  Roland Levillain  <roland@lrde.epita.fr>

	Add a multiple-precision addition in bistromatig/.

	* bistromatig/mp-add.tig: New.
	* bistromatig/Makefile.am (dist_noinst_DATA): Add mp-add.tig.
	(mp_add): New variable.
	[IA32_GNU_LINUX]: Set to `./mp-add-ia32'.
	[!IA32_GNU_LINUX]: Set to `nolimips -l nolimips -Ne mp-add-mips.s'.
	(check-mp-add): New (phony) target.
	(check): Depend on check-mp-add.

2008-12-04  Roland Levillain  <roland@lrde.epita.fr>

	Factor bistromatig/Makefile.am a bit.

	* bistromatig/Makefile.am (targets): Compute variable from
	$(dist_noinst_DATA).
	(CLEANFILES): Compute it from $(targets) and $(dist_noinst_DATA).
	(debug): New (phony) target.
	(evalexp++-mips.s, evalexp++-ia32.s, evalexp++-ia32):
	Remove and replace these targets by...
	(%-mips.s, %-ia32.s, %-ia32): ...these pattern rules.
	(check): Rename target as...
	(check-evalexpxx): ...this.
	(check): New target, depending on check-evalexpxx.

2008-12-04  Nicolas Teck  <teck.nicolas@gmail.com>

	Add simple tests for evalexp++.
	* bistromatig/tests/simplemathic/add/add_simple_long.in: New.
	* bistromatig/tests/simplemathic/add/add_simple_long.out: New.
	* bistromatig/tests/simplemathic/add/add_simple_medium.in: New.
	* bistromatig/tests/simplemathic/add/add_simple_medium.out: New.
	* bistromatig/tests/simplemathic/add/add_simple_short.in: New.
	* bistromatig/tests/simplemathic/add/add_simple_short.out: New.
	* bistromatig/tests/simplemathic/add: New.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_long_1.in: New.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_long_1.out: New.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_long_2.in: New.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_long_2.out: New.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_medium_1.in: New.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_medium_1.out: New.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_medium_2.in: New.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_medium_2.out: New.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_short_1.in: New.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_short_1.out: New.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_short_2.in: New.
	* bistromatig/tests/simplemathic/cplx/simple_cplx_short_2.out: New.
	* bistromatig/tests/simplemathic/cplx: New.
	* bistromatig/tests/simplemathic/div/div_simple_long.in: New.
	* bistromatig/tests/simplemathic/div/div_simple_long.out: New.
	* bistromatig/tests/simplemathic/div/div_simple_medium.in: New.
	* bistromatig/tests/simplemathic/div/div_simple_medium.out: New.
	* bistromatig/tests/simplemathic/div/div_simple_short.in: New.
	* bistromatig/tests/simplemathic/div/div_simple_short.out: New.
	* bistromatig/tests/simplemathic/div: New.
	* bistromatig/tests/simplemathic/mul/mul_simple_long.in: New.
	* bistromatig/tests/simplemathic/mul/mul_simple_long.out: New.
	* bistromatig/tests/simplemathic/mul/mul_simple_medium.in: New.
	* bistromatig/tests/simplemathic/mul/mul_simple_medium.out: New.
	* bistromatig/tests/simplemathic/mul/mul_simple_short.in: New.
	* bistromatig/tests/simplemathic/mul/mul_simple_short.out: New.
	* bistromatig/tests/simplemathic/mul: New.
	* bistromatig/tests/simplemathic/sub/sub_simple_long.in: New.
	* bistromatig/tests/simplemathic/sub/sub_simple_long.out: New.
	* bistromatig/tests/simplemathic/sub/sub_simple_medium.in: New.
	* bistromatig/tests/simplemathic/sub/sub_simple_medium.out: New.
	* bistromatig/tests/simplemathic/sub/sub_simple_short.in: New.
	* bistromatig/tests/simplemathic/sub/sub_simple_short.out: New.
	* bistromatig/tests/simplemathic/sub: New.
	* bistromatig/tests/simplemathic: New.
	* bistromatig/tests: New.

2008-12-04  Roland Levillain  <roland@lrde.epita.fr>

	Improve error management in evalexp++.

	* bistromatig/evalexp++.tig (internal_error): New function.
	Use it...
	(Exp.accept)
	(Visitor.visitIntExp)
	(Visitor.visitUnaryMinus)
	(Visitor.visitBinaryExp)
	(Evaluator.visitBinaryExp):
	...here, instead of `error'.
	(eat, factor): Output more explicit error messages.
	(Evaluator.visitBinaryExp): Simplify the division-by-zero case.

2008-12-04  Nicolas Teck  <teck.nicolas@gmail.com>

	Handle divide by zero error in evalexp++..
	* bistromatig/evalexp++.tig: Here.

2008-12-03  Akim Demaille  <akim@lrde.epita.fr>

	Comment changes.
	* bistromatig/Makefile.am: here.

2008-12-03  Akim Demaille  <akim@lrde.epita.fr>

	Fix nolimips interface.
	* bistromatig/Makefile.am: Don't use = for short options.

2008-12-03  Roland Levillain  <roland@lrde.epita.fr>

	Rename bistroomatig as evalexp++.

	* bistromatig/bistroomatig.tig: Rename as...
	* bistromatig/evalexp++.tig: ...this.
	* bistromatig/Makefile.am: s/bistroomatig/evalexp++/g
	Adjust.
	(bistroomatig): Rename variable as...
	(evalexpxx): ...this.
	(evalexp++-mips.s, evalexp++-ia32.s): Rewrite actions.

2008-12-03  Roland Levillain  <roland@lrde.epita.fr>

	* bistromatig/bistroomatig.tig: No longer pretty-print the AST.

2008-12-03  Roland Levillain  <roland@lrde.epita.fr>

	Fix src/target/ia32/Makefile.am.

	* src/target/ia32/Makefile.am (runtime-gnu-linux.cc): Typo in the
	generation of runtime-gnu-linux.cc.tmp.

2008-12-02  Roland Levillain  <roland@lrde.epita.fr>

	FIX conditional SUPPORTED_IA32.

	* configure.ac (SUPPORTED_IA32): Use `\|' instead of `|' in plain
	grep.

2008-12-02  Roland Levillain  <roland@lrde.epita.fr>

	Complete the Simple Tiger Compiler.

	* src/stc.cc: Get the runtime, and concatenate it to the generated
	instructions.
	Pass the result to gcc, so as to assemble and link the code.
	* configure.ac (IA32_FREEBSD, SUPPORTED_IA32): New conditionals.
	Use them...
	* src/Makefile.am: ...here.
	(dist_stc_SOURCES): Add stc-runtime.cc.
	(STC_RUNTIME): New variable.
	(CLEANFILES): Add stc-runtime.cc.
	(stc-runtime.cc): New target.

2008-12-02  Roland Levillain  <roland@lrde.epita.fr>

	Rename the GNU/Linux (default) runtime.

	* src/target/ia32/runtime.s: Rename as...
	* src/target/ia32/runtime-gnu-linux.s: ...this.
	* src/target/ia32/Makefile.am
	(runtime.cc): Rename target as...
	(runtime-gnu-linux.cc): ...this.
	Use implicit variables.
	Adjust.
	(dist_noinst_DATA, nodist_libtarget_ia32_la_SOURCES, CLEANFILES):
	Likewise.

2008-12-02  Roland Levillain  <roland@lrde.epita.fr>

	* build-aux/monoburg++.in: Actually remove temporary files.

2008-12-02  Roland Levillain  <roland@lrde.epita.fr>

	Give better names to the Bistromatig's tokens.

	* bistromatig/bistroomatig.tig:
	s/tok_times/tok_star/.
	s/tok_div/tok_slash/.
	Suggested by Akim Demaille <akim@lrde.epita.fr>.

2008-12-02  Roland Levillain  <roland@lrde.epita.fr>

	Start a Simple Tiger Compiler (stc) for the .tig rush.

	* src/stc.cc: New.
	* src/Makefile.am (bin_PROGRAMS): Add stc.
	(dist_stc_SOURCES, stc_LDADD, stc_LDFLAGS): New.

2008-12-02  Roland Levillain  <roland@lrde.epita.fr>

	Add a Tiger runtime for FreeBSD on IA-32.

	* src/target/ia32/runtime-freebsd.s: New.
	Generated from src/target/tiger-runtime.c.

2008-11-30  Roland Levillain  <roland@lrde.epita.fr>

	Add FIXMEs in dev/.

	* dev/ast-gen.mk,
	* dev/Makefile.am:
	Here.

2008-11-30  Roland Levillain  <roland@lrde.epita.fr>

	Add some option management to `bootstrap'.

	* bootstrap: Here.
	Handle option -h, --help and -m, --make.
	Don't run `make' at the end of the script unless option -m, --make
	is passed.
	(usage): New function.
	(run_make_p): New variable.

2008-11-30  Roland Levillain  <roland@lrde.epita.fr>

	* configure.ac: Use AC_CONFIG_MACRO_DIR, as advised by libtoolize.

2008-11-30  Roland Levillain  <roland@lrde.epita.fr>

	Remove a workaround for a bug in the object desugarer.

	* bistromatig/Makefile.am (bistroomatig1): Remove target
	(bistroomatig-mips.s, bistroomatig-ia32.s): Adjust.
	(CLEANUP): Likewise.

2008-11-30  Roland Levillain  <roland@lrde.epita.fr>

	Have the object renamer preserve type information.

	* src/type/named.hh, src/type/named.hxx (type::Named::name_set):
	New accessor.
	* src/object/renamer.cc (Renamer::operator() (ast::TypeDecs&)):
	Update type::Named instances attached to ast::TypeDec nodes.

2008-11-30  Roland Levillain  <roland@lrde.epita.fr>

	New task: raw-object-desugar.

	* src/object/tasks.hh, src/object/tasks.cc (raw_object_desugar):
	New task.

2008-11-27  Roland Levillain  <roland@lrde.epita.fr>

	Rename the Automake conditional IA32 as IA32_GNU_LINUX.

	* configure.ac: Here.
	Restrict the condition to IA32 hosts running GNU/Linux.
	* bistromatig/Makefile.am,
	* tcsh/python/Makefile.am:
	Adjust.

2008-11-27  Roland Levillain  <roland@lrde.epita.fr>

	Have the Bistromatig work on non GNU/Linux-IA32 hosts.

	* bistromatig/Makefile.am (targets): New.
	Have...
	(all): ...this target depend on it.
	(bistroomatig-mips.s): New target.
	(bistroomatig.s, bistroomatig): Rename targets as...
	(bistroomatig-ia32.s, bistroomatig-ia32): ...these.
	Disable them when the IA32 conditional is false.
	(CLEANFILES): Adjust.
	(bistroomatig): New variable.
	Use it...
	(check): ...here, to run the best (fastest) alternative.
	Depend on $(targets).

2008-11-27  Roland Levillain  <roland@lrde.epita.fr>

	Start a reference (OO) Bistromatig (``Bistromathic in Tiger'').

	* bistromatig/: New directory.
	* bistromatig/bistroomatig.tig: New.
	Largely inspired from tests/good/evalexp.tig and
	tests/object-good/visitor.tig.
	* bistromatig/Makefile.am: New.
	* Makefile.am (SUBDIRS): Add bistromatig.
	* configure.ac: Configure bistromatig/Makefile.
	* dev/stagize: Don't give away the bistromatig/ directory.

2008-09-07  Roland Levillain  <roland@lrde.epita.fr>

	Properly generate ast/visitor.hh w.r.t. lists of concrete
	declarations.

	* dev/ast-visitor-gen (dec_subclasses): Rename as...
	(concrete_decs): ...this.
	Populate this list by consulting node.concrete instead of
	node.name.

2008-08-05  Roland Levillain  <roland@lrde.epita.fr>

	Use a uniform naming scheme for tasks.

	* src/task/tasks.hh, src/task/tasks.cc:
	s/tasks_order_list/tasks_selection/
	s/tasks_time_report/time_report/
	* src/parse/tasks.hh, src/parse/tasks.cc:
	s/print_search_path/library_display/
	* src/bind/tasks.hh, src/bind/tasks.cc (bind): Rename this task
	as...
	(bindings-compute): ...this.
	s/bind/bindings_compute/
	(bound): Adjust dependencies.
	* src/callgraph/tasks.hh (callgraph-compute): Adjust dependencies.
	* src/object/tasks.hh, src/object/tasks.cc (object-bind): Rename
	this task as...
	(object-bindings-compute): ...this.
	s/object_bind/object_bindings_compute/
	s/object_types_check/object_types_compute/
	(object-types-compute):  Adjust dependencies.
	* src/type/tasks.hh (types-compute): Adjust dependencies.
	* src/overload/tasks.hh, src/overload/tasks.cc (overfun-bind):
	Rename this task as...
	(overfun-bindings-compute): ...this.
	s/overfun_bind/overfun_bindings_compute/
	s/overfun_types_check/overfun_types_compute/
	(overfun-types-compute): Adjust dependencies.
	* src/canon/tasks.hh, src/canon/tasks.cc:
	s/canonicalize/canon_compute/
	s/make_traces/traces_compute/
	s/trace_trace_p/traces_trace_p/
	* src/target/tasks.hh, src/target/tasks.cc:
	s/instruction_selection/inst_compute/
	s/instructions_display/inst_display/
	s/instructions_debug_p/inst_debug_p/
	* src/regalloc/tasks.hh, src/regalloc/tasks.cc:
	s/_coalesce_disable_p/asm_coalesce_disable_p/
	s/trace_p/asm_trace_p/
	s/asm_dummy/asm_display/

	* tests/tc-check.in (bindings_check_one, bindings_check)
	(renaming_check, load_tests): Adjust.

2008-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Update more CCMP URLs.

	* build-aux/leopard.el, dev/tc.texi, src/doc.hh:
	s|~akim/compil|~akim/ccmp|

2008-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Follow g++ 4.3 advice.

	* src/type/named.cc (type::Named::dump): Add braces around inner
	`if' to avoid (visual) ambiguity w.r.t. a dangling `else'.
	* src/regalloc/color.cc (regalloc::Color::coalesce): Likewise with
	operators `&&' and `||'.

2008-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Add missing inclusions of standard headers.

	* src/tc.cc: Include `cstdlib' for `exit()'.
	* src/task/task-register.cc: Add `cstring' for `memset()'.
	* src/object/libobject.cc, src/object/tasks.cc,
	* src/desugar/libdesugar.cc, src/inlining/libinlining.cc,
	* src/target/cpu.hh: Include `memory' for std::auto_ptr.
	* src/task/int-task.cc, src/parse/scantiger.ll,
	* src/regalloc/color.cc: Include `climits' for `INT_MAX'.

2008-07-31  Roland Levillain  <roland@lrde.epita.fr>

	Update installation URL for documentation.

	* configure.ac, NEWS: Version 1.25a.
	* Makefile.am (install-doc, install-doc-remote):
	s|www/compil|www/ccmp|

2008-05-19  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.25, for 2010-tc-9.0.

	* configure, NEWS: Version 1.25.
	* lib/misc/escape.cc (misc::escaped::escape_): Desugar `\a'
	escapes in literal strings to their hexadecimal counterparts.
	* lib/misc/test-escape.cc: Adjust.
	* tests/good/mini-morpho.hpr,
	* tests/good/mini-morpho.lpr,
	* tests/good/string-backslash-octal.-e.s,
	* tests/good/string-backslash-octal.-e.u.s,
	* tests/good/string-backslash-octal.hir,
	* tests/good/string-backslash-octal.lir,
	* tests/good/string-backslash-octal.s,
	* tests/good/string-backslash-octal.u.s,
	* tests/good/string-backslash-tortured.-e.s,
	* tests/good/string-backslash-tortured.-e.u.s,
	* tests/good/string-backslash-tortured.hir,
	* tests/good/string-backslash-tortured.lir,
	* tests/good/string-backslash-tortured.s,
	* tests/good/string-backslash-tortured.u.s:
	Regen.

2008-03-17  Teck Nicolas  <nikotek@tigrou.eu>

	Update tc-check for Object Type Checking.
	* tests/tc-check.in:
	Move the object type checking to an optional stage (T114).

2008-03-10  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.24, for 2010-tc-4.0.

	* configure.ac, NEWS: Version 1.24.
	* dev/stagize: Handle the distribution of the `transform' module.
	* src/parse/Makefile.am: Add a FIXME.
	* src/object/desugar-visitor.cc: Typo in comment.

2008-02-25  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.23, for 2010-tc-2.0.

	* configure.ac, NEWS: Version 1.23.
	* src/ast/fwd.hh,
	* src/parse/parsetiger.cc:
	Regen.

2008-02-25  Roland Levillain  <roland@lrde.epita.fr>

	Last-minute changes before the release of 2010-tc-2.0.

	* src/parse/scantiger.ll: Use the stagize's `scan' tag to properly
	hide the regexps.
	* src/parse/parsetiger.yy: Hide ruledec-related things.
	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx: Use the
	proper tag kind.
	* src/ast/ast.yml: Add a forward declaration of RuleDec to pacify
	the compiler.
	* tcsh/python/Makefile.am, tcsh/ruby/Makefile.am (AM_CPPFLAGS):
	Append $(BOOST_CPPFLAGS).
	* dev/ast-gen.mk: Aesthetic change.
	* dev/stagize: Catch up with the new scheme of the Python-based
	generators.

2008-02-14  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Add a missing CPPFLAG to use Boost.
	* lib/misc/Makefile.am (AM_CPPFLAGS): Here.
	Issue reported by Yann Grandmaitre.

2008-01-23  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Use my Boost.m4.
	* Makefile.am,
	* build-aux/Makefile.am (boost-m4-up): New.
	* build-aux/boost.m4: Replace with my boost.m4.
	* configure.ac: Invoke the proper macros to check for all the
	Boost features we use.
	* src/callgraph/Makefile.am (libcallgraph_la_LDFLAGS)
	(libcallgraph_la_LIBADD): New.
	* src/inlining/Makefile.am (libinlining_la_LDFLAGS)
	(libinlining_la_LIBADD): New.
	* src/liveness/Makefile.am (libliveness_la_LDFLAGS)
	(libliveness_la_LIBADD): New.
	* src/tc.mk (AM_CPPFLAGS): Add BOOST_CPPFLAGS.

2008-01-13  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Don't fail if xsltproc is not installed.
	* build-aux/bison++.in: Fix a typo (missing `$') in `rm' and do not
	try to `mv' a file that couldn't be produced if xsltproc is not
	installed.

2008-01-11  Akim Demaille  <demaille@gostai.com>

	Update cloner generation.
	* src/ast/ast.yml (clonerlib): New.
	* dev/ast-cloner-gen: Use it.
	* src/astclone/cloner.hh, src/astclone/cloner.cc: Regen.

2008-01-11  Akim Demaille  <demaille@gostai.com>

	Simplify the installation of the needed programs.
	* dev/install-bison: New.
	* dev/install-generic: New.
	* dev/install-ghc-osx: New.
	* dev/install-havm: New.
	* dev/install-monoburg: New.
	* dev/install-nolimips: New.

2008-01-11  Akim Demaille  <demaille@gostai.com>

	CPP guards fix.
	* src/astclone/cloner.hxx: here.
	* src/type/record.cc: Space changes.

2007-12-22  Roland Levillain  <roland@lrde.epita.fr>

	Address some warnings from Doxygen.

	* configure.ac, NEWS: Version 1.22a.
	* src/transform/generic-rewriter.hxx,
	* src/transform/generic-traversal.hxx:
	Fix Doxygen file headers.
	* src/transform/metavar-pool.hh (has, get)
	* src/object/desugar-visitor.hh (variant_exp, dispatch_switch):
	Fix Doxygen documentation.
	* dev/ast-readme-gen (print_node_rec): Typo in comment.

2007-12-22  Roland Levillain  <roland@lrde.epita.fr>

	Regen AST-related files.

	* src/ast/ast.dot, src/ast/ast-nodes.mk:
	New (generated) files.
	* src/ast/array-exp.cc, src/ast/array-exp.hh,
	* src/ast/array-ty.cc, src/ast/array-ty.hh,
	* src/ast/assign-exp.cc, src/ast/assign-exp.hh,
	* src/ast/ast.hh,
	* src/ast/break-exp.cc, src/ast/break-exp.hh,
	* src/ast/call-exp.cc, src/ast/call-exp.hh,
	* src/ast/cast-exp.cc, src/ast/cast-exp.hh,
	* src/ast/cast-var.cc, src/ast/cast-var.hh,
	* src/ast/class-ty.cc, src/ast/class-ty.hh,
	* src/ast/dec.hh,
	* src/ast/decs-list.cc, src/ast/decs-list.hh,
	* src/ast/escapable.hh,
	* src/ast/exp.hh,
	* src/ast/field-init.cc, src/ast/field-init.hh,
	* src/ast/field-var.cc, src/ast/field-var.hh,
	* src/ast/field.cc, src/ast/field.hh,
	* src/ast/for-exp.cc, src/ast/for-exp.hh,
	* src/ast/function-dec.cc, src/ast/function-dec.hh,
	* src/ast/if-exp.cc, src/ast/if-exp.hh,
	* src/ast/int-exp.cc, src/ast/int-exp.hh,
	* src/ast/let-exp.cc, src/ast/let-exp.hh,
	* src/ast/metavar-exp.cc, src/ast/metavar-exp.hh,
	* src/ast/metavariable.hh,
	* src/ast/method-call-exp.cc, src/ast/method-call-exp.hh,
	* src/ast/method-dec.cc, src/ast/method-dec.hh,
	* src/ast/name-ty.cc, src/ast/name-ty.hh,
	* src/ast/nil-exp.cc, src/ast/nil-exp.hh,
	* src/ast/object-exp.cc, src/ast/object-exp.hh,
	* src/ast/op-exp.cc, src/ast/op-exp.hh,
	* src/ast/record-exp.cc, src/ast/record-exp.hh,
	* src/ast/record-ty.cc, src/ast/record-ty.hh,
	* src/ast/rule-dec.cc, src/ast/rule-dec.hh,
	* src/ast/seq-exp.cc, src/ast/seq-exp.hh,
	* src/ast/simple-var.cc, src/ast/simple-var.hh,
	* src/ast/string-exp.cc, src/ast/string-exp.hh,
	* src/ast/subscript-var.cc, src/ast/subscript-var.hh,
	* src/ast/ty.hh, src/ast/typable.hh,
	* src/ast/type-constructor.hh, src/ast/type-constructor.hxx,
	* src/ast/type-dec.cc, src/ast/type-dec.hh,
	* src/ast/var-dec.cc, src/ast/var-dec.hh,
	* src/ast/while-exp.cc, src/ast/while-exp.hh:
	Regen.

2007-12-22  Roland Levillain  <roland@lrde.epita.fr>

	Have AST nodes C++ files be regenerated automatically.

	* src/ast/Makefile.am (ast_nodes): New.
	Set to $(AST_NODES).
	Used...
	* dev/ast-gen.mk: ...here.
	More documentation.

2007-12-22  Roland Levillain  <roland@lrde.epita.fr>

	Fix uses of algorithm.hh.

	* src/ast/ast.yml (misc_algorithm): New parameter.
	Set to misc/algorithm.hh.
	Use it...
	* dev/ast-nodes-gen (print_includes): ...here, to be generic
	w.r.t. the location of algorithm.hh.

2007-12-20  Akim Demaille  <akim@lrde.epita.fr>

	Update ignores, by hand.
	* dev/ast-gen.mk: Don't automatically update ignores.

2007-12-20  Akim Demaille  <akim@lrde.epita.fr>

	Regen ast/all.hh.
	* src/ast/all.hh:
	Regenerate it.
	* src/ast/allty.hh, src/ast/allvar.hh, src/ast/alldec.hh,
	* src/ast/allexp.hh:
	Delete, useless.

2007-12-20  Akim Demaille  <akim@lrde.epita.fr>

	Update graph generation.
	* dev/ast-graph-gen: Modernize.
	* dev/ast-gen.mk: Update its invocation.
	Comment out the generation of optional components.

2007-12-20  Akim Demaille  <akim@lrde.epita.fr>

	Info out stderr.
	* dev/tools.py (lazy_overwrite): here.

2007-12-20  Akim Demaille  <akim@lrde.epita.fr>

	* src/ast/visitor.hh: Regen.

2007-12-20  Akim Demaille  <akim@lrde.epita.fr>

	Don't issue MSVC workarounds here.
	* src/ast/ast.yml (msvc): Set to false.
	* dev/ast-visitor-gen: Use it to decide whether this code
	is wanted.

2007-12-20  Akim Demaille  <akim@lrde.epita.fr>

	Fix basedir problems.
	In Gostai we don't use an ast/Makefile.am, but ast/ast.mk, included
	by the top-level Makefile.am to make it compile faster.  Adjust.
	* src/ast/Makefile.am (ast_basedir): New.
	* dev/ast-gen.mk: Use it.

2007-12-20  Akim Demaille  <akim@lrde.epita.fr>

	Fix bootstrap.
	* bootstrap: Catch up with ast-nodes-mk-gen.

2007-12-19  Akim Demaille  <akim@lrde.epita.fr>

	Factor ast Makefile.
	* dev/ast-gen.mk: New.
	* src/ast/Makefile.am: Use it.

2007-12-19  Akim Demaille  <akim.demaille@free.fr>

	Update dev/ tools.
	* dev/ast-fwd-gen, dev/ast-nodes-mk-gen: Update from Gostai.
	* src/ast/ast.yml (auxlib, ast_basedir): New.

2007-12-18  Akim Demaille  <akim.demaille@free.fr>

	Update visitor generation.
	* dev/ast-visitor-gen, dev/ast.py: Update from Gostai.
	* src/ast/ast.yml (visitor_hh_prologue): New.

2007-12-18  Akim Demaille  <akim.demaille@free.fr>

	PrettyPrinter generation.
	* dev/ast-pretty-printer-gen: New.

2007-12-18  Akim Demaille  <akim.demaille@free.fr>

	Upgrade ast-*.
	* dev/tools.py: output the diff when updating.
	* dev/ast-nodes-gen: Output generated headers first.
	Play less with stdout.
	Use lazy_install.

2007-12-18  Akim Demaille  <akim.demaille@free.fr>

	Space/comment changes.
	* lib/misc/file-library.hh, src/ast/ast.yml, src/ast/decs-list.cc,
	* src/parse/scantiger.ll:
	here.

2007-12-18  Akim Demaille  <akim.demaille@free.fr>

	More ast-*.
	* dev/ast-all-gen, dev/ast-default-visitor-gen, dev/ast-ignores-gen:
	New.

2007-12-17  Guillaume Duhamel  <guillaume.duhamel@lrde.epita.fr>

	Fix call for bison in bison++.in.
	* build-aux/bison++.in: Fix call for bison in html generation.

2007-12-12  Roland Levillain  <roland@lrde.epita.fr>

	Fix 2010-tc-1.0.

	* lib/misc/unique.hh, lib/misc/unique.hxx (~unique): Add a virtual
	dtor.
	* lib/misc/symbol.hh, lib/misc/symbol.cc (~symbol): Likewise.
	* lib/misc/unique.hxx, lib/misc/symbol.hxx: Restore stagize marks.
	* dev/stagize: Fix the cleanup of src/parse/.

2007-12-10  Yann Grandmaitre  <yanngrandmaitre@gmail.com>

	Add misc::unique<T, C>, a generalization of misc::symbol.
	* lib/misc/Makefile.am: Add unique{hh,hxx} for libmisc.
	* lib/misc/symbol.cc, lib/misc/symbol.hh, lib/misc/symbol.hxx:
	misc::symbol inherit from misc::unique<std::string>.
	* lib/misc/unique.hh, lib/misc/unique.hxx: New.

2007-12-10  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.22, for 2010-tc-1.0.

	* configure.ac, NEWS: Version 1.22.
	* TODO: Update.

2007-12-10  Roland Levillain  <roland@lrde.epita.fr>

	Fix the TC-1 distribution (cont.).

	* dev/stagize: Relauch Flex if needed.

2007-12-10  Roland Levillain  <roland@lrde.epita.fr>

	Regenerate the parser.

	* src/parse/parsetiger.cc: Regen.

2007-12-10  Roland Levillain  <roland@lrde.epita.fr>

	Fix the TC-1 distribution.

	* src/parse/libparse.hh, src/parse/libparse.cc,
	* src/object/tasks.cc,
	* src/object/libobject.hh: Add missing studentize marks.
	* src/parse/parsetiger.yy: Likewise.
	Use C-style comments for stage-specific pruning.
	* dev/studentize_tc.conf: Add mark `scan'.
	* src/parse/scantiger.ll: Use mark `scan' to properly prune this
	file.
	* dev/stagize: Ship module `transform' at TC-4.
	Fix pruning of files for the TC-1 distribution.
	Make a (more) portable use of mktemp.
	* Makefile.am (studir): Turn off the `leopardization'' by default.
	* src/tc.mk,
	* src/type/libtype.hh,
	* tcsh/generate-swig-mk: Escape literal backslashes in here-scripts.
	* src/transform/test-transform-tests.cc:
	Typos.
	* src/Makefile.am: Reindent.

2007-12-08  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Add a best-of entry.
	* best-of: Add a new definition for LR parsers.

2007-12-04  Yann Grandmaitre  <yanngrandmaitre@gmail.com>

	Update generated files.
	* src/parse/location.hh, src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh, src/parse/position.hh: Regenerate.

2007-12-02  Guillaume Duhamel  <duhamelguillaume@gmail.com>

	Update of bison++.in for generation of parsetiger.xml and
	parsetiger.html.

	* build-aux/bison++.in: Update for generation of
	parsetiger.xml and parsetiger.html adapted from Gostai version.

2007-12-01  Roland Levillain  <roland@lrde.epita.fr>

	Improve src/transform/test-voyager on Mac OS X.

	* src/transform/test-voyager.cc (main): Don't use the `assert'
	macro with boost::tribool objects, since they don't mix well on
	Mac OS X.  Use macro `assertion' from libmisc instead.

2007-11-22  Roland Levillain  <roland@lrde.epita.fr>

	Add a test to ensure that method calls are not parsed as l-values.

	* tests/object-syntax/: New directory.
	Contain tests for Object Tiger with syntax errors.
	* tests/object-syntax/method-call-used-as-lvalue.tig: New test.
	* tests/mk-Makefile-am (all_tests): Add object-syntax.
	Reorder the list of directories for aesthetic purpose.
	* tests/object-syntax/Makefile.am: New (generated).
	Reported by Quentin Hocquet.

2007-11-20  Guillaume Duhamel  <duhamelguillaume@gmail.com>

	Replace boost foreach into iterator to ast/any-decs.hxx.
	* src/ast/any-decs.hxx: Fix typo.

2007-11-20  Guillaume Duhamel  <duhamelguillaume@gmail.com>

	Replace boost foreach into iterator to ast/any-decs.hxx.

	* ast/any-decs.hxx: Apply standard C++ iterator loops.

2007-11-18  Yann Grandmaitre  <yanngrandmaitre@gmail.com>

	Rename `print' methods as `dump'.
	* lib/misc/file-library.cc, lib/misc/file-library.hh,
	* lib/misc/file-library.hxx, lib/misc/list.hcc, lib/misc/list.hh,
	* lib/misc/path.cc, lib/misc/path.hh, lib/misc/path.hxx,
	* lib/misc/scoped-map.hh, lib/misc/scoped-map.hxx,
	* src/assem/fragment.cc, src/assem/fragment.hh,
	* src/assem/fragment.hxx, src/assem/instr.cc, src/assem/instr.hh,
	* src/assem/instr.hxx, src/assem/instrs.cc, src/assem/instrs.hh,
	* src/assem/move.hh, src/assem/move.hxx, src/assem/oper.hh,
	* src/assem/oper.hxx, src/canon/basic-block.cc,
	* src/canon/basic-block.hh, src/canon/basic-block.hxx,
	* src/frame/access.cc, src/frame/access.hh, src/parse/tweast.cc,
	* src/parse/tweast.hh, src/regalloc/color.cc,
	* src/regalloc/color.hh, src/target/cpu.cc, src/target/cpu.hh,
	* src/target/target.cc, src/target/target.hh,
	* src/temp/identifier.hcc, src/temp/identifier.hh,
	* src/temp/libtemp.cc, src/temp/libtemp.hh, src/translate/exp.cc,
	* src/translate/exp.hh, src/translate/exp.hxx,
	* src/translate/level.cc, src/translate/level.hh,
	* src/translate/level.hxx, src/tree/call.cc, src/tree/call.hh,
	* src/tree/eseq.cc, src/tree/eseq.hh, src/tree/fragment.cc,
	* src/tree/fragment.hh, src/tree/fragment.hxx,
	* src/tree/libtree.cc, src/tree/libtree.hh, src/tree/seq.cc,
	* src/tree/seq.hh, src/tree/tree.cc, src/tree/tree.hh,
	* src/tree/tree.hxx, src/type/array.cc, src/type/array.hh,
	* src/type/attribute.cc, src/type/attribute.hh, src/type/attribute.hxx,
	* src/type/builtin-types.cc, src/type/builtin-types.hh,
	* src/type/class.cc, src/type/class.hh, src/type/field.cc,
	* src/type/field.hh, src/type/field.hxx, src/type/function.cc,
	* src/type/function.hh, src/type/named.cc, src/type/named.hh,
	* src/type/record.cc, src/type/record.hh, src/type/type.hh,
	* src/type/type.hxx: Rename print as dump.

2007-11-17  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Fix distcheck.
	* src/transform/Makefile.am (libtransform_la_SOURCES): Add missing
	files.

2007-11-04  Yann Grandmaitre  <yanngrandmaitre@gmail.com>

	Fix make check and tc-check with -D_GLIBCXX_DEBUG.
	* lib/misc/scoped-map.hxx, src/inlining/inliner.cc:
	Don't compare iterators from different sequences.
	* src/inlining/pruner.cc: Don't increment the end iterator
	and don't decrement the begin iterator.
	* src/object/desugar-visitor.cc, src/translate/translator.cc:
	Don't increment the end iterator.

2007-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Factor repetitive code in transform:: using transform/macros.hh.

	* src/transform/macros (TRANSFORM_AST_NODES_WITH_SYMBOLS): New
	macro.
	(TRANSFORM_APPLY_MACRO): Rename as...
	(TRANSFORM_APPLY_MACRO_TO_ACTUAL_NODES): ...this.
	Add RuleDecs and RuleDec to the processed names.
	* src/transform/matcher.hh,
	* src/transform/generic-rewriter.hh,
	* src/transform/generic-rewriter.hxx,
	* src/transform/rewriter.hh,
	* src/transform/rewriter.cc,
	* src/transform/generic-traversal.hh,
	* src/transform/generic-traversal.hxx:
	Use macros TRANSFORM_APPLY_MACRO, TRANSFORM_APPLY_MACRO_TO_ARRAY
	and TRANSFORM_AST_NODES_WITH_SYMBOLS from src/transform/macros.hh
	to factor repetitive code.
	(VISITOR_VISIT_NODE_): Rename macro as...
	(VISITOR_VISIT_NODE): ...this.
	(VISITOR_VISIT_NODES): Remove macro definition.
	Replace its use by TRANSFORM_APPLY_MACRO_TO_ACTUAL_NODES or
	TRANSFORM_APPLY_MACRO_TO_ARRAY.

2007-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Centralize macro-based factoring efforts in module transform.

	* src/transform/macros.hh: New file.
	Provide a TRANSFORM_APPLY_MACRO_TO_ARRAY macro taking a
	``functor-macro'' as argument and applying it to all AST
	classes.
	* src/transform/Makefile.am (libtransform_la_SOURCES): Add
	macros.hh.

2007-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Rename ast-proxy-visitors-gen as transform-proxy-visitors-gen.

	* dev/ast-proxy-visitors-gen: Rename as...
	* dev/transform-proxy-visitors-gen: ...this.
	Remove FIXMEs.
	* dev/Makefile.am (dist_noinst_SCRIPTS)
	* src/transform/Makefile.am:
	s/ast-proxy-visitors-gen/transform-proxy-visitors-gen/
	* src/transform/proxy-visitors.hh,
	* src/transform/proxy-visitors.hxx:
	Regen.

2007-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Improve Matcher::recurse_collection.

	* src/transform/matcher.cc (recurse_collection): Revamp.
	Suggested by Benoît Sigoure.

2007-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Get rid of the dependency on Boost.Iostreams.

	* src/transform/test-concrete.cc (test_file): Rewrite this
	function using standard C++ streams.
	* src/transform/Makefile.am (test_concrete_LDADD): Remove
	-lboost_iostreams.
	* AUTHORS: Update.

2007-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Add products of tests/object-good/five-name-spaces.tig.

	* tests/object-good/five-name-spaces.-e.s,
	* tests/object-good/five-name-spaces.-e.u.s,
	* tests/object-good/five-name-spaces.desugared,
	* tests/object-good/five-name-spaces.err,
	* tests/object-good/five-name-spaces.hir,
	* tests/object-good/five-name-spaces.hpr,
	* tests/object-good/five-name-spaces.lir,
	* tests/object-good/five-name-spaces.lpr,
	* tests/object-good/five-name-spaces.out,
	* tests/object-good/five-name-spaces.s,
	* tests/object-good/five-name-spaces.sta,
	* tests/object-good/five-name-spaces.u.s:
	New files (generated).
	* tests/object-good/Makefile.am: Regen.

2007-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Add a test checking the name spaces introduced for attributes
	and methods.

	* tests/object-good/five-name-spaces.tig: New test.
	* src/bind/binder.hh: Mention the two name spaces introduced
	by object constructs in the documentation.

2007-10-20  Akim Demaille  <demaille@gostai.com>

	More catch up with Gostai.
	* dev/ast.py: Sort fields, and add new ones.
	Cannot check because I don't have the right syck on my Mac,
	but looks ok...

2007-10-19  Roland Levillain  <roland@lrde.epita.fr>

	Regen the interfaces of AST nodes.

	* src/ast/array-exp.hh, src/ast/array-ty.hh,
	* src/ast/assign-exp.hh, src/ast/ast.hh, src/ast/break-exp.hh,
	* src/ast/call-exp.hh, src/ast/cast-exp.hh,
	* src/ast/cast-var.hh, src/ast/class-ty.hh, src/ast/dec.hh,
	* src/ast/decs-list.hh, src/ast/escapable.hh, src/ast/exp.hh,
	* src/ast/field-init.hh, src/ast/field-var.hh,
	* src/ast/field.hh, src/ast/for-exp.hh,
	* src/ast/function-dec.hh, src/ast/if-exp.hh,
	* src/ast/int-exp.hh, src/ast/let-exp.hh,
	* src/ast/metavar-exp.hh, src/ast/metavariable.hh,
	* src/ast/method-call-exp.hh, src/ast/method-dec.hh,
	* src/ast/name-ty.hh, src/ast/nil-exp.hh,
	* src/ast/object-exp.hh, src/ast/op-exp.hh,
	* src/ast/record-exp.hh, src/ast/record-ty.hh,
	* src/ast/rule-dec.hh, src/ast/seq-exp.hh,
	* src/ast/simple-var.hh, src/ast/string-exp.hh,
	* src/ast/subscript-var.hh, src/ast/ty.hh, src/ast/typable.hh,
	* src/ast/type-constructor.hh, src/ast/type-dec.hh,
	* src/ast/var-dec.hh, src/ast/var.hh, src/ast/while-exp.hh:
	Regen.

2007-10-19  Roland Levillain  <roland@lrde.epita.fr>

	* src/ast/fwd.hh: Regen.

2007-10-19  Roland Levillain  <roland@lrde.epita.fr>

	Have dev/ast-fwd-gen be closer to Gostai's version.

	* src/ast/ast.yml (fwd_hh_prologue, fwd_hh_epilogue): New.
	* dev/ast-fwd-gen: Use them.
	Rewrite a bit to catch up with Gostai's version.

2007-10-15  Guillaume Duhamel  <duhamelguillaume@gmail.com>

	Update dev/ (first part).
	* ast.py: Little change of setting.
	* tools.py: New features like banner and clean some lines.

	* ast-cloner-gen,
	* ast-fwd-gen,
	* ast-graph-gen,
	* ast-nodes-gen,
	* ast-nodes-mk-gen,
	* ast-proxy-visitors-gen,
	* ast-visitor-gen,
	* transform-all-gen: Update the generator of files with update tools.

2007-10-14  Yann Grandmaitre  <yanngrandmaitre@gmail.com>

	Rename lib/misc/containers.{hh,hxx} as lib/misc/algorithm.{hh,hxx}.
	* dev/ast-nodes-gen: Change need_misc_containers to
	need_misc_algorithm.
	* lib/misc/Makefile.am: Include algorithm.{hh,hxx} instead of
	containers.{hh,hxx} for libmisc.la.
	* lib/misc/containers.hh, lib/misc/containers.hxx: Rename as...
	* lib/misc/algorithm.hh, lib/misc/algorithm.hxx: ...this.
	* lib/misc/graph.hxx, lib/misc/scoped-map.hxx,
	* src/assem/fragments.cc, src/assem/instrs.cc,
	* src/assem/visitor.hxx, src/desugar/desugar-visitor.cc,
	* src/frame/frame.cc, src/liveness/interference-graph.cc,
	* src/parse/tweast.hxx, src/regalloc/color.cc, src/target/cpu.cc,
	* src/task/task-register.cc, src/translate/level.cc,
	* src/tree/fragment.cc, src/tree/tree.cc, src/tree/visitor.hxx,
	* src/type/class.hxx, src/ast/default-visitor.hxx,
	* src/parse/parsetiger.yy: Include misc/algorithm.hh
	instead of misc/containers.hh
	* src/ast/call-exp.cc, src/ast/decs-list.cc,
	* src/ast/record-exp.cc, src/ast/record-ty.cc,
	* src/ast/seq-exp.cc, src/parse/parsetiger.hh: Regenerate.

2007-10-14  Yann Grandmaitre  <yanngrandmaitre@gmail.com>

	Update generated files.
	* src/parse/location.hh, src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh, src/parse/position.hh: Regenerate.

2007-10-12  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Fix a typo.
	* src/bind/binder.hh: s/namespaces/name spaces/.

2007-10-12  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Implement a concrete syntax rewriter.
	* build-aux/boost.m4: Take the path to the prefix of Boost in
	--with-boost instead of the path to the headers.  Substitute
	LDFLAGS so that we can link against Boost libs.
	* lib/misc/scoped-map.hh: Adjust a couple of comments.
	(scoped_map_get): New.
	* lib/misc/scoped-map.hxx (scoped_map_get): Implement.
	* src/transform/Makefile.am: Add the new files.
	* src/transform/concrete-syntax-rewriter.hh: New.
	* src/transform/concrete-syntax-rewriter.cc: New.  Implementation
	with debugging messages disabled.
	* src/transform/generic-rewriter.hh,
	* src/transform/generic-rewriter.hxx: Handle RuleDec/RuleDecs.
	* src/transform/test-concrete.cc: New.
	* src/transform/test-transform.cc: Factor some tests to ...
	* src/transform/test-transform-tests.cc: ... here.  New.

2007-10-11  Roland Levillain  <roland@lrde.epita.fr>

	* src/bind/binder.hh: Typo.

2007-10-11  Roland Levillain  <roland@lrde.epita.fr>

	* src/ast/pretty-printer.yy: Remove.

2007-10-11  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Add a useful typedef.
	* lib/misc/scoped-map.hh (value_type): New type.

2007-10-11  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Aesthetic changes.
	* lib/misc/scoped-map.hh,
	* src/bind/binder.hh,
	* src/transform/bottom-up-rewriter.hh: Improve Doxygen comments and
	fix a couple of minor nits.

2007-10-11  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Update the generated files.
	* src/ast/rule-dec.cc: New.
	* src/ast/rule-dec.hh: New.
	* src/ast/rule-dec.hxx: New.
	* src/ast/rule-decs.hh: New.
	* src/ast/README.student,
	* src/ast/README,
	* src/ast/fwd.hh,
	* src/astclone/cloner.cc,
	* src/astclone/cloner.hh,
	* src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh,
	* src/transform/all.cc,
	* src/transform/all.hh,
	* src/transform/proxy-visitors.hh,
	* src/transform/proxy-visitors.hxx: Regenerate.

2007-10-11  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Add support for concrete syntax rewrite rules in the frontend.
	* src/ast/alldec.hh: Add an include for RuleDec.
	* src/ast/ast.yml (includes_map): Add a RuleDecs.
	(RuleDec): New AST node.
	* src/ast/default-visitor.hh: Add overloads for RuleDec/RuleDecs.
	* src/ast/default-visitor.hxx: Implement the new overloads.
	* src/ast/pretty-printer.hh: Add an overload for RuleDec.
	* src/ast/pretty-printer.cc: Pretty print the RuleDec.
	* src/ast/visitor.hh: Add abstract methods for RuleDec/RuleDecs.
	* src/parse/parsetiger.yy (%union): Add ruledec/ruledecs, along
	with their %destructor, %printer and %type.
	(decs): Adjust.
	(RULE, ARROW): New tokens.
	(ruledecs, ruledec): New rules.
	* src/parse/scantiger.ll: Match and build the new tokens.  Kill
	a FIXME.
	* src/transform/generic-traversal.hh,
	* src/transform/generic-traversal.hxx: Add the new AST nodes.
	* src/transform/test-combinators.cc: Aesthetic change.
	* src/transform/test-transform.cc: Add a simple test using the
	new syntax.

2007-10-11  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Fix compilation of `transform' tests.
	* src/transform/rewriter.cc: Fix a typo.
	* src/transform/test-voyager.cc: Explicitely ask for the
	boost::logic::tribool to be converted in bool before testing them.

2007-10-10  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Fix various typos.
	* src/ast/any-decs.hh,
	* src/ast/function-decs.hh,
	* src/ast/method-decs.hh,
	* src/ast/type-decs.hh,
	* src/ast/var-decs.hh: s/shortand/shorthand/.
	* src/transform/rewriter.cc: s/out/our/.

2007-10-10  Roland Levillain  <roland@lrde.epita.fr>

	Fix find_exact.

	* src/transform/find-exact.hh (FindExact): Fix the case where
	Exact is not Itself.
	Reported by Benoît Sigoure.
	* src/transform/sequence.hh (Sequence::super_type): Fix this
	typedef.
	Reported by Nicolas Pierron.

2007-10-10  Roland Levillain  <roland@lrde.epita.fr>

	Fix the previous patch.

	* src/transform/rewriter.hh: Include missing headers from the
	Boost Preprocessor Library.
	* src/transform/rewriter.cc (VISITOR_VISIT_NODE_): Fix macro
	definition.

2007-10-10  Roland Levillain  <roland@lrde.epita.fr>

	Use The Boost Preprocessor Library to simplify transform::Rewriter.

	* src/transform/rewriter.hh, src/transform/rewriter.cc
	(VISITOR_VISIT_NODE_, VISITOR_VISIT_NODES): New macros.
	Undefine them at the end of the files.
	(operator()): Use VISITOR_VISIT_NODES to write the declarations
	and implementation of these operators.
	* src/transform/README: New file.
	* src/transform/Makefile.am (EXTRA_DIST): Add README.
	* src/transform/find-exact.hh, src/transform/generic-traversal.hh:
	Fix comments.

2007-10-09  Roland Levillain  <roland@lrde.epita.fr>

	Introduce some visitor combinators, inspired from the work of
	Joost Visser.

	Rename previous, non-combinator visitors to make room for the new
	combinators.
	* src/transform/generic-traversal.hh,
	* src/transform/generic-traversal.hxx,
	* src/transform/bottom-up.hh,
	* src/transform/bottom-up.cc:
	Rename as...
	* src/transform/generic-rewriter.hh,
	* src/transform/generic-rewriter.hxx,
	* src/transform/bottom-up-rewriter.hh,
	* src/transform/bottom-up-rewriter.cc:
	...these.
	Adjust.
	* src/transform/test-transform.cc: Adjust.

	Add combinators All, Sequence and BottomUp.
	* src/transform/visitor.hh, src/transform/visitor.hxx: New.
	Interface of visitors and combinators.
	* src/transform/generic-traversal.hh,
	* src/transform/generic-traversal.hxx: New.
	* src/transform/find-exact.hh: New.
	Metacode used by transform::GenericTraversal.
	Abstract class used to factor the implementation of combinators.
	* src/transform/sequence.hh, src/transform/sequence.hxx: New.
	Visitor combinator apply two visitor to a node sequentially.
	* src/transform/bottom-up.hh, src/transform/bottom-up.cc: New.
	Visitor combinator performing a bottom-up traversal of a tree.
	* dev/transform-all-gen: New generator.
	* dev/Makefile.am (dist_noinst_SCRIPTS): Add transform-all-gen.
	* src/transform/all.hh, src/transform/all.cc: New (generated).
	* src/transform/all.hxx: New.
	Combinator applying a visitor sequentially to the subtrees of a
	node.
	* src/transform/Makefile.am (BUILT_SOURCES_local): Add all.hh and
	all.cc
	(EXTRA_DIST): Add transform-all-gen.stamp.
	($(srcdir)/transform-all-gen.stamp)
	($(srcdir)/all.hh, $(srcdir)/all.cc):
	New targets.
	(libtransform_la_SOURCES): s/generic-traversal/generic-rewriter/g.
	s/bottom-up/bottom-up-rewriter/g.
	Add visitor.hh, visitor.hxx, all.hh, all.hxx, all.cc,
	sequence.hh, sequence.hxx, bottom-up.hh and bottom-up.cc.
	* src/transform/test-combinators.cc: New test.
	(check_PROGRAMS): Add test-combinators.
	(test_combinators_SOURCES, test_combinators_LDADD): New.

	Clean up related files.
	* src/ast/Makefile.am: s|\$(srcdir)/ast.yml|\$(ast_dir)/ast.yml|.
	* src/ast/visitor.hxx: Fix closing guard.
	* src/astclone/Makefile.am: Aesthetic change.

2007-10-09  Roland Levillain  <roland@lrde.epita.fr>

	Use the Boost Preprocessor Library to simplify the interface of
	transform::Matcher.

	* src/transform/matcher.hh
	(VISITOR_VISIT_NODE_, VISITOR_VISIT_NODES): New macros.
	Undefine them at the end of the file.
	(operator()): Use VISITOR_VISIT_NODES to write most of the
	declarations of these operators.

2007-10-09  Roland Levillain  <roland@lrde.epita.fr>

	Use The Boost Preprocessor Library to simplify GenericTraversal.

	* src/transform/generic-traversal.hh,
	* src/transform/generic-traversal.hxx:
	(VISITOR_VISIT_NODE_, VISITOR_VISIT_NODES): New macros.
	Undefine them at the end of the files.
	(operator()): Use VISITOR_VISIT_NODES to write the declarations
	and implementation of these operators.

2007-10-08  Roland Levillain  <roland@lrde.epita.fr>

	Move AST-related parameters from dev/ast_params.py to the AST
	nodes description (src/ast/ast.yml).

	* dev/ast_params.py: Remove this file.
	Translate its contents into a YAML document...
	* src/ast/ast.yml: ...here.
	* dev/ast-cloner-gen: Move globals...
	* src/ast/ast.yml: ...here.
	* dev/ast.py,
	* dev/ast-fwd-gen, dev/ast-nodes-gen, dev/ast-graph-gen,
	* dev/ast-proxy-visitors-gen, dev/ast-nodes-mk-gen,
	* dev/ast-readme-gen, dev/ast-visitor-gen, dev/ast-cloner-gen:
	Adjust clients.
	* dev/Makefile.am (dist_noinst_SCRIPTS): Remove ast_params.py.
	* src/ast/Makefile.am, src/astclone/Makefile.am,
	* src/transform/Makefile.am (ast_gen_deps):
	Remove $(gen_dir)/ast_params.py.

2007-10-08  Roland Levillain  <roland@lrde.epita.fr>

	Add another test-case in src/tranform.

	* src/transform/test-transform.cc: Add a test.
	* src/transform/bottom-up.cc,
	* src/transform/generic-traversal.hxx,
	* src/transform/rewriter.cc: Typo in comment.

2007-10-08  Roland Levillain  <roland@lrde.epita.fr>

	Introduce a generic traversal visitor to factor other traversal
	visitors.

	* src/transform/generic-traversal.hh,
	* src/transform/generic-traversal.hxx: New files.
	Factor the application of a generic function to a node of an
	AST.
	* src/transform/bottom-up.hh, src/transform/bottom-up.cc
	(BottomUp): Inherit from (GenericTraversal<BottomUp>).
	(BottomUp::BottomUp, super_type): Adjust.
	(operator ()): Remove all visit methods.
	(visit_): Adjust.
	Make this method public.
	Rename as...
	(visit): ...this.
	* src/transform/Makefile.am (libtransform_la_SOURCES): Add
	generic-traversal.hh and generic-traversal.hxx.

2007-10-08  Roland Levillain  <roland@lrde.epita.fr>

	Turn the top-down traversal visitor into a bottom-up one.

	* src/transform/top-down-rewriter.hh,
	* src/transform/top-down-rewriter.cc: Rename as...
	* src/transform/bottom-up.hh,
	* src/transform/bottom-up.cc: ...these.
	Adjust header guards.
	(TopDownRewriter): Rename as...
	(BottomUp): ...this.
	(try_match_): Rename as...
	(visit_): ...this.
	(operator ()): Adjust callers.
	Perform a bottom-up traversal instead of a top-down traversal.
	* src/transform/test-transform.cc: Add a test with two match
	points in the input AST for the same pattern.

2007-10-08  Roland Levillain  <roland@lrde.epita.fr>

	Simplify transform::TopDownRewriter and transform::Rewriter.

	* src/transform/top-down-rewriter.hh,
	* src/transform/top-down-rewriter.cc
	(try_match): Rename as...
	(try_match_): ...this.
	Duplicate the node if the match failed, and assign the obtained
	AST (either cloned or rewritten) to result_ instead of returning
	it.
	(operator ()): Adjust clients.
	* src/transform/rewriter.hh, src/transform/rewriter.cc
	(rewrite_): Assign the rewritten tree to result_ instead of
	returning it.
	(operator() (const ast::MetavarExp&)): Adjust client.
	(try_rewrite_): Perform the job of cloning the node prior any
	symbol rewriting.
	(operator() (const ast::SimpleVar&))
	(operator() (const ast::FieldVar&))
	(operator() (const ast::CallExp&))
	(operator() (const ast::MethodCallExp&))
	(operator() (const ast::FieldInit&))
	(operator() (const ast::VarDec&))
	(operator() (const ast::FunctionDec&))
	(operator() (const ast::MethodDec&))
	(operator() (const ast::TypeDec&))
	(operator() (const ast::NameTy&))
	(operator() (const ast::Field&)):
	Adjust clients.

2007-10-08  Roland Levillain  <roland@lrde.epita.fr>

	Unify the names of symbol attributes in AST nodes to factor code
	within transform::Rewriter.

	* src/ast/ast.yml (FieldVar): Rename attribute `field' as `name'.
	* src/ast/field-var.hh, src/ast/field-var.hxx, src/ast/field-var.cc,
	* src/astclone/cloner.cc, src/ast/README:
	Regen.
	* src/ast/pretty-printer.cc, src/type/type-checker.cc,
	* src/object/desugar-visitor.cc, src/object/type-checker.cc,
	* src/transform/matcher.cc:
	Adjust client visitors.
	* src/transform/rewriter.cc (try_rewrite_<ast::FieldVar>):
	Remove this (now useless) method.

2007-10-07  Yann Grandmaitre  <yanngrandmaitre@gmail.com>

	Fix make check in lib/misc.
	* lib/misc/test-escape.cc: Update the test, the compiler handles `\a'
	since r2695.

2007-10-07  Roland Levillain  <roland@lrde.epita.fr>

	Handle symbols as metavariables.  This is bit hacky for the
	moment, but currently this does not imply a massive
	rearrangement of the whole AST infrastructure to support them.
	We might reconsider this approach in further developments.

	* src/transform/matcher.hh, src/transform/matcher.cc
	(recurse (const misc::symbol&, const misc::symbol&)): New method.
	Use it...
	(visit_ (const ast::SimpleVar&, const ast::SimpleVar&))
	(visit_ (const ast::FieldVar&, const ast::FieldVar&))
	(visit_ (const ast::CallExp&, const ast::CallExp&))
	(visit_ (const ast::MethodCallExp&, const ast::MethodCallExp&))
	(visit_ (const ast::FieldInit&, const ast::FieldInit&))
	(visit_ (const ast::VarDec&, const ast::VarDec&))
	(visit_ (const ast::FunctionDec&, const ast::FunctionDec&))
	(visit_ (const ast::MethodDec&, const ast::MethodDec&))
	(visit_ (const ast::TypeDec&, const ast::TypeDec&))
	(visit_ (const ast::NameTy&, const ast::NameTy&))
	(visit_ (const ast::Field&, const ast::Field&)):
	...here, to match symbols.
	* src/transform/rewriter.hh, src/transform/rewriter.cc
	(operator() (const ast::MetavarExp&)): Factor method body...
	(rewrite_): ...here (new method).
	(try_rewrite_)
	(operator() (const ast::SimpleVar&))
	(operator() (const ast::FieldVar&))
	(operator() (const ast::CallExp&))
	(operator() (const ast::MethodCallExp&))
	(operator() (const ast::FieldInit&))
	(operator() (const ast::VarDec&))
	(operator() (const ast::FunctionDec&))
	(operator() (const ast::MethodDec&))
	(operator() (const ast::TypeDec&))
	(operator() (const ast::NameTy&))
	(operator() (const ast::Field&)):
	New methods.
	* src/transform/metavar-pool.hh, src/transform/metavar-pool.cc
	(MetavarPool): Inherit from parse::MetavarMap<const misc::symbol>
	too.
	(MetavarPool::MetavarPool, MetavarPool::~MetavarPool):
	Adjust ctor and dtor.
	* src/transform/test-transform.cc: Get rid of the cheat
	w.r.t. for-loop index matching/rewriting, and perform a full
	for-loop to while-loop concrete-syntax program-transformation.

2007-10-06  Roland Levillain  <roland@lrde.epita.fr>

	Add an abstract Metavariable node to factor current and upcoming
	metavariable classes.

	* src/ast/ast.yml (Metavariable): New.
	(CallExp::name): Add a write (`W') access to this attribute.
	(CallExp::name_set): Remove this hand-written method.
	* src/ast/metavariable.hh, src/ast/metavariable.hxx,
	* src/ast/metavariable.cc: New files (generated).
	* src/ast/metavar-exp.hh, src/ast/metavar-exp.hxx,
	* src/ast/metavar-exp.cc,
	* src/ast/call-exp.hh, src/ast/call-exp.hxx,
	* src/ast/fwd.hh,
	* src/ast/README, src/ast/README.student:
	Regen.

2007-10-05  Roland Levillain  <roland@lrde.epita.fr>

	Add a first support for metavariables in concrete-syntax rewriting
	rules.

	* src/transform/top-down-rewriter.hh,
	* src/transform/top-down-rewriter.cc (match_, rewrite_): New
	attributes.
	(TopDownRewriter::TopDownRewriter): Adjust ctor.
	(result_get): Remove method.
	(try_match): Clear the pool of metavariables before performing
	another match.
	Fix the rewriting pass.
	* src/transform/matcher.hh, src/transform/matcher.cc
	(metavar_pool_): New attribute.
	(Matcher::Matcher): Adjust ctor.
	(visit_ (const ast::Exp&, const ast::MetavarExp&))
	(metavar_match_): New methods.
	* src/transform/rewriter.hh, src/transform/rewriter.cc: New.
	* src/transform/metavar-pool.hh, src/transform/metavar-pool.hxx,
	* src/transform/metavar-pool.cc: New.
	* src/parse/metavar-map.hh, src/parse/metavar-map.hxx: Aesthetic
	changes.
	* lib/misc/map.hh, lib/misc/map.hxx (operator()): Add a missing
	`throw' exception specification.
	Improve documentation.
	* src/transform/test-transform.cc (main): Move most code...
	(test): ...here (new function).
	(main): Add tests using metavariables.
	* src/transform/Makefile.am (libtransform_la_SOURCES): Add
	metavar-pool.hh, metavar-pool.hxx, metavar-pool.cc,
	rewriter.hh and rewriter.cc.

	* dev/ast_params.py (atomic_types): Add unsigned
	* dev/ast-cloner-gen (non_visitable_types): Likewise.
	Import ast_params.
	* src/ast/ast.yml (MetavarExp): Change the type of attribute `id'
	from int to unsigned.
	* src/ast/README, src/ast/README.student,
	* src/ast/metavar-exp.hh, src/ast/metavar-exp.hxx,
	* src/ast/metavar-exp.cc, src/astclone/cloner.cc:
	Regen.

2007-10-04  Roland Levillain  <roland@lrde.epita.fr>

	Stylistic changes in the expected interface of voyagers.

	* src/transform/matcher.hh, src/transform/matcher.cc
	(operator()): Rename these methods as...
	(visit_): ...this.
	Make them protected.
	Add transform::ProxyVisitor2 as a friend of transform::Matcher.
	(recurse): Adjust callers.
	* src/transform/top-down-rewriter.cc (try_match): Likewise.
	* dev/ast-proxy-visitors-gen (operator()): Likewise.
	Wrap a too long line.
	* src/transform/proxy-visitors.hxx: Regen.
	* src/transform/test-voyager.cc: Adjust test.

2007-10-04  Roland Levillain  <roland@lrde.epita.fr>

	Add an AST node matcher and a top-down rewriter to module
	transform.

	* src/transform/matcher.hh, src/transform/matcher.cc: New.
	Voyager performing AST node matching.
	* src/transform/top-down-rewriter.hh,
	* src/transform/top-down-rewriter.cc: New.
	Visitor performing top-down AST rewriting.
	* src/transform/test-transform.cc: Extend this test to check
	transform::TopDownRewriter and transform::Matcher.
	* src/transform/Makefile.am (noinst_HEADERS): Remove.
	(noinst_LTLIBRARIES, libtransform_la_SOURCES): New.
	(test_voyager_LDADD): Remove $(libast) (was not needed).
	(test_transform_LDADD): Add $(libtransform).
	* src/tc.mk (libtransform_la, libtransform): New.

2007-10-02  Roland Levillain  <roland@lrde.epita.fr>

	Introduce the equipement needed to write Voyagers.

	``Voyager'' is an extension of the ``Visitor'' design pattern.
	The facility added here allows a dispatch on two nodes of the same
	hierarchy, but it is possible to generalize the approach to any
	numbers and/or types of visited nodes.

	* dev/ast-proxy-visitors-gen: New generator.
	* dev/Makefile.am (dist_noinst_SCRIPTS): Add
	ast-proxy-visitors-gen.
	* transform/proxy-visitors.hh, transform/proxy-visitors.hxx:
	New (generated).
	* transform/test-voyager.cc: New test.
	* transform/Makefile.am (BUILT_SOURCES_local, BUILT_SOURCES)
	(gen_dir, ast_dir, ast_gen_deps)
	(noinst_HEADERS, EXTRA_DIST, MAINTAINERCLEANFILES): New variables.
	($(srcdir)/ast-proxy-visitors-gen.stamp)
	($(srcdir)/proxy-visitors.hh, $(srcdir)/proxy-visitors.hxx):
	New targets.
	(libtransform_la_SOURCES): Add proxy-visitors.hh and
	proxy-visitors.hxx.
	(check_PROGRAMS): Add test-voyager.
	(test_voyager_SOURCES, test_voyager_LDADD): New.
	(test_transform_CPPFLAGS): Remove.
	* transform/test-transform.cc (program_name):
	s/test-parse/test-transform/.
	* astclone/Makefile.am (BUILT_SOURCES): New.

2007-09-22  Nicolas Teck  <teck.nicolas@gmail.com>

	Show explicit type of iterated element when invoking BOOST_FOREACH.
	* src/liveness/interference-graph.cc, src/overload/binder.cc,
	* src/parse/tweast.hxx, src/task/task-register.cc,
	* src/translate/translation.cc, src/translate/translator.cc,
	* src/type/type-checker.cc: Show explicit type of iterated element
	when invoking BOOST_FOREACH.

2007-09-09  Roland Levillain  <roland@lrde.epita.fr>

	Create a module `transform'.

	* configure.ac: Configure src/transform/Makefile.
	* src/Makefile.am (SUBDIRS): Add transform.
	* src/transform/test-transform.cc: New test.
	* src/transform/Makefile.am: New.

	New AST node type: expression metavariable.

	* configure.ac: Bump to 1.7a.
	* src/ast/ast.yml (MetavarExp): New AST node type.
	Handle metavariables for expressions.
	* src/ast/metavar-exp.hh, src/ast/metavar-exp.hxx,
	* src/ast/metavar-exp.cc: New (generated).
	* src/ast/visitor.hh: Regen.
	* src/ast/fwd.hh: Regen.
	* src/ast/README, src/ast/README.student: Regen.
	* src/astclone/clone-visitor.hh, src/astclone/clone-visitor.cc:
	Regen.
	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx
	(operator() (typename Const<MetavarExp>::type&)): New method.
	* src/ast/allexp.hh: Include ast/metavar-exp.hh.
	* src/ast/print-visitor.hh, src/ast/print-visitor.hxx
	(operator() (const MetavarExp&)): New method.
	* src/parse/scantiger.ll: Return a token::MV_EXP upon "_mv_exp"
	string.
	* src/parse/parsetiger.yy (token::MV_EXP): New token.
	(exp): New rule.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc: Regen.
	* dev/stagize: Prune src/ast/pretty-printer.hh,
	src/ast/default-visitor.hh, src/ast/default-visitor.hxx and
	src/ast/allexp.hh when needed.

2007-08-29  Roland Levillain  <roland@lrde.epita.fr>

	Handle `\a' in misc::escape.

	* lib/misc/escape.cc (misc::escape::escape_): Handle `\a'.
	* tests/good/string-backslash-octal.-e.s,
	* tests/good/string-backslash-octal.-e.u.s
	* tests/good/string-backslash-octal.hir,
	* tests/good/string-backslash-octal.lir,
	* tests/good/string-backslash-octal.s,
	* tests/good/string-backslash-octal.u.s,
	* tests/good/string-backslash-tortured.-e.s,
	* tests/good/string-backslash-tortured.-e.u.s,
	* tests/good/string-backslash-tortured.hir,
	* tests/good/string-backslash-tortured.lir,
	* tests/good/string-backslash-tortured.s,
	* tests/good/string-backslash-tortured.u.s:
	Regen.
	* AUTHORS: Typo.

2007-08-29  Roland Levillain  <roland@lrde.epita.fr>

	* AUTHORS, NEWS: Update.

2007-08-28  Roland Levillain  <roland@lrde.epita.fr>

	Enforce coding style rules w.r.t. base class lists and ctor
	initialization lists.

	* src/assem/instrs.hh, src/bind/binder.cc, src/bind/renamer.cc,
	* src/callgraph/static-link-visitor.cc,
	* src/desugar/bound-checking-visitor.cc,
	* src/escapes/escapes-check-visitor.cc, src/frame/access.cc,
	* src/inlining/inliner.cc, src/inlining/pruner.cc,
	* src/liveness/interference-graph.cc, src/object/binder.cc,
	* src/object/desugar-visitor.cc, src/object/renamer.cc,
	* src/object/type-checker.cc, src/overload/binder.cc,
	* src/overload/type-checker.cc, src/parse/metavar-map.hxx,
	* src/parse/tweast.cc, src/parse/tweast.hh, src/regalloc/color.cc,
	* src/target/assembly.cc, src/target/codegen.hxx,
	* src/target/ia32/cpu.hh, src/target/ia32/gas-assembly.cc,
	* src/target/ia32/gas-assembly.hh, src/target/ia32/gas-layout.hh,
	* src/target/ia32/prologue.hh, src/target/ia32/target.cc,
	* src/target/ia32/target.hh, src/target/mips/cpu.hh,
	* src/target/mips/prologue.hh, src/target/mips/spim-assembly.hh,
	* src/target/mips/spim-layout.hh, src/target/mips/target.cc,
	* src/target/mips/target.hh, src/task/boolean-task.cc,
	* src/task/disjunctive-task.cc, src/task/function-task.cc,
	* src/task/int-task.cc, src/task/multiple-string-task.cc,
	* src/task/string-task.cc, src/task/task.cc,
	* src/translate/exp.hxx, src/translate/level.cc,
	* src/tree/binop.hxx, src/tree/call.cc,
	* src/tree/cjump.hxx, src/tree/const.hxx, src/tree/eseq.hxx,
	* src/tree/exp.hh, src/tree/fragment.hxx, src/tree/jump.hxx,
	* src/tree/label.hxx, src/tree/mem.hxx, src/tree/move.hxx,
	* src/tree/name.hxx, src/tree/seq.hxx, src/tree/stm.hh,
	* src/tree/sxp.hxx, src/tree/temp.hxx, src/tree/tree.hxx,
	* src/type/array.hxx, src/type/attribute.hxx, src/type/class.cc,
	* src/type/field.hxx, src/type/function.hxx, src/type/method.cc,
	* src/type/named.hxx:
	Do it.
	* dev/ast-nodes-gen (print_namespace_class_open, print_ctor_dtor)
	* dev/ast.py (Node.ctor_init):
	Likewise, emit C++ code complying with the coding style of the
	project.
	* dev/ast-nodes-gen (print_ctor_dtor): Adjust layout.
	* src/ast/array-exp.cc, src/ast/array-exp.hh, src/ast/array-ty.cc,
	* src/ast/array-ty.hh, src/ast/assign-exp.cc, src/ast/assign-exp.hh,
	* src/ast/ast.cc, src/ast/break-exp.cc, src/ast/call-exp.cc,
	* src/ast/call-exp.hh, src/ast/cast-exp.cc, src/ast/cast-exp.hh,
	* src/ast/cast-var.cc, src/ast/cast-var.hh, src/ast/class-ty.cc,
	* src/ast/class-ty.hh, src/ast/dec.cc, src/ast/dec.hh,
	* src/ast/decs-list.cc, src/ast/decs-list.hh, src/ast/escapable.cc,
	* src/ast/exp.cc, src/ast/exp.hh, src/ast/field-init.cc,
	* src/ast/field-init.hh, src/ast/field-var.cc, src/ast/field-var.hh,
	* src/ast/field.cc, src/ast/field.hh, src/ast/for-exp.cc,
	* src/ast/for-exp.hh, src/ast/function-dec.cc,
	* src/ast/function-dec.hh, src/ast/if-exp.cc, src/ast/if-exp.hh,
	* src/ast/int-exp.cc, src/ast/int-exp.hh, src/ast/let-exp.cc,
	* src/ast/let-exp.hh, src/ast/method-call-exp.cc,
	* src/ast/method-call-exp.hh, src/ast/method-dec.cc,
	* src/ast/method-dec.hh, src/ast/name-ty.cc, src/ast/name-ty.hh,
	* src/ast/nil-exp.cc, src/ast/nil-exp.hh, src/ast/object-exp.cc,
	* src/ast/object-exp.hh, src/ast/op-exp.cc, src/ast/op-exp.hh,
	* src/ast/record-exp.cc, src/ast/record-exp.hh,
	* src/ast/record-ty.cc, src/ast/record-ty.hh, src/ast/seq-exp.cc,
	* src/ast/seq-exp.hh, src/ast/simple-var.cc, src/ast/simple-var.hh,
	* src/ast/string-exp.cc, src/ast/string-exp.hh,
	* src/ast/subscript-var.cc, src/ast/subscript-var.hh, src/ast/ty.cc,
	* src/ast/ty.hh, src/ast/typable.cc, src/ast/type-constructor.cc,
	* src/ast/type-dec.cc, src/ast/type-dec.hh, src/ast/var-dec.cc,
	* src/ast/var-dec.hh, src/ast/var.cc, src/ast/var.hh,
	* src/ast/while-exp.cc, src/ast/while-exp.hh, src/ast/break-exp.hh
	Regen.
	* src/type/types.hh: Add missing headers.

2007-08-19  Nicolas Teck  <teck.nicolas@gmail.com>

	Deploy BOOST_FOREACH in the project.
	* src/assem/fragments.cc, src/assem/instrs.cc,
	* src/ast/any-decs.hxx,src/astclone/cloner.hxx,
	* src/bind/binder.hxx, src/callgraph/call-graph-visitor.cc,
	* src/callgraph/parent-graph-visitor.cc, src/canon/traces.cc,
	* src/desugar/bound-checking-visitor.cc, src/frame/frame.cc,
	* src/inlining/inliner.cc, src/inlining/pruner.cc,
	* src/liveness/flowgraph.hxx, src/liveness/interference-graph.cc,
	* src/overload/binder.cc, src/overload/over-table.hxx,
	* src/overload/type-checker.cc, src/parse/tweast.cc,
	* src/parse/tweast.hxx, src/regalloc/color.cc,
	* src/target/cpu.cc, src/target/ia32/codegen.cc,
	* src/target/ia32/epilogue.cc, src/target/mips/codegen.cc,
	* src/target/mips/epilogue.cc, src/task/task-register.cc,
	* src/task/task.cc, src/translate/level.cc,
	* src/translate/translation.cc, src/translate/translator.cc,
	* src/tree/call.cc, src/tree/fragment.cc,
	* src/tree/tree.hxx, src/type/class.cc,
	* src/type/class.hxx, src/type/record.cc,
	* src/type/type-checker.cc:
	Convert loops performing iterations using standard C++ iterators
	to BOOST_FOREACH.

2007-08-18  Yann Grandmaitre  <yanngrandmaitre@gmail.com>

	Deploy boost::lexical_cast in the project.
	* lib/misc/escape.hxx, lib/misc/symbol.cc,
	* src/parse/metavar-map.hxx, src/parse/tweast.cc,
	* src/parse/tweast.hxx, src/target/ia32/gas-assembly,
	* src/target/mips/cpu.cc, src/target/mips/spim-assembly.cc:
	Replace the use of std::stringstream to std::string
	and boost::lexical_cast.
	* src/parse/scantiger.ll: Replace strtol
	by boost::lexical_cast.

2007-07-29  Benoit Perrot  <benoit@lrde.epita.fr>

	Rename symbol::Symbol as misc::symbol.

	* src/symbol/symbol.hh, src/symbol/symbol.hxx, src/symbol/symbol.cc,
	* src/symbol/test-symbol.cc:
	Move to...
	* lib/misc/symbol.hh, lib/misc/symbol.hxx,
	* lib/misc/symbol.cc, lib/misc/test-symbol.cc:
	... these files, respectively.
	* lib/misc/fwd.hh: Forward-declare misc::symbol.
	* lib/misc/Makefile.am: Compile and distribute misc::symbol.
	* src/symbol/Makefile.am, src/symbol/fwd.hh, src/symbol:
	Remove.
	* configure.ac:
	Forget symbol/ directory.
	* src/Makefile.am, src/tc.mk, src/regalloc/Makefile.am:
	Use misc/ and libmisc.la where symbol/ and libsymbol.la were.

	* src/ast/ast.yml, dev/ast_params.py, dev/ast-cloner-gen,
	* src/ast/location.hh,
	* src/astclone/cloner.cc,
	* src/bind/renamer.hh, src/bind/renamer.hxx,
	* src/bind/binder.hh, src/bind/binder.hxx,
	* src/type/attribute.hh, src/type/attribute.hxx,
	* src/type/class.hh, src/type/class.hxx, src/type/class.cc,
	* src/type/field.hh, src/type/field.hxx,
	* src/type/method.hh, src/type/method.hxx, src/type/method.cc,
	* src/type/named.hh, src/type/named.hxx,
	* src/type/record.hh, src/type/record.hxx, src/type/record.cc,
	* src/type/test-type.cc,
	* src/overload/over-table.hh, src/overload/over-table.hxx,
	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/desugar-visitor.cc,
	* src/temp/fwd.hh,
	* src/temp/identifier.hh, src/temp/identifier.hcc,
	* src/temp/label.hh, src/temp/label.cc,
	* src/temp/temp.hh, src/temp/temp.cc,
	* src/tree/fragment.hh, src/tree/fragment.hxx,
	* src/translate/level.hh, src/translate/level.cc,
	* src/translate/translation.hh, src/translate/translation.cc,
	* src/assem/fragment.hh, src/assem/fragment.hxx,
	* src/inlining/inliner.cc,
	* src/object/desugar-visitor.hh, src/object/desugar-visitor.cc,
	* src/object/libobject.hh,
	* src/target/mips/test-rw_prg.cc,
	* src/parse/libparse.cc,
	* src/parse/scantiger.ll, src/parse/parsetiger.yy,
	* src/parse/tweast.hh, src/parse/test-tweast.cc,
	* src/parse/tiger_parse.i:
	Use misc::symbol instead of symbol::Symbol, include "misc/symbol.hh"
	instead of "symbol/symbol.hh".

	* src/ast/call-exp.hh, src/ast/call-exp.hxx, src/ast/call-exp.cc,
	* src/ast/dec.hh, src/ast/dec.hxx, src/ast/dec.cc,
	* src/ast/field.hh, src/ast/field.hxx, src/ast/field.cc,
	* src/ast/field-init.hh, src/ast/field-init.hxx, src/ast/field-init.cc,
	* src/ast/field-var.hh, src/ast/field-var.hxx, src/ast/field-var.cc,
	* src/ast/function-dec.hh, src/ast/function-dec.cc,
	* src/ast/method-dec.hh, src/ast/method-dec.cc,
	* src/ast/method-call-exp.hh, src/ast/method-call-exp.cc,
	* src/ast/name-ty.hh, src/ast/name-ty.hxx, src/ast/name-ty.cc,
	* src/ast/simple-var.hh, src/ast/simple-var.hxx,
	* src/ast/simple-var.cc,
	* src/ast/type-dec.hh, src/ast/type-dec.cc,
	* src/ast/var-dec.hh, src/ast/var-dec.cc,
	* src/ast/README, src/ast/README.student:
	Re-generate.
	* src/parse/position.hh, src/parse/location.hh,
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc:
	Re-generate.

2007-07-27  Roland Levillain  <roland@lrde.epita.fr>

	Convert module `object' to BOOST_FOREACH.

	* configure.ac: Require Boost 1.34.
	* lib/misc/foreach.hh: New file.
	* lib/misc/Makefile.am (libmisc_la_SOURCES): Add foreach.hh.
	* src/object/binder.cc, src/object/renamer.cc
	* src/object/desugar-visitor.cc, src/object/type-checker.cc:
	Convert loops performing iterations using standard C++ iterators
	to BOOST_FOREACH.

2007-07-26  Roland Levillain  <roland@lrde.epita.fr>

	Fix the build.

	* lib/misc/map.hh, lib/misc/map.hxx (iterator, const_iterator):
	Move these typedefs before their first use.
	(find, xfind): Fix the signature of these methods.
	Provide a non-const version of these methods returning mutable
	iterators.
	* dev/ast_params.py (atomic_types): Remove ClassDec::map_var_type
	and ClassDec::map_meth_type, as these types no longer exist.
	Move DecsList::decs_type...
	(compound_types): ...here (new list).
	* dev/tools.py: Import module stat.
	* dev/ast-nodes-gen (print_includes): Fix access to
	ast_params.includes_map	and ast_params.atomic_types.
	Handle types listed in ast_params.compound_types.
	* dev/ast.py (Node.name): Move and rename as...
	(Attribute.name_): ...this, so as to avoid name clashes with
	attribute Attribute.name.
	(Attribute.attr_decl, Attribute.ctor_init, Attribute.delete):
	Adjust callers.
	* src/ast/fwd.hh, src/ast/visitor.hh: Regen.
	* src/translate/translator.cc (operator() (const ast::CallExp&)):
	Fix comment.

2007-07-23  Akim Demaille  <akim@lrde.epita.fr>

	Various
	* TODO: print -> dump.
	* build-aux/boost.m4: I hate ``, use $().

2007-07-23  Akim Demaille  <akim@lrde.epita.fr>

	Formatting changes
	* src/astclone/Makefile.am (ast_gen_deps): Complete.
	* src/translate/translator.cc: Coding style changes.
	* src/temp/identifier.hcc: Ditto.

2007-07-23  Akim Demaille  <akim@lrde.epita.fr>

	Formatting changes
	* src/ast/Makefile.am (ast_gen_deps): Complete.
	* src/ast/fwd.hh: Comment changes.
	* src/ast/pretty-printer.cc: Coding style changes.

2007-07-23  Akim Demaille  <akim@lrde.epita.fr>

	* src/type/type-checker.cc: Formatting changes.

2007-07-23  Akim Demaille  <demaille@gostai.com>

	Portability of boostrap
	* bootstrap: libtoolize may be named glibtoolize.

2007-07-23  Akim Demaille  <demaille@gostai.com>

	dev/ overhaul
	* dev/ast_params.py: New.
	* dev/Makefile.am: Adjust.
	* dev/ast-cloner-gen, dev/ast-fwd-gen, dev/ast-nodes-gen,
	* dev/ast-readme-gen, dev/ast-visitor-gen, dev/ast.py,
	* dev/tools.py:
	Use ast_params.py.
	Upgrade coding style.

2007-07-23  Akim Demaille  <demaille@gostai.com>

	Update lib/misc
	* lib/misc/map.hh, lib/misc/map.hxx (xfind): New.
	Use lexical_cast.
	* lib/misc/ref.hh, lib/misc/ref.hxx: Doc fixes.
	Disable useless includes.
	Coding style fixes.
	* lib/misc/separator.hh, lib/misc/separator.hxx: Doc fixes.

2007-07-05  Roland Levillain  <roland@lrde.epita.fr>

	Simplify parse::Tweast::take.

	* configure, NEWS: Version 1.21a.
	* src/parse/tweast.hxx (take): Rewrite to work around the
	``control reaches end of non-void function'' warning differently.

2007-07-04  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.21, for 2009-lc-9.0.
	Fix a bug occurring when optimizing static links.

	* configure, NEWS: Version 1.21.
	* src/object/desugar-visitor.cc: Hide FIXMEs which might confuse
	students.
	* src/translate/translator.cc (operator() (const ast::CallExp&)):
	Fix a bug occurring when optimizing static links.
	* src/callgraph/tasks.cc (escapes_sl_compute): Fix indentation.

2007-07-04  Roland Levillain  <roland@lrde.epita.fr>

	More simplifications in object::DesugarVisitor's code generators.

	* src/object/desugar-visitor.hh, src/object/desugar-visitor.cc
	(create_variant_exp, create_variant_ty, create_cast_function)
	(create_upcast_function, create_downcast_function)
	(create_dispatch_switch, create_method_call):
	Rename as...
	(variant_exp, variant_ty, cast_function)
	(upcast_function, downcast_function)
	(dispatch_switch, method_call):
	...these.
	Adjust callers.
	Adjust documentation.
	(dispatch_switch): No longer take a TWEAST as first (out)
	argument; return a fresh ast::Exp instead.

2007-07-04  Roland Levillain  <roland@lrde.epita.fr>

	Simplify the use of code generators in object::DesugarVisitor.

	* src/object/desugar-visitor.hh, src/object/desugar-visitor.cc
	(create_method_call, create_cast_function)
	(create_upcast_function, create_downcast_function)
	(create_variant_ty): No longer take a TWEAST as first (out)
	argument; return a fresh TWEAST instead.
	(create_variant_exp): Likewise, but parse the TWEAST and return a
	fresh ast::Exp instead.
	Adjust callers, using the new TWEAST-in-TWEAST feature.

2007-07-04  Roland Levillain  <roland@lrde.epita.fr>

	Fix a bug in parse::Tweast::move_metavars_().

	* src/parse/tweast.hxx (move_metavars_): Don't mix together
	variable move to the current tweast, and removal from the
	sub-tweast; perform these two tasks separately to prevent erratic
	iterations on metavariable maps.
	(take): Print the contents of the caught exception.

2007-07-03  Roland Levillain  <roland@lrde.epita.fr>

	Allow Tweasts to embed other Tweasts.

	* src/parse/tweast.hh, src/parse/tweast.hxx, src/parse/tweast.cc
	(Tweast): Also inherit from MetavarMap<parse::Tweast>.
	(Tweast::Tweast): Adjust ctors.
	(flatten): New method.
	(move_metavars_): New (private) method.
	(print): Print embedded Tweasts.
	* src/parse/tiger_parse.i: Adjust.
	* src/parse/test-tweast.cc: Exercise the embedded-Tweasts feature.
	* src/parse/tiger-parser.cc (parse_input): Flatten the Tweast
	before parsing it.
	* src/parse/libparse.cc (parse (Tweast&)): Print the contents of
	the Tweast on error.
	* dev/stagize: Prune src/parse/tweast.hxx and src/parse/tweast.cc
	before object-desugar.

	Make the debugging easier by printing the contents of a Tweast
	failing the parsing.

	* src/parse/metavar-map.hh, src/parse/metavar-map.hxx
	(take_): Don't catch std::range_error exceptions, and let the
	caller (i.e., parse::Tweast) deal with them.
	Add a `throw' exception specification at the end of this function
	prototype.
	* src/parse/tweast.hh, src/parse/tweast.hxx (take): Likewise.
	Catch std::range_error exceptions, and raise an ICE while
	displaying the contents of the Tweast.

2007-07-03  Roland Levillain  <roland@lrde.epita.fr>

	Extend misc::map's interface.

	* lib/misc/map.hh, lib/misc/map.hxx
	(operator() (const T&), take): Add a `throw' exception
	specification at the end of these function prototypes.
	(begin, end): New (extra) methods returning mutable iterators.
	(clear): New method.
	* lib/misc/endomap.hh, lib/misc/endomap.hcc
	(operator() (const T&)): Adjust.
	* src/target/mips/cpu.cc
	(NolimipsTempMap::operator() (const temp::Temp&)): Likewise.

2007-07-03  Roland Levillain  <roland@lrde.epita.fr>

	Simplify the triggering mechanism of ICEs.

	* lib/misc/error.hh, lib/misc/error.cc (ice): New method.
	Use it to factor...
	(ice_on_error): ...this method.
	(ice_here): New shortcut macro.

2007-07-02  Roland Levillain  <roland@lrde.epita.fr>

	Fix a bug in test-graph.

	* lib/misc/test-graph.cc (consistency): Avoid passing a nul
	argument to urand(), since it triggers a division-by-zero error
	(Floating Point Exception).
	Reported by Taha Karim.

2007-06-29  Roland Levillain  <roland@lrde.epita.fr>

	Update Doxygen's configuration and remove a few warnings.

	* doc/Doxyfile.in: Update using `doxygen -u'.
	Wrap long lines.
	(FULL_PATH_NAMES): Set to YES.
	(STRIP_FROM_PATH): Add @top_srcdir@/src and @top_builddir@/src.
	(INPUT_ENCODING): Set to ISO-8859-1.
	(EXCLUDE): Remove @top_builddir@/src/cppgen and
	@top_srcdir@/src/cppgen.
	Add @top_srcdir@/src/parse/parsetiger.hh,
	@top_srcdir@/src/parse/parsetiger.cc,
	@top_srcdir@/src/target/ia32/prologue.hh,
	@top_srcdir@/src/target/mips/prologue.hh,
	@top_builddir@/src/parse/scantiger.cc,
	@top_builddir@/src/target/ia32/codegen.cc.dir and
	@top_builddir@/src/target/mips/codegen.cc.dir.
	(BUILTIN_STL_SUPPORT): Set to YES.
	(SHOW_DIRECTORIES): Set to YES.
	* src/parse/libparse.cc (parse_decs): Don't document it twice.
	* src/ast/pretty-printer.hh: Fix file name in documentation.
	* src/ast/function-decs.hh, src/ast/var-decs.hh,
	* src/ast/method-decs.hh, src/ast/type-decs.hh
	* src/ast/non-object-visitor.hh: s/endvarbatim/endverbatim/ in
	documentation.
	* src/type/method.hh (Method::Method): Document a missing
	argument.
	* src/object/desugar-visitor.hh
	(create_variant_exp, create_cast_function): Fix argument names in
	documentation.

2007-06-28  Roland Levillain  <roland@lrde.epita.fr>

	Hide some code in src/object.

	* src/object/renamer.cc, src/object/desugar-visitor.cc: Hide some
	code.

2007-06-28  Roland Levillain  <roland@lrde.epita.fr>

	Fix the distribution of the object desugaring.

	* dev/stagize: Deliver the the visitor removing object constructs
	at TC-4, as well as the object-aware renamer.

2007-06-25  Roland Levillain  <roland@lrde.epita.fr>

	Regen tests/object-good outputs.

	* tests/object-good/function-returning-an-object.-e.s,
	* tests/object-good/function-returning-an-object.-e.u.s,
	* tests/object-good/function-returning-an-object.desugared,
	* tests/object-good/function-returning-an-object.err,
	* tests/object-good/function-returning-an-object.hir,
	* tests/object-good/function-returning-an-object.hpr,
	* tests/object-good/function-returning-an-object.lir,
	* tests/object-good/function-returning-an-object.lpr,
	* tests/object-good/function-returning-an-object.s,
	* tests/object-good/function-returning-an-object.sta,
	* tests/object-good/function-returning-an-object.u.s,
	* tests/object-good/method-call.-e.s,
	* tests/object-good/method-call.-e.u.s,
	* tests/object-good/method-call.desugared,
	* tests/object-good/method-call.err,
	* tests/object-good/method-call.hir,
	* tests/object-good/method-call.hpr,
	* tests/object-good/method-call.lir,
	* tests/object-good/method-call.lpr,
	* tests/object-good/method-call.s,
	* tests/object-good/method-call.sta,
	* tests/object-good/method-call.u.s,
	* tests/object-good/method-using-self-as-argument.-e.s,
	* tests/object-good/method-using-self-as-argument.-e.u.s,
	* tests/object-good/method-using-self-as-argument.desugared,
	* tests/object-good/method-using-self-as-argument.err,
	* tests/object-good/method-using-self-as-argument.hir,
	* tests/object-good/method-using-self-as-argument.hpr,
	* tests/object-good/method-using-self-as-argument.lir,
	* tests/object-good/method-using-self-as-argument.lpr,
	* tests/object-good/method-using-self-as-argument.s,
	* tests/object-good/method-using-self-as-argument.sta,
	* tests/object-good/method-using-self-as-argument.u.s,
	* tests/object-good/using-members-from-within-the-class.-e.s,
	* tests/object-good/using-members-from-within-the-class.-e.u.s,
	* tests/object-good/using-members-from-within-the-class.desugared,
	* tests/object-good/using-members-from-within-the-class.err,
	* tests/object-good/using-members-from-within-the-class.hir,
	* tests/object-good/using-members-from-within-the-class.hpr,
	* tests/object-good/using-members-from-within-the-class.lir,
	* tests/object-good/using-members-from-within-the-class.lpr,
	* tests/object-good/using-members-from-within-the-class.out,
	* tests/object-good/using-members-from-within-the-class.s,
	* tests/object-good/using-members-from-within-the-class.sta,
	* tests/object-good/using-members-from-within-the-class.u.s,
	* tests/object-good/valid-forward-reference-to-class.-e.s,
	* tests/object-good/valid-forward-reference-to-class.-e.u.s,
	* tests/object-good/valid-forward-reference-to-class.desugared,
	* tests/object-good/valid-forward-reference-to-class.err,
	* tests/object-good/valid-forward-reference-to-class.hir,
	* tests/object-good/valid-forward-reference-to-class.hpr,
	* tests/object-good/valid-forward-reference-to-class.lir,
	* tests/object-good/valid-forward-reference-to-class.lpr,
	* tests/object-good/valid-forward-reference-to-class.s,
	* tests/object-good/valid-forward-reference-to-class.sta,
	* tests/object-good/valid-forward-reference-to-class.u.s,
	* tests/object-good/vehicle.-e.s,
	* tests/object-good/vehicle.-e.u.s,
	* tests/object-good/vehicle.desugared,
	* tests/object-good/vehicle.err,
	* tests/object-good/vehicle.hir,
	* tests/object-good/vehicle.hpr,
	* tests/object-good/vehicle.lir,
	* tests/object-good/vehicle.lpr,
	* tests/object-good/vehicle.s,
	* tests/object-good/vehicle.sta,
	* tests/object-good/vehicle.u.s,
	* tests/object-good/visitor.-e.s,
	* tests/object-good/visitor.-e.u.s,
	* tests/object-good/visitor.desugared,
	* tests/object-good/visitor.err,
	* tests/object-good/visitor.hir,
	* tests/object-good/visitor.hpr,
	* tests/object-good/visitor.lir,
	* tests/object-good/visitor.lpr,
	* tests/object-good/visitor.out,
	* tests/object-good/visitor.s,
	* tests/object-good/visitor.sta,
	* tests/object-good/visitor.u.s:
	Regen.

2007-06-25  Roland Levillain  <roland@lrde.epita.fr>

	Desugar method calls and (hopefully) complete object desugaring.

	* src/type/method.hh, src/type/method.hxx, src/type/method.cc
	(owner_): New member.
	(owner_get): New accessor.
	(Method::Method): Adjust ctor.
	* src/object/type-checker.cc (visitDecHeader (ast::MethodDec&)):
	Adjust caller.
	* src/object/renamer.cc (operator() (ast::MethodCallExp&)):
	Fix the traversal of the node.
	* src/object/renamer.hh: Remove dead code.
	* src/object/desugar-visitor.hh, src/object/desugar-visitor.cc
	(type_symbol): Turn this implementation function into a (private)
	method.
	Handle renamed classes.
	(adapt_type): Ensure class types are sound before using them.
	(create_method_call): Fix generator: use arguments' names, not
	whole VarDec's.
	(dispatch_prefix): Remove constant.
	(dispatch_fun_name): New method.
	(operator () (const ast::TypeDecs&)): Use it when generating
	dispatch functions.
	Cast initialization values of variants' fields to their static
	types if needed, in generated ctors.
	Likewise for return values of desugared methods and dispatchers.
	Fix generators of desugared methods and dispatchers : use
	arguments' names, not whole VarDec's.
	(operator () (const ast::CallExp&)): Move the processing of the
	arguments...
	(recurse_args): ...here (new method).
	(operator () (const ast::MethodCallExp&)): New method.
	(operator () (const ast::FunctionDec&)): Cast the return of the
	desugared function if needed.
	* src/object/test-desugar.cc: Exercise method calls.
	* NEWS, AUTHORS: Update.

2007-06-23  Roland Levillain  <roland@lrde.epita.fr>

	More code factoring in object::DesugarVisitor.

	* src/object/desugar-visitor.cc (class_type_query): New (internal)
	function.
	Use it to simplify...
	(class_type_get): ...this.
	(operator() (const ast::TypeDecs&))
	(operator() (const ast::VarDec&))
	(operator() (const ast::ObjectExp&))
	(operator() (const ast::AssignExp&))
	(operator() (const ast::FieldVar&))
	(operator() (const ast::NameTy&)):
	Use class_type_query and class_type_get to factor some code.

2007-06-23  Roland Levillain  <roland@lrde.epita.fr>

	Factor the desugaring of polymorphic assignments.

	* src/object/desugar-visitor.hh: Aesthetic changes.
	(adapt_type): New method.
	* src/object/desugar-visitor.cc (adapt_type): Likewise.
	(class_type_get): New (internal function).
	(operator() (const ast::VarDec&))
	(operator() (const ast::AssignExp&))
	(operator() (const ast::CallExp&)):
	Use adapt_type to factor some code.

2007-06-22  Roland Levillain  <roland@lrde.epita.fr>

	Regen test outputs.

	* tests/object-good/inner-class-with-same-member-names.tig: Remove
	a duplicated comment.
	* tests/object-good/attribute-modification.-e.s,
	* tests/object-good/attribute-modification.-e.u.s,
	* tests/object-good/attribute-modification.desugared,
	* tests/object-good/attribute-modification.hir,
	* tests/object-good/attribute-modification.lir,
	* tests/object-good/attribute-modification.s,
	* tests/object-good/attribute-modification.u.s,
	* tests/object-good/function-call-in-method.-e.s,
	* tests/object-good/function-call-in-method.-e.u.s,
	* tests/object-good/function-call-in-method.desugared,
	* tests/object-good/function-call-in-method.hir,
	* tests/object-good/function-call-in-method.lir,
	* tests/object-good/function-call-in-method.s,
	* tests/object-good/function-call-in-method.u.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.u.s,
	* tests/object-good/function-taking-an-object-as-argument.desugared,
	* tests/object-good/function-taking-an-object-as-argument.hir,
	* tests/object-good/function-taking-an-object-as-argument.lir,
	* tests/object-good/function-taking-an-object-as-argument.s,
	* tests/object-good/function-taking-an-object-as-argument.u.s,
	* tests/object-good/inner-class-with-same-member-names.-e.s,
	* tests/object-good/inner-class-with-same-member-names.-e.u.s,
	* tests/object-good/inner-class-with-same-member-names.desugared,
	* tests/object-good/inner-class-with-same-member-names.err,
	* tests/object-good/inner-class-with-same-member-names.hir,
	* tests/object-good/inner-class-with-same-member-names.hpr,
	* tests/object-good/inner-class-with-same-member-names.lir,
	* tests/object-good/inner-class-with-same-member-names.lpr,
	* tests/object-good/inner-class-with-same-member-names.s,
	* tests/object-good/inner-class-with-same-member-names.sta,
	* tests/object-good/inner-class-with-same-member-names.tig,
	* tests/object-good/inner-class-with-same-member-names.u.s,
	* tests/object-good/redefining-object.-e.s,
	* tests/object-good/redefining-object.-e.u.s,
	* tests/object-good/redefining-object.desugared,
	* tests/object-good/redefining-object.hir,
	* tests/object-good/redefining-object.lir,
	* tests/object-good/redefining-object.s,
	* tests/object-good/redefining-object.u.s,
	* tests/object-good/simple-class.-e.s,
	* tests/object-good/simple-class.-e.u.s,
	* tests/object-good/simple-class.desugared,
	* tests/object-good/simple-class.hir,
	* tests/object-good/simple-class.lir,
	* tests/object-good/simple-class.s,
	* tests/object-good/simple-class.u.s,
	* tests/object-good/simple-extends.-e.s,
	* tests/object-good/simple-extends.-e.u.s,
	* tests/object-good/simple-extends.desugared,
	* tests/object-good/simple-extends.hir,
	* tests/object-good/simple-extends.lir,
	* tests/object-good/simple-extends.s,
	* tests/object-good/simple-extends.u.s,
	* tests/object-good/simple-instantiation.-e.s,
	* tests/object-good/simple-instantiation.-e.u.s,
	* tests/object-good/simple-instantiation.desugared,
	* tests/object-good/simple-instantiation.hir,
	* tests/object-good/simple-instantiation.lir,
	* tests/object-good/simple-instantiation.s,
	* tests/object-good/simple-instantiation.u.s,
	* tests/object-good/trivial-class.-e.s,
	* tests/object-good/trivial-class.-e.u.s,
	* tests/object-good/trivial-class.desugared,
	* tests/object-good/trivial-class.hir,
	* tests/object-good/trivial-class.lir,
	* tests/object-good/trivial-class.s,
	* tests/object-good/trivial-class.u.s,
	* tests/object-good/type-simple-class.-e.s,
	* tests/object-good/type-simple-class.-e.u.s,
	* tests/object-good/type-simple-class.desugared,
	* tests/object-good/type-simple-class.hir,
	* tests/object-good/type-simple-class.lir,
	* tests/object-good/type-simple-class.s,
	* tests/object-good/type-simple-class.u.s,
	* tests/object-good/type-simple-extends.-e.s,
	* tests/object-good/type-simple-extends.-e.u.s,
	* tests/object-good/type-simple-extends.desugared,
	* tests/object-good/type-simple-extends.hir,
	* tests/object-good/type-simple-extends.lir,
	* tests/object-good/type-simple-extends.s,
	* tests/object-good/type-simple-extends.u.s,
	* tests/object-good/upcast.-e.s,
	* tests/object-good/upcast.-e.u.s,
	* tests/object-good/upcast.desugared,
	* tests/object-good/upcast.hir,
	* tests/object-good/upcast.lir,
	* tests/object-good/upcast.s,
	* tests/object-good/upcast.u.s,
	* tests/object-good/variable-modification.-e.s,
	* tests/object-good/variable-modification.-e.u.s,
	* tests/object-good/variable-modification.desugared,
	* tests/object-good/variable-modification.hir,
	* tests/object-good/variable-modification.hpr,
	* tests/object-good/variable-modification.lir,
	* tests/object-good/variable-modification.lpr,
	* tests/object-good/variable-modification.s,
	* tests/object-good/variable-modification.u.s:
	Regen.

2007-06-22  Roland Levillain  <roland@lrde.epita.fr>

	Desugar method definitions.

	* src/type/class.hh, src/type/class.hxx (owned_attr_find): New
	method.
	* src/object/desugar-visitor.hh, src/object/desugar-visitor.cc
	(method_prefix, dispatch_prefix): New constants.
	(cast_fun_name): Rename as...
	(upcast_fun_name): ...this.
	Change the generated name accordingly.
	Adjust callers.
	(downcast_fun_name, create_cast_function)
	(create_upcast_function, create_downcast_function)
	(create_dispatch_switch, create_method_call): New methods.
	(operator() (const ast::TypeDecs&)): Simplify the creation of
	upcast functions using create_upcast_function.
	Generate downcast functions.
	Generate a function for each method definition and redefinition.
	Generate dispatch functions as desugared method entry points.
	* src/object/test-desugar.cc: Exercise the desugaring of method
	definitions.

2007-06-22  Roland Levillain  <roland@lrde.epita.fr>

	Regen test outputs.

	* tests/object-good/attribute-modification.-e.s,
	* tests/object-good/attribute-modification.-e.u.s,
	* tests/object-good/attribute-modification.desugared,
	* tests/object-good/attribute-modification.err,
	* tests/object-good/attribute-modification.hir,
	* tests/object-good/attribute-modification.hpr,
	* tests/object-good/attribute-modification.lir,
	* tests/object-good/attribute-modification.lpr,
	* tests/object-good/attribute-modification.s,
	* tests/object-good/attribute-modification.sta,
	* tests/object-good/attribute-modification.u.s,
	* tests/object-good/function-call-in-method.-e.s,
	* tests/object-good/function-call-in-method.-e.u.s,
	* tests/object-good/function-call-in-method.desugared,
	* tests/object-good/function-call-in-method.hir,
	* tests/object-good/function-call-in-method.lir,
	* tests/object-good/function-call-in-method.s,
	* tests/object-good/function-call-in-method.u.s,
	* tests/object-good/function-returning-object.-e.s,
	* tests/object-good/function-returning-object.-e.u.s,
	* tests/object-good/function-returning-object.desugared,
	* tests/object-good/function-returning-object.hir,
	* tests/object-good/function-returning-object.hpr,
	* tests/object-good/function-returning-object.lir,
	* tests/object-good/function-returning-object.lpr,
	* tests/object-good/function-returning-object.s,
	* tests/object-good/function-returning-object.u.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.u.s,
	* tests/object-good/function-taking-an-object-as-argument.desugared,
	* tests/object-good/function-taking-an-object-as-argument.hir,
	* tests/object-good/function-taking-an-object-as-argument.hpr,
	* tests/object-good/function-taking-an-object-as-argument.lir,
	* tests/object-good/function-taking-an-object-as-argument.lpr,
	* tests/object-good/function-taking-an-object-as-argument.s,
	* tests/object-good/function-taking-an-object-as-argument.u.s,
	* tests/object-good/function-taking-object-as-argument.-e.s,
	* tests/object-good/function-taking-object-as-argument.-e.u.s,
	* tests/object-good/function-taking-object-as-argument.desugared,
	* tests/object-good/function-taking-object-as-argument.hir,
	* tests/object-good/function-taking-object-as-argument.hpr,
	* tests/object-good/function-taking-object-as-argument.lir,
	* tests/object-good/function-taking-object-as-argument.lpr,
	* tests/object-good/function-taking-object-as-argument.s,
	* tests/object-good/function-taking-object-as-argument.u.s,
	* tests/object-good/instantiate-object.-e.s,
	* tests/object-good/instantiate-object.-e.u.s,
	* tests/object-good/instantiate-object.desugared,
	* tests/object-good/instantiate-object.hir,
	* tests/object-good/instantiate-object.hpr,
	* tests/object-good/instantiate-object.lir,
	* tests/object-good/instantiate-object.lpr,
	* tests/object-good/instantiate-object.s,
	* tests/object-good/instantiate-object.u.s,
	* tests/object-good/redefining-object.-e.s,
	* tests/object-good/redefining-object.-e.u.s,
	* tests/object-good/redefining-object.desugared,
	* tests/object-good/redefining-object.hir,
	* tests/object-good/redefining-object.lir,
	* tests/object-good/redefining-object.s,
	* tests/object-good/redefining-object.u.s,
	* tests/object-good/simple-class.-e.s,
	* tests/object-good/simple-class.-e.u.s,
	* tests/object-good/simple-class.desugared,
	* tests/object-good/simple-class.hir,
	* tests/object-good/simple-class.lir,
	* tests/object-good/simple-class.s,
	* tests/object-good/simple-class.u.s,
	* tests/object-good/simple-extends.-e.s,
	* tests/object-good/simple-extends.-e.u.s,
	* tests/object-good/simple-extends.desugared,
	* tests/object-good/simple-extends.hir,
	* tests/object-good/simple-extends.hpr,
	* tests/object-good/simple-extends.lir,
	* tests/object-good/simple-extends.lpr,
	* tests/object-good/simple-extends.s,
	* tests/object-good/simple-extends.u.s,
	* tests/object-good/simple-instantiation.-e.s,
	* tests/object-good/simple-instantiation.-e.u.s,
	* tests/object-good/simple-instantiation.desugared,
	* tests/object-good/simple-instantiation.hir,
	* tests/object-good/simple-instantiation.hpr,
	* tests/object-good/simple-instantiation.lir,
	* tests/object-good/simple-instantiation.lpr,
	* tests/object-good/simple-instantiation.s,
	* tests/object-good/simple-instantiation.u.s,
	* tests/object-good/trivial-class.-e.s,
	* tests/object-good/trivial-class.-e.u.s,
	* tests/object-good/trivial-class.desugared,
	* tests/object-good/trivial-class.hir,
	* tests/object-good/trivial-class.lir,
	* tests/object-good/trivial-class.s,
	* tests/object-good/trivial-class.u.s,
	* tests/object-good/type-simple-class.-e.s,
	* tests/object-good/type-simple-class.-e.u.s,
	* tests/object-good/type-simple-class.desugared,
	* tests/object-good/type-simple-class.hir,
	* tests/object-good/type-simple-class.lir,
	* tests/object-good/type-simple-class.s,
	* tests/object-good/type-simple-class.u.s,
	* tests/object-good/type-simple-extends.-e.s,
	* tests/object-good/type-simple-extends.-e.u.s,
	* tests/object-good/type-simple-extends.desugared,
	* tests/object-good/type-simple-extends.hir,
	* tests/object-good/type-simple-extends.lir,
	* tests/object-good/type-simple-extends.s,
	* tests/object-good/type-simple-extends.u.s,
	* tests/object-good/upcast.-e.s,
	* tests/object-good/upcast.-e.u.s,
	* tests/object-good/upcast.desugared,
	* tests/object-good/upcast.hir,
	* tests/object-good/upcast.hpr,
	* tests/object-good/upcast.lir,
	* tests/object-good/upcast.lpr,
	* tests/object-good/upcast.s,
	* tests/object-good/upcast.u.s,
	* tests/object-good/variable-modification.-e.s,
	* tests/object-good/variable-modification.-e.u.s,
	* tests/object-good/variable-modification.desugared,
	* tests/object-good/variable-modification.hir,
	* tests/object-good/variable-modification.lir,
	* tests/object-good/variable-modification.s,
	* tests/object-good/variable-modification.u.s,
	* tests/object-good/variable-of-type-object.-e.s,
	* tests/object-good/variable-of-type-object.-e.u.s,
	* tests/object-good/variable-of-type-object.desugared,
	* tests/object-good/variable-of-type-object.hir,
	* tests/object-good/variable-of-type-object.hpr,
	* tests/object-good/variable-of-type-object.lir,
	* tests/object-good/variable-of-type-object.lpr,
	* tests/object-good/variable-of-type-object.s,
	* tests/object-good/variable-of-type-object.u.s:
	Regen.

2007-06-22  Roland Levillain  <roland@lrde.epita.fr>

	Avoid generating empty slots in classes desugared as variants.

	* src/type/class.hh, src/type/class.hxx (has_data): New method.
	* src/object/desugar-visitor.cc
	(create_variant_ty, create_variant_exp)
	(operator() (const ast::TypeDecs&)): Don't generate empty class
	contents (slots) for variants.
	(operator() (const ast::FunctionDec&)): Likewise for Object.

2007-06-22  Roland Levillain  <roland@lrde.epita.fr>

	Generate simpler names for conversion routines.

	* src/object/desugar-visitor.cc (cast_fun_name): Do it.

2007-06-22  Roland Levillain  <roland@lrde.epita.fr>

	Desugar accesses to attributes.

	* src/object/desugar-visitor.hh, src/object/desugar-visitor.cc
	(operator() (const ast::FieldVar&)): New method.
	* src/object/test-desugar.cc: Exercise it.
	* src/type/attribute.hh, src/type/attribute.hxx,
	* src/type/attribute.cc (Attribute): Don't inherit from Field.
	(Attribute::Attribute): Don't take a name nor a type as argument,
	as they are now fetched from the definition site.
	(name_get, type_get): New accessors.
	(print): New method.
	(operator<< (std::ostream&, const Attribute&)): New operator.
	* src/type/README: Update.
	* src/type/class.hh, src/type/class.hxx, src/type/class.cc
	(attr_add): Adjust.
	(attr_find, owned_attr_find): New methods.
	(attr_type): Simplify using attr_find ().
	* src/object/type-checker.cc (operator() (ast::VarDec&)): Adjust.

2007-06-22  Roland Levillain  <roland@lrde.epita.fr>

	Don't rename class attributes.

	* src/object/renamer.hh, src/object/renamer.cc
	(within_class_ty_): New member.
	(Renamer::Renamer): Adjust ctor.
	(operator() (ast::VarDec&))
	(operator() (ast::ForExp&))
	(operator() (ast::FunctionDec&)): New methods.
	Handle within_class_ty_.
	(operator() (ast::MethodDec&))
	(operator() (ast::ClassTy&)): Handle within_class_ty_.
	* src/object/binder.cc (operator() (ast::VarDec&)): More
	documentation.

	* tests/object-good/function-call-in-method.-e.s,
	* tests/object-good/function-call-in-method.-e.u.s,
	* tests/object-good/function-call-in-method.desugared,
	* tests/object-good/function-call-in-method.hir,
	* tests/object-good/function-call-in-method.lir,
	* tests/object-good/function-call-in-method.s,
	* tests/object-good/function-call-in-method.u.s,
	* tests/object-good/simple-class.-e.s,
	* tests/object-good/simple-class.-e.u.s,
	* tests/object-good/simple-class.desugared,
	* tests/object-good/simple-class.hir,
	* tests/object-good/simple-class.lir,
	* tests/object-good/simple-class.s,
	* tests/object-good/simple-class.u.s,
	* tests/object-good/simple-extends.-e.s,
	* tests/object-good/simple-extends.-e.u.s,
	* tests/object-good/simple-extends.desugared,
	* tests/object-good/simple-extends.hir,
	* tests/object-good/simple-extends.lir,
	* tests/object-good/simple-extends.s,
	* tests/object-good/simple-extends.u.s,
	* tests/object-good/simple-instantiation.-e.s,
	* tests/object-good/simple-instantiation.-e.u.s,
	* tests/object-good/simple-instantiation.desugared,
	* tests/object-good/simple-instantiation.hir,
	* tests/object-good/simple-instantiation.lir,
	* tests/object-good/simple-instantiation.s,
	* tests/object-good/simple-instantiation.u.s,
	* tests/object-good/type-simple-class.-e.s,
	* tests/object-good/type-simple-class.-e.u.s,
	* tests/object-good/type-simple-class.desugared,
	* tests/object-good/type-simple-class.hir,
	* tests/object-good/type-simple-class.lir,
	* tests/object-good/type-simple-class.s,
	* tests/object-good/type-simple-class.u.s,
	* tests/object-good/type-simple-extends.-e.s,
	* tests/object-good/type-simple-extends.-e.u.s,
	* tests/object-good/type-simple-extends.desugared,
	* tests/object-good/type-simple-extends.hir,
	* tests/object-good/type-simple-extends.lir,
	* tests/object-good/type-simple-extends.s,
	* tests/object-good/type-simple-extends.u.s,
	* tests/object-good/variable-modification.-e.s,
	* tests/object-good/variable-modification.-e.u.s,
	* tests/object-good/variable-modification.desugared,
	* tests/object-good/variable-modification.hir,
	* tests/object-good/variable-modification.s,
	* tests/object-good/variable-modification.u.s,
	* tests/object-good/variable-modification.lir:
	Regen.

2007-06-21  Roland Levillain  <roland@lrde.epita.fr>

	Aesthetic change in the pretty-printing of records.

	* src/ast/pretty-printer.cc (operator() (const RecordExp&)):
	Aesthetic change in the pretty-printing of record expressions.
	* tests/object-good/function-call-in-method.desugared,
	* tests/object-good/function-returning-object.desugared,
	* tests/object-good/function-taking-an-object-as-argument.desugared,
	* tests/object-good/function-taking-object-as-argument.desugared,
	* tests/object-good/instantiate-object.desugared,
	* tests/object-good/redefining-object.desugared,
	* tests/object-good/simple-class.desugared,
	* tests/object-good/simple-extends.desugared,
	* tests/object-good/simple-instantiation.desugared,
	* tests/object-good/trivial-class.desugared,
	* tests/object-good/type-simple-class.desugared,
	* tests/object-good/type-simple-extends.desugared,
	* tests/object-good/upcast.desugared,
	* tests/object-good/variable-modification.desugared,
	* tests/object-good/variable-of-type-object.desugared:
	Regen.

2007-06-21  Roland Levillain  <roland@lrde.epita.fr>

	Change the organization of objects' data.  Classes used to be
	desugared into variants whose fields represented a whole (static)
	classic type.  That is, the attributes of a class were duplicated
	in each slot representing one of its subclasses.  In this model,
	only one field of the variant should be live at any time in the
	program.

	From now on, the slots of the variants contains only data defined
	in the considered type, i.e., an attribute from a super class is
	no longer duplicated into the class' field, but fetched from the
	field related to this super class.  As a consequence, several
	fields may be alive -- at least, the field corresponding to the
	class and its super classes; and potentially fields from
	subclasses if the dynamic type is a strict subclass of the static
	type.

	* src/object/desugar-visitor.hh, src/object/desugar-visitor.cc:
	(field_inits_type): New typedef.
	(create_variant_ty): Populate the variant type with slots for each
	super- and subclasses.
	(create_variant_exp (Tweast&, const type::Class*,
	const type::Class*, const std::string&)): Turn method signature
	into...
	(create_variant_exp (Tweast&, const type::Class*,
	const type::Class*, const field_inits_type&)): ...this.
	Create slots for each super- and subclasses.
	Accept several initialization expressions, so that several fields
	can be initialized at once.
	(create_variant_exp (Tweast&, const type::Class*,
	const std::string&, const field_inits_type&)): New shortcut
	method.
	(operator() (const ast::TypeDecs&)): Don't inherit members from
	the base classes in record holding class contents.
	Create all required fields of a variant (i.e., the class one and
	the fields from its base class(es)).
	Copy all fields from the source variant, whatever the exact type.

	* tests/object-good/function-call-in-method.-e.s,
	* tests/object-good/function-call-in-method.-e.u.s,
	* tests/object-good/function-call-in-method.desugared,
	* tests/object-good/function-call-in-method.hir,
	* tests/object-good/function-call-in-method.lir,
	* tests/object-good/function-call-in-method.s,
	* tests/object-good/function-call-in-method.u.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.u.s,
	* tests/object-good/function-taking-an-object-as-argument.desugared,
	* tests/object-good/function-taking-an-object-as-argument.hir,
	* tests/object-good/function-taking-an-object-as-argument.hpr,
	* tests/object-good/function-taking-an-object-as-argument.lir,
	* tests/object-good/function-taking-an-object-as-argument.lpr,
	* tests/object-good/function-taking-an-object-as-argument.s,
	* tests/object-good/function-taking-an-object-as-argument.u.s,
	* tests/object-good/redefining-object.-e.s,
	* tests/object-good/redefining-object.-e.u.s,
	* tests/object-good/redefining-object.desugared,
	* tests/object-good/redefining-object.hir,
	* tests/object-good/redefining-object.lir,
	* tests/object-good/redefining-object.s,
	* tests/object-good/redefining-object.u.s,
	* tests/object-good/simple-class.-e.s,
	* tests/object-good/simple-class.-e.u.s,
	* tests/object-good/simple-class.desugared,
	* tests/object-good/simple-class.hir,
	* tests/object-good/simple-class.lir,
	* tests/object-good/simple-class.s,
	* tests/object-good/simple-class.u.s,
	* tests/object-good/simple-extends.-e.s,
	* tests/object-good/simple-extends.-e.u.s,
	* tests/object-good/simple-extends.desugared,
	* tests/object-good/simple-extends.hir,
	* tests/object-good/simple-extends.hpr,
	* tests/object-good/simple-extends.lir,
	* tests/object-good/simple-extends.lpr,
	* tests/object-good/simple-extends.s,
	* tests/object-good/simple-extends.u.s,
	* tests/object-good/simple-instantiation.-e.s,
	* tests/object-good/simple-instantiation.-e.u.s,
	* tests/object-good/simple-instantiation.desugared,
	* tests/object-good/simple-instantiation.hir,
	* tests/object-good/simple-instantiation.hpr,
	* tests/object-good/simple-instantiation.lir,
	* tests/object-good/simple-instantiation.lpr,
	* tests/object-good/simple-instantiation.s,
	* tests/object-good/simple-instantiation.u.s,
	* tests/object-good/trivial-class.-e.s,
	* tests/object-good/trivial-class.-e.u.s,
	* tests/object-good/trivial-class.desugared,
	* tests/object-good/trivial-class.hir,
	* tests/object-good/trivial-class.lir,
	* tests/object-good/trivial-class.s,
	* tests/object-good/trivial-class.u.s,
	* tests/object-good/type-simple-class.-e.s,
	* tests/object-good/type-simple-class.-e.u.s,
	* tests/object-good/type-simple-class.desugared,
	* tests/object-good/type-simple-class.hir,
	* tests/object-good/type-simple-class.lir,
	* tests/object-good/type-simple-class.s,
	* tests/object-good/type-simple-class.u.s,
	* tests/object-good/type-simple-extends.-e.s,
	* tests/object-good/type-simple-extends.-e.u.s,
	* tests/object-good/type-simple-extends.desugared,
	* tests/object-good/type-simple-extends.hir,
	* tests/object-good/type-simple-extends.lir,
	* tests/object-good/type-simple-extends.s,
	* tests/object-good/type-simple-extends.u.s,
	* tests/object-good/upcast.-e.s,
	* tests/object-good/upcast.-e.u.s,
	* tests/object-good/upcast.desugared,
	* tests/object-good/upcast.hir,
	* tests/object-good/upcast.hpr,
	* tests/object-good/upcast.lir,
	* tests/object-good/upcast.lpr,
	* tests/object-good/upcast.s,
	* tests/object-good/upcast.u.s,
	* tests/object-good/variable-modification.-e.s,
	* tests/object-good/variable-modification.-e.u.s,
	* tests/object-good/variable-modification.hir,
	* tests/object-good/variable-modification.lir,
	* tests/object-good/variable-modification.s,
	* tests/object-good/variable-modification.u.s,
	* tests/object-good/variable-modification.desugared:
	Regen.

2007-06-21  Roland Levillain  <roland@lrde.epita.fr>

	Regen test outputs.

	* configure.ac, NEWS: Version 1.20a.
	* tests/object-good/function-returning-object.-e.s,
	* tests/object-good/function-returning-object.-e.u.s,
	* tests/object-good/function-returning-object.desugared,
	* tests/object-good/function-returning-object.err,
	* tests/object-good/function-returning-object.hir,
	* tests/object-good/function-returning-object.hpr,
	* tests/object-good/function-returning-object.lir,
	* tests/object-good/function-returning-object.lpr,
	* tests/object-good/function-returning-object.sta,
	* tests/object-good/function-returning-object.u.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.u.s,
	* tests/object-good/function-taking-an-object-as-argument.desugared,
	* tests/object-good/function-taking-an-object-as-argument.err,
	* tests/object-good/function-taking-an-object-as-argument.hir,
	* tests/object-good/function-taking-an-object-as-argument.hpr,
	* tests/object-good/function-taking-an-object-as-argument.lir,
	* tests/object-good/function-taking-an-object-as-argument.lpr,
	* tests/object-good/function-taking-an-object-as-argument.s,
	* tests/object-good/function-taking-an-object-as-argument.sta,
	* tests/object-good/function-taking-an-object-as-argument.u.s,
	* tests/object-good/function-returning-object.s:
	Regen.
	* tests/object-type/invalid-forward-references-to-members.tig:
	``Fix'' this test, so that it triggers a type error, instead of a
	binding error.

2007-06-12  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.20, for 2009-lc-7.0.

	* configure.ac: Version 1.20.
	* NEWS: Update.
	* src/type/class.cc (Class::Class): Add required stagize marks
	around initializers of hidden attributes.
	* dev/stagize: Actually prune src/type/class.hxx.
	Hide MonoBURG's outputs.
	Do not deliver the object desugaring facility at all, yet.
	Fix the leopardization w.r.t. the target module.
	* lib/misc/map.hh: Typo.

2007-06-08  Roland Levillain  <roland@lrde.epita.fr>

	Simplify the manipulation of class names in
	object::DesugarVisitor.

	* src/object/libobject.hh (class_names_type): Change type to
	misc::map.
	* src/object/desugar-visitor.hh, src/object/desugar-visitor.cc
	(class_name_find): Remove method.
	(cast_fun_name, create_variant_ty, create_variant_exp)
	(operator() (const ast::TypeDecs&))
	(operator() (const ast::ObjectExp&))
	(operator() (const ast::NameTy&)):
	Adjust callers.
	(DesugarVisitor::DesugarVisitor): Initialize all members.
	(classes_types): New typedef.
	(create_variant_ty, create_variant_exp)
	(operator() (const ast::TypeDecs&)): Use it.

2007-06-07  Roland Levillain  <roland@lrde.epita.fr>

	Don't show code related	to object desugaring too early.

	* configure.ac, NEWS: Version 1.19a.
	* src/type/class.hh, src/type/class.hxx (id_get)
	(subclasses_get, subclasses_add, subclasses_clear):
	Hide these methods if object-desugar is not enabled.
	* src/object/type-checker.cc (TypeChecker::TypeChecker)
	(operator() (ast::ClassTy&)): Hide code likewise.
	* dev/stagize: Prune src/object/type-checker.cc if needed.

2007-06-07  Roland Levillain  <roland@lrde.epita.fr>

	Have misc::map work with misc::put.

	* lib/misc/map.hh, lib/misc/map.hxx (value_type): Make this
	typedef public.
	(key_type, mapped_type, key_compare): New typedefs.
	(key_comp, lower_bound): New methods.
	Delegate to the underlying std::map.
	(operator[]): Make it non-virtual, so that misc::map can be used
	with a mapped type which doesn't model Default Constructible.
	* lib/misc/containers.hh: Wrap long lines.

2007-06-06  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.19, for 2009-lc-6.0.

	* configure.ac: Version 1.19.
	* NEWS: Update.
	* dev/stagize: Don't deliver code related to object desugaring to
	students (yet).

2007-06-03  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Fix the previous patch.
	* build-aux/tc-prog.m4: Swap the values of tc_ver and tc_req.

2007-06-03  Benoit Sigoure  <tsuna@lrde.epita.fr>

	Use more M4 in TC_PROG.
	* build-aux/tc-prog.m4: Check and transform arguments statically
	`at compile time' instead of using sed at configure time.

2007-05-31  Roland Levillain  <roland@lrde.epita.fr>

	Desugar function calls with object as argument(s).

	* src/object/desugar-visitor.hh, src/object/desugar-visitor.cc
	(operator() (const ast::NameTy&)): New method.
	Desugar class names.
	Use it...
	(operator() (const ast::VarDec&)): ...here to factor the creation
	of NameTy's.
	(operator() (const ast::CallExp&)): New method.
	Add object casts around arguments when needed.
	* src/object/test-desugar.cc: Add a third test.

2007-05-31  Roland Levillain  <roland@lrde.epita.fr>

	Handle polymorphic assignments.

	* src/object/desugar-visitor.hh, src/object/desugar-visitor.cc
	(operator() (const ast::AssignExp)): New method.
	Handle polymorphic assignments.
	* src/object/test-desugar.cc: Extend the second test to check the
	previous method.
	* tests/object-good/upcast.-e.u.s,
	* tests/object-good/upcast.desugared,
	* tests/object-good/upcast.err,
	* tests/object-good/upcast.hir,
	* tests/object-good/upcast.hpr,
	* tests/object-good/upcast.lir,
	* tests/object-good/upcast.lpr,
	* tests/object-good/upcast.s,
	* tests/object-good/upcast.sta,
	* tests/object-good/upcast.u.s,
	* tests/object-good/upcast.-e.s:
	Regen.

2007-05-31  Roland Levillain  <roland@lrde.epita.fr>

	Generate desugared outputs for tests with objects.

	* tests/mk-Makefile-am: Generate desugared outputs for tests with
	objects.
	* tests/object-good/Makefile.am: Regen.
	* tests/tests.mk (DESUGAR): New variable.
	(MAINTAINERCLEANFILES): Add $(srcdir)/*.desugared.
	($(srcdir)/%.desugared): New target.
	Make it precious.
	* dev/stagize: Handle *.desugared files during the
	leopardization.
	* tests/object-good/trivial-class.tig: New test.
	* tests/object-good/trivial-class.-e.s,
	* tests/object-good/trivial-class.-e.u.s,
	* tests/object-good/trivial-class.desugared,
	* tests/object-good/trivial-class.err,
	* tests/object-good/trivial-class.hir,
	* tests/object-good/trivial-class.hpr,
	* tests/object-good/trivial-class.lir,
	* tests/object-good/trivial-class.lpr,
	* tests/object-good/trivial-class.out,
	* tests/object-good/trivial-class.s,
	* tests/object-good/trivial-class.sta,
	* tests/object-good/trivial-class.u.s,
	* tests/object-good/attribute-modification.desugared,
	* tests/object-good/function-call-in-method.desugared,
	* tests/object-good/function-returning-an-object.desugared,
	* tests/object-good/function-returning-object.desugared,
	* tests/object-good/function-taking-an-object-as-argument.desugared,
	* tests/object-good/function-taking-object-as-argument.desugared,
	* tests/object-good/inner-class-with-same-member-names.desugared,
	* tests/object-good/instantiate-object.desugared,
	* tests/object-good/method-call.desugared,
	* tests/object-good/method-using-self-as-argument.desugared,
	* tests/object-good/redefining-object.desugared,
	* tests/object-good/simple-class.desugared,
	* tests/object-good/simple-extends.desugared,
	* tests/object-good/simple-instantiation.desugared,
	* tests/object-good/type-simple-class.desugared,
	* tests/object-good/type-simple-extends.desugared,
	* tests/object-good/upcast.desugared,
	* tests/object-good/using-members-from-within-the-class.desugared,
	* tests/object-good/valid-forward-reference-to-class.desugared,
	* tests/object-good/variable-modification.desugared,
	* tests/object-good/variable-of-type-object.desugared,
	* tests/object-good/vehicle.desugared,
	* tests/object-good/visitor.desugared:
	New test outputs.

2007-05-30  Roland Levillain  <roland@lrde.epita.fr>

	Add a test on (invalid) attribute redefinition.

	* tests/object-type/attribute-redefined.tig: New test.
	* tests/object-type/Makefile.am (dist_noinst_DATA): Add
	attribute-redefined.tig.

2007-05-30  Roland Levillain  <roland@lrde.epita.fr>

	Factor the pretty-printing of RecordExp and RecordTy.

	* src/ast/pretty-printer.hh, src/ast/pretty-printer.cc
	(operator() (const RecordExp&), operator() (const RecordTy&)):
	Factor code into...
	(print_record): ...this (new) method.

2007-05-30  Roland Levillain  <roland@lrde.epita.fr>

	Fix LC-5 code delivered to students.

	* src/translate/translator.cc
	(operator() (const ast::CallExp&)): Fix code delivered to
	students, which lacks (intentionally)
	ast::FunctionDec::sl_needed_.
	(operator() (const ast::VarDec&)): Ensure variables are enclosed
	in a level.

2007-05-20  Roland Levillain  <roland@lrde.epita.fr>

	Regen test outputs for tests/object-good.

	* tests/object-good/function-call-in-method.-e.s,
	* tests/object-good/function-call-in-method.-e.u.s,
	* tests/object-good/function-call-in-method.err,
	* tests/object-good/function-call-in-method.hir,
	* tests/object-good/function-call-in-method.hpr,
	* tests/object-good/function-call-in-method.lir,
	* tests/object-good/function-call-in-method.lpr,
	* tests/object-good/function-call-in-method.s,
	* tests/object-good/function-call-in-method.sta,
	* tests/object-good/function-call-in-method.u.s,
	* tests/object-good/function-taking-object-as-argument.-e.s,
	* tests/object-good/function-taking-object-as-argument.-e.u.s,
	* tests/object-good/function-taking-object-as-argument.err,
	* tests/object-good/function-taking-object-as-argument.hir,
	* tests/object-good/function-taking-object-as-argument.hpr,
	* tests/object-good/function-taking-object-as-argument.lir,
	* tests/object-good/function-taking-object-as-argument.lpr,
	* tests/object-good/function-taking-object-as-argument.s,
	* tests/object-good/function-taking-object-as-argument.sta,
	* tests/object-good/function-taking-object-as-argument.u.s,
	* tests/object-good/instantiate-object.-e.s,
	* tests/object-good/instantiate-object.-e.u.s,
	* tests/object-good/instantiate-object.err,
	* tests/object-good/instantiate-object.hir,
	* tests/object-good/instantiate-object.hpr,
	* tests/object-good/instantiate-object.lir,
	* tests/object-good/instantiate-object.lpr,
	* tests/object-good/instantiate-object.s,
	* tests/object-good/instantiate-object.sta,
	* tests/object-good/instantiate-object.u.s,
	* tests/object-good/redefining-object.-e.s,
	* tests/object-good/redefining-object.-e.u.s,
	* tests/object-good/redefining-object.err,
	* tests/object-good/redefining-object.hir,
	* tests/object-good/redefining-object.hpr,
	* tests/object-good/redefining-object.lir,
	* tests/object-good/redefining-object.lpr,
	* tests/object-good/redefining-object.s,
	* tests/object-good/redefining-object.sta,
	* tests/object-good/redefining-object.u.s,
	* tests/object-good/simple-class.-e.s,
	* tests/object-good/simple-class.-e.u.s,
	* tests/object-good/simple-class.err,
	* tests/object-good/simple-class.hir,
	* tests/object-good/simple-class.hpr,
	* tests/object-good/simple-class.lir,
	* tests/object-good/simple-class.lpr,
	* tests/object-good/simple-class.s,
	* tests/object-good/simple-class.sta,
	* tests/object-good/simple-class.u.s,
	* tests/object-good/simple-extends.-e.s,
	* tests/object-good/simple-extends.-e.u.s,
	* tests/object-good/simple-extends.err,
	* tests/object-good/simple-extends.hir,
	* tests/object-good/simple-extends.hpr,
	* tests/object-good/simple-extends.lir,
	* tests/object-good/simple-extends.lpr,
	* tests/object-good/simple-extends.s,
	* tests/object-good/simple-extends.sta,
	* tests/object-good/simple-extends.u.s,
	* tests/object-good/simple-instantiation.-e.s,
	* tests/object-good/simple-instantiation.-e.u.s,
	* tests/object-good/simple-instantiation.err,
	* tests/object-good/simple-instantiation.hir,
	* tests/object-good/simple-instantiation.hpr,
	* tests/object-good/simple-instantiation.lir,
	* tests/object-good/simple-instantiation.lpr,
	* tests/object-good/simple-instantiation.s,
	* tests/object-good/simple-instantiation.sta,
	* tests/object-good/simple-instantiation.u.s,
	* tests/object-good/type-simple-class.-e.s,
	* tests/object-good/type-simple-class.-e.u.s,
	* tests/object-good/type-simple-class.err,
	* tests/object-good/type-simple-class.hir,
	* tests/object-good/type-simple-class.hpr,
	* tests/object-good/type-simple-class.lir,
	* tests/object-good/type-simple-class.lpr,
	* tests/object-good/type-simple-class.s,
	* tests/object-good/type-simple-class.sta,
	* tests/object-good/type-simple-class.u.s,
	* tests/object-good/type-simple-extends.-e.s,
	* tests/object-good/type-simple-extends.-e.u.s,
	* tests/object-good/type-simple-extends.err,
	* tests/object-good/type-simple-extends.hir,
	* tests/object-good/type-simple-extends.hpr,
	* tests/object-good/type-simple-extends.lir,
	* tests/object-good/type-simple-extends.lpr,
	* tests/object-good/type-simple-extends.s,
	* tests/object-good/type-simple-extends.sta,
	* tests/object-good/type-simple-extends.u.s,
	* tests/object-good/variable-modification.-e.s,
	* tests/object-good/variable-modification.-e.u.s,
	* tests/object-good/variable-modification.err,
	* tests/object-good/variable-modification.hir,
	* tests/object-good/variable-modification.hpr,
	* tests/object-good/variable-modification.lir,
	* tests/object-good/variable-modification.lpr,
	* tests/object-good/variable-modification.s,
	* tests/object-good/variable-modification.sta,
	* tests/object-good/variable-modification.u.s,
	* tests/object-good/variable-of-type-object.-e.s,
	* tests/object-good/variable-of-type-object.-e.u.s,
	* tests/object-good/variable-of-type-object.err,
	* tests/object-good/variable-of-type-object.hir,
	* tests/object-good/variable-of-type-object.hpr,
	* tests/object-good/variable-of-type-object.lir,
	* tests/object-good/variable-of-type-object.lpr,
	* tests/object-good/variable-of-type-object.s,
	* tests/object-good/variable-of-type-object.sta,
	* tests/object-good/variable-of-type-object.u.s,
	Regen.

2007-05-20  Roland Levillain  <roland@lrde.epita.fr>

	Start object desugaring.

	* lib/misc/containers.hxx: Wrap lines longer than 80 columns.
	* src/parse/tasks.cc,
	* src/parse/libparse.hh, src/parse/libparse.cc,
	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc,
	* src/parse/parsetiger.yy:
	Rename studentize `object' tags as `object-parse'.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc: Regen.
	* dev/stagize: Adjust.
	Handle tag `object-desugar'.
	* dev/studentize_tc.conf: s/object/object-parse/.
	Add object-desugar.
	* src/tc.mk (libobject): Append $(libdesugar).
	* src/ast/pretty-printer.hh, src/ast/pretty-printer.cc
	(operator() (const fields_type&)): Remove method.
	(operator() (const RecordExp&), operator() (const RecordTy&)):
	Print one field per line.
	* src/bind/renamer.cc (new_name_compute, new_name, visit):
	Move methods...
	* src/bind/renamer.hxx: ...here (new file).
	* src/bind/renamer.hh: Include it.
	* src/bind/Makefile.am (libbind_la_SOURCES): Add renamer.hxx
	* src/type/named.hh, src/type/named.hxx (name_get): New accessor.
	* src/type/class.hh, src/type/class.hxx, src/type/class.cc
	(id_, subclasses_): New attributes.
	(id_get, subclasses_get): New accessors.
	(subclass_add, subclasses_clear): New manipulators.
	(fresh_id): New class method.
	(Class::Class): Adjust ctor.
	* src/type/type-checker.cc (operator() (ast::RecordExp&)):
	Aesthetic changes in error messages.
	* src/object/tasks.hh, src/object/tasks.cc
	(object_rename, object_desugar): New tasks.
	(class_names): New.
	* src/object/libobject.hh, src/object/libobject.cc
	(rename, desugar, raw_desugar): New functions.
	* src/object/type-checker.cc
	(TypeChecker::TypeChecker): Reset the subclasses of Object at the
	construction of the visitor.
	(operator() (ast::ClassTy&)): Populate the subclasses of the
	class type.
	* src/object/renamer.hh, src/object/renamer.cc: New files.
	Rename the identifiers of an AST to unique names, with support for
	objects.
	* src/object/desugar-visitor.hh, src/object/desugar-visitor.cc:
	New files.
	Partial implementation of the desugaring of object constructs.
	* src/object/test-type.cc: Remove useless studentize tags.
	* src/object/test-desugar: New test.
	* src/object/Makefile.am (libobject_la_SOURCES): Add renamer.hh,
	renamer.cc, desugar-visitor.hh and desugar-visitor.cc.
	(check_PROGRAMS): Add test-desugar.
	(test_desugar_SOURCES, test_desugar_LDADD): New.


	Clean up the desugar module.

	* src/desugar/libdesugar.hh: Improve documentation.
	* src/desugar/tasks.cc (desugar, raw_desugar): Remove a memory
	memory leak.
	(overfun_desugar): Simplify, using desugar::tasks::desugar.
	* src/desugar/tasks.cc (applicable, apply)
	* src/inlining/tasks.cc (applicable, apply): Factor and move...
	* src/astclone/libastclone.hh, src/astclone/libastclone.hxx:
	...here.
	* src/desugar/tasks.cc (bound_checks_add)
	(overfun_bound_checks_add, bound_checks_add)
	* src/inlining/tasks.cc (inline_expand, overfun_inline_expand)
	(prune, overfun_prune): Adjust callers.
	* src/desugar/bound-checking-visitor.cc (parse_decs): Move
	function...
	* src/parse/libparse.hh, src/parse/libparse.cc: ...here, and make
	it public.
	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::TypeDecs&)): Adjust caller.

2007-05-18  Roland Levillain  <roland@lrde.epita.fr>

	Don't show students unexpected code in astclone::Cloner.

	* dev/ast-cloner-gen: Hide anything related to
	FunctionDec::sl_needed_ and FunctionDec::sl_escapes_.
	* src/astclone/cloner.cc: Regen.

2007-05-16  Roland Levillain  <roland@lrde.epita.fr>

	Fix the lc distribution.

	* configure.ac, NEWS: Version 1.18a.
	* src/target/mips/spim-assembly.cc (call_build)
	* src/target/ia32/gas-assembly.cc (call_build): Split the
	generated instruction so that the `tc_' prefix appears clearly, to
	help codenamize.pl identify it.
	* dev/stagize: Remove the parent graph and static link visitors
	only in student distributions.

2007-05-15  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.18, for 2009-lc-5.0.

	* configure.ac: Version 1.18
	* NEWS: Update.
	* src/translate/access.cc, src/translate/level.cc,
	* src/frame/access.cc: Show more code to students.
	* src/translate/translator.cc (visitFunctionDecHeader): Explain
	how to replace the result of FunctionDec::escapes_get for
	students who did not work on the LC-E option.
	(visitFunctionDecBody, operator() (const ast::CallExp&)): Hide
	anything related to FunctionDec::sl_needed_, as it is not part of
	the students' assignment.
	* src/callgraph/tasks.hh, src/callgraph/tasks.cc,
	* src/callgraph/libcallgraph.hh, src/callgraph/libcallgraph.cc,
	* src/callgraph/fundec-graph.hh,
	* src/callgraph/tiger_callgraph.i
	* src/callgraph/Makefile.am:
	Hide anything related to the parent graph and the static link
	visitors.
	* dev/stagize: Deliver the call graph visitor to students.

2007-05-11  Alain Vongsouvanh  <vongso_a@epita.fr>

	Update tc-check to check type with object extension.
	* tests/tc-check.in: add type checking with object extension.

2007-05-07  Roland Levillain  <roland@lrde.epita.fr>

	Add more tests on object support.

	* tests/object-type/builtin-object-vs-custom-object.tig,
	* tests/object-type/illegal-redefinition-of-object-1.tig,
	* tests/object-type/illegal-redefinition-of-object-2.tig,
	* tests/object-good/redefining-object.tig,
	* tests/object-good/variable-of-type-object.tig:
	New tests.
	* tests/object-good/redefining-object.-e.s,
	* tests/object-good/redefining-object.-e.u.s,
	* tests/object-good/redefining-object.err,
	* tests/object-good/redefining-object.hir,
	* tests/object-good/redefining-object.hpr,
	* tests/object-good/redefining-object.lir,
	* tests/object-good/redefining-object.lpr,
	* tests/object-good/redefining-object.out,
	* tests/object-good/redefining-object.s,
	* tests/object-good/redefining-object.sta,
	* tests/object-good/redefining-object.u.s,
	* tests/object-good/variable-of-type-object.-e.s,
	* tests/object-good/variable-of-type-object.-e.u.s,
	* tests/object-good/variable-of-type-object.err,
	* tests/object-good/variable-of-type-object.hir,
	* tests/object-good/variable-of-type-object.hpr,
	* tests/object-good/variable-of-type-object.lir,
	* tests/object-good/variable-of-type-object.lpr,
	* tests/object-good/variable-of-type-object.out,
	* tests/object-good/variable-of-type-object.s,
	* tests/object-good/variable-of-type-object.sta,
	* tests/object-good/variable-of-type-object.u.s:
	New test products.
	* tests/object-type/Makefile.am,
	* tests/object-good/Makefile.am:
	Regen.
	* src/parse/parsetiger.yy: Typo in comment.
	* src/parse/parsetiger.cc: Regen.

2007-05-07  Roland Levillain  <roland@lrde.epita.fr>

	Fix the previous patch.

	* configure.ac, NEWS: Version 1.17a.
	* src/bind/binder.cc
	(visitDecHeader<ast::FunctionDec>)
	(visitDecBody<ast::FunctionDec>): Move...
	* src/bind/binder.hxx: ...here.
	* src/object/binder.hh, src/object/binder.cc:
	(visitDecHeader (ast::MethodDec&))
	(visitDecBody (ast::MethodDec&)): Turn these methods into
	specializations of...
	(visitDecHeader, visitDecBody): ...these generic methods (new).
	(visitDecHeader<ast::FunctionDec>)
	(visitDecBody<ast::FunctionDec>): New specializations.
	(operator() (ast::ForExp&), operator() (ast::FunctionDecs&)): New.
	(class_): Turn this pointer into...
	(within_class_ty_): ...a flag.
	(Binder::Binder): Adjust ctor.
	(operator() (ast::ClassTy&)): Likewise.
	(operator() (ast::VarDec&)): Ditto.
	Factor redundant parts.
	* tests/object-good/vehicle.tig, tests/object-good/visitor.tig:
	Fix tests w.r.t. access to members from within their enclosing
	classes.
	* tests/object-good/using-members-from-within-the-class.tig:
	New test.
	* tests/object-good/using-members-from-within-the-class.-e.s,
	* tests/object-good/using-members-from-within-the-class.-e.u.s,
	* tests/object-good/using-members-from-within-the-class.err,
	* tests/object-good/using-members-from-within-the-class.hir,
	* tests/object-good/using-members-from-within-the-class.hpr,
	* tests/object-good/using-members-from-within-the-class.lir,
	* tests/object-good/using-members-from-within-the-class.lpr,
	* tests/object-good/using-members-from-within-the-class.out,
	* tests/object-good/using-members-from-within-the-class.s,
	* tests/object-good/using-members-from-within-the-class.sta,
	* tests/object-good/using-members-from-within-the-class.u.s:
	New test products.

2007-05-06  Benoit Tailhades  <tailha_b@epita.fr>

	Correct variable binding in methods.
	* src/object/binder.cc:
	(operator() (ast::VarDec&)): New method to correct binding of
	attribute which name conflicts with a variable one.
	* src/object/binder.hh: Add a class_ attribute which is the
	current class.

2007-04-27  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.17, for 2009-lc-4.1.

	* configure.ac, NEWS: Version 1.17.

2007-04-26  Roland Levillain  <roland@lrde.epita.fr>

	Add more tests on type-checking with objects.

	* src/object/type-checker.cc (visitDecHeader (ast::MethodDec&)):
	Improve comment.
	* src/type/method.cc: Remove spurious studentize tag.
	* src/type/function.cc: Aesthetic change.
	* src/desugar/libdesugar.hh: No longer include
	callgraph/fundec-graph.hh.
	* tests/object-good/upcast.tig,
	* tests/object-good/valid-forward-reference-to-class.tig,
	* tests/object-bind/invalid-forward-reference-to-class.tig,
	* tests/object-type/downcast.tig,
	* tests/object-type/invalid-forward-references-to-members.tig:
	New tests.
	* tests/object-good/Makefile.am
	* tests/object-bind/Makefile.am,
	* tests/object-type/Makefile.am:
	Regen.
	* tests/object-good/upcast.-e.s,
	* tests/object-good/upcast.-e.u.s,
	* tests/object-good/upcast.err,
	* tests/object-good/upcast.hir,
	* tests/object-good/upcast.hpr,
	* tests/object-good/upcast.lir,
	* tests/object-good/upcast.lpr,
	* tests/object-good/upcast.out,
	* tests/object-good/upcast.s,
	* tests/object-good/upcast.sta,
	* tests/object-good/upcast.u.s,
	* tests/object-good/valid-forward-reference-to-class.-e.s,
	* tests/object-good/valid-forward-reference-to-class.-e.u.s,
	* tests/object-good/valid-forward-reference-to-class.err,
	* tests/object-good/valid-forward-reference-to-class.hir,
	* tests/object-good/valid-forward-reference-to-class.hpr,
	* tests/object-good/valid-forward-reference-to-class.lir,
	* tests/object-good/valid-forward-reference-to-class.lpr,
	* tests/object-good/valid-forward-reference-to-class.out,
	* tests/object-good/valid-forward-reference-to-class.s,
	* tests/object-good/valid-forward-reference-to-class.sta
	* tests/object-good/valid-forward-reference-to-class.u.s:
	New test products.
	* NEWS: Update.

2007-04-26  Roland Levillain  <roland@lrde.epita.fr>

	Forbid covariant and contravariant methods.

	* src/type/type.hh, src/type/type.cc (type::hide_actual_types):
	New boolean xalloc slot, stating whether types should be printed
	in short or long form.
	* src/type/function.cc (Function::print): Use
	type::hide_actual_types to print the types of the argument(s) and
	return value of a Function in their short form (name only, no
	full definition) for readability purpose.
	(Function::compatible_with): Check the number of arguments and the
	return type too.
	* src/type/method.hh, src/type/method.cc (Method::super_type): New
	typedef.
	(Method::compatible_with): New method.
	* src/type/named.cc (Named::print): Don't print the actual type if
	`hide_actual_types' is set to `true' for this output stream.
	* src/object/type-checker.cc (visitDecHeader (ast::MethodDec&)):
	Aesthetic changes in error messages.
	* tests/object-type/covariant-method.tig,
	* tests/object-type/covariant-return-type.tig,
	* tests/object-type/contravariant-method.tig,
	* tests/object-type/contravariant-return-type.tig:
	New tests.
	* tests/object-type/Makefile.am: Regen.
	* tests/object-good/method-using-self-as-argument.err,
	* tests/object-good/method-using-self-as-argument.hpr,
	* tests/object-good/method-using-self-as-argument.lpr,
	* tests/object-good/method-using-self-as-argument.out,
	* tests/object-good/method-using-self-as-argument.sta,
	* tests/object-good/visitor.err,
	* tests/object-good/visitor.hpr,
	* tests/object-good/visitor.lpr,
	* tests/object-good/visitor.out,
	* tests/object-good/visitor.sta:
	New test products.

2007-04-25  Alain Vongsouvanh  <vongso_a@epita.fr>

	Fix Function print method.

	* src/type/function.cc: Fix print method.

2007-04-24  Alain Vongsouvanh  <vongso_a@epita.fr>

	Check method signature sanity in super class.
	* src/object/type-checker.cc: Modify VisitDecHeader for
	MethodDec to check for signature sanity between this and
	this->super_class.

2007-04-24  Roland Levillain  <roland@lrde.epita.fr>

	Type-check class definitions in three steps instead of two.

	* configure.ac: Version 1.16a.
	* NEWS: Update.
	* src/type/named.hxx (type): Aesthetic change.
	* src/object/type-checker.hh, src/object/type-checker.cc
	(operator() (ast::TypeDecs&)): New method.
	Visit class definitions in three steps, instead of two.
	(operator() (ast::ClassTy&)): Move the visit of the
	members...
	(visitDecMember): ...here (new method).
	* tests/object-good/method-using-self-as-argument.tig,
	* tests/object-good/visitor.tig,
	* tests/object-type/forward-method-reference-1.tig,
	* tests/object-type/forward-method-reference-2.tig,
	* tests/object-type/method-redefinition-with-different-signature.tig:
	New tests.
	* tests/object-good/method-using-self-as-argument.-e.s,
	* tests/object-good/method-using-self-as-argument.-e.u.s,
	* tests/object-good/method-using-self-as-argument.hir,
	* tests/object-good/method-using-self-as-argument.lir,
	* tests/object-good/method-using-self-as-argument.s,
	* tests/object-good/method-using-self-as-argument.u.s,
	* tests/object-good/visitor.-e.s,
	* tests/object-good/visitor.-e.u.s,
	* tests/object-good/visitor.hir,
	* tests/object-good/visitor.lir,
	* tests/object-good/visitor.s,
	* tests/object-good/visitor.u.s:
	New test products.

2007-04-23  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.16, for 2009-lc-4.0.

	* configure.ac: Version 1.16.
	* NEWS, AUTHORS: Update.
	* dev/stagize: Touch the scanner to prevent its regeneration.
	* dev/ast-cloner-gen: Factor the display of visit methods for decs
	types.
	Hide some code.
	* src/astclone/cloner.hh, src/astclone/cloner.cc: Regen.
	* src/type/class.cc (sound): Make the comment more explicit.
	* src/type/README: Mention type::Class and type::Method.
	* src/object/type-checker.cc: Fix closing studentize tag.
	* tests/type/bad-_main-type.tig: Remove test.
	* tests/type/Makefile.am: Regen.

2007-04-23  Roland Levillain  <roland@lrde.epita.fr>

	Add new test products.

	* tests/object-good/function-returning-an-object.err,
	* tests/object-good/function-returning-an-object.hpr,
	* tests/object-good/function-returning-an-object.lpr,
	* tests/object-good/function-returning-an-object.out,
	* tests/object-good/function-returning-an-object.sta,
	* tests/object-good/function-returning-object.err,
	* tests/object-good/function-returning-object.hpr,
	* tests/object-good/function-returning-object.lpr,
	* tests/object-good/function-returning-object.out,
	* tests/object-good/function-returning-object.sta,
	* tests/object-good/function-taking-an-object-as-argument.err,
	* tests/object-good/function-taking-an-object-as-argument.hpr,
	* tests/object-good/function-taking-an-object-as-argument.lpr,
	* tests/object-good/function-taking-an-object-as-argument.out,
	* tests/object-good/function-taking-an-object-as-argument.sta,
	* tests/object-good/function-taking-object-as-argument.err,
	* tests/object-good/function-taking-object-as-argument.hpr,
	* tests/object-good/function-taking-object-as-argument.lpr,
	* tests/object-good/function-taking-object-as-argument.out,
	* tests/object-good/function-taking-object-as-argument.sta,
	* tests/object-good/instantiate-object.err,
	* tests/object-good/instantiate-object.hpr,
	* tests/object-good/instantiate-object.lpr,
	* tests/object-good/instantiate-object.out,
	* tests/object-good/instantiate-object.sta:
	New.

2007-04-23  Roland Levillain  <roland@lrde.epita.fr>

	Forbid (direct) inheritance from non-class types.

	* src/object/type-checker.cc (object): Catch classes inheriting
	directly from an non-class type.
	* tests/object-type/int-as-super-class.tig: New.
	* tests/object-type/Makefile.am: Regen.

2007-04-20  Roland Levillain  <roland@lrde.epita.fr>

	Type-check correctly instances of the built-in type `Object'.

	* src/type/class.cc, src/type/class.hh (object_class): New method.
	Returns the unique class type `Object'.
	* src/object/type-checker.hh, src/object/type-checker.cc
	(operator() (ast::NameTy&)): New method.
	Handle the case of `Object'.
	(operator() (ast::ClassTy&)): Handle the case of `Object' as super
	class.
	* tests/object-good/function-returning-object.tig,
	* tests/object-good/function-returning-an-object.tig,
	* tests/object-good/function-taking-object-as-argument.tig,
	* tests/object-good/function-taking-an-object-as-argument.tig,
	* tests/object-good/instantiate-object.tig:
	New tests.
	* tests/object-good/function-returning-an-object.-e.s,
	* tests/object-good/function-returning-an-object.-e.u.s,
	* tests/object-good/function-returning-an-object.hir,
	* tests/object-good/function-returning-an-object.lir,
	* tests/object-good/function-returning-an-object.s,
	* tests/object-good/function-returning-an-object.tig,
	* tests/object-good/function-returning-an-object.u.s,
	* tests/object-good/function-returning-object.-e.s,
	* tests/object-good/function-returning-object.-e.u.s,
	* tests/object-good/function-returning-object.hir,
	* tests/object-good/function-returning-object.lir,
	* tests/object-good/function-returning-object.s,
	* tests/object-good/function-returning-object.tig,
	* tests/object-good/function-returning-object.u.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.s,
	* tests/object-good/function-taking-an-object-as-argument.-e.u.s,
	* tests/object-good/function-taking-an-object-as-argument.hir,
	* tests/object-good/function-taking-an-object-as-argument.lir,
	* tests/object-good/function-taking-an-object-as-argument.s,
	* tests/object-good/function-taking-an-object-as-argument.tig,
	* tests/object-good/function-taking-an-object-as-argument.u.s,
	* tests/object-good/function-taking-object-as-argument.-e.s,
	* tests/object-good/function-taking-object-as-argument.-e.u.s,
	* tests/object-good/function-taking-object-as-argument.hir,
	* tests/object-good/function-taking-object-as-argument.lir,
	* tests/object-good/function-taking-object-as-argument.s,
	* tests/object-good/function-taking-object-as-argument.tig,
	* tests/object-good/function-taking-object-as-argument.u.s,
	* tests/object-good/instantiate-object.-e.s,
	* tests/object-good/instantiate-object.-e.u.s,
	* tests/object-good/instantiate-object.hir,
	* tests/object-good/instantiate-object.lir,
	* tests/object-good/instantiate-object.s,
	* tests/object-good/instantiate-object.tig,
	* tests/object-good/instantiate-object.u.s:
	New test products (generated).
	* tests/object-good/Makefile.am: Regen.
	* tests/tests.mk (HAVM_FLAGS): New.
	Add memory options for GHC's runtime system (RTS) to prevent HAVM
	from running out of memory.
	($(srcdir)/%.out $(srcdir)/%.err $(srcdir)/%.sta $(srcdir)/%.hpr)
	($(srcdir)/%.lpr): Use them.

2007-04-19  Roland Levillain  <roland@lrde.epita.fr>

	Manipulate unary (1-ary) attributes with references instead of
	pointers.  Simplify ast::GenVisitor<Const>::accept.

	* src/ast/ast.yml (ObjectExp::type_name, ClassTy::super): Make
	these attributes mandatory, so that their accessors use
	references, not pointers.
	* src/ast/class-ty.hh, src/ast/class-ty.hxx,
	* src/ast/object-exp.hh, src/ast/object-exp.hxx: Regen.
	* src/ast/pretty-printer.cc
	(operator() (const ObjectExp&), operator() (const ClassTy&))
	* src/object/binder.cc
	(operator() (ast::ObjectExp&), operator() (ast::ClassTy&))
	* src/object/type-checker.cc
	(operator() (ast::ObjectExp&), operator() (ast::ClassTy&)):
	Adjust.
	* src/object/binder.cc (visitDecBody (ast::MethodDec&)):
	Don't check whether the pointer is null or not before calling
	accept: the body of a method shall always be defined.

	* dev/ast-visitor-gen (accept (E*, V&)): Remove the second
	argument, and change the signature of this method into...
	(accept (E*)): ...this.
	* src/ast/visitor.hxx (accept (typename Const<E>::type*)):
	Likewise.
	Adjust the body of this method (use `this' instead of `v').
	* src/ast/visitor.hh: Regen.
	* src/ast/default-visitor.hxx
	(operator() (typename Const<VarDec>::type&))
	(operator() (typename Const<FunctionDec>::type&))
	* src/escapes/escapes-visitor.cc (operator() (ast::VarDec&)):
	Adjust callers.

	* tests/tc-check.in (load_tests): Aesthetic changes.

2007-04-18  Roland Levillain  <roland@lrde.epita.fr>

	Have TCSH catch up with the recent renaming in lib/misc/.

	* lib/misc/tiger_misc.i,
	* src/tiger_common.i,
	* src/parse/tiger_parse.i,
	* src/liveness/tiger_liveness.i
	s/misc::FileLibrary/misc::file_library/
	s/misc::Timer/misc::timer/
	s/misc::Error/misc::error/
	* tcsh/python/test-front-end.py, tcsh/python/test-compiler.py,
	* tcsh/python/ti.py
	s/tc.misc.FileLibrary/tc.misc.file_library/.
	* tcsh/ruby/test-front-end.rb, tcsh/ruby/test-compiler.rb:
	s/Tc::Misc::FileLibrary.new/Tc::Misc::File_library.new.

2007-04-18  Roland Levillain  <roland@lrde.epita.fr>

	Update tc-check.

	* tests/tc-check.in (load_tests): Rename directory `overload' as
	`overload-good'.

2007-04-18  Roland Levillain  <roland@lrde.epita.fr>

	Fix and add tests.

	* tests/overload/: Rename directory as...
	* tests/overload-good/: ...this.
	* tests/mk-Makefile-am: Add `--object-desugar' to AM_TCFLAGS when
	for `object-good'.
	Rename directory `overload' as `overload-good'.
	(all_tests): Add object-type.
	* tests/Makefile.am (SUBDIRS): Likewise.  Add overload-bind-maint
	and overload-type-maint.
	* tests/object-type/duplicate-members.tig,
	* tests/object-good/inner-class-with-same-member-names.tig:
	New tests.
	* tests/object-good/inner-class-with-same-member-names.hir,
	* tests/object-good/inner-class-with-same-member-names.lir,
	* tests/object-good/inner-class-with-same-member-names.u.s,
	* tests/object-good/inner-class-with-same-member-names.s,
	* tests/object-good/inner-class-with-same-member-names.-e.u.s,
	* tests/object-good/inner-class-with-same-member-names.-e.s,
	* tests/object-good/inner-class-with-same-member-names.err,
	* tests/object-good/inner-class-with-same-member-names.sta,
	* tests/object-good/inner-class-with-same-member-names.out,
	* tests/object-good/inner-class-with-same-member-names.hpr,
	* tests/object-good/inner-class-with-same-member-names.lpr:
	New outputs (generated).
	* tests/object-good/Makefile.am: Regen.
	* tests/object-type/Makefile.am: New (generated).
	* tests/object-good/vehicle.tig: Fix test.
	* configure.ac: Rename tests/overload/Makefile as
	tests/overload-good/Makefile.
	Configure tests/overload-bind-maint/Makefile,
	tests/overload-type-maint/Makefile and tests/object-type/Makefile.

2007-04-18  Roland Levillain  <roland@lrde.epita.fr>

	Add a task `object-parse'.

	* src/object/tasks.hh, src/object/tasks.cc (object-parse): New
	task.
	(object-bind): Replace the dependency on `object' and `parse' by a
	dependency on `object-parse'.

2007-04-14  Benoit Perrot  <benoit@lrde.epita.fr>

	Enforce STL coding style in lib/misc.

	* lib/misc/endomap.hh, lib/misc/endomap.hcc:
	Rename `Endomap' as `endo_map'.
	* src/temp/identifier.hh, src/temp/temp.hh, src/temp/fwd.hh:
	Update accordingly.

	* lib/misc/escape.hh, lib/misc/escape.hxx, lib/misc/escape.cc:
	Rename `Escape' as `escape'.

	* lib/misc/error.hh, lib/misc/error.hxx, lib/misc/error.cc:
	Rename `Error' as `error'.
	* lib/misc/test-error.cc,
	* src/type/libtype.hh, src/type/libtype.cc,
	* src/type/type-checker.hh, src/type/type-checker.hxx,
	* src/type/type-checker.cc,
	* src/escapes/libescapes.hh, src/escapes/libescapes.cc,
	* src/escapes/escapes-check-visitor.hh,
	* src/escapes/escapes-check-visitor.cc,
	* src/desugar/libdesugar.cc,
	* src/parse/scantiger.ll,
	* src/bind/libbind.hh, src/bind/libbind.cc,
	* src/bind/binder.hxx, src/bind/binder.cc,
	* src/bind/test-bind.cc,
	* src/overload/liboverload.hh, src/overload/liboverload.cc,
	* src/overload/type-checker.cc,
	* src/object/libobject.cc, src/object/libobject.hh,
	* src/object/test-bind.cc, src/object/test-type.cc:
	Update accordingly.

	* lib/misc/file-library.hh, lib/misc/file-library.hxx,
	* lib/misc/file-library.cc:
	Rename `FileLibrary' as `file_library'.

	* lib/misc/generic-variant.hh:
	Respect 80-columns limit.

	* lib/misc/graph.hh, lib/misc/graph.hxx:
	Rename `Graph' as `graph', rename `DirectedGraph' as
	`directed_graph', `UndirectedGraph' as `undirected_graph'.
	* lib/misc/test-graph.cc,
	* src/callgraph/fundec-graph.hh:
	Update accordingly.

	* lib/misc/pair.hh, lib/misc/pair.hxx: .
	Rename `Pair' as `pair'.

	* lib/misc/path.hh, lib/misc/path.hxx, lib/misc/path.cc:
	Rename `Path' as `path'.
	* lib/misc/test-path.cc:
	Update accordingly.

	* lib/misc/separator.hh, lib/misc/separator.hxx:
	Rename `separator' as `separate', `Separator' as `separator'.
	* lib/misc/test-separator.cc,
	* src/ast/pretty-printer.cc,
	* src/tree/trees.cc, src/tree/fragments.cc,
	* src/translate/access.cc:
	Update accordingly.

	* lib/misc/scoped-map.hh, lib/misc/scoped-map.hxx:
	Rename `ScopedMap' as `scoped_map'.
	* lib/misc/test-scoped.cc,
	* src/symbol/test-symbol.cc,
	* src/inlining/inliner.hh:
	Update accordingly.

	* lib/misc/timer.hh, lib/misc/timer.hxx, lib/misc/timer.cc:
	Rename `Timer' as `timer'.
	* lib/misc/test-timer.cc,
	* src/task/task-register.hh,
	* src/task/task-register.hxx,
	* src/regalloc/color.hh, src/regalloc/color.cc,
	* src/regalloc/libregalloc.hh, src/regalloc/libregalloc.cc,
	* src/regalloc/regallocator.hh, src/regalloc/regallocator.cc
	* src/liveness/flowgraph.hxx, src/liveness/interference-graph.hxx,
	* src/liveness/libliveness.hh, src/liveness/libliveness.cc:
	Update accordingly.

	* lib/misc/map.hh, lib/misc/map.hxx:
	Rename `Map' as `map'.
	* src/parse/metavar-map.hh:
	Update accordingly.

	* src/parse/libparse.hh, src/parse/libparse.cc,
	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc,
	* src/parse/tasks.cc,
	* src/temp/temp.cc,
	* src/bind/binder.hh,
	* src/temp/label.cc,
	* src/liveness/flowgraph.hh, src/liveness/interference-graph.hh,
	* src/parse/parsetiger.yy,
	Update according to all these renaming.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc:
	Regenerate.

	* src/common.hh, src/common.cc
	Rename `timer' to `task_timer' and `error' to `task_error'.
	* src/task/task-register.cc, src/task/task.cc,
	* src/type/tasks.cc,
	* src/regalloc/tasks.cc,
	* src/liveness/tasks.cc,
	* src/task/tasks.cc,
	* src/bind/tasks.cc,
	* src/object/tasks.cc,
	* src/astclone/tasks.cc,
	* src/overload/tasks.cc,
	* src/tc.cc:
	Update accordingly.

2007-04-13  Roland Levillain  <roland@lrde.epita.fr>

	Polish the LC-4 distribution.

	* AUTHORS: Update.
	* src/type/class.hh: Fix a comment.
	* src/type/type-checker.hh, src/type/type-checker.hxx
	(visitRoutineBody): New method.
	Use it to factor...
	* src/type/type-checker.cc (visitDecBody<ast::FunctionDec>)
	* src/object/type-checker.cc (visitDecBody (ast::MethodDec&)):
	...these methods.
	* src/type/class.cc, src/type/type-checker.cc: Hide more code.
	* dev/stagize: Remove type-related contents before LC-4.

2007-04-13  Roland Levillain  <roland@lrde.epita.fr>

	Clean up dev/ and build-aux.

	* build-aux/ampersand.rb, build-aux/ampersand_test.yml: Move...
	* dev/ampersand.rb, dev/ampersand_test.yml: ...here.
	* dev/Makefile.am: Aesthetic changes.
	(dist_noinst_SCRIPTS): Add ampersand.rb.
	(EXTRA_DIST): Add studentize_tc.conf,
	ampersand_test.yml and studentize_test.yml.
	* Makefile.am: Add dev to SUBDIRS ahead of developers-only
	targets.
	Typo.
	Aesthetic changes.

2007-04-13  Roland Levillain  <roland@lrde.epita.fr>

	Update dev/stats.

	* dev/stats: Update.
	Display the total number of SLOC in the project.

2007-04-13  Alain Vongsouvanh  <vongso_a@epita.fr>

	Add Object type-checking.
	* src/ast/ast.yml: Add non-const method for NameTy.
	* src/ast/name-ty.hh,
	* src/ast/name-ty.hxx: Regen.
	* src/bind/tasks.hh: Fix the DISJUNCTIVE_TASKS.
	* src/object/Makefile.am: Add type-checking sources.
	* src/object/libobject.cc,
	* src/object/libobject.hh: Add object-types-compute function.
	* src/object/tasks.cc,
	* src/object/tasks.hh: Add object-types-compute task.
	* src/object/test-type.cc: New Single file test for object
	type-checking.
	* src/object/type-checker.cc,
	* src/object/type-checker.hh: New Object type-checking visitor.
	* src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh: Regen.
	* src/type/Makefile.am: Add the new types files.
	* src/type/attribute.cc,
	* src/type/attribute.hh,
	* src/type/attribute.hxx: New Attribute type.
	* src/type/class.cc,
	* src/type/class.hh,
	* src/type/class.hxx: New Class type.
	* src/type/method.cc,
	* src/type/method.hh,
	* src/type/method.hxx: New Method type.
	* src/type/tasks.hh: Add object-types-compute to the DISJUNCTIVE_TASK.
	* src/type/type-checker.cc,
	* src/type/type-checker.hxx: Move error_and_recover from the
	.cc to the .hxx.
	* tests/object-good/method-call.tig: Fix the method definition
	to pass the type-checking.

2007-04-12  Roland Levillain  <roland@lrde.epita.fr>

	Provide a means to install the documentation through SSH.

	* Makefile.am (install-doc-remote): New target.
	Register PHONY targets as such.

2007-04-12  Roland Levillain  <roland@lrde.epita.fr>

	Typo, indentation.

	* src/type/function.hh (type::Function::Function): Typo in
	comment.
	* src/type/type-checker.cc
	(type::TypeChecker::type (const ast::VarDecs&)): Fix indentation.

2007-04-12  Roland Levillain  <roland@lrde.epita.fr>

	Fix the previous patches.

	* build-aux/Makefile.am (dist_lisp_LISP): Add leopard.el.
	* dev/stagize: Don't let codenamize.pl touch build-aux/Makefile.am.

2007-04-11  Roland Levillain  <roland@lrde.epita.fr>

	Prevent codenamize.pl from renaming Vim scripts.

	* dev/stagize: Don't let codenamize.pl rename
	build-aux/tiger-syntax.vim nor build-aux/tiger-ftdetect.vim.

2007-04-11  Roland Levillain  <roland@lrde.epita.fr>

	* dev/stagize: Handle file names with directories as exceptions of
	codenamize.pl.
	Add build-aux/tiger.el to the list of exceptions.

2007-04-11  Roland Levillain  <roland@lrde.epita.fr>

	Revamp Emacs' Tiger major mode, introduce a Leopard major mode.

	* build-aux/tiger.el: Incite users to use `autoload' (rather than
	`require') to prepare the loading of the mode.
	Have the example support header files (.tih) as well.
	(leopard-font-lock-keywords): Tag reserved keywords and reserved
	identifiers with a warning face.
	* build-aux/leopard.el: New.
	Made from tiger.el, with support for OOP constructs.

2007-04-07  Benoit Sigoure  <tsuna@lrde.epita.fr>

	* configure.ac: Use better english.

2007-04-07  Roland Levillain  <roland@lrde.epita.fr>

	Fix studentize's marks in src/object/.

	* configure.ac, NEWS: Version 1.15a.
	* src/object/tasks.hh, src/object/tasks.cc: Hide only code
	students are expected to write at LC-3, not code already delivered!

2007-04-06  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.15, for 2009-lc-3.0.

	* configure.ac: Version 1.15.
	Fix the macro allowing patterns starting with `LC_'.
	* NEWS: Update.
	* dev/ast-visitor-gen: Escape a backslash to avoid spurious
	characters in the output.
	* src/ast/visitor.hh: Regen.
	* src/object/tasks.hh, src/object/tasks.cc
	* src/object/libobject.hh, src/object/libobject.cc: Hide more
	code.

2007-04-06  Roland Levillain  <roland@lrde.epita.fr>

	Fix object-aware bindings.

	* src/bind/binder.hh, src/bind/binder.cc
	(operator() (ast::MethodDecs&)): New method, aborting.
	* src/bind/binder.hxx (decs_visit (ast::MethodDecs&)): Remove.
	* src/object/binder.cc (operator() (ast::SimpleVar&)): Rewrite.
	(operator() (ast::NameTy&), operator() (ast::ObjectExp&))
	(operator() (ast::MethodCallExp&))
	(operator() (ast::MethodDecs&)): Perform a two-pass traversal by
	hand, as in overload::operator() (ast::FunctionDecs&), because we
	can't use decs_visit<ast::MethodDec>.
	(visitDecBody (ast::MethodDec&)): Don't put `self' in the
	environment, since we don't have a definition site for it.
	* src/object/Makefile.am: Hide binding-related code before LC-3.
	* tests/object-good/vehicle.tig: Fix the bindings in this test.

2007-04-06  Roland Levillain  <roland@lrde.epita.fr>

	Remove any specific processing of function _main.

	* src/symbol/symbol.hh, src/symbol/symbol.hxx (match_substring)
	(is_main): Remove.
	* src/symbol/test-symbol.cc: Adjust.
	* src/bind/binder.hh (is_main, main_found_): Remove.
	* src/bind/binder.cc (is_main): Likewise.
	Remove a (now useless) workaround for ICC 9.1.
	* src/bind/libbind.cc (bind::bind): Adjust.
	* src/object/libobject.cc (object::bind)
	* src/overload/liboverload.cc (overload::bind): Likewise.
	* src/bind/binder.cc (operator() (ast::CallExp&))
	(visitDecHeader<ast::FunctionDec> (ast::FunctionDec&))
	* src/type/type-checker.cc
	(visitDecHeader<ast::FunctionDec> (ast::FunctionDec&))
	* src/overload/binder.cc (visitDecHeader (ast::FunctionDec&)):
	Remove any specific processing of the _main function.
	* TODO: Update.
	* tcsh/python/tc.py: Include module object.
	* tests/bind/call-to-_main.tig, tests/bind/inner-_main-fundec.tig
	* tests/bind/nonexistent-_main.tig
	* tests/bind/Makefile.am (dist_noinst_DATA): Remove
	_startcall-to-_main.tig, _startinner-_main-fundec.tig,
	_startnonexistent-_main.tig

	* src/parse/parsetiger.yy: Aesthetic changes.
	* src/parse/parsetiger.cc: Regen.
	* tcsh/README.deps: Typos.

2007-04-06  Roland Levillain  <roland@lrde.epita.fr>

	Update outputs for tests/object-good.

	* tests/lexical/vehicle.tig: Move...
	* tests/object-good/vehicle.tig: ...here.
	* tests/object-good/attribute-modification.err,
	* tests/object-good/attribute-modification.hpr,
	* tests/object-good/attribute-modification.lpr,
	* tests/object-good/attribute-modification.out,
	* tests/object-good/attribute-modification.sta,
	* tests/object-good/function-call-in-method.err,
	* tests/object-good/function-call-in-method.hpr,
	* tests/object-good/function-call-in-method.lpr,
	* tests/object-good/function-call-in-method.out,
	* tests/object-good/function-call-in-method.sta,
	* tests/object-good/method-call.err,
	* tests/object-good/method-call.hpr,
	* tests/object-good/method-call.lpr,
	* tests/object-good/method-call.out,
	* tests/object-good/method-call.sta,
	* tests/object-good/simple-class.err,
	* tests/object-good/simple-class.hpr,
	* tests/object-good/simple-class.lpr,
	* tests/object-good/simple-class.out,
	* tests/object-good/simple-class.sta,
	* tests/object-good/simple-extends.err,
	* tests/object-good/simple-extends.hpr,
	* tests/object-good/simple-extends.lpr,
	* tests/object-good/simple-extends.out,
	* tests/object-good/simple-extends.sta,
	* tests/object-good/simple-instantiation.err,
	* tests/object-good/simple-instantiation.hpr,
	* tests/object-good/simple-instantiation.lpr,
	* tests/object-good/simple-instantiation.out,
	* tests/object-good/simple-instantiation.sta,
	* tests/object-good/type-simple-class.err,
	* tests/object-good/type-simple-class.hpr,
	* tests/object-good/type-simple-class.lpr,
	* tests/object-good/type-simple-class.out,
	* tests/object-good/type-simple-class.sta,
	* tests/object-good/type-simple-extends.err,
	* tests/object-good/type-simple-extends.hpr,
	* tests/object-good/type-simple-extends.lpr,
	* tests/object-good/type-simple-extends.out,
	* tests/object-good/type-simple-extends.sta,
	* tests/object-good/variable-modification.err,
	* tests/object-good/variable-modification.hpr,
	* tests/object-good/variable-modification.lpr,
	* tests/object-good/variable-modification.out,
	* tests/object-good/variable-modification.sta,
	* tests/object-good/vehicle.err,
	* tests/object-good/vehicle.-e.s,
	* tests/object-good/vehicle.-e.u.s,
	* tests/object-good/vehicle.hir,
	* tests/object-good/vehicle.hpr,
	* tests/object-good/vehicle.lir,
	* tests/object-good/vehicle.lpr,
	* tests/object-good/vehicle.out,
	* tests/object-good/vehicle.s,
	* tests/object-good/vehicle.sta,
	* tests/object-good/vehicle.u.s: New outputs.
	* tests/object-good/Makefile.am: Regen.

2007-04-05  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Factor and fix the LC_* patterns allowed in configure.
	* configure.ac: Use m4_do to factor the code. Add the trailing `$'.

2007-04-04  Roland Levillain  <roland@lrde.epita.fr>

	* src/ast/pretty-printer.cc (operator() (const CastVar&)): Fix
	pretty-printing of reserved keyword `_cast'.

2007-04-04  Roland Levillain  <roland@lrde.epita.fr>

	Provide a means to reset generated dependencies in TCSH.

	* tcsh/generate-swig-mk: Add a `deps-reset' target, resetting
	dependencies computed by swig.
	* tcsh/README.deps: New.
	* tcsh/Makefile.am (EXTRA_DIST): Add README.deps.

2007-04-02  Roland Levillain  <roland@lrde.epita.fr>

	Factor code in Binders.

	* src/ast/visitor.hxx (accept (E* e, V& v)): New generic method.
	* dev/ast-visitor-gen: Generate a declaration for this method.
	* src/ast/visitor.hh: Regen.
	* src/ast/default-visitor.hxx
	(operator() (typename Const<VarDec>::type&))
	(operator() (typename Const<FunctionDec>::type&))
	* src/ast/pretty-printer.cc (operator() (const ObjectExp&)):
	(operator() (const ClassTy&))
	* src/object/binder.cc (operator() (ast::ObjectExp&))
	(operator() (ast::ClassTy&))
	* src/escapes/escapes-visitor.cc (operator() (ast::VarDec&)):
	Use it.
	* src/bind/binder.cc (redefinition, undeclared, def_default,
	(decs_visit): Move definitions...
	* src/bind/binder.hxx: ...here (new file).
	(decs_visit (ast::MethodDecs&)): Declare it inline, to avoid
	multiply defined symbols.
	* src/bind/binder.hh: Include it.
	* src/object/binder.hh, src/object/binder.cc (undeclared)
	(redefinition, def_default, decs_visit (ast::AnyDecs<D>&)):
	Remove.
	(visitDecBody (ast::MethodDec&)): Hide the body of the method.

2007-04-02  Roland Levillain  <roland@lrde.epita.fr>

	Wrap lines longer than 80 columns in the parser.

	* src/parse/parsetiger.yy: Wrap lines longer than 80 columns.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc: Regen.
	* src/ast/non-object-visitor.hh: Typo.

2007-04-02  Roland Levillain  <roland@lrde.epita.fr>

	Add tests/object-good to the list of tests generating outputs.

	* tests/mk-Makefile-am (good_tests): Add `object-good'.
	* tests/object-good/Makefile.am: Regen.
	* tests/object-good/attribute-modification.-e.s,
	* tests/object-good/attribute-modification.-e.u.s,
	* tests/object-good/attribute-modification.hir,
	* tests/object-good/attribute-modification.lir,
	* tests/object-good/attribute-modification.s,
	* tests/object-good/attribute-modification.u.s,
	* tests/object-good/function-call-in-method.-e.s,
	* tests/object-good/function-call-in-method.-e.u.s,
	* tests/object-good/function-call-in-method.hir,
	* tests/object-good/function-call-in-method.lir,
	* tests/object-good/function-call-in-method.s,
	* tests/object-good/function-call-in-method.u.s,
	* tests/object-good/method-call.-e.s,
	* tests/object-good/method-call.-e.u.s,
	* tests/object-good/method-call.hir,
	* tests/object-good/method-call.lir,
	* tests/object-good/method-call.s,
	* tests/object-good/method-call.u.s,
	* tests/object-good/simple-class.-e.s,
	* tests/object-good/simple-class.-e.u.s,
	* tests/object-good/simple-class.hir,
	* tests/object-good/simple-class.lir,
	* tests/object-good/simple-class.s,
	* tests/object-good/simple-class.u.s,
	* tests/object-good/simple-extends.-e.s,
	* tests/object-good/simple-extends.-e.u.s,
	* tests/object-good/simple-extends.hir,
	* tests/object-good/simple-extends.lir,
	* tests/object-good/simple-extends.s,
	* tests/object-good/simple-extends.u.s,
	* tests/object-good/simple-instantiation.-e.s,
	* tests/object-good/simple-instantiation.-e.u.s,
	* tests/object-good/simple-instantiation.hir,
	* tests/object-good/simple-instantiation.lir,
	* tests/object-good/simple-instantiation.s,
	* tests/object-good/simple-instantiation.u.s,
	* tests/object-good/type-simple-class.-e.s,
	* tests/object-good/type-simple-class.-e.u.s,
	* tests/object-good/type-simple-class.hir,
	* tests/object-good/type-simple-class.lir,
	* tests/object-good/type-simple-class.s,
	* tests/object-good/type-simple-class.u.s,
	* tests/object-good/type-simple-extends.-e.s,
	* tests/object-good/type-simple-extends.-e.u.s,
	* tests/object-good/type-simple-extends.hir,
	* tests/object-good/type-simple-extends.lir,
	* tests/object-good/type-simple-extends.s,
	* tests/object-good/type-simple-extends.u.s,
	* tests/object-good/variable-modification.-e.s,
	* tests/object-good/variable-modification.-e.u.s,
	* tests/object-good/variable-modification.hir,
	* tests/object-good/variable-modification.lir,
	* tests/object-good/variable-modification.s,
	* tests/object-good/variable-modification.u.s:
	New (generated).

2007-04-02  Roland Levillain  <roland@lrde.epita.fr>

	* tests/mk-Makefile-am (all_tests, good_tests): New variables.
	Use them to factor the iterated sets of test directories.

2007-04-02  Roland Levillain  <roland@lrde.epita.fr>

	Hande diff files with names like `2009-tc-1.1-lc-2.0'.

	* configure.ac: Version 0.14a.
	* NEWS: Update.
	* Makefile.am (diff_re): Rename as...
	(diff_re1): ..this.
	(diff_re2): New.
	(%.diff): Use it to support diff files whose name mentions two
	different project names (YEAR-[tl]c-V1-[tl]c-V2), like
	`2009-tc-1.1-lc-2.0', in addition to the original pattern
	(YEAR-[tl]c-V1-V2).

2007-04-02  Benoit Tailhades  <tailha_b@epita.fr>

	Add object tests.
	* tests/object-bind/Makefile.am: Regen.
	* tests/object-bind/undefined-extends.tig: Rename as...
	* tests/object-bind/undeclared-extends.tig: ...this.
	* tests/object-bind/undefined-function.tig: Rename as...
	* tests/object-bind/undeclared-function.tig: ...this.
	* tests/object-bind/undefined-variable.tig: Rename as...
	* tests/object-bind/undeclared-variable.tig: ...this.
	* tests/object-bind/variable-defined-later.tig: New test.
	* tests/object-good/Makefile.am: Regen.
	* tests/object-good/type-simple-class.tig,
	tests/object-good/type-simple-extends.tig: New object syntax tests.

2007-03-31  Benoit Tailhades  <tailha_b@epita.fr>

	Fix object binding.

	Correct object binding.

	* src/object/binder.cc
	(operator() (ast::ClassTy&)): Use scope.

	Update unit object tests.

	* src/object/Makefile.am: .
	* src/object/test-bind.cc: New unit test for object binding.
	* src/object/test-object.cc: Move unit test...
	* src/object/test-parse.cc: ...here.

	New object tests.

	* configure.ac (tests/object-bind/Makefile): Configure it.
	* tests/Makefile.am (SUBDIRS): Add object-bind.
	* tests/mk-Makefile-am: Handle directory object-bind.
	* tests/object-bind/Makefile.am: New (generated).
	* tests/object-bind/extends-different-chunk.tig,
	tests/object-bind/undefined-extends.tig,
	tests/object-bind/undefined-function.tig,
	tests/object-bind/undefined-variable.tig: New tests.
	* tests/object-bind: New test directory.
	* tests/object-good/Makefile.am: Regen.
	* tests/object-good/function-call-in-method.tig,
	tests/object-good/variable-modification.tig: New good tests.
	* tests/tc-check.in (load_tests): Handle object tests with
	binding errors for T3.

2007-03-31  Benoit Tailhades  <tailha_b@epita.fr>

	Add object tests to T3.
	* tests/object-good/simple-class.tig,
	tests/object-good/simple-extends.tig,
	tests/object-good/simple-instantiation.tig: Correct.
	* tests/tc-check.in: Add object tests to T3 since object
	binding is working.

2007-03-31  Benoit Tailhades  <tailha_b@epita.fr>

	Update object binding for new grammar.

	* src/ast/ast.yml (ClassTy): Adjust to use NameTy* for super_.
	(ObjectExp): Adjust to use NameTy* for type_name_.
	* src/ast/README.student, src/ast/README: Regen.
	* src/ast/class-ty.cc, src/ast/class-ty.hh,
	src/ast/class-ty.hxx: Regen.
	* src/ast/object-exp.cc, src/ast/object-exp.hh,
	src/ast/object-exp.hxx: Regen.
	* src/ast/pretty-printer.cc: Update.
	* src/astclone/cloner.cc: Regen.

	Update object binding.

	* src/object/binder.cc, src/object/binder.hh
	(operator() (ast::NameTy&)): New to consider "Object" as a type.
	(visitDecHeader (ast::ClassDec&), visitDecBody (ast::ClassDec&))
	(operator() (ast::ClassDecs&), operator() (ast::ClassDec&))
	(classes_, current_): Remove.
	(scope_begin (), scope_end ()): Remove.
	(operator() (ast::VarDec&)): Remove.

	Correct grammar.

	* src/parse/parsetiger.yy: Update grammar to use typeid
	instead of ID for ClassTy super_ attribute and ObjectExp
	type_name_ attribute.
	* src/parse/parsetiger.cc, src/parse/parsetiger.hh: Regen.

2007-03-30  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.14, for 2009-lc-2.2.

	Allow two forms of class declaration syntax.  The first one, known
	as the ``canonical'' one, is similar to other type declarations in
	Leopard (notably, array and records).  The second one, known as
	the ``alternative'' one (or ``Appel's'') was the original syntax,
	describes in Appel's ``Modern Compiler Implementation'' books.
	Adjust the parser to desugar the second form into the first one.

	* configure.ac: Version 1.14.
	* NEWS: Update.

	* dev/ast-nodes-gen (includes_map): Remove
	ClassDec::map_meth_type, ClassDec::map_var_type.
	Map VarDecs to ast/var-decs.hh.
	* src/ast/ast.yml (ClassDec): Remove.
	(ClassTy): New.
	(ObjectExp): Adjust.
	* src/ast/class-ty.hh, src/ast/class-ty.hxx, src/ast/class-ty.cc:
	New (generated).
	* src/ast/class-dec.hh, src/ast/class-dec.hxx,
	* src/ast/class-dec.cc: Remove.
	* src/ast/object-exp.hh, src/ast/object-exp.hxx,
	* src/ast/object-exp.cc, src/ast/function-dec.hh: Regen.
	* src/ast/anydecs.hh, src/ast/anydecs.hxx, src/ast/anydecs.cc:
	Rename as...
	* src/ast/allty.hh (ast/class-ty.hh): Include it.
	* src/ast/alldec.hh: Adjust.
	* src/ast/any-decs.hh, src/ast/any-decs.hxx, src/ast/any-decs.cc:
	...this.
	Move instantiations (specific parts) into...
	* src/ast/var-decs.hh, src/ast/type-decs.hh,
	* src/ast/function-decs.hh, src/ast/method-decs.hh: ...these files
	(new)
	* src/ast/fwd.hh: Regen.
	* src/ast/README, src/ast/README.student: Regen.
	* src/ast/Makefile.am (libast_la_SOURCES):
	Adjust.
	Add var-decs.hh, type-decs.hh, function-decs.hh and
	method-decs.hh.

	Adjust visitors.

	* src/ast/visitor.hh: Regen.
	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx: Typos.
	(operator() (typename Const<ClassDecs>::type&)): Remove.
	* src/ast/pretty-printer.hh, src/ast/pretty-printer.cc
	(operator() (const ClassDec&)): Turn into
	(operator() (const ClassTy&)): ...this.
	Adjust.
	* src/ast/non-object-visitor.hxx: Likewise.
	* src/astclone/cloner.hh, src/astclone/cloner.cc: Regen.
	* src/ast/tiger_ast.i: Adjust.

	Adjust the parser to handle both syntax forms, and desugar the
	second one into the first one.

	* src/parse/parsetiger.yy (union): Remove fields `classdec' and
	`classdecs'.
	Adjust %destructor's and %printer's.
	(classdec, classdecs): Remove non-terminals and productions.
	(decs): Remove class declarations.
	(tydec, ty): Extend to class class declaration.
	(classfield): Remove dead code.
	* src/parse/parsetiger.cc, src/parse/parsetiger.hh: Regen.

	Comment corresponding sections in subsequent parts of the
	compiler, so as to have the project build.

	* src/object/binder.hh, src/object/binder.cc (operator()
	(ast::ClassTy&)): New.
	(visitDecHeader (ast::ClassDec&), visitDecBody (ast::ClassDec&))
	(operator() (ast::ClassDecs&), operator() (ast::ClassDec&))
	(classes_): Disable.
	(Binder::Binder, scope_begin, scope_end)
	(operator() (ast::VarDec&), operator() (ast::ObjectExp&))
	(visitDecHeader (ast::MethodDec& e)): Disable some code.
	* src/object/test-object.cc: Test both form of class declaration
	syntax.

	Revert the previous patch partially.

	* src/type/type-checker.cc (operator() (ast::NameTy&))
	* src/bind/binder.cc (operator() (ast::NameTy&))
	* src/bind/binder.cc (types_)
	* src/ast/ast.yml (NameTy): Revert the previous patch partially.
	* src/ast/name-ty.hh, src/ast/name-ty.hxx: Regen.

2007-03-30  Benoit Tailhades  <tailha_b@epita.fr>

	Update object binding to allow a ClassDec to be a type.
	* src/ast/ast.yml (NameTy): Update to allow a ClassDec to be
	the definition site.
	* src/ast/name-ty.hh, src/ast/name-ty.hxx: Regen.
	* src/bind/binder.cc: Update.
	* src/bind/binder.hh: Set types_ map to protected to modify it
	from object/binder. Change types_ map datas type to Dec*.
	* src/object/binder.cc: Insert ClassDec in types_ map.
	* src/object/tasks.hh: Add object dependency to object-bind task.
	* src/type/type-checker.cc (NameTy): Make the traversal fail with
	unreached if the definition site is a ClassDec.

2007-03-30  Roland Levillain  <roland@lrde.epita.fr>

	Fix a bug in stagize.

	* configure.ac: Set version to 1.13a.
	* NEWS: Update.
	* dev/stagize: If $leopard is not true, set it to false.
	Don't bypass the stagize process, even for a full distribution, if
	$leopard is true.

2007-03-30  Benoit Tailhades  <tailha_b@epita.fr>

	Add tests for Object syntax.
	* configure.ac (tests/object-good/Makefile): Configure
	directory object-good.
	* tests/Makefile.am (SUBDIRS): Add directory object-good.
	* tests/mk-Makefile-am: Handle directory object-good.
	* tests/object-good/Makefile.am: New (generated).
	* tests/object-good/attribute-modification.tig,
	tests/object-good/method-call.tig,
	tests/object-good/simple-class.tig,
	tests/object-good/simple-extends.tig,
	tests/object-good/simple-instantiation.tig: New tests.
	* tests/object-good: New directory.
	* tests/tc-check.in (load_tests): Handle object tests with
	good syntax for T2.

2007-03-29  Tristan Carel  <mail@tristan-carel.com>

	* build-aux/boost.m4, ChangeLog: Fix non left-aligned text.

2007-03-29  Benoit Tailhades  <tailha_b@epita.fr>

	Update object binding.
	* dev/ast-nodes-gen: Update to use std::map into ClassDec.
	* src/ast/ast.yml: Add two maps into ClassDec to know variables
	and methods declared in it.
	* src/ast/class-dec.cc, src/ast/class-dec.hh,
	src/ast/class-dec.hxx: Regen.
	* src/ast/pretty-printer.cc: Correct binding display.
	* src/bind/binder.hh: Set vars_ to protected.
	* src/object/binder.cc, src/object/binder.hh: Update object
	binding using scopes.
	* src/object/test-object.cc: Add a unit test.

2007-03-29  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.13.
	For 2009-lc-2.1.

	* configure.ac: Version 1.13.
	* NEWS: Update.
	* bootstrap: Escape a backquote in a heredoc.
	* AUTHORS: Update.
	* src/inlining/inline-visitor.hh, src/inlining/inline-visitor.cc:
	Rename as...
	* src/inlining/inliner.hh, src/inlining/inliner.cc: ...these.
	Adjust guards.
	(InlineVisitor): Rename as...
	(Inliner): ...this.
	* src/inlining/libinlining.cc, src/inlining/Makefile.am: Adjust.

2007-03-28  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.12.
	For 2009-lc-2.0.

	* configure.ac: Version 1.12.
	Prune HAVM detection before the translation step.
	* Makefile.am (dist-hook): Pass Make's LEOPARD variable to stagize.
	(studir): Set LEOPARD to true before making target `distdir'.
	(diff_re, 20%): Also handle patterns `20*-lc-*'.
	(%.diff) Also handle patterns `20*-lc-*-*.diff'.
	(distcleancheck_listfiles): New.
	* NEWS: Update.
	* dev/codenamize.pl: Don't pass flag `-w' in the shebang.
	(parse_options): Don't use modifier `/o' when compiling regexps,
	since it breaks them.
	* dev/stagize (codenamize): New variable.
	(leopard): Display it.
	Leopardize, if asked to.
	Work around codenamize.pl's current limitations.

2007-03-28  Tristan Carel  <tristan.carel@gmail.com>

	* build-aux/boost.m4 (AC_CHECK_HEADER): Add comments to explain
	the specific check of Boost Graph headers.

2007-03-28  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Add codenamize.
	Codenomize is able to rename a project (change its `codename').
	This an alpha version only tested against TC-2 and its interface
	is clearly going to change.
	* dev/codenamize.pl: New.
	* dev/Makefile.am (EXTRA_DIST): Add codenamize.pl.

2007-03-28  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	* configure.ac: Allow legitimate LC_* macros for the Leopard
	distribution.

2007-03-28  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	* src/object/test-object.cc: Fix hidding tags.

2007-03-28  Roland Levillain  <roland@lrde.epita.fr>

	More documentation on ast::NonObjectVisitor.

	* src/ast/default-visitor.hh, src/ast/non-object-visitor.hh:
	Document.
	* src/ast/non-object-visitor.hxx: Fix inclusions of headers.
	Comply with the coding style.
	* src/ast/ast.yml (MethodDec): Use Doxygen special commands
	instead of HTML commands.
	(MethodCall): Likewise.
	Add an attribute `def' to bing the method declaration to its
	(static) definition.
	(ObjectExp): Remove trailing period in description.
	* src/ast/method-call-exp.hh, src/ast/method-call-exp.hxx
	* src/ast/method-call-exp.cc, src/ast/method-dec.hh,
	* src/ast/object-exp.hh: Regen.
	* dev/tools.py: Typo.

2007-03-28  Roland Levillain  <roland@lrde.epita.fr>

	Fix the TC-2 distribution.

	* src/ast/ast.yml (Dec): Fix super types.
	(FunctionDec): Move the concrete flag outside the `escape' mark.

	* src/object/tasks.hh, src/object/tasks.cc,
	* src/object/libobject.hh, src/object/libobject.cc,
	* src/object/test-object.cc, src/object/Makefile.am: Hide
	binding-related code when the bind module is not available.
	* dev/stagize: Process them.
	* src/tc.mk (liobject): Hide dependency on libbind when it its not
	available.

	* tests/import/import-exp.tig,
	* tests/import/import-exp-header.tih: Move test...
	* tests/import-syntax/import-exp.tig,
	* tests/import-syntax/import-exp-header.tih: ...here.
	* tests/tc-check.in (load_tests): Handle import tests with syntax
	errors.
	* tests/import/Makefile.am: Regen.
	* tests/import-syntax/Makefile.am: New (generated).
	* tests/Makefile.am (SUBDIRS): Add import-syntax
	* tests/mk-Makefile-am: Handle directory import-syntax.
	* configure.ac (tests/import-syntax/Makefile): Configure it.

2007-03-27  Tristan Carel  <tristan.carel@gmail.com>


	* build-aux/boost.m4(Check  headers): Add  a  search request  for
	`boost/graph/exception.hpp'.

2007-03-27  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Make distcheck with boost in non standard location easier.
	* build-aux/boost.m4: Keep --with-boost in DISTCHECK_CONFIGURE_FLAGS.
	* configure.ac: Don't require HAVM before TC-5.

2007-03-27  Tristan Carel  <tristan.carel@gmail.com>


	* bootstrap: Check presence of `python' and Python module `syck'.

2007-03-27  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Require HAVM.
	* configure.ac: HAVM >= 0.23 is needed.

2007-03-27  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Fix invalid YAML specifications.
	The YAML specifications require that a key be unique.  Because of the
	way the list of super classes were specified and because stagize is
	not called during bootstrap, we DID have duplicate keys for stagize's
	purpose.  Unfortunately, Syck/PySyck changed the way they behave WRT
	to duplicate keys in YAML files and the parsing behave differently
	(actually the file was not completely parsed: some parts were
	skipped).
	* bootstrap: Try to diagnose frequent bootstrap failures due to Syck.
	I already ran into problems when I first bootstrapped tc last year,
	and when I ran again into these problems on my new Mac I wasted about
	half an hour to figure out what had to be installed.
	Also continue the build if we have a `_build' directory with a
	`config.status' which we can use.
	* dev/ast.py (Node::__init__): Raise an error if parsing discovered a
	duplicate key in the YAML file.
	(Load::resolve_super): Skip empty strings.
	* dev/tools.py (error): New.
	* src/ast/ast.yml: Use lists to list super classes, instead of strings
	which we later split to get a list anyway.

	* src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh: Regenerate.

	* ChangeLog: Aesthetic change.
	* dev/stagize,
	* dev/studentize: Correct some deadly mistakes!

2007-03-27  Roland Levillain  <roland@lrde.epita.fr>

	Enrich the grammar with new syntactic elements for object-oriented
	programming.

	* src/ast/ast.yml: Adjust documentation.
	(FunctionDec, CallExp): Force them to be concrete.
	(CallExp): Remove attribute `object'.
	(MethodDec, MethodCallExp): New nodes.
	* src/ast/alldec.hh, src/ast/allexp.hh: Add missing includes.
	* src/ast/allty.hh, src/ast/allvar.hh: Add a FIXME.
	* src/ast/method-call-exp.cc, src/ast/method-call-exp.hh
	* src/ast/method-call-exp.hxx,
	* src/ast/method-dec.cc, src/ast/method-dec.hh,
	* src/ast/method-dec.hxx: New (generated).
	* src/ast/call-exp.cc, src/ast/call-exp.hh,
	* src/ast/call-exp.hxx: Regen.
	* src/ast/README, src/ast/README.student: Likewise.
	* src/ast/pretty-printer.cc, src/ast/pretty-printer.hh
	(operator() (const MethodCallExp&))
	(operator() (const MethodDecs&)): New.
	(operator() (const FunctionDec&, const std::string&)): New.
	(operator() (const FunctionDecs&)): Use it.
	(operator() (const CallExp&)): Revert to previous implementation.
	(operator() (const ClassDec&)): Fix bindings display.
	* src/ast/test-ast.cc: Adjust test.


	Adjust the parse module accordingly.

	* src/parse/scantiger.ll: Handle keyword `method'.
	* src/parse/parsetiger.yy (methdec, methdecs, classfields): New
	non-terminals.
	Enrich %union to support MethdodDec* and MethdodDecs*.
	(METHOD): New token.
	Revert to previous abstract syntax interface regarding function
	calls (CallExp).
	Use MethodCallExp for method calls.
	(classdec): Use `classfieds' instead of `decs' to enumerate the
	contents of a class.
	(classfield): New productions.
	(methdecs, methdec): Likewise.
	* src/parse/parsetiger.cc, src/parse/parsetiger.hh: Regen.
	* src/object/test-object.cc: Adjust test.
	Add studentize marks to have it pass at TC-2.
	* src/Makefile.am (SUBDIRS): Move `object' after `type'.


	Adjust visitor classes.

	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx:
	Inherit virtually from the super class.
	(operator() (typename Const<ObjectExp>::type&))
	(operator() (typename Const<ClassDec>::type&)): Remove.
	(operator() (typename Const<MethodDecs>::type&)): New.
	Make it a default visitor for languages without object-related
	constructs.
	* src/ast/non-object-visitor.hh, src/ast/non-object-visitor.hxx:
	New.
	* src/ast/Makefile.am (libast_la_SOURCES): Add non-object-visitor.hh
	and non-object-visitor.hxx.
	* src/escapes/escapes-check-visitor.hh,
	* src/callgraph/call-graph-visitor.hh,
	* src/translate/translator.hh:
	Inherit from ast::NonObjectConstVisitor
	* src/escapes/escapes-visitor.hh,
	* src/callgraph/parent-graph-visitor.hh,
	* src/callgraph/static-link-visitor.hh,
	* src/type/type-checker.hh,
	* src/bind/binder.hh, src/bind/renamer.hh:
	Inherit from ast::NonObjectVisitor
	* src/bind/binder.cc (Bind::Bind): Fix the order of
	initializations.
	* src/object/binder.hh, src/object/binder.cc: Work around a bug in
	Apple's GCC 3.3.
	(operator() (const MethodCallExp&))
	(operator() (const MethodDecs&)): New (empty methods).
	(operator() (const CallExp&)): Remove.
	* src/overload/binder.hh: Typo.
	* src/escapes/tiger_escapes.i: Remove unnecessary includes.


	Update and improve the AST-related generators.

	* dev/ast.py (Node.__init__): Replace attribute `final' with
	`concrete'.  Allow the user to define its value.
	(Node.is_a): New method.
	(final_compute): Handle hand-made ``concretization''.
	* dev/ast-visitor-gen: Adjust.
	Generate Decs' visit methods.
	* dev/ast-fwd-gen: Adjust.
	Generate Decs' typedefs.
	* dev/ast-graph-gen, dev/ast-nodes-gen, dev/ast-readme-gen:
	* dev/ast-cloner-gen: Adjust.
	* src/ast/visitor.hh, src/ast/fwd.hh,
	* src/astclone/cloner.cc, src/astclone/cloner.hh: Regen.
	* dev/ast-nodes-mk-gen: Aesthetic change.
	* dev/tools.py: Add a bit more documentation.

2007-03-26  Roland Levillain  <roland@lrde.epita.fr>

	Move all tests related to import into tests/import/.

	* syntax/import-exp.tig, syntax/import-exp-header.tih: Move
	tests...
	* import/import-exp.tig, import/import-exp-header.tih: ...here.
	* import/Makefile.am, syntax/Makefile.am: Regen.

2007-03-24  Benoit Tailhades  <tailha_b@epita.fr>

	Add object binding.
	* src/Makefile.am: Add libobject.
	* src/ast/README: Regen.
	* src/ast/ast.yml: Update.
	* src/ast/object-exp.cc, src/ast/object-exp.hh,
	src/ast/object-exp.hxx: Regen.
	* src/ast/pretty-printer.cc: Add object binding display.
	* src/astclone/cloner.cc: Regen.
	* src/bind/binder.hh: Set attribute error_ to protected.
	* src/bind/tasks.hh: Update disjunctive task bound.
	* src/object/Makefile.am
	(libobject_la_SOURCES): Add object/binder.hh object/binder.cc.
	* src/object/binder.cc, src/object/binder.hh: New.
	* src/object/libobject.cc, src/object/libobject.hh
	(bind (ast::Ast&)): New function.
	* src/object/tasks.cc(object_bind ()): New function.
	* src/object/tasks.hh: New task to complete object binding.
	* src/object/test-object.cc: New unit test for object binding.
	* src/parse/libparse.cc, src/parse/libparse.hh
	(parse_unit (const string&, bool)): Add an extra argument
	indicating whether the object extensions are on.
	* src/tc.mk: Add libobject.

2007-03-24  Roland Levillain  <roland@lrde.epita.fr>

	Adjust stagize for 2009-TC-2.

	* dev/stagize: Prune `object' marks before TC-2.
	s/print-visitor/pretty-printer/.
	s/clone-visitor/cloner/.
	Use `tail' as described in the Single Unix Specification,
	version 3.

2007-03-24  Roland Levillain  <roland@lrde.epita.fr>

	More visitor renaming.

	* src/ast/pretty-printer.hh, src/bind/binder.hh,
	* src/bind/renamer.hh, src/translate/translator.hh,
	* src/type/type-checker.hh, src/type/type-checker.hxx,
	* src/overload/binder.hh, src/overload/type-checker.hh:
	Adjust header guards to new visitor names.
	* dev/ast-cloner-gen: Likewise.
	* src/astclone/cloner.hh: Regen.
	* src/inlining/prune-visitor.hh, src/inlining/prune-visitor.cc:
	Rename as...
	* src/inlining/pruner.hh, src/inlining/pruner.cc: ...these.
	(inlining::PruneVisitor): Rename as...
	(inlining::Pruner): ...this.
	* src/inlining/libinlining.cc, src/inlining/Makefile.am: Adjust.

2007-03-24  Roland Levillain  <roland@lrde.epita.fr>

	2009-tc-1.1.

	* configure.ac: Bump to 1.11a.
	* tcsh/generate-swig-mk: Add a comment.
	* src/parse/tiger-parser.hh (parse::TigerParser): Leave a mark
	for removed code.

2007-03-23  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Fix Shell expansion.
	* tcsh/generate-swig-mk: Don't use path/{dir1,dir2}: NetBSD's /bin/sh
	does not expand it.

2007-03-23  Roland Levillain  <roland@lrde.epita.fr>

	Fix 2009-tc-1.0.

	* src/parse/parsetiger.yy: Hide more code.
	* src/parse/parsetiger.cc: Regen.

2007-03-23  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.11.
	For 2009-tc-1.0.

	* configure.ac: Version 1.11.
	* NEWS: Update.

2007-03-23  Roland Levillain  <roland@lrde.epita.fr>

	Update TCSH.

	* src/tc.mk (AM_CPPFLAGS): Remove -I$(top_builddir)/lib.
	* tcsh/generate-swig-mk (tcdir): Handle SWIG interfaces files
	living both in src/ and lib/.
	* tcsh/python/Makefile.am (AM_CPPFLAGS, AM_SWIGFLAGS)
	* tcsh/ruby/Makefile.am (AM_CPPFLAGS, AM_SWIGFLAGS): Add
	-I$(top_srcdir)/lib

2007-03-23  Benoit Perrot  <benoit@lrde.epita.fr>

	Move src/misc to lib/.

	* src/misc: Move to...
	* lib: Here.
	* configure.ac, src/Makefile.am, lib/Makefile.am:
	Update accordingly.
	* lib/misc/Makefile.am: Complete for standalone compilation.
	* src/tc.mk: Add lib/ to AM_CPPFLAGS.

2007-03-22  Benoit Tailhades  <tailha_b@epita.fr>

	Repair make check since CallExp constructor has changed.
	* src/ast/test-ast.cc: Change CallExp constructions.

2007-03-22  Roland Levillain  <roland@lrde.epita.fr>

	Adjust the TC-1 distribution for class 2009.

	* src/parse/scantiger.ll (CHECK_OBJECT_EXTENSION): Hide it.
	* src/misc/variant.hxx (variant<T0, T1>::operator T1& ())
	(variant<T0, T1>::operator const T1& () const): Hide them
	completely.
	* src/misc/graph.hh, src/misc/graph.hxx: Leave a more precise
	indication on when these files are to be completed.
	* src/misc/scoped-map.hh, src/misc/scoped-map.hxx: Typos.
	* dev/stagize, configure.ac, tcsh/python/Makefile.am: Hide
	ti-related things.
	(INSTALLCHECK_IA32): Rename as...
	(MAYBE_INSTALLCHECK_IA32): ...this.
	Don't initalize to an empty value when IA32 is false, since make
	already does it.
	(installcheck-local): Adjust.

2007-03-22  Roland Levillain  <roland@lrde.epita.fr>

	Add syntactic support for method calls.

	* src/ast/ast.yml (CallExp): Add a field `object'.
	* src/ast/call-exp.hh, src/ast/call-exp.hxx, src/ast/call-exp.cc,
	* src/astclone/cloner.cc, src/ast/README: Regen
	* src/parse/parsetiger.yy (methid): New non-terminal and
	production.
	Handle method calls.
	* src/parse/parsetiger.cc: Regen.
	* src/ast/pretty-printer.cc
	(PrettyPrinter::operator() (const CallExp&)): Handle method calls.
	* src/object/test-object.cc: Exercize method definitions and calls.

2007-03-22  Roland Levillain  <roland@lrde.epita.fr>

	Fix the TC-1 distribution.

	* dev/studentize_tc.conf: Add object.
	* src/parse/tasks.cc (parse::task::parse)
	* src/parse/libparse.hh, src/parse/libparse.cc (parse::parse)
	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc
	(TigerParser::enable_object_extensions): Hide object-related code
	before TC-2.
	* dev/stagize: Add these files to the pruning pass.
	Fix the removal of modules in src/Makefile.am.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc: Regen.
	* src/misc/test-graph.cc (consistency): Reduce the size the
	generated graph.
	Print the graph to the standard output rather than to a file.

2007-03-22  Razik Yousfi  <yousfi_r@epita.fr>

	Repair make check.
	* src/liveness/test-flowgraph.cc: Replace graph::empty with
	misc::empty.
	* tests/lexical/Makefile.am,
	* tests/syntax/Makefile.am: Regen.
	* tests/syntax/vehicle.tig: Move file...
	* tests/lexical/vehicle.tig: ...here

2007-03-21  Roland Levillain  <roland@lrde.epita.fr>

	Fix the first patch on object-related constructions.

	* src/parse/scantiger.ll (CHECK_OBJECT_EXTENSION): Align
	backslashes.
	* src/parse/tiger-parser.cc
	(TigerParser::enable_object_extensions): Don't give a default
	value to the (sole) argument, since the interface already does it.
	* src/object/tiger_object.i: Tailor to the strict minimum.
	* src/Makefile.am (SUBDIRS)
	* configure.ac: Aesthetic changes.
	* dev/ast-nodes-gen: Fix permissions of newly generated files.
	* dev/ast.py: Typo.
	* dev/stagize: Catch up with recent changes w.r.t. graph and
	object modules.

2007-03-20  Benoit Perrot  <benoit@lrde.epita.fr>

	Move argp/ to lib/argp/.

	* lib, lib/Makefile.am:
	New.
	* configure.ac, Makefile.am, src/tc.mk, src/task/Makefile.am:
	Update accordingly.

2007-03-20  Roland Levillain  <roland@lrde.epita.fr>

	Add syntactic support for object-related constructions.

	* src/object/libobject.hh, src/object/libobject.cc,
	* src/object/task.hh, src/object/task.cc,
	* src/object/tiger_object.i,
	* src/object/Makefile.am: New files.
	* src/object/test-object.cc: New test.
	* src/Makefile.am (SUBDIRS): Add object.
	(dist_tc_SOURCES): Add object/tasks.cc object/tasks.hh.
	* configure.ac (src/object/Makefile): Configure it.

	* src/parse/scantiger.ll (CHECK_OBJECT_EXTENSION):
	New macro.  Checks whether the object extensions are on and raise
	an error if they are not and and object-related keyword is used.
	Add rules for keywords class, extends and new.
	* src/parse/parsetiger.yy: Add classdec and classdecs fields to
	the %union.
	Update destructors and printers.
	Add tokens CLASS, EXTENDS, NEW.
	Add non-terminals classdec and classdecs.
	Add productions for object constructions.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc: Regen.
	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc
	(TigerParser::enable_object_extensions_p_): New attribute.
	(TigerParser::TigerParser): Initialize it.
	(TigerParser::enable_object_extensions): New accessor.
	* src/parse/libparse.hh, src/parse/libparse.cc
	(parse (const string&, const string&, FileLibrary&, bool, bool)
	(parse (const string&, bool)): Add an extra argument indicating
	whether the object extensions are on.
	* src/parse/tasks.cc (parse): Pass
	object::tasks::enable_object_extensions_p as extra argument to
	parse::parse.

	* src/ast/ast.yml (ClassDecs, ObjectExp): New classes.
	* src/ast/class-dec.hh, src/ast/class-dec.hxx,
	* src/ast/class-dec.cc,
	* src/ast/object-exp.hh, src/ast/object-exp.hxx,
	* src/ast/object-exp.cc: New files (generated).
	* src/ast/anydecs.hh (ast/class-dec.hh): Include it.
	(ast::ClassDecs): New typedef.
	* dec/ast-fwd-gen: Add ClassDecs.
	* src/ast/fwd.hh: Regen.
	* src/ast/README, src/ast/README.student: Likewise.
	* src/ast/alldecs.hh (ast/class-dec.hh): Include it.
	* src/ast/allexp.hh (ast/object-exp.hh): Likewise.

	* dev/ast-visitor-gen:
	Add operator() (typename Const<ClassDecs>::type&).
	* src/ast/visitor.hh,
	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx
	(operator () (typename Const<ClassDec>::type&))
	(operator () (typename Const<ObjectExp>::type&)): New methods.
	* src/ast/pretty-printer.hh, src/ast/pretty-printer.cc
	(operator () (const ClassDec&), operator () (const ObjectExp&)):
	New methods.
	* src/astclone/cloner.hh, src/astclone/cloner.cc: Regen.

	From Razik Yousfi, modified by Roland Levillain.

2007-03-20  Roland Levillain  <roland@lrde.epita.fr>

	Improve error handling in the Tiger Interpreter.

	* src/parse/tiger_parse.i (parse::parse): Add a `throw' exception
	specification at the end of the function's prototype.
	Throw an exception on error using misc::Error::exit_on_error ().
	* src/misc/tiger_misc.i (misc::Error): Wrap operator<< as __str__.
	(misc::exit, misc::exit_on_error): New external versions of
	misc::Error::exit and misc::Error::exit_on_error, having an
	exception specification.  Needed to have SWIG map the C++
	exceptions (misc::Error) to the target language exceptions (Python
	and Ruby).
	* tcsh/python/ti.py: Add exception handlers to reflect compiler
	errors as interpreter errors.
	* tcsh/python/ti.in, tcsh/python/Makefile.am: Typos.
	* build-aux/with-tcsh.m4: Update required versions of SWIG and
	Python to 1.3.29 and 2.3 respectively.
	* src/parse/tiger-parser.cc (parse_import): Initialize pointer
	`res' to 0 pacify the compiler.

2007-03-17  Benoit Perrot  <benoit@lrde.epita.fr>

	Move graph wrapper to misc/

	* src/graph/graph.hh, src/graph/graph.hxx,
	* src/graph/test-graph.cc:
	Rename Graph to graph. Move files to...
	* src/misc:
	... this directory.
	* src/misc/Makefile.am:
	Update accordingly
	* src/graph/Makefile.am, src/graph:
	Remove.
	* configure.ac, src/Makefile.am:
	Update accordingly.

	* src/liveness/libliveness.cc,
	* src/liveness/interference-graph.hh,
	* src/liveness/flowgraph.hh,
	* src/callgraph/fundec-graph.hh:
	Update accordingly.

2007-03-17  Benoit Perrot  <benoit@lrde.epita.fr>

	Remove graph helpers, useless since migration on boost graph
	library

	* src/graph/iterator.hh, src/graph/iterator.hxx,
	* src/graph/handler.hh, src/graph/handler.hxx:
	Remove.
	* src/graph/graph.hh:
	Simply do not include handler.hh and iterator.hh anymore.
	* src/graph/Makefile.am: Update accordingly.

2007-03-12  Roland Levillain  <roland@lrde.epita.fr>

	Refresh the outputs of the tests after Benoît's changes.

	* tests/escapes/for-lower.-e.s,
	* tests/escapes/for-lower.-e.u.s,
	* tests/escapes/for-lower.s,
	* tests/escapes/for-lower.u.s,
	* tests/escapes/for-scope.-e.s,
	* tests/escapes/for-scope.-e.u.s,
	* tests/escapes/for-scope.s,
	* tests/escapes/for-scope.u.s,
	* tests/escapes/for-upper.-e.s,
	* tests/escapes/for-upper.-e.u.s,
	* tests/escapes/for-upper.s,
	* tests/escapes/for-upper.u.s,
	* tests/escapes/formal-escapes.-e.s,
	* tests/escapes/formal-escapes.-e.u.s,
	* tests/escapes/formal-escapes.s,
	* tests/escapes/formal-escapes.u.s,
	* tests/escapes/local-escapes.-e.s,
	* tests/escapes/local-escapes.-e.u.s,
	* tests/escapes/local-escapes.s,
	* tests/escapes/local-escapes.u.s,
	* tests/escapes/no-functiondec-at-all.-e.s,
	* tests/escapes/no-functiondec-at-all.-e.u.s,
	* tests/escapes/no-functiondec-at-all.s,
	* tests/escapes/no-functiondec-at-all.u.s,
	* tests/escapes/record-escapes.-e.s,
	* tests/escapes/record-escapes.-e.u.s,
	* tests/escapes/record-escapes.s,
	* tests/escapes/record-escapes.u.s,
	* tests/escapes/recursion.-e.s,
	* tests/escapes/recursion.-e.u.s,
	* tests/escapes/recursion.s,
	* tests/escapes/recursion.u.s,
	* tests/escapes/redeclaration.-e.s,
	* tests/escapes/redeclaration.-e.u.s,
	* tests/escapes/redeclaration.s,
	* tests/escapes/redeclaration.u.s,
	* tests/escapes/rhs-of-a-vardec.-e.s,
	* tests/escapes/rhs-of-a-vardec.-e.u.s,
	* tests/escapes/rhs-of-a-vardec.s,
	* tests/escapes/rhs-of-a-vardec.u.s,
	* tests/escapes/scopes.-e.s,
	* tests/escapes/scopes.-e.u.s,
	* tests/escapes/scopes.s,
	* tests/escapes/scopes.u.s,
	* tests/escapes/sl-propagation-1.-e.s,
	* tests/escapes/sl-propagation-1.-e.u.s,
	* tests/escapes/sl-propagation-1.s,
	* tests/escapes/sl-propagation-1.u.s,
	* tests/escapes/sl-propagation-2.-e.s,
	* tests/escapes/sl-propagation-2.-e.u.s,
	* tests/escapes/sl-propagation-2.s,
	* tests/escapes/sl-propagation-2.u.s,
	* tests/escapes/variable-escapes.-e.s,
	* tests/escapes/variable-escapes.-e.u.s,
	* tests/escapes/variable-escapes.s,
	* tests/escapes/variable-escapes.u.s,
	* tests/escapes/variable-inside-for-body.-e.s,
	* tests/escapes/variable-inside-for-body.-e.u.s,
	* tests/escapes/variable-inside-for-body.s,
	* tests/escapes/variable-inside-for-body.u.s,
	* tests/escapes/variant-escapes.-e.s,
	* tests/escapes/variant-escapes.-e.u.s,
	* tests/escapes/variant-escapes.s,
	* tests/escapes/variant-escapes.u.s,
	* tests/good/all-binop.-e.s,
	* tests/good/all-binop.-e.u.s,
	* tests/good/all-binop.s,
	* tests/good/all-binop.u.s,
	* tests/good/array-of-alias.-e.s,
	* tests/good/array-of-alias.-e.u.s,
	* tests/good/array-of-alias.s,
	* tests/good/array-of-alias.u.s,
	* tests/good/array-subscript-assign.-e.s,
	* tests/good/array-subscript-assign.-e.u.s,
	* tests/good/array-subscript-assign.s,
	* tests/good/array-subscript-assign.u.s,
	* tests/good/array.-e.s,
	* tests/good/array.-e.u.s,
	* tests/good/array.s,
	* tests/good/array.u.s,
	* tests/good/assign-and-array-instantiation.-e.s,
	* tests/good/assign-and-array-instantiation.-e.u.s,
	* tests/good/assign-and-array-instantiation.s,
	* tests/good/assign-and-array-instantiation.u.s,
	* tests/good/assign-void.-e.s,
	* tests/good/assign-void.-e.u.s,
	* tests/good/assign-void.s,
	* tests/good/assign-void.u.s,
	* tests/good/assign-vs-boolean.-e.s,
	* tests/good/assign-vs-boolean.-e.u.s,
	* tests/good/assign-vs-boolean.s,
	* tests/good/assign-vs-boolean.u.s,
	* tests/good/assign-vs-rel.-e.s,
	* tests/good/assign-vs-rel.-e.u.s,
	* tests/good/assign-vs-rel.s,
	* tests/good/assign-vs-rel.u.s,
	* tests/good/basic-import.-e.s,
	* tests/good/basic-import.-e.u.s,
	* tests/good/basic-import.s,
	* tests/good/basic-import.u.s,
	* tests/good/bempel_j.-e.s,
	* tests/good/bempel_j.-e.u.s,
	* tests/good/bempel_j.s,
	* tests/good/bempel_j.u.s,
	* tests/good/big-exp.-e.s,
	* tests/good/big-exp.-e.u.s,
	* tests/good/big-exp.s,
	* tests/good/big-exp.u.s,
	* tests/good/big-lvalue.-e.s,
	* tests/good/big-lvalue.-e.u.s,
	* tests/good/big-lvalue.s,
	* tests/good/big-lvalue.u.s,
	* tests/good/boolean-1.-e.s,
	* tests/good/boolean-1.-e.u.s,
	* tests/good/boolean-1.s,
	* tests/good/boolean-1.u.s,
	* tests/good/boolean-2.-e.s,
	* tests/good/boolean-2.-e.u.s,
	* tests/good/boolean-2.s,
	* tests/good/boolean-2.u.s,
	* tests/good/break-in-for.-e.s,
	* tests/good/break-in-for.-e.u.s,
	* tests/good/break-in-for.s,
	* tests/good/break-in-for.u.s,
	* tests/good/break-in-while.-e.s,
	* tests/good/break-in-while.-e.u.s,
	* tests/good/break-in-while.s,
	* tests/good/break-in-while.u.s,
	* tests/good/builtins.-e.s,
	* tests/good/builtins.-e.u.s,
	* tests/good/builtins.s,
	* tests/good/builtins.u.s,
	* tests/good/call.-e.s,
	* tests/good/call.-e.u.s,
	* tests/good/call.s,
	* tests/good/call.u.s,
	* tests/good/chr-256.-e.s,
	* tests/good/chr-256.-e.u.s,
	* tests/good/chr-256.s,
	* tests/good/chr-256.u.s,
	* tests/good/chr-minus-1.-e.s,
	* tests/good/chr-minus-1.-e.u.s,
	* tests/good/chr-minus-1.s,
	* tests/good/chr-minus-1.u.s,
	* tests/good/chr.-e.s,
	* tests/good/chr.-e.u.s,
	* tests/good/chr.s,
	* tests/good/chr.u.s,
	* tests/good/comments-javalike-nested.-e.s,
	* tests/good/comments-javalike-nested.-e.u.s,
	* tests/good/comments-javalike-nested.s,
	* tests/good/comments-javalike-nested.u.s,
	* tests/good/comments-nested.-e.s,
	* tests/good/comments-nested.-e.u.s,
	* tests/good/comments-nested.s,
	* tests/good/comments-nested.u.s,
	* tests/good/comments-with-comment-chars.-e.s,
	* tests/good/comments-with-comment-chars.-e.u.s,
	* tests/good/comments-with-comment-chars.s,
	* tests/good/comments-with-comment-chars.u.s,
	* tests/good/comments-with-parens.-e.s,
	* tests/good/comments-with-parens.-e.u.s,
	* tests/good/comments-with-parens.s,
	* tests/good/comments-with-parens.u.s,
	* tests/good/comments-with-quotes.-e.s,
	* tests/good/comments-with-quotes.-e.u.s,
	* tests/good/comments-with-quotes.s,
	* tests/good/comments-with-quotes.u.s,
	* tests/good/commutation-1.-e.s,
	* tests/good/commutation-1.-e.u.s,
	* tests/good/commutation-1.s,
	* tests/good/commutation-1.u.s,
	* tests/good/commutation-2.-e.s,
	* tests/good/commutation-2.-e.u.s,
	* tests/good/commutation-2.s,
	* tests/good/commutation-2.u.s,
	* tests/good/compare-nil-and-record.-e.s,
	* tests/good/compare-nil-and-record.-e.u.s,
	* tests/good/compare-nil-and-record.s,
	* tests/good/compare-nil-and-record.u.s,
	* tests/good/compare-record-and-nil.-e.s,
	* tests/good/compare-record-and-nil.-e.u.s,
	* tests/good/compare-record-and-nil.s,
	* tests/good/compare-record-and-nil.u.s,
	* tests/good/compare-record-and-record.-e.s,
	* tests/good/compare-record-and-record.-e.u.s,
	* tests/good/compare-record-and-record.s,
	* tests/good/compare-record-and-record.u.s,
	* tests/good/compare-void.-e.s,
	* tests/good/compare-void.-e.u.s,
	* tests/good/compare-void.s,
	* tests/good/compare-void.u.s,
	* tests/good/complex-import.-e.s,
	* tests/good/complex-import.-e.u.s,
	* tests/good/complex-import.s,
	* tests/good/complex-import.u.s,
	* tests/good/concat.-e.s,
	* tests/good/concat.-e.u.s,
	* tests/good/concat.s,
	* tests/good/concat.u.s,
	* tests/good/concurrent-arguments.-e.s,
	* tests/good/concurrent-arguments.-e.u.s,
	* tests/good/concurrent-arguments.s,
	* tests/good/concurrent-arguments.u.s,
	* tests/good/donald.-e.s,
	* tests/good/donald.-e.u.s,
	* tests/good/donald.s,
	* tests/good/donald.u.s,
	* tests/good/empty-let-body.-e.s,
	* tests/good/empty-let-body.-e.u.s,
	* tests/good/empty-let-body.s,
	* tests/good/empty-let-body.u.s,
	* tests/good/empty-record-type.-e.s,
	* tests/good/empty-record-type.-e.u.s,
	* tests/good/empty-record-type.s,
	* tests/good/empty-record-type.u.s,
	* tests/good/escaping-record.-e.s,
	* tests/good/escaping-record.-e.u.s,
	* tests/good/escaping-record.s,
	* tests/good/escaping-record.u.s,
	* tests/good/evalexp.-e.s,
	* tests/good/evalexp.-e.u.s,
	* tests/good/evalexp.s,
	* tests/good/evalexp.u.s,
	* tests/good/exit-51.-e.s,
	* tests/good/exit-51.-e.u.s,
	* tests/good/exit-51.s,
	* tests/good/exit-51.u.s,
	* tests/good/explicit-record-type.-e.s,
	* tests/good/explicit-record-type.-e.u.s,
	* tests/good/explicit-record-type.s,
	* tests/good/explicit-record-type.u.s,
	* tests/good/fact.-e.s,
	* tests/good/fact.-e.u.s,
	* tests/good/fact.s,
	* tests/good/fact.u.s,
	* tests/good/field-of-field.-e.s,
	* tests/good/field-of-field.-e.u.s,
	* tests/good/field-of-field.s,
	* tests/good/field-of-field.u.s,
	* tests/good/for-high-computed-once.-e.s,
	* tests/good/for-high-computed-once.-e.u.s,
	* tests/good/for-high-computed-once.s,
	* tests/good/for-high-computed-once.u.s,
	* tests/good/for-high-same-name-as-index.-e.s,
	* tests/good/for-high-same-name-as-index.-e.u.s,
	* tests/good/for-high-same-name-as-index.s,
	* tests/good/for-high-same-name-as-index.u.s,
	* tests/good/for-in-let.-e.s,
	* tests/good/for-in-let.-e.u.s,
	* tests/good/for-in-let.s,
	* tests/good/for-in-let.u.s,
	* tests/good/for-in-while.-e.s,
	* tests/good/for-in-while.-e.u.s,
	* tests/good/for-in-while.s,
	* tests/good/for-in-while.u.s,
	* tests/good/for-scope.-e.s,
	* tests/good/for-scope.-e.u.s,
	* tests/good/for-scope.s,
	* tests/good/for-scope.u.s,
	* tests/good/for-up-to-32bits.-e.s,
	* tests/good/for-up-to-32bits.-e.u.s,
	* tests/good/for-up-to-32bits.s,
	* tests/good/for-up-to-32bits.u.s,
	* tests/good/for.-e.s,
	* tests/good/for.-e.u.s,
	* tests/good/for.s,
	* tests/good/for.u.s,
	* tests/good/forward-fun-and-type-decl.-e.s,
	* tests/good/forward-fun-and-type-decl.-e.u.s,
	* tests/good/forward-fun-and-type-decl.s,
	* tests/good/forward-fun-and-type-decl.u.s,
	* tests/good/four-hex-backslash.-e.s,
	* tests/good/four-hex-backslash.-e.u.s,
	* tests/good/four-hex-backslash.s,
	* tests/good/four-hex-backslash.u.s,
	* tests/good/fractions-underloaded.-e.s,
	* tests/good/fractions-underloaded.-e.u.s,
	* tests/good/fractions-underloaded.s,
	* tests/good/fractions-underloaded.u.s,
	* tests/good/fun-vs-var.-e.s,
	* tests/good/fun-vs-var.-e.u.s,
	* tests/good/fun-vs-var.s,
	* tests/good/fun-vs-var.u.s,
	* tests/good/functions.-e.s,
	* tests/good/functions.-e.u.s,
	* tests/good/functions.s,
	* tests/good/functions.u.s,
	* tests/good/getchar-no-static-string.-e.s,
	* tests/good/getchar-no-static-string.-e.u.s,
	* tests/good/getchar-no-static-string.s,
	* tests/good/getchar-no-static-string.u.s,
	* tests/good/getchar.-e.s,
	* tests/good/getchar.-e.u.s,
	* tests/good/getchar.s,
	* tests/good/getchar.u.s,
	* tests/good/if-and-bool.-e.s,
	* tests/good/if-and-bool.-e.u.s,
	* tests/good/if-and-bool.s,
	* tests/good/if-and-bool.u.s,
	* tests/good/if-and-if.-e.s,
	* tests/good/if-and-if.-e.u.s,
	* tests/good/if-and-if.s,
	* tests/good/if-and-if.u.s,
	* tests/good/if-and-rel.-e.s,
	* tests/good/if-and-rel.-e.u.s,
	* tests/good/if-and-rel.s,
	* tests/good/if-and-rel.u.s,
	* tests/good/if-void-body.-e.s,
	* tests/good/if-void-body.-e.u.s,
	* tests/good/if-void-body.s,
	* tests/good/if-void-body.u.s,
	* tests/good/if.-e.s,
	* tests/good/if.-e.u.s,
	* tests/good/if.s,
	* tests/good/if.u.s,
	* tests/good/init-array.-e.s,
	* tests/good/init-array.-e.u.s,
	* tests/good/init-array.s,
	* tests/good/init-array.u.s,
	* tests/good/initialize-to-nil.-e.s,
	* tests/good/initialize-to-nil.-e.u.s,
	* tests/good/initialize-to-nil.s,
	* tests/good/initialize-to-nil.u.s,
	* tests/good/int-comparison.-e.s,
	* tests/good/int-comparison.-e.u.s,
	* tests/good/int-comparison.s,
	* tests/good/int-comparison.u.s,
	* tests/good/int-var-ordering.-e.s,
	* tests/good/int-var-ordering.-e.u.s,
	* tests/good/int-var-ordering.s,
	* tests/good/int-var-ordering.u.s,
	* tests/good/invisible-valid-types.-e.s,
	* tests/good/invisible-valid-types.-e.u.s,
	* tests/good/invisible-valid-types.s,
	* tests/good/invisible-valid-types.u.s,
	* tests/good/just-a-simple-for-1.-e.s,
	* tests/good/just-a-simple-for-1.-e.u.s,
	* tests/good/just-a-simple-for-1.s,
	* tests/good/just-a-simple-for-1.u.s,
	* tests/good/just-a-simple-for-2.-e.s,
	* tests/good/just-a-simple-for-2.-e.u.s,
	* tests/good/just-a-simple-for-2.s,
	* tests/good/just-a-simple-for-2.u.s,
	* tests/good/large-ints.-e.s,
	* tests/good/large-ints.-e.u.s,
	* tests/good/large-ints.s,
	* tests/good/large-ints.u.s,
	* tests/good/let-in-for-init.-e.s,
	* tests/good/let-in-for-init.-e.u.s,
	* tests/good/let-in-for-init.s,
	* tests/good/let-in-for-init.u.s,
	* tests/good/let-scope-for-functions.-e.s,
	* tests/good/let-scope-for-functions.-e.u.s,
	* tests/good/let-scope-for-functions.s,
	* tests/good/let-scope-for-functions.u.s,
	* tests/good/let-scope-for-types.-e.s,
	* tests/good/let-scope-for-types.-e.u.s,
	* tests/good/let-scope-for-types.s,
	* tests/good/let-scope-for-types.u.s,
	* tests/good/letexp-eseq.-e.s,
	* tests/good/letexp-eseq.-e.u.s,
	* tests/good/letexp-eseq.s,
	* tests/good/letexp-eseq.u.s,
	* tests/good/local-vs-global-type.-e.s,
	* tests/good/local-vs-global-type.-e.u.s,
	* tests/good/local-vs-global-type.s,
	* tests/good/local-vs-global-type.u.s,
	* tests/good/many-args.-e.s,
	* tests/good/many-args.-e.u.s,
	* tests/good/many-args.s,
	* tests/good/many-args.u.s,
	* tests/good/many-bool-ops.-e.s,
	* tests/good/many-bool-ops.-e.u.s,
	* tests/good/many-bool-ops.s,
	* tests/good/many-bool-ops.u.s,
	* tests/good/many-functions.-e.s,
	* tests/good/many-functions.-e.u.s,
	* tests/good/many-functions.s,
	* tests/good/many-functions.u.s,
	* tests/good/many-vars.-e.s,
	* tests/good/many-vars.-e.u.s,
	* tests/good/many-vars.s,
	* tests/good/many-vars.u.s,
	* tests/good/merge.-e.s,
	* tests/good/merge.-e.u.s,
	* tests/good/merge.s,
	* tests/good/merge.u.s,
	* tests/good/mini-morpho.-e.s,
	* tests/good/mini-morpho.-e.u.s,
	* tests/good/mini-morpho.s,
	* tests/good/mini-morpho.u.s,
	* tests/good/mutually-recursive-functions.-e.s,
	* tests/good/mutually-recursive-functions.-e.u.s,
	* tests/good/mutually-recursive-functions.s,
	* tests/good/mutually-recursive-functions.u.s,
	* tests/good/mutually-recursive-procedures.-e.s,
	* tests/good/mutually-recursive-procedures.-e.u.s,
	* tests/good/mutually-recursive-procedures.s,
	* tests/good/mutually-recursive-procedures.u.s,
	* tests/good/nil-as-arg.-e.s,
	* tests/good/nil-as-arg.-e.u.s,
	* tests/good/nil-as-arg.s,
	* tests/good/nil-as-arg.u.s,
	* tests/good/nil-as-return-value.-e.s,
	* tests/good/nil-as-return-value.-e.u.s,
	* tests/good/nil-as-return-value.s,
	* tests/good/nil-as-return-value.u.s,
	* tests/good/nine.-e.s,
	* tests/good/nine.-e.u.s,
	* tests/good/nine.s,
	* tests/good/nine.u.s,
	* tests/good/non-commutative-move-mem-expr.-e.s,
	* tests/good/non-commutative-move-mem-expr.-e.u.s,
	* tests/good/non-commutative-move-mem-expr.s,
	* tests/good/non-commutative-move-mem-expr.u.s,
	* tests/good/nul-character.-e.s,
	* tests/good/nul-character.-e.u.s,
	* tests/good/nul-character.s,
	* tests/good/nul-character.u.s,
	* tests/good/of-precedence.-e.s,
	* tests/good/of-precedence.-e.u.s,
	* tests/good/of-precedence.s,
	* tests/good/of-precedence.u.s,
	* tests/good/order-strings.-e.s,
	* tests/good/order-strings.-e.u.s,
	* tests/good/order-strings.s,
	* tests/good/order-strings.u.s,
	* tests/good/precedence.-e.s,
	* tests/good/precedence.-e.u.s,
	* tests/good/precedence.s,
	* tests/good/precedence.u.s,
	* tests/good/preincrement.-e.s,
	* tests/good/preincrement.-e.u.s,
	* tests/good/preincrement.s,
	* tests/good/preincrement.u.s,
	* tests/good/print-chr-ord.-e.s,
	* tests/good/print-chr-ord.-e.u.s,
	* tests/good/print-chr-ord.s,
	* tests/good/print-chr-ord.u.s,
	* tests/good/print-tree.-e.s,
	* tests/good/print-tree.-e.u.s,
	* tests/good/print-tree.s,
	* tests/good/print-tree.u.s,
	* tests/good/queens.-e.s,
	* tests/good/queens.-e.u.s,
	* tests/good/queens.s,
	* tests/good/queens.u.s,
	* tests/good/record.-e.s,
	* tests/good/record.-e.u.s,
	* tests/good/record.s,
	* tests/good/record.u.s,
	* tests/good/recursive-type.-e.s,
	* tests/good/recursive-type.-e.u.s,
	* tests/good/recursive-type.s,
	* tests/good/recursive-type.u.s,
	* tests/good/recursive-types-mutual.-e.s,
	* tests/good/recursive-types-mutual.-e.u.s,
	* tests/good/recursive-types-mutual.s,
	* tests/good/recursive-types-mutual.u.s,
	* tests/good/recursive-types.-e.s,
	* tests/good/recursive-types.-e.u.s,
	* tests/good/recursive-types.s,
	* tests/good/recursive-types.u.s,
	* tests/good/redefine-int.-e.s,
	* tests/good/redefine-int.-e.u.s,
	* tests/good/redefine-int.s,
	* tests/good/redefine-int.u.s,
	* tests/good/redefine-print.-e.s,
	* tests/good/redefine-print.-e.u.s,
	* tests/good/redefine-print.s,
	* tests/good/redefine-print.u.s,
	* tests/good/rel.-e.s,
	* tests/good/rel.-e.u.s,
	* tests/good/rel.s,
	* tests/good/rel.u.s,
	* tests/good/scopes-protect-types.-e.s,
	* tests/good/scopes-protect-types.-e.u.s,
	* tests/good/scopes-protect-types.s,
	* tests/good/scopes-protect-types.u.s,
	* tests/good/scopes-protect-vars.-e.s,
	* tests/good/scopes-protect-vars.-e.u.s,
	* tests/good/scopes-protect-vars.s,
	* tests/good/scopes-protect-vars.u.s,
	* tests/good/seqexp-arithmetics.-e.s,
	* tests/good/seqexp-arithmetics.-e.u.s,
	* tests/good/seqexp-arithmetics.s,
	* tests/good/seqexp-arithmetics.u.s,
	* tests/good/shadowed-streq.-e.s,
	* tests/good/shadowed-streq.-e.u.s,
	* tests/good/shadowed-streq.s,
	* tests/good/shadowed-streq.u.s,
	* tests/good/shadowing-functions.-e.s,
	* tests/good/shadowing-functions.-e.u.s,
	* tests/good/shadowing-functions.s,
	* tests/good/shadowing-functions.u.s,
	* tests/good/shadowing-types-separate.-e.s,
	* tests/good/shadowing-types-separate.-e.u.s,
	* tests/good/shadowing-types-separate.s,
	* tests/good/shadowing-types-separate.u.s,
	* tests/good/side-effects-in-init.-e.s,
	* tests/good/side-effects-in-init.-e.u.s,
	* tests/good/side-effects-in-init.s,
	* tests/good/side-effects-in-init.u.s,
	* tests/good/side-effects-in-sxp.-e.s,
	* tests/good/side-effects-in-sxp.-e.u.s,
	* tests/good/side-effects-in-sxp.s,
	* tests/good/side-effects-in-sxp.u.s,
	* tests/good/side-effects.-e.s,
	* tests/good/side-effects.-e.u.s,
	* tests/good/side-effects.s,
	* tests/good/side-effects.u.s,
	* tests/good/single-variable.-e.s,
	* tests/good/single-variable.-e.u.s,
	* tests/good/single-variable.s,
	* tests/good/single-variable.u.s,
	* tests/good/so-many-args-in-rec-func.-e.s,
	* tests/good/so-many-args-in-rec-func.-e.u.s,
	* tests/good/so-many-args-in-rec-func.s,
	* tests/good/so-many-args-in-rec-func.u.s,
	* tests/good/strcmp.-e.s,
	* tests/good/strcmp.-e.u.s,
	* tests/good/strcmp.s,
	* tests/good/strcmp.u.s,
	* tests/good/string-backslash-char.-e.s,
	* tests/good/string-backslash-char.-e.u.s,
	* tests/good/string-backslash-char.s,
	* tests/good/string-backslash-char.u.s,
	* tests/good/string-backslash-octal.-e.s,
	* tests/good/string-backslash-octal.-e.u.s,
	* tests/good/string-backslash-octal.s,
	* tests/good/string-backslash-octal.u.s,
	* tests/good/string-backslash-tortured.-e.s,
	* tests/good/string-backslash-tortured.-e.u.s,
	* tests/good/string-backslash-tortured.s,
	* tests/good/string-backslash-tortured.u.s,
	* tests/good/string-huge.-e.s,
	* tests/good/string-huge.-e.u.s,
	* tests/good/string-huge.s,
	* tests/good/string-huge.u.s,
	* tests/good/string-int-not-keywords.-e.s,
	* tests/good/string-int-not-keywords.-e.u.s,
	* tests/good/string-int-not-keywords.s,
	* tests/good/string-int-not-keywords.u.s,
	* tests/good/string-simple-quotes.-e.s,
	* tests/good/string-simple-quotes.-e.u.s,
	* tests/good/string-simple-quotes.s,
	* tests/good/string-simple-quotes.u.s,
	* tests/good/string-var-comparing.-e.s,
	* tests/good/string-var-comparing.-e.u.s,
	* tests/good/string-var-comparing.s,
	* tests/good/string-var-comparing.u.s,
	* tests/good/string-var-ordering.-e.s,
	* tests/good/string-var-ordering.-e.u.s,
	* tests/good/string-var-ordering.s,
	* tests/good/string-var-ordering.u.s,
	* tests/good/stupid-array-type.-e.s,
	* tests/good/stupid-array-type.-e.u.s,
	* tests/good/stupid-array-type.s,
	* tests/good/stupid-array-type.u.s,
	* tests/good/substring-copy-all.-e.s,
	* tests/good/substring-copy-all.-e.u.s,
	* tests/good/substring-copy-all.s,
	* tests/good/substring-copy-all.u.s,
	* tests/good/substring-copy-nothing.-e.s,
	* tests/good/substring-copy-nothing.-e.u.s,
	* tests/good/substring-copy-nothing.s,
	* tests/good/substring-copy-nothing.u.s,
	* tests/good/substring-too-high-sum.-e.s,
	* tests/good/substring-too-high-sum.-e.u.s,
	* tests/good/substring-too-high-sum.s,
	* tests/good/substring-too-high-sum.u.s,
	* tests/good/substring-too-low-first.-e.s,
	* tests/good/substring-too-low-first.-e.u.s,
	* tests/good/substring-too-low-first.s,
	* tests/good/substring-too-low-first.u.s,
	* tests/good/substring-too-low-length.-e.s,
	* tests/good/substring-too-low-length.-e.u.s,
	* tests/good/substring-too-low-length.s,
	* tests/good/substring-too-low-length.u.s,
	* tests/good/substring.-e.s,
	* tests/good/substring.-e.u.s,
	* tests/good/substring.s,
	* tests/good/substring.u.s,
	* tests/good/test27.-e.s,
	* tests/good/test27.-e.u.s,
	* tests/good/test27.s,
	* tests/good/test27.u.s,
	* tests/good/test30.-e.s,
	* tests/good/test30.-e.u.s,
	* tests/good/test30.s,
	* tests/good/test30.u.s,
	* tests/good/test37.-e.s,
	* tests/good/test37.-e.u.s,
	* tests/good/test37.s,
	* tests/good/test37.u.s,
	* tests/good/test42.-e.s,
	* tests/good/test42.-e.u.s,
	* tests/good/test42.s,
	* tests/good/test42.u.s,
	* tests/good/test44.-e.s,
	* tests/good/test44.-e.u.s,
	* tests/good/test44.s,
	* tests/good/test44.u.s,
	* tests/good/three-name-spaces.-e.s,
	* tests/good/three-name-spaces.-e.u.s,
	* tests/good/three-name-spaces.s,
	* tests/good/three-name-spaces.u.s,
	* tests/good/types-aliases.-e.s,
	* tests/good/types-aliases.-e.u.s,
	* tests/good/types-aliases.s,
	* tests/good/types-aliases.u.s,
	* tests/good/var-bob-is-another-bob.-e.s,
	* tests/good/var-bob-is-another-bob.-e.u.s,
	* tests/good/var-bob-is-another-bob.s,
	* tests/good/var-bob-is-another-bob.u.s,
	* tests/good/var-override.-e.s,
	* tests/good/var-override.-e.u.s,
	* tests/good/var-override.s,
	* tests/good/var-override.u.s,
	* tests/good/while-in-while.-e.s,
	* tests/good/while-in-while.-e.u.s,
	* tests/good/while-in-while.s,
	* tests/good/while-in-while.u.s,
	* tests/overload/overload-builtin.-e.s,
	* tests/overload/overload-builtin.-e.u.s,
	* tests/overload/overload-builtin.s,
	* tests/overload/overload-builtin.u.s,
	* tests/overload/overload-function-record-arg.-e.s,
	* tests/overload/overload-function-record-arg.-e.u.s,
	* tests/overload/overload-function-record-arg.s,
	* tests/overload/overload-function-record-arg.u.s,
	* tests/overload/overload-function.-e.s,
	* tests/overload/overload-function.-e.u.s,
	* tests/overload/overload-function.s,
	* tests/overload/overload-function.u.s,
	* tests/overload/overload-nil-diambiguated.-e.s,
	* tests/overload/overload-nil-diambiguated.-e.u.s,
	* tests/overload/overload-nil-diambiguated.s,
	* tests/overload/overload-nil-diambiguated.u.s,
	* tests/overload/overload-var-type-inference.-e.s,
	* tests/overload/overload-var-type-inference.-e.u.s,
	* tests/overload/overload-var-type-inference.s,
	* tests/overload/overload-var-type-inference.u.s,
	* tests/runtime/chr-out-of-range1.-e.s,
	* tests/runtime/chr-out-of-range1.-e.u.s,
	* tests/runtime/chr-out-of-range1.s,
	* tests/runtime/chr-out-of-range1.u.s,
	* tests/runtime/chr-out-of-range2.-e.s,
	* tests/runtime/chr-out-of-range2.-e.u.s,
	* tests/runtime/chr-out-of-range2.s,
	* tests/runtime/chr-out-of-range2.u.s,
	* tests/runtime/substring-out-of-bounds1.-e.s,
	* tests/runtime/substring-out-of-bounds1.-e.u.s,
	* tests/runtime/substring-out-of-bounds1.s,
	* tests/runtime/substring-out-of-bounds1.u.s,
	* tests/runtime/substring-out-of-bounds2.-e.s,
	* tests/runtime/substring-out-of-bounds2.-e.u.s,
	* tests/runtime/substring-out-of-bounds2.s,
	* tests/runtime/substring-out-of-bounds2.u.s,
	* tests/runtime/substring-out-of-bounds3.-e.s,
	* tests/runtime/substring-out-of-bounds3.-e.u.s,
	* tests/runtime/substring-out-of-bounds3.s,
	* tests/runtime/substring-out-of-bounds3.u.s:
	Regen.

2007-03-12  Roland Levillain  <roland@lrde.epita.fr>

	Repair the TC-1 distribution.

	* tests/syntax/import-exp.tig: Add studentize `ast' marks to
	alter this test so that is produces a parse error, even at TC-1.
	* dev/stagize: Prune it.
	Catch up with current bison++ interface.
	s/tiger-input/tweast/
	* src/parse/tweast.hh (parse::Tweast): Explain what TWEAST is.
	* src/parse/tiger_parse.i: Don't import ast/tiger_ast.i at TC-1.
	* tcsh/python/Makefile.am, tcsh/ruby/Makefile.am
	(TESTS_ENVIRONMENT): Pass top_builddir to the environment.
	Use `$(RUN)' instead of `./run'.
	* tcsh/python/tcsh.test, tcsh/python/tcsh-ia32.test,
	* tcsh/ruby/tcsh.test: Get `run' from $top_builddir.

2007-03-11  Roland Levillain  <roland@lrde.epita.fr>

	Miscellaneous changes in the distribution mechanism.

	* Makefile.am (200%): Turn this target into...
	(20%): ...to handle EPITA classes from 2010 to 2099.
	* dev/studentize: Don't print the header stating the number of
	suppressed lines if there are none.

2007-03-11  Roland Levillain  <roland@lrde.epita.fr>

	Keep the Tiger Interpreter from breaking the distribution.

	* dev/studentize_tc.conf: Add mark `all'.
	* tcsh/python/tcsh.test: Use this mark to disable ti-based tests
	when the compiler is not complete.
	* tcsh/python/ti.py: More documentation.
	* tcsh/python/Makefile.am: Likewise.
	* dev/stagize: Prune these marks and remove
	tcsh/python/test-ia32.test when the compiler is not complete.
	Aesthetic changes.

2007-03-11  Roland Levillain  <roland@lrde.epita.fr>

	Use the built-in prelude in TCSH.

	* tcsh/python/test-compiler.py, tcsh/python/test-front-end.py,
	* tcsh/python/ti.py, tcsh/ruby/test-compiler.rb,
	* tcsh/ruby/test-front-end.rb: Use the built-in prelude instead
	of loading data/prelude.tih.

2007-03-11  Roland Levillain  <roland@lrde.epita.fr>

	Factor tcsh/run.

	* tcsh/python/run.in, tcsh/ruby/run.in: Remove, and merge as...
	* tcsh/run.in: ...this (new file).
	* tcsh/Makefile.am (check_SCRIPT): New.
	Add run.
	* configure: Configure tcsh/run instead of tcsh/python/run and
	tcsh/ruby/run.
	* tcsh/run.mk: New file.
	* tcsh/python/Makefile.am, tcsh/ruby/Makefile.am: Include it.
	($(TESTS)): Add a dependency on $(srcdir)/run.stamp.
	($(srcdir)/run.stamp): New target.
	(EXTRA_DIST): Add $(srcdir)/run.stamp.
	(check_SCRIPT): Remove.

	Don't run IA-32 tests on other platforms.

	* configure (IA32): New Automake conditional.
	* tcsh/python/tcsh.test: Move IA32 test...
	* tcsh/python/tcsh-ia32.test: ...here (new file).
	* tcsh/python/Makefile.am (TESTS): Add tcsh-ia32.test.
	(INSTALLCHECK_IA32): New.
	Use it...
	(installcheck-local): ...here.
	* tcsh/python/ti.py: Use long options in Nolimips' invocation.

	Have TCSH/Ruby catch up with TCSH/Python.

	* tcsh/ruby/ti.rb, tcsh/ruby/test.rb: Rename as...
	* tcsh/ruby/test-front-end.rb, tcsh/ruby/test-compiler.rb:
	...these.
	* tcsh/ruby/tcsh.test: Adjust.
	* tcsh/ruby/Makefile.am (EXTRA_DIST): Likewise.
	(ruby_SCRIPT): Add ltrequire.rb and tc.rb.

	* NEWS: Update.
	* test/syntax/Makefile.am: Regen.

2007-03-10  Roland Levillain  <roland@lrde.epita.fr>

	Rename the Tiger Translator as Tiger Interpreter.
	Add a convenience wrapper over the Tiger interpreter.

	* tcsh/python/ti.py, tcsh/python/test.py, tcsh/python/tt.py:
	Rename as...
	* tcsh/python/test-front-end.py, tcsh/python/test-compiler.py,
	* tcsh/python/ti.py: ...these.
	* tcsh/python/tcsh.test: Adjust.
	* tcsh/python/ti.in: New file.
	Wrap ti.py.
	* configure.ac: Configure it.
	* tcsh/python/Makefile.am (EXTRA_DIST): Move ltihooks.py and
	ti.py...
	(python_PYTHON): ...here.
	Adjust.
	(dist_bin_SCRIPTS): Add ti.
	(installcheck-local): New target.

2007-03-09  Roland Levillain  <roland@lrde.epita.fr>

	Polish the Tiger Translator.

	* tcsh/python/tt.py: Remove spurious call to sys.exit().
	(hir): Add support for a Tree back-end.
	Rework command line interface.
	Fix the IA-32 assembly output filename.
	Use os.path.join instead of string concatenation.
	* tcsh/python/tcsh.test: Exercise all three back-ends (Tree, MIPS,
	IA-32).

2007-03-09  Roland Levillain  <roland@lrde.epita.fr>

	Improve the interface of libtarget to simplify TCSH.

	* src/target/libtarget.hh, src/target/libtarget.cc
	(instructions_dump(Fragments&, Target&, TempMap&, ostream&, bool):
	New function.
	* src/target/tasks.cc (target::task::instructions_display): Use
	it to simplify this function.
	* src/tc.mk (libtarget): Add a dependency on libtemp.
	* src/target/tiger_target.i (target::asm_display): Remove inlined
	function.
	* tcsh/python/tt.py: Adjust.
	Aesthetic changes.
	* tests/tc-check.in: Use gcc 4.1 and g++ 4.1.

2007-03-09  Akim Demaille  <akim@lrde.epita.fr>

	Fix bison++ bug.

	* build-aux/bison++.in: Even if (especially if...) we fail, we must
	preserve the *.output file.

2007-03-08  Roland Levillain  <roland@lrde.epita.fr>

	Document code pruning in the Developer Manual.

	* dev/tc.texi (Pruning mechanism): New node.
	(Release process): Add it to the table of contents.
	(Teacher tarballs): Turn into a subsection.
	* dev/Makefile.am (doc): New target.

2007-03-05  Benoit Perrot  <benoit@lrde.epita.fr>

	* TODO: Remove entry killed a long time ago.

2007-03-05  Benoit Perrot  <benoit@lrde.epita.fr>

	Dissociate generation of frame allocation/deallocation statements
	from generation of procedure entry/exit statements in code
	generators, cleaning the output assembly as a side-effect.

	* src/target/codegen.hh:
	(build_fragment_context): Rename as `fragment_entry_exit_build'.
	(build_fragment_entry_exit): Rename as `frame_build'.
	* src/target/libtarget.cc: Update accordingly.

	* src/target/mips/prologue.hh, src/target/mips/epilogue.cc:
	(build_fragment_context): Rename as `fragment_entry_exit_build'.
	Prepend procedure's label to instruction list, /defining/
	conventionaly incoming registers. Append procedure's return
	instruction to list, /using/ conventionaly outcoming
	registers. Reserve and mark slots in instruction list for upcoming
	frame allocation and deallocation.
	(build_fragment_entry_exit): Rename as `frame_build'. Search
	for previously inserted markups, and fill corresponding slots with
	actual frame allocation and deallocation statements.
	* src/target/mips/codegen.cc: Regenerate.
	* src/target/ia32/prologue.hh, src/target/ia32/epilogue.cc:
	Same as for MIPS'.
	* src/target/ia32/codegen.cc: Regenerate.

	* src/assem/instrs.hh, src/assem/instrs.cc (label_find): New.

	* src/assem/fragment.cc,
	* src/target/mips/spim-layout.cc,
	* src/target/ia32/gas-layout.cc:
	Do not print procedure's label explicitely anymore.

	* TODO: Kill corresponding entries.

2007-03-04  Benoit Perrot  <benoit@lrde.epita.fr>

	* TODO: Remove entry killed a long time ago.

2007-02-27  Akim Demaille  <akim@lrde.epita.fr>

	Bison 2.3a.
	* src/parse/parsetiger.yy: Upgrade to using Bison 2.3a+ features.

2007-02-27  Roland Levillain  <roland@lrde.epita.fr>

	Update the build system requirements in bootstrap.

	* bootstrap: Check for Autoconf 2.61 and Automake 1.10.

2007-02-21  Akim Demaille  <akim@lrde.epita.fr>

	Update requirements.
	* configure.ac: Autoconf, Automake, GCC, tc itself.

2007-02-19  Roland Levillain  <roland@lrde.epita.fr>

	Improve require() in bootstrap and fix a bug in version_compare().

	* bootstrap (version_compare): Prevent erroneous exits.
	(require): Correct error message.
	Query the environment for a variable with the same name as the
	first argument, upper-cased, and use it instead if it exists.
	Adjust callers.

2007-02-14  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Fix bootstrap.
	* bootstrap: Don't invoke autoreconf manually for argp. autoreconf is
	clever enough to find that argp must also be bootstrap'ed (it
	figures this out with AC_CONFIG_SUBDIRS([argp]) in configure.ac).
	Moreover, argp no longer shares its build-aux directory.

2007-02-09  Roland Levillain  <roland@lrde.epita.fr>

	* src/bind/binder.cc: Typos.

2007-02-08  Benoit Tailhades  <tailha_b@epita.fr>

	* tcsh/python/tt.py: Delete useless comments.

2007-02-08  Benoit Tailhades  <tailha_b@epita.fr>

	* tcsh/python/tt.py: Test if necessary features are available into
	tc module and exit if failure.

2007-02-07  Benoit Tailhades  <tailha_b@epita.fr>

	Add tcsh/python/tt.py.

	* src/target/tiger_target.i: Add a function to write final
	assembly code into a file.
	* tcsh/python/tcsh.test: New test for tt.py.
	* tcsh/python/Makefile.am (EXTRA_DIST): Add tt.py.
	* tcsh/python/tt.py: New tiger Translator to use nolimips or gcc
	to execute assembler code.

2007-02-06  Roland Levillain  <roland@lrde.epita.fr>

	ICC 9.1 compatibility.

	* src/bind/binder.cc: Instantiate Binder::undeclared<ast::CallExp>
	explicitly to avoid link errors with icpc, when using inlining.

2007-02-06  Roland Levillain  <roland@lrde.epita.fr>

	Fix bootstrap.

	* bootstrap (toolname): Remove this function, and inline a
	(working) version of its body at call sites.
	Reported by Michaël Cadilhac.

2007-02-05  Roland Levillain  <roland@lrde.epita.fr>

	Have bootstrap query the environment for tool names.

	* bootstrap (toolname): New function.
	Use it to examine AUTOCONF, AUTOMAKE and LIBTOOLIZE before
	using the canonical names of theses tools.

2007-02-02  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Remove argp.
	* argp/ChangeLog: Remove.
	* argp/Makefile.am: Remove.
	* argp/TODO: Remove.
	* argp/Versions: Remove.
	* argp/acinclude.m4: Remove.
	* argp/argp-ba.c: Remove.
	* argp/argp-eexst.c: Remove.
	* argp/argp-fmtstream.c: Remove.
	* argp/argp-fmtstream.h: Remove.
	* argp/argp-fs-xinl.c: Remove.
	* argp/argp-help.c: Remove.
	* argp/argp-namefrob.h: Remove.
	* argp/argp-parse.c: Remove.
	* argp/argp-pv.c: Remove.
	* argp/argp-pvh.c: Remove.
	* argp/argp-test.c: Remove.
	* argp/argp-xinl.c: Remove.
	* argp/argp.h: Remove.
	* argp/configure.ac: Remove.
	* argp/mempcpy.c: Remove.
	* argp/strchrnul.c: Remove.
	* argp/strndup.c: Remove.
	* argp/testsuite/Makefile.am: Remove.
	* argp/testsuite/ex1-test: Remove.
	* argp/testsuite/ex1.c: Remove.
	* argp/testsuite/ex3.c: Remove.
	* argp/testsuite/ex4.c: Remove.
	* argp/testsuite/permute-test: Remove.
	* argp/testsuite/run-tests: Remove.
	* argp/testsuite: Remove.
	* argp: Remove.
	* src/type/record.cc: Formatting change.

2007-01-28  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Remove useless parentheses and use prefix ++ instead of postfix.
	* src/assem/fragment.cc,
	* src/assem/instr.cc,
	* src/assem/instrs.cc,
	* src/bind/renamer.cc,
	* src/canon/traces.cc,
	* src/graph/handler.hxx,
	* src/liveness/flowgraph.hxx,
	* src/liveness/interference-graph.cc,
	* src/misc/list.hcc,
	* src/misc/set.hxx,
	* src/misc/test-xalloc.cc,
	* src/misc/timer.cc,
	* src/regalloc/color.cc,
	* src/symbol/symbol.cc,
	* src/target/cpu.cc,
	* src/target/ia32/codegen.cc,
	* src/target/ia32/epilogue.cc,
	* src/target/mips/codegen.cc,
	* src/target/mips/epilogue.cc,
	* src/target/mips/test-rw_prg.cc,
	* src/type/record.cc: Here.

2007-01-28  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Formatting changes.
	* src/ast/default-visitor.hh,
	* src/ast/visitor.hxx,
	* src/liveness/flowgraph.hh,
	* src/misc/generic-variant.hh,
	* src/misc/generic-variant.hxx,
	* src/misc/variant.hh,
	* src/misc/variant.hxx,
	* src/overload/over-table.hh,
	* src/target/ia32/gas-assembly.hh,
	* src/target/mips/spim-assembly.hh: Restyle: Formatting changes, fix
	  typos.

2007-01-28  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Remove trailing whitespaces.
	* dev/Makefile.am,
	* dev/ast-cloner-gen,
	* dev/ast-nodes-gen,
	* dev/ast-nodes-mk-gen,
	* dev/ast-readme-gen,
	* dev/ast-visitor-gen,
	* dev/ast.py: Remove trailing white spaces. Formatting changes in the
	  generated code.
	* src/ast/array-exp.cc,
	* src/ast/array-ty.cc,
	* src/ast/assign-exp.cc,
	* src/ast/break-exp.cc,
	* src/ast/call-exp.cc,
	* src/ast/cast-exp.cc,
	* src/ast/cast-var.cc,
	* src/ast/decs-list.cc,
	* src/ast/field-init.cc,
	* src/ast/field-var.cc,
	* src/ast/field.cc,
	* src/ast/for-exp.cc,
	* src/ast/function-dec.cc,
	* src/ast/fwd.hh,
	* src/ast/if-exp.cc,
	* src/ast/int-exp.cc,
	* src/ast/let-exp.cc,
	* src/ast/name-ty.cc,
	* src/ast/nil-exp.cc,
	* src/ast/op-exp.cc,
	* src/ast/record-exp.cc,
	* src/ast/record-ty.cc,
	* src/ast/seq-exp.cc,
	* src/ast/simple-var.cc,
	* src/ast/string-exp.cc,
	* src/ast/subscript-var.cc,
	* src/ast/type-dec.cc,
	* src/ast/var-dec.cc,
	* src/ast/while-exp.cc,
	* src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh: Re-generate.

2007-01-24  Razik Yousfi  <yousfi_r@epita.fr>

	Rename TigerInput in Tweast.
	* src/parse/tiger-input.hh: Rename as...
	* src/parse/tweast.hh: ... this.
	* src/parse/tiger-input.hxx: Rename as...
	* src/parse/tweast.hxx: ... this.
	* src/parse/tiger-input.cc: Rename as...
	* src/parse/tweast.cc: ... this.
	* src/parse/test-tiger-input.cc: Rename as...
	* src/parse/test-tweast.cc: ... this.
	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/desugar-visitor.cc,
	* src/desugar/test-bound-checking.cc,
	* src/inlining/inline-visitor.cc,
	* src/parse/Makefile.am,
	* src/parse/fwd.hh,
	* src/parse/libparse.cc,
	* src/parse/libparse.hh,
	* src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh,
	* src/parse/parsetiger.yy,
	* src/parse/scantiger.ll,
	* src/parse/tiger-parser.cc,
	* src/parse/tiger-parser.hh,
	* src/parse/tiger_parse.i: Adjust.

2007-01-14  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Restyle: re-indent.
	* THANKS: Move myself...
	* AUTHORS: ... here.
	* src/assem/fwd.hh,
	* src/assem/layout.cc,
	* src/assem/visitor.hh,
	* src/assem/visitor.hxx,
	* src/ast/anydecs.hh,
	* src/ast/anydecs.hxx,
	* src/ast/decs.hxx,
	* src/ast/default-visitor.hh,
	* src/ast/default-visitor.hxx,
	* src/ast/fwd.hh,
	* src/ast/visitor.hh,
	* src/astclone/libastclone.hh,
	* src/astclone/test-cloner.cc,
	* src/bind/binder.cc,
	* src/bind/binder.hh,
	* src/bind/test-bind.cc,
	* src/callgraph/call-graph-visitor.cc,
	* src/callgraph/parent-graph-visitor.cc,
	* src/canon/traces.cc,
	* src/canon/traces.hh,
	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/desugar-visitor.cc,
	* src/frame/frame.hh,
	* src/graph/graph.hh,
	* src/graph/graph.hxx,
	* src/graph/handler.hh,
	* src/graph/handler.hxx,
	* src/graph/iterator.hh,
	* src/graph/iterator.hxx,
	* src/liveness/flowgraph.hxx,
	* src/liveness/interference-graph.cc,
	* src/liveness/libliveness.cc,
	* src/liveness/liveness.cc,
	* src/misc/containers.hh,
	* src/misc/containers.hxx,
	* src/misc/error.hxx,
	* src/misc/escape.hxx,
	* src/misc/file-library.hh,
	* src/misc/fwd.hh,
	* src/misc/generic-variant.hh,
	* src/misc/list.hcc,
	* src/misc/map.hh,
	* src/misc/ref.hh,
	* src/misc/ref.hxx,
	* src/misc/scoped-map.hh,
	* src/misc/scoped-map.hxx,
	* src/misc/select-const.hh,
	* src/misc/set.hh,
	* src/misc/set.hxx,
	* src/misc/test-generic-variant.cc,
	* src/misc/test-variant.cc,
	* src/misc/timer.cc,
	* src/misc/traits.hh,
	* src/misc/traits.hxx,
	* src/misc/variant.hh,
	* src/overload/over-table.hxx,
	* src/parse/metavar-map.hxx,
	* src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh,
	* src/parse/stack.hh,
	* src/parse/tiger-input.hh,
	* src/parse/tiger-parser.cc,
	* src/regalloc/color.cc,
	* src/regalloc/regallocator.hh,
	* src/symbol/symbol.cc,
	* src/symbol/symbol.hh,
	* src/symbol/symbol.hxx,
	* src/target/ia32/codegen.cc,
	* src/target/ia32/codegen.hh,
	* src/target/ia32/cpu.hh,
	* src/target/ia32/epilogue.cc,
	* src/target/ia32/gas-layout.hh,
	* src/target/ia32/prologue.hh,
	* src/target/libtarget.cc,
	* src/target/mips/codegen.cc,
	* src/target/mips/codegen.hh,
	* src/target/mips/epilogue.cc,
	* src/target/mips/prologue.hh,
	* src/target/mips/test-rw_prg.cc,
	* src/task/boolean-task.hh,
	* src/task/disjunctive-task.hh,
	* src/task/function-task.hh,
	* src/task/int-task.hh,
	* src/task/multiple-string-task.hh,
	* src/task/string-task.hh,
	* src/task/task-register.cc,
	* src/task/task-register.hh,
	* src/task/task.hh,
	* src/tc.cc,
	* src/temp/identifier.hh,
	* src/temp/label.hh,
	* src/temp/temp.cc,
	* src/translate/translation.cc,
	* src/translate/translation.hh,
	* src/translate/translator.cc,
	* src/translate/translator.hh,
	* src/tree/binop.cc,
	* src/tree/cjump.cc,
	* src/tree/fwd.hh,
	* src/tree/iterator.hxx,
	* src/tree/jump.hh,
	* src/tree/move.hxx,
	* src/tree/visitor.hh,
	* src/tree/visitor.hxx,
	* src/type/field.hh,
	* src/type/record.cc,
	* src/type/type-checker.cc,
	* src/type/type-checker.hh,
	* src/type/type-checker.hxx: Re-indent the code. Formatting changes
	  only.

2007-01-14  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Remove trailing whitespaces.
	* src/ast/array-exp.cc,
	* src/ast/array-ty.cc,
	* src/ast/assign-exp.cc,
	* src/ast/break-exp.cc,
	* src/ast/call-exp.cc,
	* src/ast/cast-exp.cc,
	* src/ast/cast-var.cc,
	* src/ast/decs-list.cc,
	* src/ast/field-init.cc,
	* src/ast/field-var.cc,
	* src/ast/field.cc,
	* src/ast/for-exp.cc,
	* src/ast/function-dec.cc,
	* src/ast/if-exp.cc,
	* src/ast/int-exp.cc,
	* src/ast/let-exp.cc,
	* src/ast/name-ty.cc,
	* src/ast/nil-exp.cc,
	* src/ast/op-exp.cc,
	* src/ast/record-exp.cc,
	* src/ast/record-ty.cc,
	* src/ast/seq-exp.cc,
	* src/ast/simple-var.cc,
	* src/ast/string-exp.cc,
	* src/ast/subscript-var.cc,
	* src/ast/type-dec.cc,
	* src/ast/var-dec.cc,
	* src/ast/while-exp.cc,
	* src/astclone/cloner.cc,
	* src/astclone/libastclone.hh,
	* src/callgraph/fundec-graph.hxx,
	* src/graph/graph.hh,
	* src/graph/test-graph.cc,
	* src/parse/parsetiger.cc,
	* src/symbol/symbol.cc,
	* src/symbol/test-symbol.cc,
	* src/target/ia32/codegen.cc,
	* src/target/ia32/epilogue.cc,
	* src/target/ia32/target.hh,
	* src/target/mips/target.hh,
	* src/tree/cjump.hh,
	* src/tree/iterator.hxx: Here.

2007-01-12  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Rename the TranslateVisitor in Translator.
	s/TranslateVisitor/Translator/g
	* src/translate/translate-visitor.cc: Rename as...
	* src/translate/translator.cc: ... this.
	* src/translate/translate-visitor.hh: Rename as...
	* src/translate/translator.hh: ... this.
	* src/translate/Makefile.am,
	* src/translate/libtranslate.cc,
	* src/translate/translation.hh: Adjust.

2007-01-12  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Rename CloneVisitor in Cloner.
	s/CloneVisitor/Cloner/g
	* dev/ast-clone-visitor-gen: Rename as...
	* dev/ast-cloner-gen: ... this.
	* src/astclone/clone-visitor.cc: Rename as...
	* src/astclone/cloner.cc: ... this.
	* src/astclone/clone-visitor.hh: Rename as...
	* src/astclone/cloner.hh: ... this.
	* src/astclone/clone-visitor.hxx: Rename as...
	* src/astclone/cloner.hxx: ... this.
	* src/astclone/test-clone-visitor.cc: Rename as...
	* src/astclone/test-cloner.cc: ... this.

	* dev/Makefile.am,
	* src/astclone/Makefile.am,
	* src/astclone/libastclone.hxx,
	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/desugar-visitor.hh,
	* src/inlining/inline-visitor.hh,
	* src/inlining/prune-visitor.hh: Adjust all uses, includes etc.

2007-01-12  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Rename the RenameVisitor in Renamer.
	* src/bind/rename-visitor.cc: Rename as...
	* src/bind/renamer.cc: ... this.
	* src/bind/rename-visitor.hh: Rename as...
	* src/bind/renamer.hh: ... this.
	* src/bind/Makefile.am,
	* src/bind/libbind.cc: Adjust.

2007-01-12  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Rename TypeVisitor in TypeChecker.
	s/TypeVisitor/TypeChecker/g
	* src/overload/type-visitor.cc: Rename as...
	* src/overload/type-checker.cc: ... this.
	* src/overload/type-visitor.hh: Rename as...
	* src/overload/type-checker.hh: ... this.
	* src/type/type-visitor.cc: Rename as...
	* src/type/type-checker.cc: ... this.
	* src/type/type-visitor.hh: Rename as...
	* src/type/type-checker.hh: ... this.
	* src/type/type-visitor.hxx: Rename as...
	* src/type/type-checker.hxx: ... this.
	* src/desugar/test-string-cmp-desugar.cc,
	* src/escapes/escapes-visitor.hh,
	* src/overload/Makefile.am,
	* src/overload/binder.hh,
	* src/overload/liboverload.cc,
	* src/type/Makefile.am,
	* src/type/libtype.cc,
	* src/type/named.hh: Adjust all uses.

2007-01-12  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Rename BindVisitor as Binder.
	s/BindVisitor/Binder/g
	* src/bind/bind-visitor.cc: Rename as...
	* src/bind/binder.cc: this.
	* src/bind/bind-visitor.hh: Rename as...
	* src/bind/binder.hh: this.
	* src/bind/Makefile.am: Adjust.
	* src/bind/libbind.cc,
	* src/escapes/escapes-visitor.hh: Adjust includes.
	* src/overload/bind-visitor.cc: Rename as...
	* src/overload/binder.cc: this.
	* src/overload/bind-visitor.hh: Rename as...
	* src/overload/binder.hh: this.
	* src/overload/Makefile.am: Adjust.
	* src/overload/liboverload.cc,
	* src/overload/liboverload.hh,
	* src/overload/tasks.hh,
	* src/overload/type-visitor.hh,
	* src/type/type-visitor.hh: Adjust includes and uses.

2007-01-12  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Rename PrintVisitor in PrettyPrinter.
	* src/ast/print-visitor.cc: Rename as...
	* src/ast/pretty-printer.cc: this.
	* src/ast/print-visitor.hh: Rename as...
	* src/ast/pretty-printer.hh: this.
	* src/ast/print-visitor.yy: Rename as...
	* src/ast/pretty-printer.yy: this.
	* src/ast/Makefile.am,
	* src/ast/libast.cc: Fix accordingly.

2007-01-12  SIGOURE Benoit  <tsuna@lrde.epita.fr>

	Rename PrintVisitor in PrettyPrinter.
	* THANKS: Add myself.
	* configure.ac,
	* src/ast/libast.cc,
	* src/ast/print-visitor.cc,
	* src/ast/print-visitor.hh,
	* src/ast/test-ast.cc: s/PrintVisitor/PrettyPrinter/g.

2006-12-27  Akim Demaille  <akim.demaille@free.fr>

	Formatting changes
	* build-aux/move-if-change, build-aux/warning.m4,
	* configure.ac, src/misc/timer.cc, src/parse/scantiger.ll: here.
	* src/misc/test-timer.cc: Dump the timer at the end.

2006-11-27  Roland Levillain  <roland@lrde.epita.fr>

	Use file names complying with the coding style for misc::FileLibrary.

	* src/misc/filelibrary.hh, src/misc/filelibrary.hxx,
	* src/misc/filelibrary.cc: Rename as...
	* src/misc/file-library.hh, src/misc/file-library.hxx,
	* src/misc/file-library.cc: ...this.
	Adjust headers guards.
	* src/astclone/test-clone-visitor.cc,
	* src/desugar/test-for-loops-desugar.cc,
	* src/desugar/test-string-cmp-desugar.cc, src/misc/Makefile.am,
	* src/misc/fwd.hh, src/misc/tiger_misc.i, src/parse/libparse.cc,
	* src/parse/libparse.hh, src/parse/tasks.cc,
	* src/parse/tiger-parser.hh: Adjust.

2006-11-24  Roland Levillain  <roland@lrde.epita.fr>

	* src/misc/filelibrary.cc (misc::FileLibrary::find_file):
	Fix import statements using relative paths.

2006-11-24  Roland Levillain  <roland@lrde.epita.fr>

	Handle error messages with import statements in tc-check.

	* tests/tc-check.in (check): Handle error messages with import
	statements.

2006-11-09  Benoit Tailhades  <tailha_b@epita.fr>

	* src/parse/tiger-parser.cc (parse): Correction of a bug when
	parsing an imported file which is an exp.
	* tests/syntax/import-exp.tig,
	* tests/syntax/import-exp-header.tih: New test with a bad
	import file.

2006-10-09  Roland Levillain  <roland@lrde.epita.fr>

	Update monoburg++.

	* build-aux/monoburg++.in: Catch up with the latest changes in
	bison++.
	* src/target/ia32/Makefile.am, src/target/mips/Makefile.am:
	Adjust.
	* configure.ac: Accept more Flex versions.

2006-10-06  Akim Demaille  <akim@lrde.epita.fr>

	Upgrade handling of bison.

	* build-aux/bison++.in: Don't take an "dir" argument, use the
	dirnames of the input and output files.
	* src/parse/Makefile.am: Adjust bison++ invocation.
	* build-aux/tc-prog.m4: Be more powerful.
	* src/parse/parsetiger.yy: Pass %defines.
	* tests/tests.mk: Pacify Automake.
	* configure.ac: Be more specific with tool versions.

2006-10-06  Akim Demaille  <akim@lrde.epita.fr>

	Upgrade TC_PROG.

	* build-aux/prog.m4: Rename as...
	* build-aux/tc-prog.m4: this.
	Support a version requirement with a comparison operator.
	Change cache key.
	* build-aux/version-compare.m4: Remove.
	* configure.ac: Adjust.
	Require Autoconf 2.60, Bison >= 2.2.

2006-09-09  Benoit Perrot  <benoit@lrde.epita.fr>

	Consider MIPS' $ra as a caller save register.

	* src/target/mips/cpu.cc (Cpu::Cpu): Put $ra into caller save
	register set. Do not consider $ra as a non-coalescable register
	anymore.
	* src/target/mips/epilogue.cc:
	(Codegen::build_fragment_context): Save (resp. restore) $ra
	to (resp. from) a temporary upon function entry (resp. exit);
	this defers the responsibility of $ra preservation and
	restoration to the register allocator.
	(Codegen::build_fragment_entry_exit): Do not generate stack
	allocation snippet when stack is empty. Delete explicit $ra
	handling.
	* src/target/mips/codegen.cc:
	Regenerate.

	* tests/runtime/*.s,
	* tests/escapes/*.s,
	* tests/good/*.s,
	* tests/overload/*.s:
	Regenerate all reference assembly files.

2006-09-04  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.10.

	* configure.ac: Version 1.10.
	* NEWS: Update.

2006-09-04  Roland Levillain  <roland@lrde.epita.fr>

	Gain in conciseness in Tcsh.

	* tcsh/python/ti.py, tcsh/python/test.py: Remove superfluous calls
	to exit().
	* tcsh/ruby/ti.rb, tcsh/ruby/test.rb: Likewise.

2006-07-28  Roland Levillain  <roland@lrde.epita.fr>

	Aesthetic changes in Tcsh.

	* tcsh/python/tc.py (has): New function.
	* tcsh/python/ti.py, tcsh/python/test.py: Use it.
	* tcsh/ruby/tc.rb (Tc::has?): New class method.
	* tcsh/ruby/ti.rb, tcsh/ruby/test.rb: Use it.

2006-07-28  Roland Levillain  <roland@lrde.epita.fr>

	Add tcsh/ruby/test.rb.

	* tcsh/ruby/test.rb: New.
	* tcsh/ruby/tcsh.test (testsdir): Enable test.rb.
	* tcsh/ruby/Makefile.am (AM_LDFLAGS): Remove disabled (useless)
	flags.
	(EXTRA_DIST): Add test.rb
	* NEWS: Update.

2006-07-27  Roland Levillain  <roland@lrde.epita.fr>

	Tcsh does Ruby.

	* src/bind/tiger_bind.i, src/type/tiger_type.i: Factor the
	wrapping of misc::Error...
	* src/misc/tiger_misc.i: ...here, to avoid symbol clashes.
	* tcsh/ruby/ltrequire.rb: New.
	* tcsh/ruby/tc.rb: New.
	* tcsh/ruby/run.in: New.
	* tcsh/ruby/tcsh.test, tcsh/ruby/ti.rb: New tests.
	* build-aux/with-tcsh.m4: Check for Ruby.
	* configure.ac: Bump to 1.9a.
	(DARWIN): New Automake conditional.
	Configure tcsh/ruby/Makefile and tcsh/ruby/run.
	* tcsh/generate-swig-mk: Take the target language as first
	parameter.
	Handle Ruby in addition to Python.
	* bootstrap: Adjust.
	* tcsh/python/Makefile.am ($(srcdir)/swig.mk): Adjust.
	* tcsh/Makefile.am (SUBDIRS): Add ruby.
	* tcsh/ruby/Makefile.am: New.
	* dev/stagize: Typo in comment.

2006-06-21  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.9.
	For 2008-tc-8.0.

	* configure.ac: Version 1.9.
	* NEWS: Update.

2006-06-19  Roland Levillain  <roland@lrde.epita.fr>

	Fix monoburg++ w.r.t. NetBSD's Bourne shell.

	* configure.ac, NEWS: Bump to 1.8a.
	* build-aux/monoburg++.in (is_member): Remove function.

2006-06-15  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.8.
	For 2008-tc-7.0.

	* configure.ac: Version 1.8.
	* NEWS: Update.
	* src/parse/Makefile.am ($(srcdir)/parsetiger.stamp): Explain the
	dependency.
	* src/target/ia32/Makefile.am, src/target/mips/Makefile.am
	($(srcdir)/codegen.stamp): Likewise.
	Fix stamp path.
	Regen monoburg++ if needed before executing the action.
	(EXTRA_DIST, $(srcdir)/codegen.hh $(srcdir)/codegen.cc): Adjust.
	* src/target/ia32/target.hh: Typo in comment.

2006-05-31  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.7.
	For 2008-tc-6.0.

	* configure.ac: Version 1.7.
	* NEWS: Update.
	* src/translate/level.hh: Normalize a comment to please
	studentize.

2006-05-22  Roland Levillain  <roland@lrde.epita.fr>

	End tests from tests/runtime with a carriage return.

	* tests/runtime/chr-out-of-range1.tig,
	* tests/runtime/chr-out-of-range2.tig,
	* tests/runtime/substring-out-of-bounds2.tig,
	* tests/runtime/substring-out-of-bounds3.tig,
	* tests/runtime/substring-out-of-bounds1.tig: End these tests with
	a carriage return.

2006-05-13  Fabien Ouy  <fabien@epita.fr>

	Test runtime functions with tc-check.

	* tests/runtime: New. Test runtime functions.
	* tests/runtime/Makefile.am,
	* tests/runtime/chr-out-of-range2.lpr,
	* tests/runtime/chr-out-of-range2.u.s,
	* tests/runtime/chr-out-of-range1.hir,
	* tests/runtime/chr-out-of-range2.hir,
	* tests/runtime/chr-out-of-range1.tig,
	* tests/runtime/chr-out-of-range2.tig,
	* tests/runtime/chr-out-of-range1.u.s,
	* tests/runtime/chr-out-of-range1.lir,
	* tests/runtime/chr-out-of-range2.lir,
	* tests/runtime/chr-out-of-range1.-e.u.s,
	* tests/runtime/chr-out-of-range2.-e.s,
	* tests/runtime/chr-out-of-range2.-e.u.s,
	* tests/runtime/chr-out-of-range1.lpr,
	* tests/runtime/chr-out-of-range2.s,
	* tests/runtime/chr-out-of-range1.hpr,
	* tests/runtime/chr-out-of-range2.err,
	* tests/runtime/chr-out-of-range1.err,
	* tests/runtime/chr-out-of-range2.sta,
	* tests/runtime/chr-out-of-range1.sta,
	* tests/runtime/chr-out-of-range2.out,
	* tests/runtime/chr-out-of-range1.out,
	* tests/runtime/chr-out-of-range1.-e.s,
	* tests/runtime/chr-out-of-range1.s,
	* tests/runtime/chr-out-of-range2.hpr,
	* tests/runtime/substring-out-of-bounds3.lir,
	* tests/runtime/substring-out-of-bounds1.-e.u.s,
	* tests/runtime/substring-out-of-bounds1.u.s,
	* tests/runtime/substring-out-of-bounds3.lpr,
	* tests/runtime/substring-out-of-bounds2.u.s,
	* tests/runtime/substring-out-of-bounds2.lpr,
	* tests/runtime/substring-out-of-bounds3.-e.u.s,
	* tests/runtime/substring-out-of-bounds3.u.s,
	* tests/runtime/substring-out-of-bounds1.hir,
	* tests/runtime/substring-out-of-bounds1.tig,
	* tests/runtime/substring-out-of-bounds2.hir,
	* tests/runtime/substring-out-of-bounds2.tig,
	* tests/runtime/substring-out-of-bounds3.hir,
	* tests/runtime/substring-out-of-bounds3.tig,
	* tests/runtime/substring-out-of-bounds1.lpr,
	* tests/runtime/substring-out-of-bounds3.hpr,
	* tests/runtime/substring-out-of-bounds3.err,
	* tests/runtime/substring-out-of-bounds1.lir,
	* tests/runtime/substring-out-of-bounds2.hpr,
	* tests/runtime/substring-out-of-bounds3.sta,
	* tests/runtime/substring-out-of-bounds1.out,
	* tests/runtime/substring-out-of-bounds2.err,
	* tests/runtime/substring-out-of-bounds2.-e.s,
	* tests/runtime/substring-out-of-bounds1.hpr,
	* tests/runtime/substring-out-of-bounds2.sta,
	* tests/runtime/substring-out-of-bounds1.err,
	* tests/runtime/substring-out-of-bounds1.-e.s,
	* tests/runtime/substring-out-of-bounds1.s,
	* tests/runtime/substring-out-of-bounds1.sta,
	* tests/runtime/substring-out-of-bounds3.out,
	* tests/runtime/substring-out-of-bounds2.s,
	* tests/runtime/substring-out-of-bounds2.out,
	* tests/runtime/substring-out-of-bounds3.-e.s,
	* tests/runtime/substring-out-of-bounds3.s,
	* tests/runtime/substring-out-of-bounds2.-e.u.s,
	* tests/runtime/substring-out-of-bounds2.lir,
	* tests/runtime/Makefile.in: New.
	* configure.ac,
	* tests/Makefile.am: Adjust.
	* tests/mk-Makefile-am: Adjust to handle the `runtime' directory.
	* tests/tc-check.in: Launch runtime tests when nolimips is invoked.

2006-05-12  Roland Levillain  <roland@lrde.epita.fr>

	By default, don't check _main when using overloading.

	* tests/tc-check.in (maintainer): New option.  When used,
	enable...
	(maintainer_mode_p): ...this variable (new).
	(tests{101}): Consult this variable to decide whether to use
	tests from overload-bind-maint and overload-type-maint.
	(tarball_test): Add a missing semicolon.
	* tests/overload-bind/inner-_main-fundec.tig,
	* tests/overload-bind/nonexistent-_main.tig: Move files...
	* tests/overload-bind-maint/inner-_main-fundec.tig
	* tests/overload-bind-maint/nonexistent-_main.tig: ...here.
	* tests/overload-type/bad-_main-type.tig: Move file...
	* tests/overload-type-maint/bad-_main-type.tig: ...here
	* tests/mk-Makefile-am: Add overload-bind-maint and
	overload-type-maint to the list of visited directories.
	* tests/overload-bind-maint/Makefile.am,
	* tests/overload-type-maint/Makefile.am: New files.
	* tests/overload-bind: Remove directory.
	* tests/bind/Makefile.am (dist_noinst_DATA): Add
	nonexistent-_main.tig (generated file)
	* tests/type/Makefile.am (dist_noinst_DATA): Add
	bad-_main-type.tig (generated file).
	* tests/Makefile.am (TC_CHECK_FLAGS): Add --maintainer.

2006-05-11  Fabien Ouy  <fabien@epita.fr>

	Test the renamings (TC-R) with tc-check.

	* tests/tc-check.in (renaming_check, renamings_check_one): New. Test
	bindings are still correct and identifiers are unique.

2006-05-05  Roland Levillain  <roland@lrde.epita.fr>

	* TODO: Update.

2006-05-04  Roland Levillain  <roland@lrde.epita.fr>

	Factor the visit of functions' headers in overload::TypeVisitor.

	* src/overload/type-visitor.hh, src/overload/type-visitor.cc
	(overfun_header_visit): Remove this function (was a duplicate of
	type::TypeVisitor::visitDecHeader<ast::FunctionDec>).
	(overfun_body_visit): Rename as...
	(visitDecBody): ...this.
	(operator() (ast::FunctionDecs&)):
	s/overfun_header_visit/visitDecHeader/.
	s/overfun_body_visit/visitDecBody/.

2006-05-04  Roland Levillain  <roland@lrde.epita.fr>

	Check _main's presence, location and type in programs with
	overloaded functions.

	* configure.ac, NEWS: Bump to 1.6a.
	* src/bind/bind-visitor.hh (BindVisitor::level_)
	(BindVisitor::main_found_): Make them protected instead of
	private.
	(BindVisitor::BindVisitor): Adjust their relative order of
	initialization in ctor.
	* src/overload/bind-visitor.cc (BindVisitor::visitDecHeader):
	Forbid declarations of _main in inner levels.
	* src/overload/type-visitor.cc
	(TypeVisitor::overfun_header_visit): Check _main's type.
	* src/overload/liboverload.cc (bind): Check for _main's presence.
	* tests/bind/nonexistent-_main.tig
	* tests/type/bad-_main-type.tig,
	* tests/overload-bind/nonexistent-_main.tig,
	* tests/overload-bind/inner-_main-fundec.tig,
	* tests/overload-type/bad-_main-type.tig: New tests.
	* tests/tc-check.in: Perform tests on the bindings of programs
	with overloaded function.

2006-05-03  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.6.
	For 2008-tc-5.0.

	* configure.ac: Version 1.6.
	* NEWS: Update.
	* src/misc/test-xalloc.cc (main): Get rid of a warning about a
	possibly undefined behavior.

2006-05-03  Roland Levillain  <roland@lrde.epita.fr>

	* src/symbol/test-symbol.cc: Test symbol::is_main().

2006-05-03  Roland Levillain  <roland@lrde.epita.fr>

	Handle the case of a _main symbol containing an address.
	This occurs when reparsing a pretty-printed AST with binding
	information.

	* src/symbol/symbol.hh, src/symbol/symbol.cc (is_main): New
	function.
	Tell whether a symbol represents the `_main' entry point function,
	even when it embeds an address.
	* src/symbol/symbol.cc (match_substring): New (internal) function.
	* src/bind/bind-visitor.cc (operator() (ast::CallExp&))
	(visitDecHeader<ast::FunctionDec>)
	* src/type/type-visitor.cc (visitDecHeader<ast::FunctionDec>):
	Use symbol::is_main to check the `_main' function.

2006-05-03  Roland Levillain  <roland@lrde.epita.fr>

	* src/parse/scantiger.ll: Fix error message format for scanned
	integers out of bounds.

2006-05-02  Roland Levillain  <roland@lrde.epita.fr>

	Better fix tcsh.

	* tcsh/python/test.py (tc.target.frame_allocate): Run it when
	the script is known to stop after the instruction selection
	(i.e., TC-7); skip it otherwise.

2006-05-02  Roland Levillain  <roland@lrde.epita.fr>

	Regen parsetiger.hh using a more recent version of Bison.

	* src/parse/parsetiger.hh: Regen.

2006-04-30  Roland Levillain  <roland@lrde.epita.fr>

	* src/parse/parsetiger.yy (metavar): Add a `template' keyword
	to get rid of a syntactic ambiguity that makes Apple G++ 3.3 die
	with a SIGBUS.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc: Regen.

2006-04-28  Roland Levillain  <roland@lrde.epita.fr>

	Fix tcsh.

	* tcsh/python/test.py: Don't use tc.target.frame_allocate, since
	it is broken.
	(tempmap): Fetch it from the CPU.
	No longer sys.exit(77) before tests that used to fail (and fixed
	since).
	* src/target/tiger_target.i: Wrap target::mips::Cpu and
	target::ia32::Cpu.
	* src/liveness/tiger_liveness.i (flowgraph_dump, liveness_dump)
	(interference_dump): New wrappers (workarounds).
	* src/target/cpu.hh, src/target/cpu.cc
	(special_reg (const std::string&)): Remove this (useless) method.

2006-04-25  Fabien Ouy  <fabien@epita.fr>

	Factor metavar access in parsetiger.yy.

	* src/parse/parsetiger.yy
	(metavar (parse::TigerInput&, unsigned)): New. Get a metavar from
	the current TigerInput.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc: Regen.

2006-04-20  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy: Kill the remaining renamings from cast
	to _cast.  This is a mis-feature from Bison, it accepts tokens
	that can't be reached!
	Provide a better name for the remaining "named" metavars.

2006-04-20  Akim Demaille  <akim@epita.fr>

	Clean up the delivery/documentation generation code.
	* dev/stagize: Simplify some duplicate code.
	Be robust to stage=doc.
	* Makefile.am (install-doc): Rename the directory to avoid
	clashes with concurrent builds.
	(studir): Set distdir to allow parallel builds (with different
	names) instead of renaming the directory afterward.

2006-04-20  Akim Demaille  <akim@epita.fr>

	Rename cast as _cast.
	* configure.ac: Bump to 1.5a.
	* src/parse/parsetiger.yy (CAST): This token is now designating
	_cast.
	* src/parse/scantiger.ll (cast): Adjust.
	(EXTENSION): Remove.
	* src/desugar/bound-checking-visitor.cc (desugar): Adjust to the
	renaming of _cast.

2006-04-17  Benoit Perrot  <benoit@lrde.epita.fr>

	Move architecture-dependant features (cpu and assembly) from
	abstract to concrete targets.

	* src/target/codegen.hh,
	* src/target/codegen.hxx,
	* src/target/codegen.cc:
	(cpu_, cpu_set, assembly_get): Move to...
	* src/target/ia32/prologue.hh, src/target/ia32/epilogue.cc:
	(cpu_, cpu_set, assembly_get): here, and prefer concrete types.
	(ia32_assembly_get): Remove.
	* src/target/mips/prologue.hh, src/target/mips/epilogue.cc:
	(cpu_ cpu_set, assembly_get): and here and prefer concrete types.
	(mips_assembly_get): Remove.
	* src/target/ia32/target.cc,
	* src/target/mips/target.cc:
	Update accordingly.

	* src/target/ia32/gas-assembly.hh,
	* src/target/mips/spim-assembly.hh:
	(binop_build, move_build, load_build, store_build, label_build)
	(cjump_build, jump_build, call_build, leave_build, ret_build):
	Un-virtualize, as they are totaly architecture-dependant.

	* src/target/mips/codegen.cc,
	* src/target/mips/codegen.hh,
	* src/target/ia32/codegen.hh,
	* src/target/ia32/codegen.cc:
	Regenerate.

2006-04-17  Benoit Perrot  <benoit@lrde.epita.fr>

	Kill macro redefinition in target.

	* src/target/ia32/prologue.hh:
	Rename ASSEMBLY as IA32_ASSEMBLY.
	* src/target/ia32/move.brg,
	* src/target/ia32/binop.brg,
	* src/target/ia32/call.brg,
	* src/target/ia32/mem.brg,
	* src/target/ia32/cjump.brg,
	* src/target/ia32/move_store.brg,
	* src/target/ia32/exp.brg,
	* src/target/ia32/stm.brg,
	* src/target/ia32/move_load.brg:
	Update accordingly.
	* src/target/ia32/codegen.hh,
	* src/target/ia32/codegen.cc:
	Regenerate.

	* src/target/mips/prologue.hh:
	Rename ASSEMBLY as MIPS_ASSEMBLY.
	* src/target/mips/move.brg,
	* src/target/mips/binop.brg,
	* src/target/mips/call.brg,
	* src/target/mips/cjump.brg,
	* src/target/mips/mem.brg,
	* src/target/mips/move_store.brg,
	* src/target/mips/exp.brg
	* src/target/mips/stm.brg
	* src/target/mips/move_load.brg:
	Update accordingly.
	* src/target/mips/codegen.hh,
	* src/target/mips/codegen.cc:
	Regenerate.

2006-04-17  Benoit Perrot  <benoit@lrde.epita.fr>

	Help doxygen.

	* src/bind/rename-visitor.hh,
	* src/target/ia32/gas-layout.hh,
	* src/target/ia32/target.hh,
	* src/target/ia32/gas-assembly.hh,
	* src/target/ia32/cpu.hh,
	* src/target/ia32/prologue.hh,
	* src/target/codegen.hh,
	* src/target/mips/spim-layout.hh,
	* src/target/mips/spim-assembly.hh,
	* src/target/mips/prologue.hh,
	* src/target/mips/cpu.hh, src/target/mips/cpu.cc,
	* src/target/libtarget.hh,
	* src/target/assembly.hh:
	Complete documentation. Fix \file directives.

	* src/target/ia32/codegen.hh,
	* src/target/mips/codegen.hh:
	Regenerate.

2006-04-13  Akim Demaille  <akim@lrde.epita.fr>

	Version 1.5.
	For 2008-tc-4.1.
	* Makefile.am: Use && to chain actions, not ; which hides failures.

2006-04-13  Akim Demaille  <akim@lrde.epita.fr>

	* src/parse/scantiger.ll: Scan ints as unsigned smaller that
	INT_MAX.
	* tests/good/large-ints.tig, tests/lexical/too-large-ints.tig,
	* tests/good/mini-morpho.tig: Adjust.

2006-04-13  Roland Levillain  <roland@lrde.epita.fr>

	Prevent test-tiger-input from breaking the TC-1 distribution.

	* src/parse/test-tiger-input.cc: Add studentize tags to prune code
	at TC-1.
	* dev/stagize: Prune this file.
	* src/version.cc.in: Add Emacs C++-mode tag.
	* NEWS: Update.

2006-04-13  Christophe Duong  <chris@epita.fr>

	* src/parse/tiger-input.cc, src/parse/test-tiger-input.cc,
	* src/parse/Makefile.am: Add test for TigerInput.

2006-04-11  Roland Levillain  <roland@lrde.epita.fr>

	Please NetBSD's shell.

	* bootstrap: Get rid of `function' keywords, as NetBSD's /bin/sh
	rejects them.
	* src/parse/parsetiger.yy: Remove extra comment.

2006-04-10  Arnaud Fabre  <fabre_a@epita.fr>

	Add some documentation with UML diagrams.

	* doc/schema.xmi: New file.

2006-04-08  Fabien Ouy  <fabien@epita.fr>

	Factor source inputs in TigerParser with a variant.

	* src/parse/tiger-parser.hh: Introduce a variant for input_ and
	filename_.
	* src/parse/scantiger.ll (scan_open), src/parse/tiger-parser.cc,
	* src/parse/parsetiger.yy: Adjust.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc: Regen.

2006-04-06  Roland Levillain  <roland@lrde.epita.fr>

	* tests/tc-check.in: Be robust to buildirs having regexp
	metacharacters in their name.

2006-04-06  Roland Levillain  <roland@lrde.epita.fr>

	Fix the last patch.

	* src/desugar/tasks.cc, src/inlining/tasks.cc (apply): Add
	missing typename keyword before the type of the first (template)
	argument.

2006-04-06  Roland Levillain  <roland@lrde.epita.fr>

	Use template function signatures in tasks using `apply' routines.
	By the way, this helps the Intel C++ Compiler to find the right
	apply function at call sites.

	* src/desugar/tasks.cc, src/inlining/tasks.cc (applicable): New.
	(apply): Use it to write the type of an applicable function.
	* src/temp/temp.cc, src/temp/label.cc: Remove useless namespace
	qualifiers.
	* doc/Makefile.am: Explain why sed is used instead of configure to
	generate Doxyfile.

2006-04-05  Roland Levillain  <roland@lrde.epita.fr>

	Please Darwin's ld and Apple's GCC 3.3.

	* configure.ac: Bump to 1.4a.
	* src/Makefile.am (tc_LDADD): Switch libtask and libtc to
	satisfy the dependency of the former on the latter.
	* src/temp/temp.cc: Move misc::Endomap <temp::Temp> explicit
	instantiation into the misc namespace.
	* src/temp/label.cc: Move misc::Endomap<temp::Label> explicit
	instantiation into the misc namespace.

2006-04-05  Akim Demaille  <akim@epita.fr>

	Version 1.4.
	For 2008-tc-4.0.
	* bootstrap: Delete stray exit.

2006-04-05  Akim Demaille  <akim@lrde.epita.fr>

	* bootstrap (awk_strverscmp, require, version_compare, fatal): New.
	Check the version of some of the bootstrapping tools.
	* dev/stats (count): Don't depend on tail -1.

2006-04-05  Christophe Duong  <chris@epita.fr>

	Prepare the release of TC-4.

	* src/type/function.hh, src/type/function.cc,
	* src/inlining/inline-visitor.cc, src/inlining/inline-visitor.hh,
	* src/inlining/prune-visitor.hh, src/inlining/prune-visitor.cc:
	Fix some students marks.

2006-04-03  Roland Levillain  <roland@lrde.epita.fr>

	Have tcsh work on Mac OS X as well as on Debian GNU/Linux, i.e.
	some features are still broken, but tcsh runs equally good on both
	systems.

	* src/Makefile.am (libtc_la_LIBADD): Move $(libtask_la)...
	(tc_LDADD): ...here.
	* tcsh/python/tc.py: Don't try to import tiger_cppgen, as it no
	longer exists.

2006-04-03  Akim Demaille  <akim@lrde.epita.fr>

	Add new tests, that we fail, and fix them.
	* tests/lexical/too-large-ints.tig,
	* tests/good/large-ints.tig: New
	* src/parse/scantiger.ll (int): Use strtol instead of atoi, which
	interface is way too poor.
	Check the returned value fits in the bounds.
	Accept negative integer literals.

2006-04-03  Fabien Ouy  <fabien@epita.fr>

	* src/symbol/test-symbol.cc: Only test when the content
	of the string is changed, not the memory address.

2006-04-02  Christophe Duong  <chris@epita.fr>

	Fix compilation error and warnings with g++ 4.1.

	* src/type/type-visitor.hh, src/bind/rename-visitor.hh: Fix
	extra qualification of class name on member functions.
	* src/temp/label.cc, src/temp/temp.cc: Fix usage of not enclosed
	namespaces.
	* src/misc/set.hh: Help g++-4.1 find the method std::set::find
	from superclass.

2006-04-02  Fabien Ouy  <fabien@epita.fr>

	Add some unit tests in symbol.

	* src/symbol/test-symbol.cc: Add tests with pointers on string
	deleted after insertion.

2006-04-02  Fabien Ouy  <fabien@epita.fr>

	Install tc-check patch suggested by Alexis Sebbane.

	* tests/tc-check.in: Look for the AUTHORS file in the right
	directory.

2006-04-01  Fabien Ouy  <fabien@epita.fr>

	Some cleaning in the type module.

	* src/type/array.hh, src/type/named.cc, src/type/record.hh: Typo.
	* src/type/array.hxx, src/type/builtin-types.hh,
	* src/type/record.cc, src/type/type-visitor.hh: Add some context
	about fixmes.
	* src/type/named.hxx: Add a free line.
	* src/type/type-visitor.cc: Simplify visit of VarDec since formals
	are not in fields anymore.

2006-03-31  Akim Demaille  <akim@epita.fr>

	Version 1.3a.
	Various cleanups.
	* src/desugar/libdesugar.hh,
	* src/desugar/libdesugar.cc: Use template functions rather that
	the former extract_result function.
	* src/desugar/desugar-visitor.hh,
	* src/desugar/desugar-visitor.cc: Adjust marks.
	Formatting changes.
	Don't use using namespace, it is not worth it here.
	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/bound-checking-visitor.cc: Fix marks.
	Don't use using namespace, it is not worth it here.
	(prelude): New.
	(parse_decs_): No longer a member function, but...
	(parse_decs): this free function.
	(box_prefix_): Replace with...
	(box): this new function.
	* src/overload/type-visitor.hh,
	* src/overload/type-visitor.cc: Adjust student marks.

2006-03-31  Akim Demaille  <akim@epita.fr>

	Version 1.3.
	For 2008-tc-3.0.
	* src/target/ia32/gas-assembly.cc: Fix student marks.
	Comment changes.
	* src/bind/rename-visitor.hh, src/bind/rename-visitor.cc:
	Fix marks.
	* src/bind/bind-visitor.hxx (undeclared): Move to...
	* src/bind/bind-visitor.cc: here, since this routine is not used
	elsewhere (except the overloaded BindVisitor, but on the same
	types).

2006-03-30  Fabien Ouy  <fabien@epita.fr>

	* configure.ac: Update version.
	* NEWS: Adjust.

2006-03-30  Christophe Duong  <chris@epita.fr>

	Prepare the release of TC-4.

	* src/desugar/bound-checking-visitor.cc,
	* src/inlining/prune-visitor.hh,
	* src/overload/bind-visitor.cc: Fix some students marks.

2006-03-28  Fabien Ouy  <fabien@epita.fr>

	* src/parse/libparse/hh, src/parse/libparse.cc (parse_unit): New.
	Introduce the _main function before parsing.
	* src/bind/test-bind.cc: Adjust.

2006-03-28  Fabien Ouy  <fabien@epita.fr>

	* src/type/type-visitor.cc (visitDecHeader<ast::FunctionDec>): Check
	the type of the _main function.

2006-03-28  Christophe Duong  <chris@epita.fr>

	* src/misc/map.hxx (take): Return a copy of the
	removed element, not a reference on it.

2006-03-28  Fabien Ouy  <fabien@epita.fr>

	Die after binding of source with no _main function.

	* src/bind/libbind.cc (bind): Check `_main' is declared.
	* src/bind/bind-visitor.hh, src/bin/bind-visitor.cc
	(check_main): New. Check if `_main' is declared in the AST.
	* src/bind/bind-visitor.cc (visitDecHeader<ast::FunctionDec>):
	Remember when `_main' is found.

2006-03-22  Roland Levillain  <roland@lrde.epita.fr>

	Fix the output of `make \%.diff'.

	* configure.ac: Bump to 1.2a.
	Use AC_CONFIG_HEADERS instead of AM_CONFIG_HEADER.
	* dev/diff-r: Ignore parse/location.hh, not location.hh.

2006-03-21  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.2.
	For 2008-tc-2.0.

	* configure.ac: Version 1.2.
	* NEWS: Update.

2006-03-21  Roland Levillain  <roland@lrde.epita.fr>

	Latest changes before the TC-2 release.

	* src/parse/libparse.cc (parse::parse): Don't enable language
	extensions when adding _main: _main is already a valid
	identifier.
	* src/ast/ast.yml (Typable, TypeConstructor): Use a fully
	qualified class name in Doxygen comment.
	(CastExp, CastVar): Document these classes.
	* src/ast/typable.hh, src/ast/type-constructor.hh,
	* src/ast/cast-exp.hh, src/ast/cast-var.hh: Regen.
	* dev/stagize: Remove it from student tarballs.
	* dev/studentize_tc.conf: Remove cppgen.

2006-03-21  Roland Levillain  <roland@lrde.epita.fr>

	Fix seq() in dev/stagize.

	* dev/stagize (seq): Respect the interface of GNU seq.
	Touch the Makefile.am's instead of removing the Makefile.in's.
	Prune back build-aux/Makefile.am

2006-03-21  Roland Levillain  <roland@lrde.epita.fr>

	Fix the student TC-2 distribution.

	* dev/stagize: Remove the Makefile.in's in the distdir, to
	prevent studentize from choking on them.

2006-03-21  Roland Levillain  <roland@lrde.epita.fr>

	Mac OS X 10.3 (Panther) compatibility.

	* src/parse/tiger-parser.hh (YYLEX_SIGNATURE): Add scope
	resolution operators to help g++ 3.3 to parse this.
	* src/parse/parsetiger.yy (%parse-param, %lex-param): Likewise.
	* src/target/tasks.cc (target_mips, target_ia32): Likewise.
	* dev/stagize (seq): New function.  A replacement for the program
	of the same name from the GNU coreutils.

2006-03-20  Roland Levillain  <roland@lrde.epita.fr>

	Prepare the TC-2 release.

	* NEWS: Update.
	* src/parse/tiger-parser.hh (YYDECL, YYLEX_SIGNATURE) [!SWIG]:
	Hide them to SWIG, since it fails to parse them.
	Move SWIG template instantiations...
	* src/parse/tiger_parse.i: ...here.
	(yy::position, yy::location): Rename as...
	(parse::positionm, parse::location): ...these.

2006-03-20  Roland Levillain  <roland@lrde.epita.fr>

	More TCSH repair.

	* src/misc/error.hh, src/misc/error.hxx (~Error): Add an explicit
	destructor.
	* src/bind/tiger_bind.i, src/type/tiger_type.i: Wrap and export
	misc::Error.
	* src/target/tiger_target.i: Wrap target::mips::Target and
	target::ia32::Target.
	* src/parse/tiger-input.hh [SWIG]: Instantiate the template
	MetavarMap classes for SWIG.
	* tcsh/python/test.py: Remove dead code testing CppGen.
	Typo.
	* dev/stagize: Remove or replace remaining occurences of codegen.
	* tcsh/generate-swig-mk: Use a silent Automake comment.

2006-03-19  Benoit Perrot  <benoit@lrde.epita.fr>

	Merge codegen/ into target/.

	* src/regalloc/regallocator.cc,
	* src/regalloc/tasks.cc,
	* src/liveness/interference-graph.hh,
	* src/liveness/tasks.cc,
	* src/target/target.hh, src/target/target.cc
	* src/target/codegen.cc,
	* tcsh/python/test.py
	Search for headers and classes that were in codegen in target.
	* tcsh/python/tc.py: Do not import the codegen module anymore.

	* src/tc.mk:
	Remove libcodegen.la from libraries to make.
	* src/Makefile.am:
	Remove codegen from SUBDIRS.
	* configure.ac:
	Update accordingly.

	* src/codegen/tasks.hh, src/codegen/tasks.cc,
	* src/codegen/fwd.hh
	* src/codegen/Makefile.am
	* src/codegen/tiger_codegen.i,
	* src/codegen/ia32/fwd.hh,
	* src/codegen/ia32/Makefile.am,
	* src/codegen/mips/Makefile.am,
	Merge into...
	* src/target/tasks.hh, src/target/tasks.cc,
	* src/target/fwd.hh
	* src/target/Makefile.am
	* src/target/tiger_target.i,
	* src/target/ia32/fwd.hh
	* src/target/ia32/Makefile.am
	* src/target/mips/Makefile.am
	These files, respectively.

	* src/codegen/assembly.hh, src/codegen/assembly.cc
	* src/codegen/tiger-runtime.c
	* src/codegen/codegen.hh, src/codegen/codegen.hxx,
	* src/codegen/codegen.cc,
	* src/codegen/libcodegen.hh, src/codegen/libcodegen.cc
	* src/codegen/monoburg.mk
	* src/codegen/ia32/binop.brg,
	* src/codegen/ia32/call.brg,
	* src/codegen/ia32/cjump.brg,
	* src/codegen/ia32/exp.brg,
	* src/codegen/ia32/mem.brg,
	* src/codegen/ia32/move.brg,
	* src/codegen/ia32/move_load.brg,
	* src/codegen/ia32/move_store.brg,
	* src/codegen/ia32/stm.brg,
	* src/codegen/ia32/temp.brg,
	* src/codegen/ia32/tree.brg,
	* src/codegen/ia32/runtime.s,
	* src/codegen/ia32/gas-layout.hh, src/codegen/ia32/gas-layout.cc,
	* src/codegen/ia32/gas-assembly.hh, src/codegen/ia32/gas-assembly.cc,
	* src/codegen/ia32/prologue.hh, src/codegen/ia32/epilogue.cc,
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/codegen.cc,
	* src/codegen/mips/binop.brg
	* src/codegen/mips/call.brg
	* src/codegen/mips/cjump.brg
	* src/codegen/mips/exp.brg
	* src/codegen/mips/mem.brg
	* src/codegen/mips/move.brg
	* src/codegen/mips/move_load.brg
	* src/codegen/mips/move_store.brg
	* src/codegen/mips/stm.brg
	* src/codegen/mips/temp.brg
	* src/codegen/mips/tree.brg
	* src/codegen/mips/runtime.s,
	* src/codegen/mips/spim-layout.hh, src/codegen/mips/spim-layout.cc,
	* src/codegen/mips/spim-assembly.hh, src/codegen/mips/spim-assembly.cc,
	* src/codegen/mips/prologue.hh, src/codegen/mips/epilogue.cc,
	* src/codegen/mips/codegen.hh, src/codegen/mips/codegen.cc,
	* src/codegen/mips/test-rw_prg.cc
	Move into...

	* src/target/assembly.hh, src/target/assembly.cc
	* src/target/tiger-runtime.c,
	* src/target/codegen.hh, src/target/codegen.hxx,
	* src/target/codegen.cc,
	* src/target/libtarget.hh, src/target/libtarget.cc,
	* src/target/monoburg.mk
	* src/target/ia32/binop.brg,
	* src/target/ia32/call.brg,
	* src/target/ia32/cjump.brg,
	* src/target/ia32/exp.brg,
	* src/target/ia32/mem.brg,
	* src/target/ia32/move.brg,
	* src/target/ia32/move_store.brg,
	* src/target/ia32/move_load.brg,
	* src/target/ia32/stm.brg,
	* src/target/ia32/temp.brg,
	* src/target/ia32/tree.brg,
	* src/target/ia32/runtime.s,
	* src/target/ia32/gas-layout.hh, src/target/ia32/gas-layout.cc
	* src/target/ia32/gas-assembly.hh, src/target/ia32/gas-assembly.cc
	* src/target/ia32/prologue.hh, src/target/ia32/epilogue.cc,
	* src/target/ia32/codegen.hh, src/target/ia32/codegen.cc,
	* src/target/mips/binop.brg,
	* src/target/mips/call.brg,
	* src/target/mips/cjump.brg,
	* src/target/mips/exp.brg,
	* src/target/mips/mem.brg,
	* src/target/mips/move.brg,
	* src/target/mips/move_load.brg,
	* src/target/mips/move_store.brg,
	* src/target/mips/stm.brg,
	* src/target/mips/temp.brg,
	* src/target/mips/tree.brg,
	* src/target/mips/runtime.s,
	* src/target/mips/spim-layout.hh, src/target/mips/spim-layout.cc,
	* src/target/mips/spim-assembly.hh, src/target/mips/spim-assembly.cc,
	* src/target/mips/prologue.hh, src/target/mips/epilogue.cc,
	* src/target/mips/codegen.hh, src/target/mips/codegen.cc,
	* src/target/mips/test-rw_prg.cc
	These files respectively, and use target:: namespace instead of
	codegen:: when relevant.

	* src/target/ia32-target.hh, src/target/ia32-target.cc,
	* src/target/ia32-cpu.hh, src/target/ia32-cpu.cc,
	* src/target/mips-target.hh, src/target/mips-target.cc,
	* src/target/mips-cpu.hh, src/target/mips-cpu.cc,
	Rename as...
	* src/target/ia32/target.hh, src/target/ia32/target.cc,
	* src/target/ia32/cpu.hh, src/target/ia32/cpu.cc,
	* src/target/mips/target.hh, src/target/mips/target.cc,
	* src/target/mips/cpu.hh, src/target/mips/cpu.cc,
	These files, respectively.

2006-03-19  Benoit Perrot  <benoit@lrde.epita.fr>

	Fix tcsh compilation.

	* src/parse/tiger_parse.i: Include parse/fwd.hh to get ast_type.
	* src/ast/tiger_ast.i: Do not include ast/position.hh anymore.

2006-03-19  Roland Levillain  <roland@lrde.epita.fr>

	Fix the reentrancy of import parsing.

	* configure.ac: Bump to 1.1a.
	* src/parse/tiger-parser.cc (parse_import): Save the inputs before
	parsing the import, and set them back after.
	* src/parse/parsetiger.yy (importdec): Don't use a new TigerParser,
	as it breaks the detection of recursive inclusions.
	* src/misc/path.hh, src/misc/path.cc (append_rep): Rename as...
	(append_dir): ...this.
	Use the term ``directory'' instead of ``repertory''.

2006-03-19  Fabien Ouy  <fabien@epita.fr>

	* src/misc/test-error.cc, src/misc/test-indent.cc,
	* src/misc/test-separator.cc, src/misc/test-timer.cc,
	* src/misc/test-xalloc.cc: Don't write tests results on
	standard output.

2006-03-17  Christophe Duong  <chris@epita.fr>

	Split the different type classes into different files.
	* src/type/type.hh, src/type/type.cc, src/type/type.hxx,
	* src/type/function.hh, src/type/function.cc, src/type/function.hxx,
	* src/type/array.hh, src/type/array.cc, src/type/array.hxx,
	* src/type/builtin-types.hh, src/type/builtin-types.cc,
	* src/type/builtin-types.hxx, src/type/named.hh, src/type/named.cc,
	* src/type/named.hxx, src/type/record.hh, src/type/record.cc,
	* src/type/record.hxx, src/type/field.hh, src/type/field.cc,
	* src/type/field.hxx:
	New.
	* src/type/types.hh, src/type/types.cc, src/type/types.hxx:
	Split these files into new ones (one type per file except builtin
	types).
	* src/type/Makefile.am: Update accordingly.

2006-03-17  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.1.
	For 2008-tc-1.0.

	* configure.ac: Version 1.1.
	* NEWS, AUTHORS: Update.
	* dev/stagize: Check whether src/ast exists before remaming
	README.student.
	Remove the monoburg wrapper for stages below codegen.
	* dev/cut-bison-actions: Don't backup the input file.

2006-03-17  Roland Levillain  <roland@lrde.epita.fr>

	Fix the TC-1 distribution (again).

	* src/misc/filelibrary.hh: Use standard header guards.
	* src/parse/libparse.hh: Include misc/filelibrary.hh.

2006-03-17  Roland Levillain  <roland@lrde.epita.fr>

	Harden the parse module.

	* src/parse/tiger-parser.cc (parse_): Empty the inputs after
	the parsing.
	(parse_file, parse_input): Ensure that the inputs are empty
	before assigning them a new value.
	* src/parse/parsetiger.yy (import): Use a new parsing context
	to be (more) reentrant.

2006-03-17  Roland Levillain  <roland@lrde.epita.fr>

	Provide two versions of src/ast/README: one for the teacher, one
	for students.

	* dev/ast-readme-gen: Don't hide anything by default.
	Accept a --student flag.  When used, hide ctors tagged as such.
	* src/ast/Makefile.am ($(srcdir)/README.student): New target.
	Use `dev/ast-readme-gen --student' to generate it.
	(dist_noinst_DATA): Add README.student.
	* src/ast/README: Regen.
	* src/ast/README.student: New (generated).
	* dev/stagize: Regen README.student.
	Rename src/ast/README.student as src/ast/README in student mode.

2006-03-17  Roland Levillain  <roland@lrde.epita.fr>

	Use a reentrant parsing when desugaring in concrete syntax in the
	parser.

	* src/parse/parsetiger.yy (exp): Don't reuse the same (original)
	TigerParser when desugaring in concrete syntax.  Call parse::parse
	instead to use a fresh new parsing context, avoiding a bug where
	metavariable maps were smashed.
	* src/parse/metavar-map.hxx (take_): Die when the variable
	retrieval fails.
	* src/desugar/test-bound-checking.cc (test_bound_checking): New
	function.
	(main): New test adding bound checks to a DecsList-shaped
	program.

2006-03-17  Roland Levillain  <roland@lrde.epita.fr>

	Use boost::get instead of explicit or ``artificial'' casts.

	* src/parse/libparse.cc (parse): Use boost::get instead of
	static_cast.
	* src/desugar/desugar-visitor.cc (operator() (const ast::OpExp&))
	(operator() (const ast::ForExp&))
	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::ArrayExp&)),
	(operator() (const ast::SubscriptVar&))
	* src/inlining/inline-visitor.cc
	(operator() (const ast::CallExp&)): Use boost::get and save a
	temporary variable.

2006-03-17  Fabien Ouy  <fabien@epita.fr>

	* src/misc/scoped-map.hh, src/misc/scoped-map.hxx: Document
	student marks.

2006-03-17  Fabien Ouy  <fabien@epita.fr>

	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc
	(parse_input): New. Factor code between parse (TigerInput&)
	and parse (const std::string&).

2006-03-16  Roland Levillain  <roland@lrde.epita.fr>

	Move parse::parse_decs into BoundCheckingVisitor (which turns out
	to be its sole client).

	* src/parse/libparse.hh, src/parse/libparse.cc (parse_decs): Move
	and rename as...
	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/bound-checking-visitor.cc
	(BoundCheckingVisitor::parse_decs_): ...this.
	(BoundCheckingVisitor::operator() (const ast::TypeDecs&)):
	Adjust caller.

2006-03-16  Roland Levillain  <roland@lrde.epita.fr>

	Use a simpler wrapper over boost::variant.

	* src/misc/variant.hh, src/misc/variant.hxx: New files.
	(misc::variant): New class.
	* src/parse/fwd.hh (ast_type): Use misc::variant instead of
	misc::generic_variant.
	* src/misc/test-variant.cc: New test.
	* src/misc/Makefile.am (libmisc_la_SOURCES): Add variant.hh and
	variant.hxx.
	(check_PROGRAMS): Add test-variant.
	(test_variant_SOURCES, test_variant_CXXFLAGS): New.
	* src/misc/generic-variant.hh, src/misc/generic-variant.hxx
	* src/misc/test-generic-variant.cc: Fix Doxygen headers and
	documentation.

2006-03-16  Roland Levillain  <roland@lrde.epita.fr>

	Introduce a wrapper over boost::variant with automatic conversion
	abilities.  Use it to simplify the calls to the parse library.

	* src/misc/generic-variant.hh, src/misc/generic-variant.hxx: New
	files.
	(misc::generic_variant): New class.
	Use it to define...
	* src/parse/fwd.hh (ast_type): ...this typedef.
	(ast::Exp, ast::DecsList): Pre-declare them.
	* src/parse/tiger-parser.hh, src/parse/tiger-parser.hh
	(parse, parse_file): Return a parse::ast_type.
	Remove unneeded explicit instantiations.
	Adjust.
	(ast_type): Remove typedef.
	* src/parse/libparse.hh, src/parse/libparse.cc
	(parse (TigerInput&)): Return a parse::ast_type.
	Remove unneeded explicit instantiations.
	Adjust.
	(parse<ast::Decs>): Rename as...
	(parse_decs): ...this.
	(ast::Exp, ast::DecsList): Don't pre-declare them.
	* src/parse/parsetiger.yy, src/desugar/desugar-visitor.cc,
	* src/desugar/bound-checking-visitor.cc,
	* src/inlining/inline-visitor.cc: Adjust calls to parse::parse.
	* src/misc/test-generic-variant.cc: New test.
	* src/misc/Makefile.am (libmisc_la_SOURCES): Add
	generic-variant.hh and generic-variant.hxx.
	(check_PROGRAMS): Add test-generic-variant.
	(test_generic_variant_SOURCES, test_generic_variant_CXXFLAGS):
	New.
	* src/bind/test-bind.cc: Wrap lines longer than 80 columns.

2006-03-16  Akim Demaille  <akim@lrde.epita.fr>

	* src/misc/indent.cc (indent_index): Actually I prefer a function
	static argument, that's safer and cleaner, so move into...
	(indent): This new private function.
	Adjust all uses.

2006-03-16  Akim Demaille  <akim@lrde.epita.fr>

	* src/misc/indent.cc (indent_index): Declare const.
	Prefer an anonymous namespace over static.

2006-03-15  Fabien Ouy  <fabien@epita.fr>

	* src/parse/libparse.hh, src/parse/libparse.cc
	(parse (const std::string&)): New. Used for unit tests.
	* src/astclone/test-clone-visitor.cc, src/bind/test-bind.cc,
	* src/desugar/test-bound-checking.cc,
	* src/desugar/test-for-loops-desugar.cc,
	* src/desugar/test-string-cmp-desugar.cc,
	* src/parse/test-parse.cc: Adjust.

2006-03-15  Fabien Ouy   <fabien@epita.fr>

	* src/parse/tiger-parser.cc (parse (TigerInput&)): Extensions are
	not automatically enabled anymore.
	* src/parse/tiger-parser.cc (parse (const std::string&)): Extensions
	are disabled.

2006-03-15  Fabien Ouy  <fabien@epita.fr>

	* src/parse/tiger-parser.hh, src/parse/tiger-parser/cc
	(parse_string ()): Rename as `parse ()'
	* src/astclone/test-clone-visitor.cc, bind/test-bind.cc,
	* desugar/test-bound-checking.cc, desugar/test-for-lopps-desugar.cc,
	* desugar/test-string-cmp-desugar.cc, parse/libparse.cc,
	* parse/parsetiger.yy, parse/test-parse.cc: Adjust.
	* parse/parsetiger.cc: Regen.

2006-03-15  Akim Demaille  <akim@lrde.epita.fr>

	* src/parse/parsetiger.yy: I worried for nothing: there is no
	precedence issues possible with ASTs!

2006-03-15  Roland Levillain  <roland@lrde.epita.fr>

	Fix the TC-2 distribution.

	* src/ast/ast.yml: Move badly located studentize tag.
	* dev/stagize: Regen src/ast/ast.dot.

2006-03-14  Roland Levillain  <roland@lrde.epita.fr>

	Fix the TC-1 distribution.

	* src/desugar/test-for-loops-desugar.cc: Fix instantiation of
	TigerParser.
	* dev/cut-bison-actions: Avoid matching the LBRACE token when
	cutting blocks enclosed in braces.

2006-03-13  Roland Levillain  <roland@lrde.epita.fr>

	* NEWS: Typo and missing word in one of the latest entries.

2006-03-12  Akim Demaille  <akim@lrde.epita.fr>

	Desugaring is broken.
	Reported by Benoit Perrot.
	* src/parse/tiger-string.hh, src/parse/tiger-string.cc
	(parse_string): Enable extensions by default.
	* src/parse/test-parse.cc, src/desugar/test-bound-checking.cc,
	* src/desugar/test-for-loops-desugar.cc,
	* src/desugar/test-string-cmp-desugar.cc,
	* src/bind/test-bind.cc: Simplify accordingly.
	* src/parse/parsetiger.yy: Ahem, != is spelled <> in Tiger.
	While we are at it, beware of precedence issues with parens.  For
	instance desugaring `- (1 - 2)' should yield `0 - (1 - 2)', not `0
	- 1 - 2'.

2006-03-12  Akim Demaille  <akim@lrde.epita.fr>

	* configure.ac: Bump to 1.0a.

	Warning: you need to upgrade to the most recent CVS Bison.
	Use its support for %name-prefix in C++.
	* src/parse/parsetiger.yy: Do that.
	Replace `yy' with `parse'.
	Note that we cannot remove some `parse::' though, because glr.cc
	is actually putting the real code in no namespace...
	* src/parse/libparse.cc, src/parse/tiger-parser.cc:
	Remove useless `yy::'s.
	* src/parse/tiger-parser.hh: Ditto.
	(YYLEX_SIGNATURE): Adjust.
	* src/parse/scantiger.ll (yylloc, yylval): Rename to...
	(lloc, lval): these.
	* src/ast/location.hh: Adjust.
	* src/ast/position.hh: Remove, unused and wrong already.

	Use concrete syntax.
	* src/parse/parsetiger.yy: Do that for |, &, and unary -.

	* src/bind/test-parse.cc, src/bind/test-bind.cc: They don't need
	the library.

2006-03-12  Fabien Ouy  <fabien@epita.fr>

	* src/parse/Makefile.am, src/bind/Makefile.am: Use tc.mk.
	* src/tc.mk: Adjust.

2006-03-12  Fabien Ouy  <fabien@epita.fr>

	* src/misc/scoped-map.hxx (get (const Key&)): Replace call
	to `name_get ()' by the use of `operator<<'.
	* src/misc/test-scoped.cc: Replace Symbol by std::string.
	* src/misc/Makefile.am: Adjust.

2006-03-11  Roland Levillain  <roland@lrde.epita.fr>

	Version 1.0.
	Released on the day Andrew Appel visited the LRDE.

	* configure.ac: Version 1.0.
	* AUTHORS, NEWS: Update.

2006-03-11  Roland Levillain  <roland@lrde.epita.fr>

	Yet another (fixed) bug before the 1.0 release.

	* src/parse/libparse.cc: Fix a bug on a variant carrying a null
	pointer.

2006-03-11  Roland Levillain  <roland@lrde.epita.fr>

	Revert the previous patch.

	* src/misc/error.hh, src/misc/error.cc: Revert the previous
	changes.
	* dev/Makefile.am (dist_noinst_SCRIPTS): Add ast-graph-gen.

2006-03-10  Roland Levillain  <roland@lrde.epita.fr>

	Hide ice_on_error in student tarballs.

	* src/misc/error.hh (ice_on_error_here, ice_on_error): Hide them.

2006-03-10  Akim Demaille  <akim@lrde.epita.fr>

	* src/parse/scantiger.ll: Formatting changes.

2006-03-10  Akim Demaille  <akim@lrde.epita.fr>

	Use parser::token_type as in CV Bison 2.1b.
	* src/parse/scantiger.ll (yyterminate): New.
	* src/parse/tiger-parser.hh (YYLEX_SIGNATURE): Adjust.
	* src/parse/libparse.hh: Typo.
	* src/parse/parsetiger.yy: Formatting changes.

2006-03-10  Roland Levillain  <roland@lrde.epita.fr>

	Have the TC-1 distribution distcheck.

	* src/parse/Makefile.am (LDADD): Don't add $(libast) at TC-1.
	* dev/stagize: Prune this file.
	* tests/mk-Makefile-am: Distribute HIR and LIR files.
	* tests/escapes/Makefile.am, tests/good/Makefile.am,
	* tests/overload/Makefile.am: Regen.

2006-03-09  Roland Levillain  <roland@lrde.epita.fr>

	Fix the TC-1 distribution.

	* src/parse/libparse.cc, src/parse/tiger-parser.hh,
	* src/parse/parsetiger.yy, src/parse/tasks.cc,
	* src/parse/test-parse.cc: Add studentize tags to prune code at
	TC-1.
	* src/parse/libparse.hh, src/parse/tiger-input.hh: Likewise.
	Add forward declarations of some AST classes to have the package
	compile on TC-1 distribution.
	* build-aux/Makefile.am (nodist_noinst_SCRIPTS): Hide monoburg++
	on distributions lower than TC-7.
	* dev/stagize: Prune these files.
	Add back the `no-ast' to the set of pruned tags.
	Fix the pruning of modules in configure.ac and src/Makefile.am.
	* dev/studentize_tc.conf: Add back `no-ast' to the list of allowed
	tags.
	* tests/tc-check.in: Use blocks to avoid variable collisions.
	(build_in_src_p, project_untar, project_make, parse_arguments):
	Fix the behavior of the `--build_in_src' option.
	* dev/cut-bison-actions: Don't cut braces enclosed in double
	quotes.

2006-03-09  Roland Levillain  <roland@lrde.epita.fr>

	Fix a bug in BoundCheckingVisitor.

	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::TypeDecs& e)): Fix a bug (was parsing
	a DecsList instead of a Decs).

2006-03-09  Akim Demaille  <akim@lrde.epita.fr>

	* src/desugar/test-string-cmp-desugar.cc,
	* src/desugar/test-for-loops-desugar.cc,
	* src/desugar/test-bound-checking.cc,
	* src/bind/test-bind.cc,
	* src/astclone/test-clone-visitor.cc,
	* src/parse/test-parse.cc: Adjust to the previous changes.

2006-03-09  Akim Demaille  <akim@lrde.epita.fr>

	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc (parse_):
	No longer takes arguments: the input must be set before calling it.
	(parse_program, parse_string, parse_string_decs)
	(parse_program_or_decs): Remove.
	(parse_file, parse_string): New template member functions.
	(ast_type): New.
	* src/parse/libparse.hh, src/parse/libparse.cc
	(parse, parse_decs_list):
	Remove.
	(parse): New, template function.
	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/desugar-visitor.cc,
	* src/inlining/inline-visitor.cc: Adjust.

2006-03-09  Roland Levillain  <roland@lrde.epita.fr>

	Strip Bison actions when distributing a TC-1 tarball.

	* dev/cut-bison-actions: New script.
	Suggested by Akim Demaille.
	* dev/stagize: Use it.
	* dev/Makefile.am (dist_noinst_SCRIPTS): Add cut-bison-actions.

2006-03-09  Roland Levillain  <roland@lrde.epita.fr>

	Factor TigerInput's metavariables machinery.

	* src/parse/metavar-map.hh, src/parse/metavar-map.hxx: New files.
	* src/parse/tiger-input.hh (TigerInput): Inherit from
	MetavarMap<ast::Exp>, MetavarMap<ast::Var>,
	MetavarMap<ast::NameTy>, MetavarMap<ast::DecsList>.
	(exp_, lvalue_, namety_, decs_): Remove these map members, and use
	the ones from the base classes instead.
	* src/parse/tiger-input.cc (TigerInput::TigerInput): Adjust ctors.
	(TigerInput::~TigerInput): Move assertions...
	* src/parse/metavar-map.hxx (MetavarMap<Data>::~MetavarMap):
	...here.
	* src/parse/tiger-input.hh, src/parse/tiger-input.cc
	(operator<< (ast::Exp*), operator<< (ast::Var*))
	(operator<< (ast::NameTy*), operator<< (ast::DecsList*)): Remove.
	* src/parse/tiger-input.hh, src/parse/tiger-input.hxx,
	* src/parse/tiger-input.cc (append_cast): Remove method.
	(append_): New method.
	(TigerInput::operator<<): Handle all cases, not just the default
	one.
	Delegate to append().
	(exp, namety, lvalue, decs): Factor these methods as...
	(take): ...this one.
	(print): Adjust.
	* src/parse/parsetiger.yy: Adjust.
	* src/parse/Makefile.am (libparse_la_SOURCES): Add metavar-map.hh
	and metavar-map.hxx

2006-03-09  Roland Levillain  <roland@lrde.epita.fr>

	Fix the generation of .err files.

	* tests/tests.mk ($(srcdir)/\%.err): Remove .err file before
	(re)creating it.

2006-03-08  Roland Levillain  <roland@lrde.epita.fr>

	Clean up the parser prelude.

	* src/parse/parsetiger.yy: Hide more code in Bison directives,
	but leave more hints.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc,
	* src/parse/location.hh: Regen.
	* dev/stagize: No longer handle no-ast tags.
	* dev/studentize_tc.conf: Remove the (now useless) no-ast tag.

2006-03-08  Fabien Ouy  <fabien@epita.fr>

	Split symbol tests between Symbol ones and
	ScopedMap ones

	* src/symbol/test-symbol.cc (main): Move ScopedMap tests...
	* src/misc/test-scoped.cc: ...here (New)
	* src/misc/Makefile.am: Adujst.

2006-03-08  Akim Demaille  <akim@lrde.epita.fr>

	* build-aux/with-tcsh.m4: Fix.

2006-03-08  Akim Demaille  <akim@lrde.epita.fr>

	* build-aux/with-swig.m4: New, extracted from...
	* configure.ac: here.
	Fix the Nolimips version requirement.
	Reported by Fabien Ouy.

2006-03-08  Fabien Ouy  <fabien@epita.fr>

	Merge SymbolFactory with Symbol

	* src/symbol/symbol-factory.hh (symbol_create (),
	* symbol_create (const Symbol&)): Rename as...
	* src/symbol/symbol.hh (fresh (), fresh (const Symbol&)): These.
	* src/symbol/symbol-factory.hh, src/symbol/symbol-factory.cc:
	Remove.
	* src/bind/rename-visitor.cc, src/inlining/rename-visitor.cc:
	Adjust.

2006-03-08  Roland Levillain  <roland@lrde.epita.fr>

	Aesthetic changes in the parser.

	* src/parse/parsetiger.yy: Re-indent, clean-up whitespace.
	* src/parse/parsetiger.cc: Regen.

2006-03-08  Roland Levillain  <roland@lrde.epita.fr>

	Use a LALR(1) parser skeleton at TC-1.

	* src/parse/parsetiger.yy: Use a LALR(1) skeleton (and disable
	the GLR skeleton) for the first stage.
	Vice versa for later stages.
	* dev/stagize (prune_marks): Revamp.
	Add `no-ast' to the set of marks pruned at TC stages greater
	than 1.
	* dev/studentize_tc.conf: Add no-ast.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc,
	* src/parse/stack.hh: Regen.

2006-03-08  Roland Levillain  <roland@lrde.epita.fr>

	* build-aux/tiger.el: Add missing keywords.

2006-03-08  SIGOURE Benoit  <sigoure@lrde.epita.fr>

	Add ViM syntax highlighting for Tiger.

	* build-aux/Makefile.am (EXTRA_DIST): Add tiger-ftdetect.vim and
	tiger-syntax.vim.
	* build-aux/tiger-ftdetect.vim: New.
	* build-aux/tiger-syntax.vim: New.

2006-03-08  Akim Demaille  <akim@lrde.epita.fr>

	Various stylistic changes.
	* src/parse/scantiger.ll (meta_variable): Remove, unused.
	* src/bind/Makefile.am (test_bin_CPPFLAGS): Move the path to the
	prelude to...
	* src/tc.mk (AM_CPPFLAGS): here.
	* src/Makefile.am: Adjust.
	* build-aux/prog.m4: Indentation changes.
	AC_REQUIRE is not meant for that use, remove it.
	* configure.ac: Stylistic changes.
	Update version requirements.

2006-03-07  Roland Levillain  <roland@lrde.epita.fr>

	Clean up and prepare the next release of TC-1.

	* src/parse/libparse.cc, src/parse/parsetiger.yy
	* src/ast/position.hh, src/symbol/symbol-factory.hh:
	Add missing #include's.
	* src/misc/map.hxx: Remove superfluous #include.
	* src/symbol/symbol.hxx, src/symbol/symbol.cc: Fix student marks.
	Suggested by Fabien Ouy.

	* bootstrap: Check whether exists src/ast/ast.yml exists before
	using it.
	* dev/stagize: Move specific pruning inside...
	(prune_marks): ...this function (new).
	Check if the file exists before pruning it.

2006-03-07  Roland Levillain  <roland@lrde.epita.fr>

	Explain how to make teacher tarballs in the developer guide.

	* dev/tc.texi (Test): Mention .err files.
	Typo.
	(Release process, Tarballs): Typos.
	(Teacher tarballs): New section.

2006-03-07  Roland Levillain  <roland@lrde.epita.fr>

	* dev/stagize: Don't deliver the `inlining' module until TC-4.

2006-03-02  Roland Levillain  <roland@lrde.epita.fr>

	Clean up version-compare.m4.

	* build-aux/version-compare.m4: Don't add `^AS_' to the set of
	allowed M4 patterns.

2006-03-02  Roland Levillain  <roland@lrde.epita.fr>

	Use AS_VERSION_COMPARE to check program version numbers.

	* build-aux/version-compare.m4: New file.
	(AS_VERSION_COMPARE): New macro.
	* build-aux/bison.m4 (TC_PROG_BISON2),
	* build-aux/monoburg.m4 (TC_PROG_MONOBURG): Remove these macros
	and their files and replace them with...
	* build-aux/prog.m4: ...this (new file) and...
	(TC_PROG): ...this (new macro).
	* configure.ac: Adjust.

2006-02-28  Roland Levillain  <roland@lrde.epita.fr>

	Print runtime's error messages on stderr.
	* src/codegen/ia32/runtime.s: .
	* src/codegen/mips/runtime.s: .
	* src/codegen/tiger-runtime.c: .
	(chr, substring) Print error message on stderr.
	From Benoit Perrot.

	Add support for standard error checking to tc-check.
	* tests/tc-check.in (stdhpr): New global.
	(havm_cycles): Use it instead of $stderr.
	(nolimips_check_one, ia32_check_one): Check for the presence
	of an .err file.
	Check the standard error.
	(ir_check_one): Likewise.
	Redirect file descriptor 3 to $stdhpr when profiling is on.
	Don't count cycles when profiling is off.
	(ir_check): Print HAVM's profiling information on file
	descriptor 3.
	* configure.ac (HAVM_PREREQ): Update to 0.23.

	Update the machinery for tests generation.
	* tests/tests.mk (MAINTAINERCLEANFILES): Add $(srcdir)/*.err.
	($(srcdir)/%.err, $(srcdir)/%.hpr): Redirect HAVM's standard
	error to a .err file and profiling information to a .hpr file.
	($(srcdir)/%.lpr): Redirect HAVM's profiling information to a
	.lpr file (through file descriptor 3).
	* tests/mk-Makefile-am: Add $(srcdir)/*.err.
	Sort .tih files.
	* tests/escapes/Makefile.am, tests/good/Makefile.am,
	* tests/overload/Makefile.am: Regen.
	* tests/good/chr-minus-1.out, tests/good/chr-256.out,
	* tests/good/substring-too-low-first.out,
	* tests/good/substring-too-low-length.out,
	* tests/good/substring-too-high-sum.out: Regen.
	* tests/good/assign-vs-rel.err: New.
	* tests/good/array-of-alias.err: New.
	* tests/good/all-binop.err: New.
	* tests/good/assign-vs-boolean.err: New.
	* tests/good/assign-and-array-instantiation.err: New.
	* tests/good/array-subscript-assign.err: New.
	* tests/good/assign-void.err: New.
	* tests/good/array.err: New.
	* tests/good/big-lvalue.err: New.
	* tests/good/boolean-2.err: New.
	* tests/good/big-exp.err: New.
	* tests/good/boolean-1.err: New.
	* tests/good/break-in-while.err: New.
	* tests/good/builtins.err: New.
	* tests/good/basic-import.err: New.
	* tests/good/bempel_j.err: New.
	* tests/good/break-in-for.err: New.
	* tests/good/compare-void.err: New.
	* tests/good/commutation-1.err: New.
	* tests/good/comments-javalike-nested.err: New.
	* tests/good/commutation-2.err: New.
	* tests/good/compare-nil-and-record.err: New.
	* tests/good/comments-nested.err: New.
	* tests/good/comments-with-comment-chars.err: New.
	* tests/good/concurrent-arguments.err: New.
	* tests/good/compare-record-and-nil.err: New.
	* tests/good/compare-record-and-record.err: New.
	* tests/good/complex-import.err: New.
	* tests/good/call.err: New.
	* tests/good/concat.err: New.
	* tests/good/chr-minus-1.err: New.
	* tests/good/chr.err: New.
	* tests/good/comments-with-quotes.err: New.
	* tests/good/comments-with-parens.err: New.
	* tests/good/chr-256.err: New.
	* tests/good/donald.err: New.
	* tests/escapes/formal-escapes.err: New.
	* tests/escapes/for-scope.err: New.
	* tests/escapes/for-lower.err: New.
	* tests/escapes/for-upper.err: New.
	* tests/good/explicit-record-type.err: New.
	* tests/good/escaping-record.err: New.
	* tests/good/evalexp.err: New.
	* tests/good/exit-51.err: New.
	* tests/good/empty-record-type.err: New.
	* tests/good/empty-let-body.err: New.
	* tests/escapes/local-escapes.err: New.
	* tests/escapes/no-functiondec-at-all.err: New.
	* tests/escapes/redeclaration.err: New.
	* tests/escapes/recursion.err: New.
	* tests/escapes/rhs-of-a-vardec.err: New.
	* tests/escapes/record-escapes.err: New.
	* tests/escapes/sl-propagation-1.err: New.
	* tests/escapes/scopes.err: New.
	* tests/escapes/sl-propagation-2.err: New.
	* tests/escapes/variable-inside-for-body.err: New.
	* tests/escapes/variable-escapes.err: New.
	* tests/escapes/variant-escapes.err: New.
	* tests/good/for.err: New.
	* tests/good/for-up-to-32bits.err: New.
	* tests/good/fun-vs-var.err: New.
	* tests/good/field-of-field.err: New.
	* tests/good/functions.err: New.
	* tests/good/fact.err: New.
	* tests/good/forward-fun-and-type-decl.err: New.
	* tests/good/for-high-computed-once.err: New.
	* tests/good/for-in-while.err: New.
	* tests/good/for-high-same-name-as-index.err: New.
	* tests/good/fractions-underloaded.err: New.
	* tests/good/four-hex-backslash.err: New.
	* tests/good/for-scope.err: New.
	* tests/good/for-in-let.err: New.
	* tests/good/invisible-valid-types.err: New.
	* tests/good/init-array.err: New.
	* tests/good/int-comparison.err: New.
	* tests/good/if-and-bool.err: New.
	* tests/good/if.err: New.
	* tests/good/if-and-rel.err: New.
	* tests/good/if-and-if.err: New.
	* tests/good/int-var-ordering.err: New.
	* tests/good/initialize-to-nil.err: New.
	* tests/good/if-void-body.err: New.
	* tests/good/just-a-simple-for-2.err: New.
	* tests/good/just-a-simple-for-1.err: New.
	* tests/good/let-scope-for-functions.err: New.
	* tests/good/let-scope-for-types.err: New.
	* tests/good/local-vs-global-type.err: New.
	* tests/good/letexp-eseq.err: New.
	* tests/good/let-in-for-init.err: New.
	* tests/good/merge.err: New.
	* tests/good/mutually-recursive-functions.err: New.
	* tests/good/mutually-recursive-procedures.err: New.
	* tests/good/many-vars.err: New.
	* tests/good/many-bool-ops.err: New.
	* tests/good/mini-morpho.err: New.
	* tests/good/many-args.err: New.
	* tests/good/many-functions.err: New.
	* tests/good/non-commutative-move-mem-expr.err: New.
	* tests/good/nine.err: New.
	* tests/good/nul-character.err: New.
	* tests/good/nil-as-return-value.err: New.
	* tests/good/nil-as-arg.err: New.
	* tests/good/order-strings.err: New.
	* tests/good/of-precedence.err: New.
	* tests/good/print-chr-ord.err: New.
	* tests/good/precedence.err: New.
	* tests/good/print-tree.err: New.
	* tests/good/preincrement.err: New.
	* tests/good/queens.err: New.
	* tests/good/redefine-print.err: New.
	* tests/good/rel.err: New.
	* tests/good/recursive-types-mutual.err: New.
	* tests/good/recursive-type.err: New.
	* tests/good/redefine-int.err: New.
	* tests/good/record.err: New.
	* tests/good/recursive-types.err: New.
	* tests/good/substring-copy-all.err: New.
	* tests/good/substring-too-high-sum.err: New.
	* tests/good/scopes-protect-vars.err: New.
	* tests/good/string-backslash-octal.err: New.
	* tests/good/shadowing-types-separate.err: New.
	* tests/good/string-int-not-keywords.err: New.
	* tests/good/string-backslash-tortured.err: New.
	* tests/good/stupid-array-type.err: New.
	* tests/good/single-variable.err: New.
	* tests/good/scopes-protect-types.err: New.
	* tests/good/substring-too-low-length.err: New.
	* tests/good/string-var-ordering.err: New.
	* tests/good/side-effects-in-sxp.err: New.
	* tests/good/strcmp.err: New.
	* tests/good/seqexp-arithmetics.err: New.
	* tests/good/shadowed-streq.err: New.
	* tests/good/string-simple-quotes.err: New.
	* tests/good/so-many-args-in-rec-func.err: New.
	* tests/good/shadowing-functions.err: New.
	* tests/good/substring-too-low-first.err: New.
	* tests/good/string-backslash-char.err: New.
	* tests/good/side-effects-in-init.err: New.
	* tests/good/substring-copy-nothing.err: New.
	* tests/good/substring.err: New.
	* tests/good/string-huge.err: New.
	* tests/good/side-effects.err: New.
	* tests/good/string-var-comparing.err: New.
	* tests/good/test30.err: New.
	* tests/good/test44.err: New.
	* tests/good/test27.err: New.
	* tests/good/types-aliases.err: New.
	* tests/good/three-name-spaces.err: New.
	* tests/good/test37.err: New.
	* tests/good/test42.err: New.
	* tests/good/var-override.err: New.
	* tests/good/var-bob-is-another-bob.err: New.
	* tests/good/while-in-while.err: New.
	* tests/good/getchar.err: New.
	* tests/good/getchar-no-static-string.err: New.
	* tests/overload/overload-var-type-inference.err: New.
	* tests/overload/overload-nil-diambiguated.err: New.
	* tests/overload/overload-function-record-arg.err: New.
	* tests/overload/overload-function.err: New.
	* tests/overload/overload-builtin.err: New.

2006-02-21  Akim Demaille  <akim@lrde.epita.fr>

	* tests/good/for-scope.tig: Strengthen it to catch binding errors
	via type checking errors.

2006-02-21  Akim Demaille  <akim@lrde.epita.fr>

	Complete the previous patch.
	* dev/ast-clone-visitor-gen: There is no longer a special case
	for string*.

2006-02-21  Akim Demaille  <akim@lrde.epita.fr>

	Remove the litteral "meta" symbols.
	* src/parse/scantiger.ll: Remove the support for "_symbol (*)".
	* src/parse/tiger-input.hh, src/parse/tiger-input.cc
	(symbol_map_type, symbol_, symbol, operator<< (Symbol)): Remove.
	* src/ast/ast.yml (StringExp): The string has no reason to be
	a pointer.
	* src/parse/parsetiger.yy (take): Use it where we fetch the value
	of a pointer in the %union.

2006-02-09  Benoit Perrot  <benoit@lrde.epita.fr>

	Make tiger-runtime more similar to what we really do.

	* src/codegen/tiger-runtime.c:
	(tc_alloc_record): Rename as...
	(tc_malloc): This.
	(consts): Force it to be in .bss section.
	(tc_chr, tc_substring): Use fwrite instead of printf.
	(main): tc_main's return type is void, return 0.
	* TODO: Update.

2006-02-06  Benoit Perrot  <benoit@lrde.epita.fr>

	Reactivate IA32 cjump reg/imm

	* src/codegen/ia32/gas-assembly.hh,
	* src/codegen/ia32/gas-assembly.cc:
	(cjump_build) Handle conditional jump reg/imm and symmetric.
	* src/codegen/ia32/cjump.brg:
	Use these two forms.
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/codegen.cc:
	Regen.

2006-02-06  Benoit Perrot  <benoit@lrde.epita.fr>

	Reactivate IA32 binop reg/imm

	* src/codegen/ia32/gas-assembly.hh,
	* src/codegen/ia32/gas-assembly.cc:
	(binop_build) Remove dead-code. Handle division-by-immediate.
	(binop_inst) Factor binop generation.
	* src/codegen/ia32/binop.brg:
	Use binop_build register/immediate.
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/codegen.cc:
	Regen.

	* tests/good/all-binop.tig
	* tests/good/all-binop.lpr
	* tests/good/all-binop.-e.s
	* tests/good/all-binop.-e.u.s
	* tests/good/all-binop.s
	* tests/good/all-binop.out
	* tests/good/all-binop.u.s
	* tests/good/all-binop.hir
	* tests/good/all-binop.sta
	* tests/good/all-binop.hpr
	* tests/good/all-binop.lir
	* tests/good/Makefile.am:
	Test all arithmetic binary operations in all immediate/variable
	combinations.

2006-02-06  Roland Levillain  <roland@lrde.epita.fr>

	Re-enable the emission of #line directives in code generators.

	* src/codegen/ia32/tree.brg, src/codegen/mips/tree.brg: Don't use
	MonoBURG's `no-lines' option.
	* src/codegen/ia32/codegen.cc, src/codegen/mips/codegen.cc: Regen.

2006-02-06  Roland Levillain  <roland@lrde.epita.fr>

	Fix test-escape.

	* src/misc/test-escape.cc: Update test.
	* src/misc/escape.cc: Remove dead code.
	* tests/good/string-backslash-octal.-e.s,
	* tests/good/string-backslash-octal.-e.u.s,
	* tests/good/string-backslash-octal.hir,
	* tests/good/string-backslash-octal.lir,
	* tests/good/string-backslash-octal.s,
	* tests/good/string-backslash-octal.u.s,
	* tests/good/string-backslash-tortured.-e.s,
	* tests/good/string-backslash-tortured.-e.u.s,
	* tests/good/string-backslash-tortured.hir,
	* tests/good/string-backslash-tortured.lir,
	* tests/good/string-backslash-tortured.s,
	* tests/good/string-backslash-tortured.u.s: Regen.

2006-02-02  Roland Levillain  <roland@lrde.epita.fr>

	* build-aux/monoburg++.in: Clean up.

2006-02-01  Roland Levillain  <roland@lrde.epita.fr>

	Improve MonoBURG usage.

	* src/codegen/ia32/tree.brg, src/codegen/mips/tiger.brg: Rename
	as...
	* src/codegen/ia32/tiger.brg, src/codegen/mips/tree.brg: ...these.
	Add %-directives.
	* build-aux/monoburg++.in: New wrapper.
	* build-aux/Makefile.am (nodist_noinst_SCRIPTS): Add monoburg++.
	* src/codegen/monoburg.mk: New.
	* src/codegen/ia32/Makefile.am, src/codegen/mips/Makefile.am:
	(CODEGEN_GRAMMAR): s/tiger.brg/tree.brg/
	($(srcdir)/codegen.stamp): Depend on $(MONOBURGXX).
	Use the monoburg++ wrapper instead of plain monoburg, simplifying
	the generation of codegen.cc and codegen.hh.
	The content of these files no longer depends on the build path.
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/codegen.cc,
	* src/codegen/mips/codegen.hh, src/codegen/mips/codegen.cc: Regen.
	* configure.ac: Configure build-aux/monoburg++.
	Depend on MonoBURG 1.0.5.

2006-01-28  Benoit Perrot  <benoit@lrde.epita.fr>

	* tests/tc-check.in:
	(ia32_check_one) Use check_external to check output IA32 program.

2006-01-28  Benoit Perrot  <benoit@lrde.epita.fr>

	* src/misc/escape.cc:
	(escape_) Do not escape '\a', since it is not supported by GNU as.
	Suggested by Akim Demaille.

2006-01-28  Benoit Perrot  <benoit@lrde.epita.fr>

	Fix binop handling in IA32 back-end.

	* src/codegen/ia32/gas-assembly.cc:
	(binop_build) IA32 arithmetic & logical instructions' destination
	register is also a source. From IA32 manual: divl divides edx:eax
	by the specified operand (hence eax must be loaded with lhs and
	edx nullified).

2006-01-28  Benoit Perrot  <benoit@lrde.epita.fr>

	Respect stdcall convention in IA32 back-end.

	* src/codegen/ia32/runtime.s: Re-build from tiger-runtime.s
	* src/codegen/ia32/call.brg: Push arguments from right to left
	* src/codegen/ia32/epilogue.cc: Cope with IA32 stack convention
	{pre-dec,post-inc}rementation.
	* src/codegen/ia32/codegen.cc: Re-generate.

2006-01-28  Benoit Perrot  <benoit@lrde.epita.fr>

	Disable unsupported IA32 code-generators.

	* src/codegen/ia32/gas-asembly.hh, src/codegen/ia32/gas-asembly.cc:
	(binop_build, cjump_build): Disable temp/int forms to facilitate
	the IA32 back-end restoration.
	* src/codegen/ia32/binop.brg: Disable Binop(exp, const)
	* src/codegen/ia32/cjump.brg: Disable Cjump(exp, const)
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/codegen.cc:
	Re-generate.

2006-01-28  Benoit Perrot  <benoit@lrde.epita.fr>

	Fix cjump IA32 code generation.

	* src/codegen/ia32/gas-assembly.cc:
	(cjump_inst) From IA32 manual: jl/jg are for signed comparisons,
	jb/ja for unsigned ones.
	(cjump_build) Cope with AT&T syntax.
	* src/tree/cjump.cc:
	(symmetrize) Symmetric of equality is equality

2006-01-24  Roland Levillain  <roland@lrde.epita.fr>

	Remove symbol::Table shortcut.

	* src/symbol/fwd.hh (Table): Remove.
	* src/bind/bind-visitor.hh: Use misc::ScopedMap instead of
	symbol::Table.
	* src/symbol/test-symbol.cc: Likewise.
	* src/misc/scoped-map.hh: Fix comment.

2006-01-24  Roland Levillain  <roland@lrde.epita.fr>

	* tests/mk-Makefile-am: Don't forget input (.in) files.
	* tests/good/Makefile.am: Regen.

2006-01-24  Roland Levillain  <roland@lrde.epita.fr>

	Revamp tests/mk-Makefile-am.

	* tests/mk-Makefile-am (backslashify): New function.
	Use it to rewrite the body of the script, using more Python idioms.
	* tests/bind/Makefile.am, tests/escapes/Makefile.am,
	* tests/good/Makefile.am, tests/import/Makefile.am,
	* tests/lexical/Makefile.am, tests/overload-type/Makefile.am,
	* tests/overload/Makefile.am, tests/syntax/Makefile.am,
	* tests/type/Makefile.am: Regen.

2006-01-22  Benoit Perrot  <benoit@lrde.epita.fr>

	Reactivate IA32 back-end checking.

	* src/target/tasks.cc:
	(target_ia32): Remove warning message that disturbs tc-check.

2006-01-22  Benoit Perrot  <benoit@lrde.epita.fr>

	Clean C runtime.

	* src/codegen/tiger-runtime.c:
	(tc_exit): Implement.
	(tc_exit, tc_not): Group.
	(tc_init_array, tc_alloc_record): Group.
	* TODO: The C runtime does implement print_int.

2006-01-22  Benoit Perrot  <benoit@lrde.epita.fr>

	Force builtins to respect stdcall convention

	* src/codegen/tiger-runtime.c: Declare builtins to respect the
	stdcall convention.
	* src/codegen/ia32/runtime.s: Likewise.

2006-01-21  Roland Levillain  <roland@lrde.epita.fr>

	Rewrite tests/mk-Makefile-am in Python.

	* tests/mk-Makefile-am: Convert to Python.
	Handle HIR and LIR files.
	* tests/bind/Makefile.am, tests/escapes/Makefile.am,
	* tests/good/Makefile.am, tests/import/Makefile.am,
	* tests/lexical/Makefile.am, tests/overload/Makefile.am,
	* tests/overload-type/Makefile.am, tests/syntax/Makefile.am,
	* tests/type/Makefile.am: Regen.
	* TODO: Update.

2006-01-20  Benoit Perrot  <benoit@lrde.epita.fr>

	Raise IA32 back-end from the dead.

	* src/tree/cjump.hh, src/tree/cjump.cc:
	(symmetrize): New.

	* src/target/ia32-target.cc (ctor):
	Set target's codegen's CPU and assembly.

	* src/target/ia32-cpu.hh, src/target/ia32-cpu.cc:
	(return_reg) Remove, as irrelevant.
	* src/codegen/ia32/gas-assembly.hh, src/codegen/ia32/gas-assembly.cc:
	(cjump_inst): New.
	(cjump_build): Implement cjump reg/imm.
	(push_build): Generate a "push" instruction.
	(leave_build): Generate a frame-destructor "leave" instruction.
	(ret_build): Generate a return-and-release-frame "ret" instruction.

	* src/codegen/ia32/move.brg,
	* src/codegen/ia32/binop.brg,
	* src/codegen/ia32/tiger.brg,
	* src/codegen/ia32/call.brg,
	* src/codegen/ia32/mem.brg,
	* src/codegen/ia32/cjump.brg,
	* src/codegen/ia32/move_store.brg,
	* src/codegen/ia32/exp.brg,
	* src/codegen/ia32/stm.brg,
	* src/codegen/ia32/move_load.brg,
	* src/codegen/ia32/temp.brg:
	New. (These files are dumb copies from src/codegen/mips/)
	* src/codegen/ia32/prologue.hh,
	* src/codegen/ia32/epilogue.cc:
	New.
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/codegen.cc:
	Generate.

	* src/codegen/ia32/Makefile.am: Update accordingly.

2006-01-20  Roland Levillain  <roland@lrde.epita.fr>

	* src/symbol/table.hh, src/symbol/table.hxx (print, operator<<):
	Move these methods...
	* src/misc/scoped-map.hh, src/misc/scoped-map.hh: ...here.
	Adjust.
	* src/symbol/table.hh, src/symbol/table.hxx: Remove file.
	(Table): Define it...
	* src/symbol/fwd.hh (Table): ...here.
	* src/bind/bind-visitor.hh, src/symbol/test-symbol.cc: Adjust.
	* src/symbol/Makefile.am (libsymbol_la_SOURCES): Remove table.hh
	and table.hxx.

2006-01-19  Akim Demaille  <akim@lrde.epita.fr>

	ref: remove useless operators.

	* src/misc/ref.hh, src/misc/ref.hxx (operator*, operator->): Remove.

2006-01-17  Akim Demaille  <akim@lrde.epita.fr>

	Remove cppgen, dead for ages.

	* src/cppgen/Makefile.am: Remove.
	* src/cppgen/includes/arrayty.hh: Remove.
	* src/cppgen/includes/binop.hh: Remove.
	* src/cppgen/includes/builtin.hh: Remove.
	* src/cppgen/includes/dec.hh: Remove.
	* src/cppgen/includes/env.hh: Remove.
	* src/cppgen/includes/explist.hh: Remove.
	* src/cppgen/includes/function.hh: Remove.
	* src/cppgen/includes/letinend.hh: Remove.
	* src/cppgen/includes/list.hh: Remove.
	* src/cppgen/includes/lvalue.hh: Remove.
	* src/cppgen/includes/macro.hh: Remove.
	* src/cppgen/includes/recordty.hh: Remove.
	* src/cppgen/includes/stack.hh: Remove.
	* src/cppgen/includes/type.hh: Remove.
	* src/cppgen/includes/common.hh: Remove.
	* src/cppgen/includes/control.hh: Remove.
	* src/cppgen/includes/cppgen_all.hh: Remove.
	* src/cppgen/includes: Remove.
	* src/cppgen/libcppgen.hh: Remove.
	* src/cppgen/libcppgen.cc: Remove.
	* src/cppgen/tasks.hh: Remove.
	* src/cppgen/tasks.cc: Remove.
	* src/cppgen/tiger_cppgen.i: Remove.
	* src/cppgen/cppgen-visitor.hh: Remove.
	* src/cppgen/cppgen-visitor.cc: Remove.
	* src/cppgen: Remove.
	* src/Makefile.am: Adjust.
	* dev/stagize: Adjust.
	* src/tc.mk: Adjust.
	* tests/tc-check.in: Adjust.
	* configure.ac: Adjust.

2006-01-17  Roland Levillain  <roland@lrde.epita.fr>

	Shorten concrete syntax manipulations in the desugar module.

	* src/ast/ast.yml (FunctionDec): Add set-accessor.
	* src/ast/function-dec.hh, src/ast/function-dec.hxx: Regen.
	* src/desugar/desugar-visitor.cc
	(operator() (const ast::ForExp&))
	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::ArrayExp&))
	(operator() (const ast::SubscriptVar&)): Get rid of temporaries to
	shorten parsing.
	(operator() (const ast::FunctionDec&)): Likewise.
	Let CloneVisitor handle the copy of the node, and use its result.
	From Akim Demaille.

	* src/ast/ast.yml (LetExp): Remove set-accessor.
	* dev/ast-nodes-gen (print_attributes): Don't output destruction
	code in set-accessors.
	* src/ast/let-exp.hh, src/ast/let-exp.hxx,
	* src/ast/type-constructor.hxx: Regen.
	* src/ast/default-visitor.hxx: Typo in comment.

2006-01-12  Akim Demaille  <akim@epita.fr>

	* build-aux/bison++.in: If the grammar generation failed, be sure
	to copy the output files anyway, otherwise we might hide the
	*.output file.

2006-01-12  Akim Demaille  <akim@epita.fr>

	Metavariables may just be numbered instead of named.
	* src/parse/tiger-input.hh (exp_map_type, symbol_map_type)
	(lvalue_map_type, namety_map_type, decs_map_type): Keys are
	unsigned, not strings.
	Adjust all dependencies.
	(generate_id): Useless now.
	* src/parse/tiger-parser.hh (seed_): Remove, dead for ages.
	* src/parse/scantiger.ll, src/parse/parsetiger.yy: Adjust.

2006-01-12  Akim Demaille  <akim@epita.fr>

	* src/parse/libparse.hh, src/parse/libparse.cc (parse_decs)
	(parse_decslist): New.
	* src/desugar/bound-checking-visitor.hh (boxes_type): Store
	un-prefixed strings.
	* src/desugar/bound-checking-visitor.cc (TypeDecs): Use concrete
	syntax.
	(ArrayExp): Simplify accordingly.

2006-01-11  Akim Demaille  <akim@epita.fr>

	Use a stringstream in TigerInput.
	* src/parse/tiger-input.hh, src/parse/tiger-input.hxx,
	* src/parse/tiger-input.cc (input_): Now stringstream.
	(operator<<): Remove the ones for strings, instead implement
	a generic one.
	Adjust the dependencies.

	Provide a simple parse_string wrapper and use it.
	* src/parse/libparse.hh, src/parse/libparse.cc (parse): New
	overloaded version for TigerInputs.
	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/desugar-visitor.cc: Use it.

2006-01-11  Akim Demaille  <akim@epita.fr>

	* src/inlining/inline-visitor.hh (map_type): Store objects, not
	pointers.
	* src/inlining/inline-visitor.hh (operator() (CallExp)):
	Simplify the map deallocation, which is now automatic.
	Use a single TigerInput to construct the inlined call instead of
	making it piece by piece.

2006-01-06  Akim Demaille  <akim@epita.fr>

	* src/tree/fragment.cc: s/(-)/sub/.

2006-01-05  Roland Levillain  <roland@lrde.epita.fr>

	Generate a graph of the AST nodes.

	* dev/ast-graph-gen: New.
	* src/ast/Makefile.am ($(srcdir)/ast.dot): New.
	(dist_noinst_DATA): Add ast.dot.

2006-01-05  Roland Levillain  <roland@lrde.epita.fr>

	Move reserved types and function added by BoundCheckingVisitor
	inside _main.

	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::DecsList&))
	(operator() (const ast::FunctionDecs&)): Remove these methods and
	put their contents...
	(operator() (const ast::FunctionDecs&)): ...here (new method).
	(has_int_array_p_, has_check_bounds_p_): Remove attributes.
	(BoundCheckingVisitor::BoundCheckingVisitor): Adjust ctor.

2006-01-04  Christophe Duong  <chris@epita.fr>

	Move SymbolFactory into symbol.

	* src/inlining/symbol-factory.hh,
	* src/inlining/symbol-factory.cc:
	Move...
	* src/symbol/symbol-factory.hh,
	* src/symbol/symbol-factory.cc:
	...here.

2006-01-03  Roland Levillain  <roland@lrde.epita.fr>

	Don't dinstinguish ASTs with or without overloaded functions in
	libdesugar and libinlining.  As we now rename all identifiers
	before desugaring or inlining, there is no longer overloaded
	functions in those ASTs.

	* src/desugar/tasks.cc (overfun_desugar): Call ::desugar::desugar
	instead of ::desugar::overfun_desugar.
	(overfun_bound_checks_add): Call ::desugar::bound_checks_add
	instead of ::desugar::overfun_bound_checks_add.
	(extract_result (const std::pair<ast::Ast*, misc::Error>&)):
	Remove function (dead code).
	* src/desugar/libdesugar.hh, src/desugar/libdesugar.cc:
	Fix Doxygen headers.
	(overfun_bind_and_types_check)
	(overfun_desugar, overfun_bound_checks_add): Remove functions.

	* src/inlining/tasks.cc (overfun_inline_expand): Call
	::inlining::inline_expand instead of
	::inlining::overfun_inline_expand.
	(overfun_prune): Call ::inlining::prune instead of
	::inlining::overfun_prune.
	(extract_result (const std::pair<ast::Ast*, misc::Error>&)):
	Remove function (dead code).
	* src/inlining/libinlining.hh, src/inlining/libinlining.cc
	Fix Doxygen headers.
	(overfun_inline_expand, overfun_prune): Remove functions.
	(raw_inline_expand): Remove this function and inline its
	contents...
	(inline_expand): ...here.
	(raw_prune): Remove this function and inline its contents...
	(prune): ...here.

2006-01-03  Roland Levillain  <roland@lrde.epita.fr>

	Use concrete syntax to desugar string comparisons.

	* dev/ast-nodes-gen (print_guards_close): Print (optional)
	epilogues of implementations.
	* dev/ast.py (Node.__init__): Don't handle inlineCode attribute
	(used nowhere).
	* src/ast/print-visitor.cc (operator() (const OpExp&)): Don't
	print operator symbol directly, use instead...
	* src/ast/ast.yml (str (OpExp::Oper)): ...this.
	* src/ast/op-exp.hh, src/ast/op-exp.cc: Regen.
	* src/desugar/desugar-visitor.cc (operator() (const ast::OpExp&)):
	Use concrete syntax to desugar string comparisons.

2006-01-03  Roland Levillain  <roland@lrde.epita.fr>

	Use a renaming pass to simplify the visitors of the desugar
	module.

	* src/desugar/tasks.hh (desugar, overfun_desugar, raw-desugar)
	(bound_checks_add, overfun_bound_checks_add)
	(raw-bound-checks-add): Depend on rename.
	* src/desugar/libdesugar.hh (desugar, bound_checks_add): Update
	documentation.
	* src/desugar/desugar-visitor.hh, src/desugar/desugar-visitor.cc
	(boxes_): Remove (dead code).
	(operator() (const ast::FunctionDecs&))
	(operator() (const ast::CallExp&), extract_fundec_)
	(_streq_def_, _strcmp_def_, _exit_def_): Remove.
	(DesugarVisitor::DesugarVisitor, operator() (const ast::OpExp&)):
	Adjust.
	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/bound-checking-visitor.hh
	(has_new_builtin_types_p_, has_new_builtin_functions_p_): Rename
	as...
	(has_int_array_p_, has_check_bounds_p_): ...these.
	(BoundCheckingVisitor::BoundCheckingVisitor): Adjust ctor.
	(operator() (const ast::DecsList&)): Adjust.
	Don't create aliases for `int' and `string'.
	(operator() (const ast::FunctionDecs&)): Adjust.
	Don't create aliases for `exit' and `print_err'.

2006-01-02  Roland Levillain  <roland@lrde.epita.fr>

	Refine ICE.

	* src/misc/error.hh, src/misc/error.cc (ice_on_error_here): New
	macro.
	(ice): Remove error type.
	(ice_on_error): Take a filename and a line number as arguments.
	Abort on error, instead of exiting.
	* src/desugar/libdesugar.cc (bind_and_types_check)
	(overfun_bind_and_types_check)
	* src/desugar/desugar-visitor.cc (operator() (const ast::ForExp&))
	(operator() (const ast::FunctionDecs&))
	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::ArrayExp&))
	(operator() (const ast::SubscriptVar&))
	(operator() (const ast::DecsList&))
	(operator() (const ast::FunctionDecs&))
	* src/inlining/inline-visitor.cc
	(operator() (const ast::CallExp&)): Adjust callers.

2006-01-02  Akim Demaille  <akim@lrde.epita.fr>

	Move RenameVisitor into bind.

	* src/inlining/rename-visitor.hh,
	* src/inlining/rename-visitor.cc: Rename as...
	* src/bind/rename-visitor.hh,
	* src/bind/rename-visitor.cc: these.
	Now works in place: it derives from the DefaultVisitor,
	not from the CloneVisitor.
	* src/bind/Makefile.am,
	* src/bind/libbind.hh,
	* src/bind/libbind.cc,
	* src/bind/tasks.hh,
	* src/bind/tasks.cc,
	* src/inlining/Makefile.am,
	* src/inlining/libinlining.hh,
	* src/inlining/libinlining.cc,
	* src/inlining/tasks.hh,
	* src/inlining/tasks.cc: Adjust.

2005-12-30  Akim Demaille  <akim@lrde.epita.fr>

	Avoid the double visit of declarations in the RenameVisitor.
	This scheme is of course less efficient than the previous, but
	it is much more compact.
	* src/inlining/rename-visitor.hh,
	* src/inlining/rename-visitor.cc (visit): Now always rename:
	those that must not be renamed are simply renamed as themselves.
	(decs_visit): Remove, we no longer need the double visit.
	Also, remove the visits of chunks, just visit the declarations
	individually.
	(dec_register, dec_visit): Remove.
	(operator() (ForExp)): Remove, no longer needed.
	(inside_recordty_p_): Remove, dead code anyway.
	* tests/good/for-scope.tig: Extend a bit to exercise the
	inner variable.

2005-12-29  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy: Bison 2.2 will warn about unused
	values, so stop relying on $$ = $1 being done by default, do it.
	Factor the %token.
	* build-aux/bison++.in: Remove Bison 2.0 support.

2005-12-27  Roland Levillain  <roland@lrde.epita.fr>

	* AUTHORS, NEWS: Update.

2005-12-27  Roland Levillain  <roland@lrde.epita.fr>

	Catch up with the new formals.

	* src/inlining/rename-visitor.hh: Typos.
	(new_names_type): Use const ast::Dec* as keys instead of
	const ast::Ast*.
	* src/inlining/rename-visitor.hh, src/inlining/rename-visitor.cc
	(operator() (const ast::RecordTy&))
	(operator() (const ast::Field&)): Remove methods.

2005-12-23  Benoit Perrot  <benoit@lrde.epita.fr>

	* tests/tc-check.in:
	Invoke nolimips with its native system library.
	* src/codegen/mips/runtime.s:
	(alloc, tc_exit, tc_init_array, tc_print, tc_print_err)
	(main, tc_chr, tc_substring): Update syscall index accordingly.
	(tc_print_int, tc_getchar): Re-implement accordingly.

2005-12-18  Fabien Ouy  <fabien@epita.fr>

	* src/inlining/inline-visitor.cc (operator() (ast::CallExp)): Remove
	dead code.

2005-12-18  Fabien Ouy  <fabien@epita.fr>

	Merge the formals branch into the trunk.

	2005-11-27  Fabien Ouy  <fabien@epita.fr>

		* ast/ast.yml: Remove useless explicit includes.
		* ast/print-visitor.cc, ast/default-visitor.hxx: Adjust
		comment style: replace `` with `'.
		* ast/function-dec.hh: Regen.
		* ast/bind-visitor.cc (visitDecBody<ast::FunctionDec>): Remove
		explicit visit of formals.
		* desugar/desugar-visitor.cc: Simplify variables' names, wrap
		to 80 columns.
		* escapes/escapes-check-visitor.hh,
		* escapes/escapes-check-visitor.cc
		(operator() (ast::FunctionDec&)): Remove.
		* type/type-visitor.cc (type (ast::VarDecs&)): Simplify.

	2005-11-12  Fabien Ouy  <fabien@epita.fr>

		Use VarDecs for formals parameters instead of Fields.

		* src/ast/ast.yml: Update FunctionDec generation.
		* src/ast/README, src/ast/escapable.hh, src/ast/field.hh,
		* src/ast/field.cc, src/ast/function-dec.hh,
		* src/ast/function-dec.cc, src/ast/function-dec.hxx,
		* src/ast/simple-var.hh, src/ast/simple-var.hxx,
		* src/ast/var-dec.hh, src/ast/var-dec.hxx,
		* src/astclone/clone-visitor.cc: Regen.
		* src/parse/parsetiger.yy: Add rules for function declarations,
		adjust rule for now unescapable type field.
		* src/parse/parsetiger.cc, src/parse/parsetiger.hh,
		* src/parse/stack.hh, src/parse/position.hh,
		* src/parse/location.hh: Regen.
		* src/ast/test-ast.cc, src/bind/test-bind.cc,
		* src/parse/test-parse.cc: Update.
		* dev/ast-node-gen: Update includes_map for VarDecs.

		Update visitors to follow new FunctionDec.

		* src/ast/default-visitor.hxx, src/cppgen/cppgen-visitor.cc,
		* src/translate/translate-visitor.cc,
		* src/desugar/desugar-visitor.cc,
		* src/desugar/bound-checkin-visitor.cc: Update.
		* src/ast/print-visitor.cc, src/ast/print-visitor.hh
		(operator() (const Field&, bool),
		operator() (fields_type, bool)): Remove.
		* src/bind/bind-visitor.hh, src/bind/bind-visitor.cc
		(operator() (VarDecs)): Use decs_visit, simplify visit of
		FunctionDec.Map var symbol table on VarDec instead of Ast.
		* src/type/type-visitor.hh, src/type/type-visitor.cc
		(type (VarDecs)): New.

		Simplify escaping, only VarDec can escape.

		* src/escapes/escapes-visitor.cc,
		* src/escapes/escapes-check-visitor.cc,
		* src/callgraph/static-link-visitor.cc
		(operator() (FunctionDec)): Simplify visit.
		* src/escapes/escapes-check-visitor.hh (escapes_check): Remove.
		* src/escapes/escapes-check-visitor.hxx: No longer used.

2005-12-16  Roland Levillain  <roland@lrde.epita.fr>

	Introduce Internal Compiler Error kind, and use it in modules
	desugar and inlining.

	* src/misc/error.hh, src/misc/error.cc (ice): New error type.
	(ice_on_error): New manipulator.
	* src/desugar/libdesugar.hh, src/desugar/libdesugar.cc
	(bind_and_types_check, overfun_bind_and_types_check): New
	functions.
	Throw an ICE on binding or type-checking error.
	* src/desugar/libdesugar.hh, src/desugar/libdesugar.cc
	(desugar, overfun_desugar, bound_checks_add)
	(overfun_bound_checks_add)
	* src/inlining/libinlining.hh, src/inlining/libinlining.cc
	(rename, inline_expand, overfun_inline_expand, prune)
	(overfun_prune): Use them to factor these functions.
	Return just the AST.
	* src/tc.mk (libinlining): Add $(libdesugar).
	Remove $(libbind) and $(libtype).
	* src/inlining/inline-visitor.cc
	(operator() (const ast::CallExp&)): Check the result of the
	parser.

2005-12-16  Roland Levillain  <roland@lrde.epita.fr>

	Factor the visitation of usage sites in RenameVisitor.

	* src/inlining/rename-visitor.hh, src/inlining/rename-visitor.cc
	(dec_visit): Fix assertion.
	Rename as...
	(visit): this.
	Take the definition site as an additional argument.
	(dec_visit): New method.  Shorthand for visit.
	(visit_dec_body): Adjust callers.
	(use_visit): New method.  Shorthand for visit.
	(operator() (const ast::CallExp&))
	(operator() (const ast::NameTy&))
	(operator() (const ast::SimpleVar& e)): Use it to factor these
	methods.

2005-12-15  Roland Levillain  <roland@lrde.epita.fr>

	* src/regalloc/color.cc (freeze_moves): Print information on
	stderr only when tracing.
	* tests/tc-check.in (ir_check_one): Increase timeout value.

2005-12-15  Roland Levillain  <roland@lrde.epita.fr>

	Have RenameVisitor visit VarDecs like FunctionDecs or TypeDecs,
	using a 2-pass scheme.  Factor the visitation of Dec subclasses.

	* src/ast/ast.yml (Dec::name): Remove const qualifier.
	Provide write accessor.
	* src/ast/dec.hh, src/ast/dec.hxx: Regen.
	* src/inlining/rename-visitor.hh, src/inlining/rename-visitor.cc:
	(dec_register, dec_visit): New methods, doing most of the
	visitation work for declarations.
	(visit_dec_header, visit_dec_body): Use them in these generic
	implementations (new methods).
	(operator() (const ast::VarDecs&)): New method, to be symmetric
	with FunctionDecs and TypeDecs.
	(visit_dec_body<ast::FunctionDec>)
	(visit_dec_header<ast::TypeDec>, visit_dec_body<ast::TypeDec>):
	Remove methods, and rely on generic implementations.
	(visit_dec_header<ast::FunctionDec>): Adjust specialization.
	(visit_dec_body<ast::VarDec>): New specialization.
	(operator() (const ast::FunctionDec&))
	(operator() (const ast::TypeDec&))
	(operator() (const ast::VarDec&)): Remove these methods.
	(operator() (const ast::ForExp&)): New method.
	Handle VarDec as index.
	operator() (const ast::RecordTy&, operator() (const ast::Field&)):
	New methods.
	Handle Field as both an actual field of a record and as a formal.
	(inside_recordty_p_): New flag.
	(RenameVisitor::RenameVisitor): Adjust ctor.

2005-12-14  Roland Levillain  <roland@lrde.epita.fr>

	* NEWS: Update.

2005-12-14  Roland Levillain  <roland@lrde.epita.fr>

	* tests/good/mini-morpho.tig, tests/good/mini-morpho.-e.s,
	* tests/good/mini-morpho.-e.u.s, tests/good/mini-morpho.hir,
	* tests/good/mini-morpho.hpr, tests/good/mini-morpho.in,
	* tests/good/mini-morpho.lir, tests/good/mini-morpho.lpr,
	* tests/good/mini-morpho.out, tests/good/mini-morpho.s,
	* tests/good/mini-morpho.sta, tests/good/mini-morpho.u.s: New
	test.
	* tests/good/Makefile.am: Regen.
	* tests/tc-check.in (ir_check_one, load_tests): Update timeout
	values.

2005-12-13  Roland Levillain  <roland@lrde.epita.fr>

	Rename inlining::ScopedMap as misc::ScopedMap.

	* src/inlining/scoped-map.hh, src/inlining/scoped-map.hxx: Rename
	as...
	* src/misc/scoped-map.hh, src/misc/scoped-map.hxx: ...this.
	Adjust.
	* src/inlining/inline-visitor.hh: Adjust.
	* src/misc/Makefile.am (libmisc_la_SOURCES): Add scoped-map.hh and
	scoped-map.hxx.
	* src/inlining/Makefile.am (libinlining_la_SOURCES): Remove
	layered-map.hh and layered-map.hxx.


	Factor symbol::Table using misc::ScopedMap.

	* src/symbol/table.hh, src/symbol/table.hxx (Table): Inherit from
	misc::ScopedMap<const Symbol, Entry_T>.
	(super_type): New typedef.
	(mapped_type, map_type, symtab_type, iterator, const_iterator):
	Remove typedefs.
	(Table::Table): Remove ctor.
	(begin, end, put, find, get, scope_begin, scope_end): Remove
	methods.
	(symtab_): Remove attribute.
	(print): Adjust.

2005-12-12  Roland Levillain  <roland@lrde.epita.fr>

	More concrete syntax in DesugarVisitor.

	* src/desugar/desugar-visitor.hh, src/desugar/desugar-visitor.cc
	(extract_fundec_): New method.
	(operator() (const ast::FunctionDecs&)): Use it.
	Use concrete syntax to introduce the builtin aliases _streq and
	_strcmp.

2005-12-12  Roland Levillain  <roland@lrde.epita.fr>

	Let InlineVisitor compute the set of recursive functions itself.

	* src/callgraph/call-graph-visitor.cc
	(operator() (const ast::CallExp&)): Catch up with the changes
	introduced by the prelude.
	* src/callgraph/libcallgraph.hh, src/callgraph/libcallgraph.cc
	(callgraph_compute (const ast::Ast&)): New function.
	* src/callgraph/tasks.hh, src/callgraph/tasks.cc (callgraph):
	Don't export the callgraph.

	* src/inlining/libinlining.hh, src/inlining/libinlining.cc
	(raw_inline_expand): Don't take a callgraph as argument.
	Move the computation of the set of recursive functions...
	* src/inlining/inline-visitor.hh, src/inlining/inline-visitor.cc
	(InlineVisitor::InlineVisitor): ...here.
	* src/inlining/libinlining.hh, src/inlining/libinlining.cc
	(inline_expand, overfun_inline_expand)
	* src/inlining/tasks.cc (inline_expand, overfun_inline_expand):
	Adjust.
	* src/inlining/tasks.hh (inline, overfun-inline): Don't depend on
	callgraph-compute.

2005-12-12  Roland Levillain  <roland@lrde.epita.fr>

	* src/inlining/prune-visitor.cc
	(operator() (const FunctionDec&)): Factor using the base class
	operator.

2005-12-12  Roland Levillain  <roland@lrde.epita.fr>

	* src/misc/error.hh, src/misc/error.cc (const_member_manip_type):
	New typedef.
	(operator<< (const_member_manip_type)): New operator.
	(exit, exit_on_error): Make these manipulators const.
	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::ArrayExp& e)
	(operator() (const ast::SubscriptVar&))
	(operator() (const ast::DecsList&))
	(operator() (const ast::FunctionDecs&))
	* src/desugar/desugar-visitor.cc
	(operator() (const ast::ForExp&))
	* src/inlining/inline-visitor.cc
	(operator() (const ast::CallExp&)): Lighten the style of error
	handling.

2005-12-12  Roland Levillain  <roland@lrde.epita.fr>

	Merge the inline branch into the trunk.

	2005-12-08  Roland Levillain  <roland@lrde.epita.fr>

	* src/inlining/inline-visitor.cc
	(operator() (const ast::CallExp&)): Use more concrete syntax.

	2005-12-05  Roland Levillain  <roland@lrde.epita.fr>

	* src/bind/tasks.hh (bound): Depend on overfun-types-compute
	instead of overfun-bind.
	* src/inlining/tasks.hh (rename): Depend on bound instead of
	typed.

	2005-12-05  Roland Levillain  <roland@lrde.epita.fr>

	Rename inlining::layered_map as inlining::ScopedMap.

	* src/inlining/layered-map.hh, src/inlining/layered-map.hxx
	(layered_map): Rename as...
	(ScopedMap): ...this.
	Rename files as...
	* src/inlining/scoped-map.hh, src/inlining/scoped-map.hxx:
	...this.
	* src/inlining/inline-visitor.hh: Adjust.
	* src/inlining/prune-visitor.hh: Better comment.
	* src/inlining/rename-visitor.cc: Typo.

	2005-12-05  Roland Levillain  <roland@lrde.epita.fr>

	* src/inlining/symbol-factory.cc
	(symbol_create (const symbol::Symbol&)): Don't prefix generated
	symbols with `_'.

	2005-12-05  Roland Levillain  <roland@lrde.epita.fr>

	Have a single rename task for both overloaded and non overloaded
	Tiger ASTs.

	* src/inlining/libinlining.hh, src/inlining/libinlining.cc
	(raw_rename): Remove function and move its contents...
	(rename): ...here.
	(overfun_rename): Remove function.
	(rename, inline_expand, prune): Use better variable names.
	* src/inlining/tasks.hh, src/inlining/tasks.cc (overfun-rename):
	Remove task.
	(rename): Depend on type.
	(inline): Depend on overfun-types-compute.
	(overfun-inline): Depend on rename.
	* src/inlining/rename-visitor.hh: Update Doxygen comment.
	* tests/tc-check.in: Aesthetic changes in comments.

	2005-12-01  Roland Levillain  <roland@lrde.epita.fr>

	* src/inlining/prune-visitor.cc (operator() (const ast::LetExp&)):
	Fix iterator position after pruning.
	* src/inlining/tasks.hh (overfun-rename): Depend on
	overfun-types-compute.
	(overfun-inline): No longer depend on overfun-types-compute.
	* tests/tc-check.in: Add tests for inlining with support for
	overloading.

	2005-12-01  Roland Levillain  <roland@lrde.epita.fr>

	* src/inlining/prune-visitor.hh, src/inlining/prune-visitor.cc
	(orig_funs_type): New typedef.
	(orig_funs_): New member.
	(operator() (const FunctionDecs&)): Remove this method and move the
	pruning of unused functions...
	(operator() (const LetExp&)): ...here.
	(operator() (const FunctionDec&): New method.
	Link cloned function declarations to old ones.
	* src/inlining/layered-map.hh: Include standard header map.

	2005-11-30  Roland Levillain  <roland@lrde.epita.fr>

	Rename inlining::VarFactory as inlining::SymbolFactory.

	* src/inlining/var-factory.hh, src/inlining/var-factory.cc: Rename
	as...
	* src/inlining/symbol-factory.hh, src/inlining/symbol-factory.cc:
	...this.
	Adjust guards and comments.
	(VarFactory): Rename as...
	(SymbolFactory): Rename as...
	(VarFactory::var_create): Rename as...
	(SymbolFactory::symbol_create): ...this.
	(VarFactory::var_counter_): Rename as...
	(SymbolFactory::counter_): ...this.
	* src/inlining/inline-visitor.cc (operator() (const ast::CallExp&))
	* src/inlining/rename-visitor.cc (decs_visit)
	(visit_dec_header<ast::FunctionDec>)
	(visit_dec_body<ast::FunctionDec>)
	(visit_dec_header<ast::TypeDec>)
	(operator() (const ast::VarDec&)): Adjust callers.
	* src/inlining/prune-visitor.cc: Remove unused header inclusion.
	* src/inlining/Makefile.am (libinlining_la_SOURCES):
	s/var-factory/symbol-factory/s.

	2005-11-30  Roland Levillain  <roland@lrde.epita.fr>

	Have RenameVisitor handle functions and types in addition to
	variables.

	* src/inlining/rename-visitor.hh, src/inlining/rename-visitor.cc:
	(var_map_type): Map ast::Ast* to symbol::Symbol, and rename as...
	(var_names_type): ...this.
	(var_map_): Adjust and rename as...
	(var_names_): ...this.
	(operator() (const ast::VarDec&))
	(operator() (const ast::FunctionDec&))
	(operator() (const ast::SimpleVar&)): Adjust.
	(fun_names_type, type_names_type): New typedefs.
	(fun_names_, type_names_): New members.
	(RenameVisitor::RenameVisitor): Adjust ctor.
	(operator() (const ast::FunctionDec&)): Rename the cloned function
	declaration (except _main and the builtins).
	(decs_visit, visit_dec_header, visit_dec_body): New template
	methods.
	(operator() (const ast::FunctionDecs&))
	(operator() (const ast::TypeDecs&)): New.
	(operator() (const ast::FunctionDec&)): Move most of the code of
	this method...
	(visit_dec_body<ast::FunctionDec>): ...here (new).
	(operator() (const ast::TypeDec&)): Move most of the code of this
	method...
	(visit_dec_body<ast::TypeDec>): ...here (new).
	(operator() (const ast::CallExp&))
	(operator() (const ast::NameTy&)): New.

	* tests/good/redefine-int.tig, tests/good/redefine-int.-e.s,
	* tests/good/redefine-int.-e.u.s, tests/good/redefine-int.hir,
	* tests/good/redefine-int.hpr, tests/good/redefine-int.lir,
	* tests/good/redefine-int.lpr, tests/good/redefine-int.out,
	* tests/good/redefine-int.s, tests/good/redefine-int.sta,
	* tests/good/redefine-int.u.s: New test.
	* tests/good/Makefile.am (dist_noinst_DATA): Add redefine-int.tig,
	$(srcdir)/redefine-int.out, $(srcdir)/redefine-int.sta,
	$(srcdir)/redefine-int.hpr, $(srcdir)/redefine-int.lpr,
	$(srcdir)/redefine-int.-e.s, $(srcdir)/redefine-int.s,
	$(srcdir)/redefine-int.u.s and $(srcdir)/redefine-int.-e.u.s.

	* src/astclone/clone-visitor.hxx (astclone): Adjust identifiers
	and comments to be more general.

	2005-11-29  Roland Levillain  <roland@lrde.epita.fr>

	* src/inlining/inline-visitor.cc
	(operator() (const ast::CallExp&)): Systematically introduce
	temporaries for all arguments, to ensure a correct order of
	evaluation and avoid errors when inlining functions assigning
	values to their arguments.
	* tests/tc-check.in: Add test.

	2005-11-29  Roland Levillain  <roland@lrde.epita.fr>

	Move inline expansion into its own module.

	* src/desugar/inline-visitor.cc, src/desugar/inline-visitor.hh,
	* src/desugar/layered-map.hh, src/desugar/layered-map.hxx,
	* src/desugar/prune-visitor.cc, src/desugar/prune-visitor.hh,
	* src/desugar/rename-visitor.cc, src/desugar/rename-visitor.hh,
	* src/desugar/var-factory.cc, src/desugar/var-factory.hh:
	Move files...
	* src/inlining: ...here (new).
	* src/desugar/libdesugar.hh, src/desugar/libdesugar.cc
	(rename, overfun_rename, inline_expand, overfun_inline_expand)
	(prune, overfun_prune): Move functions...
	* src/inlining/libinlining.hh, src/inlining/libinlining.cc:
	...here (new files).
	* src/desugar/tasks.hh, src/desugar/tasks.cc
	(rename, overfun_rename, inline_expand, overfun_inline_expand)
	(prune, overfun_prune): Move tasks...
	* src/inlining/tasks.hh, src/inlining/tasks.cc: ...here (new
	files).
	* src/inlining/Makefile.am: New file.
	* src/desugar/Makefile.am (libdesugar_la_SOURCES): Remove
	var-factory.hh, var-factory.cc, rename-visitor.hh
	rename-visitor.cc, layered-map.hh, layered-map.hxx,
	inline-visitor.hh, inline-visitor.cc, prune-visitor.hh and
	prune-visitor.cc.

	* src/tc.mk (libinlining_la, libinlining): New.
	(libdesugar): Remove $(libcallgraph).
	(libdesugar): New.
	* src/Makefile.am (SUBDIRS): Add inlining.
	(dist_tc_SOURCES): Add inlining/tasks.cc and inlining/tasks.hh.
	(libtc_la_LIBADD): Add $(libinlining_la).
	* configure.ac (AC_CONFIG_FILES): Add src/inlining/Makefile.
	* dev/stagize: Don't deliver the inline module (for the moment).

	2005-11-29  Roland Levillain  <roland@lrde.epita.fr>

	Allow inline expansion of function bodies as a program
	transformation.

	* src/desugar/layered-map.hh, src/desugar/layered-map.hxx,
	* src/desugar/var-factory.hh, src/desugar/var-factory.hxx: New
	files.
	* src/desugar/libdesugar.hh, src/desugar/libdesugar.cc (rename)
	(overfun_rename, inline_expand, overfun_inline_expand, prune)
	(overfun_prune): New functions.
	* src/desugar/tasks.hh, src/desugar/tasks.cc (rename)
	(overfun_rename, inline_expand, overfun_inline_expand, prune)
	(overfun_prune): New tasks.
	* src/callgraph/tasks.hh, src/callgraph/tasks.cc: Export
	callgraph::tasks::callgraph.

	Add RenameVisitor, renaming all variables to unique names.
	* src/desugar/rename-visitor.hh, src/desugar/rename-visitor.cc:
	New files

	Add InlineVisitor, performing inline expansion.
	* src/desugar/inline-visitor.hh, src/desugar/inline-visitor.cc:
	New files.

	Add PruneVisitor, removing unused functions.
	* src/desugar/prune-visitor.hh, src/desugar/prune-visitor.cc: New
	files.

	* src/desugar/Makefile.am (libdesugar_la_SOURCES): Add
	var-factory.hh, var-factory.cc, rename-visitor.hh,
	rename-visitor.cc, layered-map.hh, layered-map.hxx,
	inline-visitor.hh, inline-visitor.cc, prune-visitor.hh and
	prune-visitor.cc.
	* src/tc.mk (libdesugar): Add $(libcallgraph).
	* src/desugar/tasks.hh (overfun-bound-checks-add): Make it depend
	on overfun-types-compute.
	* src/desugar/bound-checking-visitor.hh: Fix comment on closing
	guard.

2005-12-05  Roland Levillain  <roland@lrde.epita.fr>

	* src/parse/parsetiger.yy: Expect 2 shift/reduce conflicts.

2005-12-02  Roland Levillain  <roland@lrde.epita.fr>

	* src/graph/test-graph.cc: Update test.

2005-12-02  Roland Levillain  <roland@lrde.epita.fr>

	Fix some bugs in desugar/bound checking and have all their tests
	pass.

	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/bound-checking-visitor.cc (box_prefix): New
	constant.
	(operator() (const ast::TypeDecs&)): Use it instead of `_', to
	avoid name clashes with the builtin types introduced by the
	visitor.
	Create a box for real array type declarations only, not array
	aliases.
	(operator() (const ast::NameTy&)): New method.
	(operator() (const ast::VarDec&)): Remove method, and move a
	part of its code...
	(operator() (const ast::ArrayExp&)): ...here (new method).
	(boxes_type): New typedef.
	(boxes_): Use it.

	* dev/ast-clone-visitor-gen: Clone FunctionDec's sl_needed_ and
	sl_escapes_ attributes.
	* src/astclone/clone-visitor.cc: Regen.
	* src/desugar/desugar-visitor.cc
	(operator() (const ast::FunctionDecs& e))
	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::FunctionDecs&): Disable the static link of
	introduced builtins.

	* tests/tc-check.in (stages_extract): Have tc-check perform
	desugar and bound checking tests by default.

2005-12-01  Roland Levillain  <roland@lrde.epita.fr>

	* tests/tc-check.in: Add tests for desugaring and bound checking.
	(help): Fix GCC version in message.
	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::DecsList&)): Insert the new builtin types
	at the right place.
	* src/desugar/bound-checking-visitor.hh: Fix comment on closing
	guard.
	* src/desugar/tasks.hh (overfun-bound-checks-add): Depend on
	overfun-types-compute.
	* src/desugar/desugar-visitor.hh, src/desugar/desugar-visitor.cc,
	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/libdesugar.hh: Replace French quotation marks with
	simple quotes.

2005-11-18  Roland Levillain  <roland@lrde.epita.fr>

	Have the Intel C++ Compiler (ICC) 9.0 compile (but alas, not link)
	the project.

	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx: Don't
	use a using declaration to inherit
	operator() (typename Const<Ast>::type&) from the base class,
	rather...
	(GenVisitor<Const>::operator() (typename Const<Ast>::type&):
	...introduce this wrapper, delegating the call to the base class
	operator, so as to work around a bug causing an Internal Compiler
	Error in icpc 9.0.

	* src/bind/bind-visitor.cc (undeclared): Move method definition...
	* src/bind/bind-visitor.hxx: ...here (new file), so that it is
	visible to overload::BindVisitor.
	* src/bind/Makefile.am (libbind_la_SOURCES): Add bind-visitor.hxx.
	* src/type/type-visitor.cc
	(error<T> (const ast::Ast&, const std::string&, const T&)): Move
	method definition...
	* src/type/type-visitor.hxx: ...here, so that it is visible to
	overload::TypeVisitor.
	Fix Doxygen header.

	* src/misc/xalloc.hh: Include header `functional'.

	* src/canon/canon.hh (Canon),
	* src/canon/canon.cc (is_nop, commute_p)
	* src/canon/traces.hh (Traces)
	* src/regalloc/regallocator.cc (UselessMove): Specify access
	control to the base class as public.
	* configure.ac (TC_CXX_WARNINGS): Ignore ICC's remark #522.

2005-11-18  Roland Levillain  <roland@lrde.epita.fr>

	* src/parse/parsetiger.cc: Regen.

2005-11-18  Roland Levillain  <roland@lrde.epita.fr>

	* src/misc/map.hh, src/misc/map.hxx (take): Return a copy of the
	removed element, not a reference on it.

2005-11-18  Roland Levillain  <roland@lrde.epita.fr>

	Let concrete graph classes handle the printing of their vertices.

	* src/graph/graph.hh (Graph::vertex_print): New abstract method.
	* src/callgraph/fundec-graph.hh, src/callgraph/fundec-graph.hxx,
	* src/liveness/flowgraph.hh, src/liveness/flowgraph.hxx
	* src/liveness/interference-graph.hh,
	* src/liveness/interference-graph.cc,
	(vertex_print): Implement it in concrete classes.
	* src/graph/graph.hxx (Graph::print): Use it to print the labels
	attached to vertices, instead of using operator<< directly.
	* src/ast/ast.yml
	(operator<< (std::ostream&, const FunctionDec&)): Remove.
	* src/ast/function-dec.hh: Regen.

2005-11-16  Akim Demaille  <akim@lrde.epita.fr>

	Remove exp.nonlvalue.

	* src/parse/parsetiger.yy (%nondeterministic-parser): Remove, you
	meant...
	(%glr-parser): this.
	(exp.nonlvalue): Remove, replaced by a plain exp.
	Give "dynamic precedence" to two cast rules in competition.

2005-11-14  Akim Demaille  <akim@lrde.epita.fr>

	Use a GLR parser.

	* build-aux/bison++.in: Let the choice of the skeleton outside.
	* src/parse/scantiger.ll: Adjust: use token::INT etc.
	* src/parse/tiger-parser.hh: Adjust.
	* src/parse/parsetiger.yy: Use glr.cc.
	Use a nondeterministic parser.
	(biglvalue): Remove!

2005-11-13  Fabien Ouy  <fabien@epita.fr>

	Use the new misc::Map in TigerInput.

	* src/parse/parsetiger.yy, src/parse/scantiger.ll: Remove assertions.
	* src/parse/tiger-input.hh, src/parse/tiger-input.hxx,
	* src/parse/tiger-input.cc: Use misc::map instead of std::map for
	meta-variables. Remove now useless methods.
	* src/parse/parsetiger.cc, src/parse/parsetiger.hh,
	* src/parse/location.hh, src/parse/position.hh,
	* src/parse/stack.hh: Regen.

2005-11-13  Fabien Ouy  <fabien@epita.fr>

	* src/misc/map.hcc: Move...
	* src/misc/map.hxx: ...here.
	* src/misc/map.hh, src/misc/map.hxx (empty ()): New method. Rename
	`remove ()' as `take ()'.
	* src/misc/endomap.hh: Remove useless include.

2005-11-09  Akim Demaille  <akim@lrde.epita.fr>

	* build-aux/bison++.in: Specify the options consistently.

2005-11-09  Akim Demaille  <akim@lrde.epita.fr>

	Sort the diff sections.

	* .vcs: New.

2005-11-09  Akim Demaille  <akim@lrde.epita.fr>

	* config.site: Check gcc and g++ separately.

2005-11-05  Nicolas Desprès  <nicolas.despres@lrde.epita.fr>

	Fix bad inclusion.

	* src/misc/timer.hxx: Include timer.hh instead of itself.

2005-11-03  Roland Levillain  <roland@lrde.epita.fr>

	Get rid of TigerInput::operator<< (TigerInput&).

	* src/parse/libparse.cc (parse): Save a TigerInput.
	* src/parse/tiger-input.hh, src/parse/tiger-input.cc
	(operator<< (TigerInput&), check_used, check_used_p_): Remove.
	(TigerInput::TigerInput): Adjust ctors.
	(TigerInput::~TigerInput): Adjust dtor.

2005-10-24  Roland Levillain  <roland@lrde.epita.fr>

	* src/codegen/ia32/Makefile.am (libcodegen_ia32_la_SOURCES): Add
	fwd.hh.
	* src/codegen/ia32/codegen.hh: Remove trailing full stop.

2005-10-23  Benoit Perrot  <benoit@lrde.epita.fr>

	* src/codegen/ia32/fwd.hh: Forward declare ia32::GasAssembly and
	ia32::Codegen.
	* src/codegen/ia32/codegen.hh: Use fwd.hh

2005-10-21  Roland Levillain  <roland@lrde.epita.fr>

	* src/parse/tiger-input.hh, src/parse/tiger-input.cc
	(operator<< (const char*), operator<< (const symbol::Symbol&)):
	New operators.
	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::VarDec&))
	* src/desugar/desugar-visitor.cc (operator() (constast::ForExp&)):
	Use it to revert my changes.

2005-10-21  Roland Levillain  <roland@lrde.epita.fr>

	Have the package distcheck again.

	* dev/stagize (dev_dir): New.  Use it to define...
	(studentize): ...this.
	(config_dir): Remove.
	(bison, stages_file): Update paths.
	* src/misc/Makefile.am (libmisc_la_SOURCES): Add endomap.hh and
	endomap.hcc.

2005-10-20  Roland Levillain  <roland@lrde.epita.fr>

	* build-aux/bison++.in (abs_srcdir): New.
	Be robust to absolute srcdir paths.

2005-10-16  Fabien Ouy  <fabien@epita.fr>

	Repair SWIG's compilation.

	* src/parse/tiger_parse.i (parse): Update return value.
	* src/parse/tiger-parser.hh (TigerParser (bool)): Remove (undefined?)
	constructor.
	* src/ast/default-visitor.hh, src/tree/tiger_tree.i,
	* src/tree/fragments.hh: Help SWIG to instantiate templates.
	* src/ast/tiger_ast.i: Add DecsList definitions.
	* src/escapes/escapes-visitor.hh: Help SWIG to import operator() from
	the super class.
	* src/target/tiger_target.i, src/target/cpu.hh: Export Cpu class
	to SWIG.
	* src/misc/path.hh: Rename operator std::string() and operator=().
	* src/temp/tiger_temp.i: Change map to endomap.
	* src/parse/tiger-input.hh: Rename print() to dump().
	* tcsh/python/test.py: Ignore Regalloc test.
	* dev/tc.texi (SWIG): New section dedicated to SWIG.

2005-10-15  Benoit Perrot  <benoit@lrde.epita.fr>

	Move CPU-dependant builders to subclasses.

	* src/codegen/assembly.hh, src/codegen/assembly.cc:
	(binop_build, move_build, load_build, store_build)
	(label_build, cjump_build, jump_build, call_build, ret_build):
	Remove. Move binop_build(immediate lhs) to...
	* src/codegen/ia32/gas-assembly.hh,
	* src/codegen/ia32/gas-assembly.cc,
	* src/codegen/mips/spim-assembly.hh,
	* src/codegen/mips/spim-assembly.cc:
	... This files.

2005-10-15  Benoit Perrot  <benoit@lrde.epita.fr>

	Provide MIPS' codegen with an access to concrete MIPS' assembly

	* src/codegen/codegen.hh, src/codegen/codegen.hxx,
	* src/codegen/codegen.cc:
	Remove abstract pointer `assembly_'.
	(assembly_set): Remove.
	(assembly_get): Abstract.
	* src/codegen/mips/prologue.hh, src/codegen/mips/epilogue.cc:
	Aggregate a concrete MIPS assembly (for the moment a SpimAssembly).
	(assembly_get): Override.
	(mips_assembly_get): Provide access to a concrete MIPS assembly.
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/codegen.cc:
	Aggregate a concrete ia32 assembly (for the moment a GasAssembly)
	(assembly_get): Override.
	(ia32_assembly_get): Provide access to a concrete IA32 assembly.
	* src/codegen/mips/codegen.hh, src/codegen/mips/codegen.cc:
	Regenerate.
	* src/target/mips-target.cc:
	(MipsTarget): Use `mips_assembly_set ()'.

2005-10-15  Benoit Perrot  <benoit@lrde.epita.fr>

	Move target's CPU-dependant attributes to subclasses.

	* src/target/target.hh, src/target/target.cc:
	(cpu_get, codegen_get): Abstract.
	(cpu_, codegen_): Remove.
	* src/target/mips-target.hh, src/target/mips-target.cc,
	* src/target/ia32-target.hh, src/target/ia32-target.cc:
	Compose a concrete CPU and a concrete CPU-dependant
	codegen. Implement virtual accessors.
	* src/codegen/libcodegen.hh, src/codegen/libcodegen.cc:
	Fix const issues.

2005-10-15  Benoit Perrot  <benoit@lrde.epita.fr>

	Move CPU-dependant assembly to subclasses.

	* src/target/target.hh, src/target/target.cc:
	(assembly_get): Abstract.
	(assembly_): Remove.
	* src/target/mips-target.hh, src/target/mips-target.cc,
	* src/target/ia32-target.hh, src/target/ia32-target.cc:
	Compose a CPU-dependant concrete assembly (respectively a
	SpimAssembly and a GasAssembly). Implement assembly virtual
	accessors.

2005-10-15  Benoit Perrot  <benoit@lrde.epita.fr>

	Introduce ia32-target.cc

	* src/target/ia32-target.hh (Ia32Target, ~Ia32Target):
	Move to...
	* src/target/ia32-target.cc:
	This new file.
	* src/target/Makefile.am: Distribute it.
	* src/target/tasks.cc: Add missing includes.

2005-10-15  Benoit Perrot  <benoit@lrde.epita.fr>

	* src/target/target.hh,
	* src/target/target.cc (asssembly_get):
	Provide const and no-const accessors.
	* src/codegen/libcodegen.hh,
	* src/codegen/libcodegen.cc (instructions_dump):
	Use a no-const Target, since a side-effect is done on Layout.

2005-10-15  Benoit Perrot  <benoit@lrde.epita.fr>

	Fix name lookup error in misc::Endomap<T>.

	* src/misc/endomap.hcc: Make explicit access to template
	superclass' attributes and type definitions.

2005-10-14  Christophe Duong  <chris@epita.fr>

	Refactor syntactic sugar for Endomaps and normal Maps.

	* src/misc/map.hh, src/misc/map.hcc: Factor syntactic sugar
	for map manipulations.

	* src/misc/endomap.hh, src/misc/endomap.hcc: New. Introduce
	misc::Endomap, a renaming mapping defaulting to identity.

	* src/misc/fwd.hh, src/temp/fwd.hh, src/temp/identifier.hh,
	* src/temp/label.cc, src/temp/temp.cc, src/temp/temp.hh:
	Replace use of misc::Map<T> with misc::Endomap<T>.

2005-10-11  Roland Levillain  <roland@lrde.epita.fr>

	Fix the memory management of the symbols in the desugar pass and
	prevent TigerInput from performing too agressive checks.

	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::VarDec&))
	* src/desugar/desugar-visitor.cc (operator() (constast::ForExp&)):
	Clone the name of the variable to avoid shared symbols that may be
	destroyed several times.
	* src/parse/tiger-input.cc (check_used_p_): New member.
	(TigerInput::TigerInput): Adjust ctor.
	(check_used): New accessor.
	* src/parse/libparse.cc (parse): Use TigerInput::check_used to
	prevent the input from checking its contents, as it is voluntarily
	unused.

	* dev/ast-visitor-gen: Precise the kind of inheritance (public) to
	please ICC.
	Typo.
	* src/ast/visitor.hh: Regen.
	* src/ast/default-visitor.hh
	(operator() (typename Const<SimpleVar>::type&))
	(operator() (typename Const<NilExp>::type& e))
	(operator() (typename Const<IntExp>::type& e))
	(operator() (typename Const<StringExp>::type& e)): Name the argument.
	* src/parse/Makefile.am: Typos.
	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/desugar-visitor.cc: Wrap lines longer than 80
	columns.

2005-10-10  Nicolas Pouillard  <ertai@lrde.epita.fr>

	Update the Vcs extension to Vcs 0.4.

	* vcs/tiger.rb: Add the protocol version and the default commit.

2005-10-02  Fabien Ouy  <fabien@epita.fr>

	TigerParser: Refactor the string parsing.

	* src/parse/tiger-input.hxx: New. Aggregate the string to parse and
	meta-variables.
	* src/parse/tiger-parser.hh: Remove meta-variables.
	* src/parse/tiger-parser.cc (parse_, parse_string, parse_string_decs):
	Use TigerInput instead of std::string.
	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/desugar-visitor.cc, src/parse/libparse.cc: Replace use
	of std::string with the new TigerInput class.
	* src/parse/tiger-input.hh, src/parse/tiger-input.cc,
	* src/parse/parsetiger.yy, src/parse/scantiger.ll: Get meta-variables
	from the TigerInput,check the TigerInput is not NULL.
	* src/parse/fwd.hh: Export the TigerInput class.
	* src/parse/parsetiger.cc: Regen.

2005-09-22  Fabien Ouy  <fabien@epita.fr>

	Factor duplicate code in escape checking visitor.

	* src/escapes/escapes-check-visitor.cc (operator()): Move escaping
	tests to escapes_check.
	* src/escapes/escapes-check-visitor.hh (escapes_check): New function.
	* src/escapes/escapes-check-visitor.hxx: New.

2005-09-19  Roland Levillain  <roland@lrde.epita.fr>

	* src/misc/test-ref.cc: Remove file.
	* dev/studentize_tc.conf, dev/stagize (kept_stages): Remove
	ref-count.
	* dev/studentize_test.yml: Adjust.
	* src/misc/Makefile.am (check_PROGRAMS): Remove test-ref.
	(test_ref_SOURCES): Remove.

2005-09-16  Nicolas Pouillard  <ertai@lrde.epita.fr>

	Update Vcs support to 0.3.

	* vcs/HOWTO: Remove.
	* vcs/tiger.rb: Update.

2005-09-16  Roland Levillain  <roland@lrde.epita.fr>

	* dev/stagize (kept_stages): Keep all stages when $stages is
	empty.

2005-09-15  Roland Levillain  <roland@lrde.epita.fr>

	Fix tc-check's tests on liveness analysis.

	* tests/tc-check.in (graph_check_one): Catch up with the new name
	of the entry point (_main instead of main).
	* src/ast/test-ast.cc (main): s/OpExp::plus/OpExp::add/.

2005-09-14  Fabien Ouy  <fabien@epita.fr>

	* src/misc/ref.hxx (operator* () const,
	operator-> () const): Fix a compilation warning from a cast.

2005-09-14  Akim Demaille  <akim@epita.fr>

	Remove misc::Error's non member manipulators.

	* src/misc/error.hh, src/misc/error.hxx, src/misc/error.cc
	(error_on_exit, manip_type, operator<< (manip_type f))
	(exit): Remove.

2005-09-14  Christophe Duong  <chris@epita.fr>

	Simplify symbol::Symbol so we don't have to use a
	create method: the constructor is much more natural.
	Introduce automatic conversion to const std::string& so we don't have
	to use name_get () method when it's not ambiguous.

	* src/symbol/symbol.hh, src/symbol/symbol.cc, src/symbol/symbol.hxx:
	Replace the Factory method symbol::Symbol::create with its constructor.
	As a consequence, the set of symbols and all methods
	linked to it have been removed.
	Add a conversion operator method to const std::string&.
	* src/type/test-type.cc, src/type/types.hh,
	* src/type/types.hxx, src/desugar/bound-checking-visitor.cc,
	* src/desugar/desugar-visitor.cc, src/translate/translate-visitor.cc,
	* src/temp/identifier.hcc, src/parse/scantiger.ll,
	* src/parse/parsetiger.yy, src/ast/simple-var.hxx,
	* dev/ast-clone-visitor-gen, src/ast/ast.yml,
	* src/cppgen/cppgen-visitor.cc:
	* src/symbol/test-symbol.cc,
	Remove calls to symbol::Symbol::create. Symbols are now implicitly
	created with the constructor.
	Simplify calls to symbol::name_get when it's possible (not ambiguous)
	using the automatic conversion method.
	* src/ast/dec.cc, src/ast/simple-var.cc,
	* src/ast/field.hh, src/ast/call-exp.cc,
	* src/ast/function-dec.hh, src/ast/name-ty.hxx,
	* src/ast/field-init.hxx, src/ast/type-dec.cc,
	* src/ast/field-var.hh, src/ast/field-init.hh,
	* src/ast/field.cc, src/ast/var-dec.hh,
	* src/ast/dec.hxx, src/ast/function-dec.cc,
	* src/ast/name-ty.hh, src/ast/field-var.cc,
	* src/ast/field-init.cc, src/ast/simple-var.hh,
	* src/ast/dec.hh, src/ast/call-exp.hh,
	* src/ast/var-dec.cc, src/ast/call-exp.hxx,
	* src/ast/field-var.hxx, src/ast/field.hxx,
	* src/ast/name-ty.cc, src/ast/type-dec.hh,
	* src/astclone/clone-visitor.cc: Regen.

2005-09-14  Roland Levillain  <roland@lrde.epita.fr>

	Have Python generators print prettier code.

	* dev/tools.py: Aesthetic changes.
	(define_id): Improve generated guard name.
	(indef_article, wrap_proto): New functions.
	* dev/ast-nodes-gen (print_ctor_dtor): Use them to print « a » or
	« an » according to the following noun, and to wrap long ctor
	declarations/definitions.
	* dev/ast.py: Wrap lines longer than 80 columns.
	(tools): Import this module.
	(Node.fname): Use tools.file_id instead of an inlined-by-hand
	duplicate.
	* src/ast/array-exp.cc, src/ast/array-exp.hh, src/ast/array-exp.hxx,
	* src/ast/array-ty.hh, src/ast/array-ty.hxx, src/ast/assign-exp.hh,
	* src/ast/assign-exp.hxx, src/ast/ast.hh, src/ast/break-exp.hh,
	* src/ast/break-exp.hxx, src/ast/call-exp.cc, src/ast/call-exp.hh,
	* src/ast/call-exp.hxx, src/ast/cast-exp.hh, src/ast/cast-exp.hxx,
	* src/ast/cast-var.hh, src/ast/cast-var.hxx, src/ast/dec.hh,
	* src/ast/decs-list.cc, src/ast/decs-list.hh, src/ast/decs-list.hxx,
	* src/ast/escapable.hh, src/ast/exp.hh, src/ast/field.cc,
	* src/ast/field.hh, src/ast/field-init.cc, src/ast/field-init.hh,
	* src/ast/field-init.hxx, src/ast/field-var.cc,
	* src/ast/field-var.hh, src/ast/field-var.hxx, src/ast/for-exp.cc,
	* src/ast/for-exp.hh, src/ast/for-exp.hxx, src/astx4/function-dec.cc,
	* src/ast/function-dec.hh, src/ast/function-dec.hxx,
	* src/ast/if-exp.cc, src/ast/if-exp.hh, src/ast/if-exp.hxx,
	* src/ast/int-exp.hh, src/ast/int-exp.hxx, src/ast/let-exp.hh,
	* src/ast/let-exp.hxx, src/ast/Makefile.am, src/ast/name-ty.hh,
	* src/ast/name-ty.hxx, src/ast/nil-exp.hh, src/ast/nil-exp.hxx,
	* src/ast/op-exp.cc, src/ast/op-exp.hh, src/ast/op-exp.hxx,
	* src/ast/record-exp.cc, src/ast/record-exp.hh,
	* src/ast/record-exp.hxx, src/ast/record-ty.hh,
	* src/ast/record-ty.hxx, src/ast/seq-exp.hh, src/ast/seq-exp.hxx,
	* src/ast/simple-var.cc, src/ast/simple-var.hh,
	* src/ast/simple-var.hxx, src/ast/string-exp.hh,
	* src/ast/string-exp.hxx, src/ast/subscript-var.cc,
	* src/ast/subscript-var.hh, src/ast/subscript-var.hxx,
	* src/ast/ty.hh, src/ast/typable.hh, src/ast/type-constructor.hh,
	* src/ast/type-constructor.hxx, src/ast/type-dec.cc,
	* src/ast/type-dec.hh, src/ast/type-dec.hxx, src/ast/var-dec.cc,
	* src/ast/var-dec.hh, src/ast/var-dec.hxx, src/ast/var.hh,
	* src/ast/while-exp.hh, src/ast/while-exp.hxx: Regen.
	* src/ast/Makefile.am (ast_gen_deps): Add $(gen_dir)/tools.py.

2005-09-14  Akim Demaille  <akim@epita.fr>

	* src/ast/ast.yml (OpExp): s/plus/add/, s/minus/sub/.
	Adjust all dependencies.

2005-09-14  Akim Demaille  <akim@epita.fr>

	* build-aux/boost.m4: Fix it.
	Simplify it.
	Avoid cluttering the variable name space.
	Use a more traditional Autoconf coding style.

2005-09-13  Roland Levillain  <roland@lrde.epita.fr>

	* configure.ac: Check for Boost headers >= 1.32.

2005-09-13  Roland Levillain  <roland@lrde.epita.fr>

	Generate ast::DecsList files.

	* src/ast/ast.yml (DecsList): New.
	(IfExp): Reindent ctor code.
	* dev/ast.py (re_list): Adjust the regexp to catch names
	containing scope resolution operators.
	(Attribute.delete): Clear non-pointer collections attributes.
	Don'y output useless student marks.
	* dev/ast-nodes-gen (class_generate): Output inline code for
	header, inline methods, and implementation files.
	(atomic_types): Remove "OpExp::Oper", "OpExp::Kind",
	"AssignExp::Kind", "IfExp::Kind", "LetExp::Kind", and
	"SeqExp::Kind".
	(includes_map): Remove "decs_type" and "decs_list_type".
	* dev/ast-visitor-gen: Remove the hand-written definition of
	operator() (const DecsList&)
	* dev/ast-clone-visitor-gen: Likewise, and have the script
	generate it.
	(collections): Add DecsList::decs_type.
	* src/ast/decs-list.hh, src/ast/decs-list.hxx,
	* src/ast/decs-list.cc, src/ast/if-exp.hh,
	* src/ast/fwd.hh, src/ast/visitor.hh,
	* src/astclone/clone-visitor.hh, src/astclone/clone-visitor.cc,
	* src/ast/README: Regen.
	* src/ast/Makefile.am (libast_la_SOURCES): Remove decs-list.hh,
	decs-list.hxx and decs-list.cc.

2005-09-12  Roland Levillain  <roland@lrde.epita.fr>

	* configure.ac: Move checks for Boost headers...
	* build-aux/boost.m4: ...here (new file).
	Check for Boost >= 1.33.
	* build-aux/monoburg.m4: Wrap lines longer than 80 columns.

2005-09-11  Michael Cadilhac  <michael.cadilhac@lrde.epita.fr>

	* src/codegen/mips/Makefile.am: Use MonoBURG's --with-line option
	as the default behavior of MonoBURG >= 1.0.3 is to not output
	#line directives.
	* build-aux/monoburg.m4: Change TC_PROG_MONOBURG to check for
	a version given in argument.
	* configure.ac: Use it to check for MonoBURG 1.0.3 or earlier.
	* src/codegen/mips/codegen.cc: Regenerate.

2005-09-09  Roland Levillain  <roland@lrde.epita.fr>

	Accept a list of declarations as a valid Tiger program.

	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc
	(parse_program_or_decs): New method.
	* src/parse/libparse.cc (parse): Use it to parse the input either
	as an expression or as a list of declarations.

2005-09-09  Roland Levillain  <roland@lrde.epita.fr>

	Handle _main as a special name reserved for the entry point of a
	Tiger program.  Thus _main become a normal identifier, but can be
	used only to declare a function in the outer-most scope.  Checks
	for invalid usages are postponed to the binding step.

	* src/parse/scantiger.ll: Add `_main' to the list of allowed
	identifiers.
	* src/bind/bind-visitor.hh, src/bind/bind-visitor.cc
	(level_): New attribute.
	(scope_begin, scope_end): Update it as scopes open and close.
	(BindVisitor::BindVisitor): Adjust ctor.
	(operator() (ast::CallExp&)): Forbid calls to function _main.
	(visitDecHeader<ast::FunctionDec> (ast::FunctionDec&)): Forbid
	declarations of function _main outside the top-most level.
	* tests/bind/inner-_main-fundec.tig, tests/bind/call-to-_main.tig:
	New tests.
	* tests/bind/Makefile.am: Regen.

2005-09-07  Roland Levillain  <roland@lrde.epita.fr>

	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::DecsList&))
	(operator() (const ast::FunctionDecs&)): Remove the outer let-end
	in declarations strings.

2005-09-06  Akim Demaille  <akim@epita.fr>

	* src/ast/decs-list.hh, src/ast/decs-list.hxx,
	* src/ast/decs-list.cc: New.

2005-09-06  Akim Demaille  <akim@epita.fr>

	Adjust preludes.
	* data/prelude.tih, tests/good/basic-import-header.tih,
	* tests/good/complex-import-header1.tih,
	* tests/good/complex-import-header2.tih,
	* tests/import/import-rec-header1.tih,
	* tests/import/import-rec-header2.tih,
	* tests/import/import-recursive1.tih:
	Remove the outer let-end.

2005-09-06  Akim Demaille  <akim@epita.fr>

	Change the way the AST is kept inside.
	It was a single expression, now it's a list of declarations,
	the former expression is now the body of a "main" function.

	Change the prelude syntax: the let-end are no longer needed.
	* src/parse/scantiger.ll: As a consequence the seed trick is no
	longer needed either.
	(_decs): New metavariable type.
	* src/parse/parsetiger.yy (SEED_IMPORT, SEED_SOURCE): Remove.
	Adjust the axiom.
	(decs): Adjust it uses, printer and dtor.
	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc
	(decs_map_type, decs): New.
	(parse_): Make it more systematic.
	No longer takes the seed as input, but the filename or string to
	parse.
	(parse_prelude, parse_program, parse_string, parse_string_decs):
	Use it.
	Also, make sure that the variable used to return the result is set
	to 0 again.
	* src/parse/libparse.cc (parse): Use the meta variable to
	transform a top level expression into a declaration of the _main
	function.
	It might be simpler to have the parser actually do that.

	Support DecsList in the ast.
	* dev/ast-nodes-gen (print_guards_close): Don't output a space
	between # and include in cc files.
	* src/ast/ast.yml (LetExp): Its decs are now a DecsList.
	(FunctionDec): Remove the "main" function tricks.
	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx:
	Handle DecsList.
	Adjust LetExp.
	* dev/ast-visitor-gen, dev/ast-fwd-gen: Adjust.
	* src/ast/decs-list.hh, src/ast/decs-list.hxx, src/ast/decs-list.cc:
	New.
	All uses of decs_list_type replaced.
	* src/ast/alldec.hh: Include them.
	* src/ast/decs.hh (decs_list_type): Remove.
	* src/ast/Makefile.am: Adjust.

	Adjust core routines to the new ast.
	* src/callgraph/parent-graph-visitor.cc,
	* src/callgraph/parent-graph-visitor.hh,
	* src/callgraph/parent-graph-visitor.cc,
	* src/callgraph/call-graph-visitor.hh,
	* src/callgraph/call-graph-visitor.cc (create): Take an Ast.
	(constructor): Do nothing fancy for main.
	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/bound-checking-visitor.cc (operator ()(LetExp)):
	Replace by...
	(operator()(DecsList)): this.
	Simplify the logic: it is actually no longer necessary to iterate.
	* src/translate/translate-visitor.cc: The ctor and dtor no longer
	need to do anything fancy for "main".
	(visitFunctionDecHeader): Special case the main function :(
	* src/astclone/clone-visitor.hh, src/astclone/clone-visitor.cc:
	Handle DecsList.
	* src/cppgen/cppgen-visitor.hh, src/cppgen/cppgen-visitor.cc:
	Handle DecsList.
	It still doesn't work though, I didn't fight to know why.

	Make all the libs handle ast::Ast.  Tasks handle the DecsList.
	* src/type/libtype.cc, src/type/libtype.hh, src/escapes/libescapes.hh,
	* src/escapes/libescapes.cc, src/desugar/libdesugar.hh,
	* src/desugar/libdesugar.cc, src/translate/libtranslate.hh,
	* src/translate/libtranslate.cc, src/callgraph/libcallgraph.hh,
	* src/callgraph/libcallgraph.cc, src/parse/libparse.cc,
	* src/parse/libparse.hh,
	* src/bind/libbind.hh, src/bind/libbind.cc, src/ast/libast.hh,
	* src/overload/liboverload.hh, src/overload/liboverload.cc:
	Replace ast::Exp by ast::Ast.
	* src/desugar/tasks.cc, src/parse/tasks.cc, src/ast/tasks.hh,
	* src/ast/tasks.cc, src/astclone/tasks.cc
	(the_program): Now a DecsList.

	Random improvements.
	* src/desugar/tasks.cc (extract_result): New.
	Use it to factor most following routines.
	* src/desugar/desugar-visitor.cc: When possible, don't create a
	temporary string variable to parse, just parse the string.
	* src/translate/level.hh, src/translate/level.cc (Level): Remove
	the ctor with a single argument.
	Swap the first two argument of the second so that sensible default
	values can be used.
	Adjust callers.
	Adjust student marks.

2005-09-05  Roland Levillain  <roland@lrde.epita.fr>

	* src/desugar/test-bound-checking.cc: New file.
	* src/desugar/Makefile.am (check_PROGRAMS): Add
	test-bound-checking.
	(test_bound_checking_SOURCES, test_bound_checking_LDADD)
	(test_bound_checking_CPPFLAGS): New.

2005-09-05  Julien Roussel  <julien.roussel@gmail.com>

	* Makefile.am (authors.h): Don't rely on the default encoding.

2005-09-05  Roland Levillain  <roland@lrde.epita.fr>

	Use TigerParser's ability to parse a batch of declarations to
	simplify the BoundCheckingVisitor, using more concrete syntax.

	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::LetExp& e)): Use concrete syntax to
	introduce new built-in types.
	(desugar): Likewise, for new built-in functions.
	* src/parse/scantiger.ll: Allow more reserved identifiers (for
	instance, words starting with several « _ »).

2005-09-05  Roland Levillain  <roland@lrde.epita.fr>

	Update tests w.r.t. the new interface of TigerParser.

	* src/parse/test-parse.cc (main),
	* src/astclone/test-clone-visitor.cc (clone_ast),
	* src/bind/test-bind.cc (bound),
	* src/desugar/test-string-cmp-desugar.cc (test_string_desugaring),
	* src/desugar/test-for-loops-desugar.cc (main):
	Update tests.

2005-09-05  Roland Levillain  <roland@lrde.epita.fr>

	Actually create all nodes in the duplicated AST instead of using
	some references to existing ones, during the bound checking pass,
	to prevent SIGSEGVs during the destruction of the tree.

	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::VarDec& e)): Create a fresh NameTy as name
	of the result VarDec, instead of reusing tp.namety["Box"].
	(operator() (const ast::SubscriptVar& e)): Duplicate e.var_ twice,
	and use each instance exactly once in the desugared result.

	* src/graph/graph.hh (topological_sort): Typo in comment.

2005-09-02  Fabien Ouy  <fabien@epita.fr>

	* src/misc/ref.hh, src/misc/ref.hxx: Change implementation to
	use Boost's shared_ptr.
	* src/canon/basic-block.cc, src/codegen/ia32/codegen.cc,
	src/codegen/mips/move.brg, src/codegen/mips/move_load.brg,
	src/codegen/mips/move_store.brg,
	src/misc/test-ref.cc, src/tree/tree.cc,
	src/tree/tree.hxx: Replace calls to misc::Ref::bound () with
	misc::Ref::operator bool ().
	* src/codegen/mips/codegen.cc, src/codegen/mips/codegen.hh: Regen.

2005-09-02  Roland Levillain  <roland@lrde.epita.fr>

	* src/desugar/tasks.hh (raw-desugar, raw-bound-checks-add),
	* src/cppgen/tasks.hh (cxx-display): Adjust dependencies on task
	`typed'.

	* src/graph/graph.hh (topological_sort): Add comment.
	* src/codegen/mips/tiger.brg: Fix Doxygen header.
	* src/codegen/mips/epilogue.cc: Remove Doxygen header.
	* src/codegen/mips/codegen.hh, src/codegen/mips/codegen.cc: Regen.

2005-09-02  Akim Demaille  <akim@epita.fr>

	Sugar the bound checking visitor using meta variables.
	The problems in parsing start to reveal themselves, in particular
	in connection with biglvalue issue.
	* src/parse/parsetiger.yy (LVALUE, NAMETY): New tokens.
	Catch their occurrences.
	* src/parse/scantiger.ll (_lvalue, _namety): New rules.
	Use assertion instead of assert.
	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc
	(lvalue, lvalue_map_type, namety, namety_map_type): New.
	(parse_): Take the seed as argument.
	Adjust all callers.
	(parse_prelude): Make it more alike its peers.
	Take an argument.
	(parse_import): Adjust and simplify.
	* src/desugar/bound-checking-visitor.cc (VarDec, SubscriptVar):
	Use more meta variables.

2005-09-01  Roland Levillain  <roland@lrde.epita.fr>

	Rename disjunctive tasks as past participles.

	* src/bind/tasks.hh (bind-default): Rename task as...
	(bound): ...this.
	* src/escapes/tasks.hh (escapes): Adjust dependency.
	* src/type/tasks.hh (type): Rename task as...
	(typed): ...this.
	* src/translate/tasks.hh (hir-compute): Adjust dependency.
	* src/desugar/tasks.hh (desugar-default): Rename task as...
	(desugared): ...this.
	* src/target/tasks.hh (target-default): Rename task as...
	(targeted): ...this.
	* src/codegen/tasks.hh (inst-compute, runtime-display),
	* src/temp/tasks.hh (tempmap-display): Adjust dependencies.

2005-09-01  Roland Levillain  <roland@lrde.epita.fr>

	* configure.ac: Remove --enable-desugar option.
	* src/translate/tasks.hh, src/overload/tasks.hh: Adjust.

2005-09-01  Roland Levillain  <roland@lrde.epita.fr>

	* dev/tc.png: New file.
	* dev/tc.css: Add a body background.
	* dev/Makefile.am (EXTRA_DIST): Add tc.png.
	(tc.html): Add a dependency on tc.png.
	(tc.img/tc.png, clean-local): New rules.

2005-09-01  Roland Levillain  <roland@lrde.epita.fr>

	Document the release process.

	* dev/tc.texi (Release process): New node.
	(Top): Update menu.
	* dev/tc.css: New file.
	* dev/Makefile.am (EXTRA_DIST): New.
	Add tc.css.
	(AM_MAKEINFOFLAGS): Add --css-include=$(srcdir)/tc.css

2005-09-01  Akim Demaille  <akim@epita.fr>

	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc:
	Some reordering and documenting.
	(exp_map_type, symbol_map_type): New.
	Note that we now use simple std::string as keys, there is no win
	in using Symbols.
	* src/parse/scantiger.ll (CHECK_EXTENSION): New.
	(IDENTIFIER, NEW_IDENTIFIER): Split the first in two.
	Take an argument.
	(meta_variable): New.
	* src/desugar/desugar-visitor.cc (operator() (ForExp)): Use the
	symbol table to replace the loop variable name.

2005-08-31  Akim Demaille  <akim@epita.fr>

	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc:
	(TigerParser): Grr, never ever trust the initialization by
	default of primitive types.
	Initialize the Booleans.
	(exp): New.
	* src/parse/scantiger.ll (EXTENSION): New.
	(_exp): New pattern.
	* src/parse/parsetiger.yy (EXP): New token.
	Recognize it, and fetch the sub tree from the TigerParser's exp
	array.

2005-08-31  Akim Demaille  <akim@epita.fr>

	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc:
	(ctors): Simplify the two ctors into a single one setting all the
	flags to false.
	(allow_extensions_p_): Rename as...
	(enable_extensions_p_): this.
	(enable_extensions, scan_trace, parse_trace): New.
	* src/parse/scantiger.ll: Use them.
	(IDENTIFIER): New, use it.
	* src/desugar/bound-checking-visitor.cc,
	* src/desugar/desugar-visitor.cc: Adjust.

2005-08-31  Akim Demaille  <akim@epita.fr>

	* src/task/task-register.cc (print_task_graph): Fix the display of
	disjunctive tasks.
	Ensure the order of the children is preserved.

2005-08-30  Akim Demaille  <akim@epita.fr>

	Rename config/ as build-aux to match with up-to-date coding standards.

	* config/.arch-inventory, config/Makefile.am,
	* config/ampersand.rb, config/ampersand_test.yml,
	* config/bison++.in, config/bison.m4, config/logeval-to-csv,
	* config/make.m4, config/monoburg.m4, config/move-if-change,
	* config/pypath.m4, config/rebox.el, config/swig.m4,
	* config/tiger.el, config/warning.m4:
	Move to...
	* build-aux/.arch-inventory, build-aux/Makefile.am,
	* build-aux/ampersand.rb, build-aux/ampersand_test.yml,
	* build-aux/bison++.in, build-aux/bison.m4, build-aux/logeval-to-csv,
	* build-aux/make.m4, build-aux/monoburg.m4, build-aux/move-if-change,
	* build-aux/pypath.m4, build-aux/rebox.el, build-aux/swig.m4,
	* build-aux/tiger.el, build-aux/warning.m4:
	... here.
	* Makefile.am, argp/Makefile.am, argp/configure.ac, bootstrap,
	* configure.ac, dev/ast-clone-visitor-gen, dev/stats,
	* src/Makefile.am, src/parse/Makefile.am: Adjust.

	* configure.ac: Simplify the use of --with-boost.
	* config.site: Make it easier for Fink users to find gcc and
	boost.

2005-08-30  Roland Levillain  <roland@lrde.epita.fr>

	Make template methods of type::TypeVisitor visible to
	overload::TypeVisitor, whatever the compiler optimization options.

	* src/type/type-visitor.cc (type_default, created_type_default):
	(type_set): Move these methods...
	* src/type/type-visitor.hxx: ...here (new file).
	* src/type/type-visitor.hh: Include it.
	* src/type/Makefile.am (libtype_la_SOURCES): Add type-visitor.hxx.
	Reported by Julien Roussel.

2005-08-30  Roland Levillain  <roland@lrde.epita.fr>

	Fix the generation of authors.h.

	* Makefile.am (authors.h): Have a more flexible regexp
	w.r.t. spaces (i.e., allow tabs) to define PACKAGE_SHORT_AUTHORS.
	* AUTHORS: Convert tabulations to spaces.
	Reported by Julien Roussel.

2005-08-30  Roland Levillain  <roland@lrde.epita.fr>

	* dev/tc.texi (Test): Add some documentation on tc-check's usage.

2005-08-24  Roland Levillain  <roland@lrde.epita.fr>

	Perform bound checking within an add-on builtin function,
	_check_bounds, using the cast extension.

	* src/desugar/bound-checking-visitor.cc
	* src/desugar/bound-checking-visitor.hh, (_streq_def_)
	(_strcmp_def_, _exit_def_): Remove attributes.
	(has_new_builtin_types_p_, has_new_builtin_functions_p_): New
	attributes.
	(BoundCheckingVisitor::BoundCheckingVisitor): Adjust ctor.
	(operator() (const ast::SubscriptVar&)): Emit a call to
	_check_bounds instead of inline bound checking code.
	(operator() (const ast::LetExp& e)): New.
	Create aliases for the int and string builtin types to avoid bad
	bindings.
	Emit an _int_array type used as a pseudo-generic array type
	(thanks to casts) in calls to _check_bounds.
	(operator() (const ast::FunctionDecs&)): Build an alias of
	print_err.
	Emit the new _check_bounds builtin.
	No longer bind _streq and _strcmp by hand.
	(operator() (const ast::AssignExp&))
	(operator() (const ast::CallExp&)): Remove methods.
	* tests/good/array-subscript-assign.tig,
	* tests/good/array-subscript-assign.-e.s,
	* tests/good/array-subscript-assign.-e.u.s,
	* tests/good/array-subscript-assign.hir,
	* tests/good/array-subscript-assign.hpr,
	* tests/good/array-subscript-assign.lir,
	* tests/good/array-subscript-assign.lpr,
	* tests/good/array-subscript-assign.out,
	* tests/good/array-subscript-assign.s,
	* tests/good/array-subscript-assign.sta,
	* tests/good/array-subscript-assign.u.s: New test.

2005-08-23  Roland Levillain  <roland@lrde.epita.fr>

	Disable the support of casts by default.  This can be turned on
	as an option of the TigerParser.

	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc
	(allow_reserved_id_p_): Rename attribute as...
	(allow_extensions_p_): ..this.
	(TigerParser::TigerParser): Adjust ctors.
	* src/parse/scantiger.ll: Adjust.
	Treat "cast" as a keyword if language extensions are enabled and
	as an identifier otherwise.

	* src/cppgen/tasks.hh (cppgen): Remove -X short option
	(overriden by --no-prelude) for --cxx-display.
	* src/cppgen/tasks.cc (DEFINE_TASKS): Re-enable the task of the
	cppgen module.

2005-08-23  Roland Levillain  <roland@lrde.epita.fr>

	Support casts in the Tiger language.  This feature is not meant to
	be used in program written by humans, but by the compiler within
	program transformations.

	* src/parse/parsetiger.yy (CAST): New token.
	(exp.nonlvalue): New non terminal.
	Let an expression be either a l-value or a non l-value.
	Support the cast extension.
	* sec/scan/scantiger.ll: Recognize the `cast' keyword.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc: Regen.
	* src/ast/ast.yml (CastVar, CastExp): New classes.
	* src/ast/fwd.hh: Regen.
	* src/ast/visitor.hh,
	* src/astclone/clone-visitor.hh, src/astclone/clone-visitor.cc
	(operator() (const CastVar&), operator() (const CastExp&)): New
	(generated).
	* src/ast/allvar.hh, src/ast/allexp.hh: Update.
	* src/ast/default-visitor.hh, src/ast/default-visitor.cc
	(operator() (typename Const<CastVar>::type&))
	(operator() (typename Const<CastExp>::type&)): New.
	* src/ast/print-visitor.hh, src/ast/print-visitor.cc
	(operator() (const CastVar&), operator() (const CastExp&)): New.
	* src/ast/README: Update.
	* src/type/type-visitor.hh, src/type/type-visitor.cc
	(operator() (const CastVar&), operator() (const CastExp&)): New.
	* src/translate/translate-visitor.hh,
	* src/translate/translate-visitor.cc
	(operator() (const CastVar&), operator() (const CastExp&)): New.
	* src/cppgen/cppgen-visitor.hh
	(operator() (const CastVar&), operator() (const CastExp&)): New
	(fakes).

2005-08-16  Roland Levillain  <roland@lrde.epita.fr>

	Make --desugar and --overfun-desugar idempotent.

	* src/desugar/desugar-visitor.cc
	(operator() (const ast::FunctionDecs& e)): Prevent builtin alias
	redefinitions.
	* NEWS: Update.

2005-07-18  Roland Levillain  <roland@lrde.epita.fr>

	* src/desugar/tasks.hh, src/desugar/desugar-visitor.hh,
	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/libdesugar.hh, src/desugar/libdesugar.cc: Typos.
	* NEWS: Likewise.
	Update.

2005-07-15  Roland Levillain  <roland@lrde.epita.fr>

	Make BoundCheckingVisitor independant from DesugarVisitor so that
	they can be used in any order.

	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/bound-checking-visitor.cc (exit_def_): Rename as...
	(_exit_def_): ...this.
	(operator() (const ast::FunctionDec&)): Remove.
	(operator() (const ast::FunctionDecs&)): New.
	Create an alias for the exit builtin so as to perform the right
	binding.
	* src/desugar/desugar-visitor.hh, src/desugar/desugar-visitor.cc
	(_exit_def_): New member.
	(operator() (const ast::FunctionDecs&)): Register _exit alias
	definition.
	(operator() (const ast::CallExp&)): New.
	Make the right binding on _exit.


	Have a finer control of the desugar step using flags for each
	transformation.

	* src/desugar/tasks.hh, src/desugar/tasks.cc (desugar-default): -O
	is no longer a shortcut for --desugar-default.
	(desugar-for, desugar-string-cmp): New boolean tasks.
	(desugar, overfun_desugar): Pass their values to desugar::desugar
	and desugar::overfun_desugar.
	(bound_checks_add, overfun_bound_checks_add)
	(raw_bound_checks_add): New tasks.
	* src/desugar/libdesugar.hh, src/desugar/libdesugar.cc
	(desugar, overfun_desugar, raw_desugar): Add two boolean
	arguments, and pass them to the DesugarVisitor.
	(raw_transform): Rename as...
	(raw_bound_checks_add): ...this.
	(desugar, overfun_desugar): Move bound-checking-related code...
	(bound_checks_add, overfun_bound_checks_add): ... here (new
	functions).
	* src/desugar/desugar-visitor.hh, src/desugar/desugar-visitor.cc
	(desugar_for_p_, desugar_string_cmp_p_): New members.
	(DesugarVisitor::DesugarVisitor): Adjust ctor.
	(DesugarVisitor::operator() (const ast::OpExp&)): Don't
	desugar if desugaring of string comparisons is not enabled, simply
	clone instead.
	(DesugarVisitor::operator() (const ast::ForExp&))
	(DesugarVisitor::operator() (const ast::FunctionDecs&)): Don't
	desugar if desugaring of « for » loops is not enabled, simply
	clone instead.

2005-07-12  Roland Levillain  <roland@lrde.epita.fr>

	Add more syntactic sugar on misc::list.

	* src/misc/list.hh, src/misc/list.cc (list::has)
	(list::operator-=): New methods.
	(operator%): New operator.
	* src/temp/temp.cc, src/temp/label.cc: Explicitely instantiate
	this operator.
	* src/regalloc/color.cc (assign_color): Simplify using this
	syntactic sugar.

2005-07-12  Roland Levillain  <roland@lrde.epita.fr>

	Prevent unwanted type redefinitions.

	* src/type/type-visitor.hh, src/type/type-visitor.cc
	(type_default, created_type_default, type_set): New methods.
	Use them to prevent an accidental redefinition of a type.
	* src/overload/type-visitor: Likewise.
	* src/bind/bind-visitor.hh, src/bind/bind-visitor.cc (def_init):
	Rename as...
	(def_default): ...this.
	Adjust callers.

2005-07-12  Roland Levillain  <roland@lrde.epita.fr>

	* tests/tc-check.in (cc, log_open, help): Use gcc-4.0
	(cxx, log_open, help): Use g++-4.0.

2005-07-12  Roland Levillain  <roland@lrde.epita.fr>

	Use « _ » as leading character of reserved identifiers instead of
	« $ ».

	* src/parse/scantiger.ll: Have reserved_id start with a « _ », not
	a « $ ».
	* src/desugar/desugar-visitor.cc (operator() (const ast::OpExp&))
	(operator() (const ast::FunctionDecs& e)): Rename $streq and
	$strcmp as _streq and _strcmp.
	(operator() (const ast::ForExp&)): Rename $lo and $hi as _lo and
	_hi.
	* src/desugar/bound-checking-visitor.cc
	(operator() (const ast::TypeDecs&))
	(operator() (const ast::VarDec&))
	(operator() (const ast::SubscriptVar&))
	(operator() (const ast::AssignExp&)): Start box type name with a
	« _ », not a « $ ».
	Rename $arr and $size as _arr and _size.
	(operator() (const ast::CallExp&)): Rename $streq and $strcmp as
	_streq and _strcmp.
	* src/desugar/desugar-visitor.hh,
	* src/desugar/bound-checking-visitor.hh: Adjust comments.

2005-07-12  Roland Levillain  <roland@lrde.epita.fr>

	Rename TransformVisitor as BoundCheckingVisitor.

	* src/desugar/transform-visitor.hh,
	* src/desugar/transform-visitor.cc: Rename files as...
	* src/desugar/bound-checking-visitor.hh,
	* src/desugar/bound-checking-visitor.cc: ...this.
	(TransformVisitor): Rename as...
	(BoundCheckingVisitor): ...this.
	* src/desugar/libdesugar.cc (desugar): Adjust.
	* src/desugar/Makefile.am (libdesugar_la_SOURCES): Remove
	transform-visitor.hh and transform-visitor.cc.
	Add bound-checking-visitor.hh and bound-checking-visitor.cc.
	* NEWS: Update.

2005-07-12  Arnaud Fabre  <fabre_a@epita.fr>

	Make G++ 4.0 the official compiler.

	* configure.ac (GCC_PREREQ): Bump to 4.0.
	* src/temp/temp.cc (misc::operator<<): Do not explicit namespace misc:
	gcc 4.0 does not appreciate it.

2005-07-11  Roland Levillain  <roland@lrde.epita.fr>

	Move bound-checking code emission into a new visitor,
	TransformVisitor, launched after DesugarVisitor.

	* src/desugar/desugar-visitor.hh, src/desugar/desugar-visitor.cc:
	(operator() (const ast::FunctionDec&)): Remove method.
	(operator() (const ast::FunctionDecs&)): New method.
	(operator() (const ast::TypeDecs&))
	(operator() (const ast::VarDec&))
	(operator() (const ast::SubscriptVar&))
	(operator() (const ast::AssignExp&)): Move these methods...
	* src/desugar/transform-visitor.hh,
	* src/desugar/transform-visitor.cc: ...here (new visitor).
	* src/desugar/libdesugar.cc (raw_desugar): New function.
	(desugar, overfun_desugar): Call raw_desugar (and relaunch
	bind::bind and type::types_check) after the desugar step.
	* src/desugar/Makefile.am (libdesugar_la_SOURCES): Add
	transform-visitor.hh and transform-visitor.cc.

2005-07-11  Roland Levillain  <roland@lrde.epita.fr>

	Add optional dynamic checking of the bounds of arrays, as a
	program tranformation on the AST at the desugar stage.

	* src/desugar/desugar-visitor.hh, src/desugar/desugar-visitor.cc:
	(operator() (const ast::TypeDecs&))
	(operator() (const ast::VarDec&))
	(operator() (const ast::SubscriptVar&))
	(operator() (const ast::AssignExp&)): New methods.
	(exit_def_, boxes_): New attribute.
	(operator() (const ast::FunctionDec&)): Register exit() builtin
	definition site.
	* src/astclone/clone-visitor.hxx (astclone): Fix the variable
	check in an assertion.
	* src/parse/parsetiger.yy: Typo.
	* NEWS: Update.

2005-07-07  Akim Demaille  <akim@epita.fr>

	* src/task/task-register.cc (print_task_graph): Output diamonds
	for disjunctive tasks.

2005-06-28  Roland Levillain  <roland@lrde.epita.fr>

	Properly desugar Tiger programs with function overloading.

	* configure.ac: Bump to 0.92a.
	* src/desugar/libdesugar.hh, src/desugar/libdesugar.cc
	(overfun_desugar): New function.
	* src/desugar/tasks.hh (desugar-default): New disjunctive task.
	(desugar): Depend on types-compute, not type.
	(overfun-desugar): New task.
	[ENABLE_DESUGAR]: Bind this task to option -O.
	* src/desugar/tasks.cc (overfun_desugar): New function.
	* src/overload/tasks.hh: Typos.
	(overfun-types-compute) [ENABLE_DESUGAR]: Don't bind this task to
	option -O.
	* src/translate/tasks.hh (translate) [ENABLE_DESUGAR]: Depend on
	desugar-default, not desugar.
	* NEWS: Update.

2005-06-27  Roland Levillain  <roland@lrde.epita.fr>

	Version 0.92.
	For 2007-tc-9.0.

	* configure.ac, NEWS: Version 0.92.
	* src/liveness/liveness.cc (boost/graph/topological_sort.hpp):
	Don't include this file.
	* src/regalloc/color.cc: Remove useless studentize tags.
	(import_nodes, precolor): Use misc::set sugar.

2005-06-27  Roland Levillain  <roland@lrde.epita.fr>

	Use MonoBURG'S named subtree feature.

	* src/codegen/mips/binop.brg, src/codegen/mips/cjump.brg,
	* src/codegen/mips/mem.brg, src/codegen/mips/move.brg,
	* src/codegen/mips/move_load.brg, src/codegen/mips/move_store.brg:
	Name subtrees in rules, and use these names as variables in
	actions.
	* src/codegen/mips/codegen.cc: Regen.
	* config/monoburg.m4 (TC_PROG_MONOBURG101): Check for
	monoburg >= 1.0.2.
	Rename as...
	(TC_PROG_MONOBURG102): ...this.
	* configure.ac: Adjust.
	Bump to 0.91a.
	* NEWS: Update.

2005-06-20  Roland Levillain  <roland@lrde.epita.fr>

	Version 0.91.
	For 2007-tc-8.0.

	* configure.ac, NEWS: Version 0.91.
	* AUTHORS, TODO: Update.
	* src/graph/graph.hh, src/graph/graph.hxx (Graph::vertex_add): New
	method.
	* src/liveness/flowgraph.hxx (FlowGraph::FlowGraph)
	* src/liveness/interference-graph.cc (InterferenceGraph::node_of)
	* src/callgraph/fundec-graph.hxx (FundecGraph::fundec_add):
	Adjust.
	* src/graph/graph.hxx: s/VertexProperties/VertexLabel/
	s/EdgeProperties/EdgeLabel/
	* src/graph/test-graph.cc (consistency): Update test.

2005-06-20  Roland Levillain  <roland@lrde.epita.fr>

	Convert the graph abstractions to Boost Graphs.

	* src/graph/graph.hh (graph::name_prop_type): New property.
	* src/graph/graph.hh, src/graph/graph.hx (edge_decorator)
	(node_decorator, orientation): Remove.
	(Graph<orientation, NodeLabel, EdgeLabel>): Removed.
	Replaced by...
	(Graph<Orientation, VertexLabel, EdgeLabel>): ...this (new class).
	(UndirectedGraph<NodeLabel, EdgeLabel>): Removed.
	Replaced by...
	(DirectedGraph<VertexLabel, EdgeLabel>): ...this (new class).
	(OrientedGraph<NodeLabel, EdgeLabel>): Removed.
	Replaced by...
	(UndirectedGraph<VertexLabel, EdgeLabel>): ...this (new class).
	(operator<< (std::ostream&, const Graph<>)): Adjust.


	Have FlowGraph and Liveness use the new graph::Graph class, based
	on the Boost Graph Library.

	* src/liveness/flowgraph.hh (FlowGraph): Inherit from
	graph::DirectedGraph<const assem::Instr*, EdgeLabel>.
	(hnode_type, hnodes_iterator): Remove typedefs.
	* src/liveness/flowgraph.hxx
	(FlowGraph::FlowGraph): Adjust ctor.

	* src/liveness/liveness.hh (hnode_type, hnodes_iterator): Remove
	typedefs.
	(livemap_type): Adjust.
	(liveness_vertex_iter_type, liveness_edge_iter_type)
	(liveness_neighb_iter_type, reverse_liveness_neighb_iter_type):
	New typedefs.
	* src/liveness/liveness.cc (Liveness::Liveness): Adjust ctor.
	Use boost::reverse_graph to compute the predecessors of a vertex.


	Have FundecGraph and Interference-Graph use the new graph::Graph
	class, based on the BGL.  Use bundled properties instead of
	internal properties.

	* src/callgraph/fundec-graph.hh (graph/graph.hh): Include it.
	(fundec_vertex_t, fundec_prop_type, name_prop_type): Remove.
	(FundecGraph): Inherit from
	graph::DirectedGraph<ast::FunctionDec*>.
	(property_map<callgraph::FundecGraph, Property>): Remove helper.
	* src/callgraph/fundec-graph.hh, src/callgraph/fundec-graph.hxx
	(operator[], print (std::ostream&), print (std::string))
	(epilogue_print, name_get, name_set): Remove methods.

	* src/liveness/interference-graph.hh: Move boost::target forward
	declarations...
	* src/graph/graph.hh: ...here.
	* src/liveness/interference-graph.hh
	(boost/graph/adjacency_list.hpp): No longer include it directly.
	(graph/graph.hh): Include it.
	(temp_vertex_t, temp_prop_type, name_prop_type): Remove.
	(InterferenceGraph): Inherit from
	graph::UndirectedGraph<temp::Temp>.
	(moves_get () const, moves_get ())
	* src/liveness/interference-graph.cc (timer_get):
	Move the implementation of this method...
	* src/liveness/interference-graph.hxx: ...here (new file).
	* src/liveness/interference-graph.hh: Include it.
	* src/liveness/interference-graph.hh,
	* src/liveness/interference-graph.cc (edge_add, operator[])
	(name_get, name_set, print (std::ostream&), print (std::string)):
	Remove these methods.
	* src/liveness/Makefile.am (libliveness_la_SOURCES): Add
	interference-graph.hxx.

2005-06-17  Roland Levillain  <roland@lrde.epita.fr>

	Have InterferenceGraph use the Boost Graph Library.

	* src/liveness/interference-graph.hh,
	* src/liveness/interference-graph.cc: Add forward declarations to
	pacify G++ on the nature of `target'.
	(InterferenceGraph): Inherit from boost::adjacency_list.
	Adjust.
	(~InterferenceGraph): New virtual dtor.
	(edge_add, operator[], name_get, name_set, print (std::ostream&))
	(print (std::string)): New methods.
	(temp2node_type): Rename as...
	(temp2vertex): ...this.
	(interferencegraph_vertex_iter_type)
	(interferencegraph_edge_iter_type)
	(interferencegraph_neighb_iter_type): New typedefs.
	* src/regalloc/color.hh (hnodes_iterator, node_type): Adjust.
	* src/regalloc/color.cc (Color::Color, import_nodes)
	(degrees_compute, add_edge, adjacent (const node_type))
	(adjacent (const node_type, const node_type), select_spill)
	(assign_color): Adjust.

2005-06-17  Roland Levillain  <roland@lrde.epita.fr>

	Some clean up in callgraph::FundecGraph.

	* src/callgraph/fundec-graph.hh (graph/graph.hh): No longer
	include it.
	(print (std::ostream& ostr), epilogue_print (std::ostream& ostr))
	(print (std::string file)): Make these methods virtual.
	* src/callgraph/fundec-graph.hxx (print (std::ostream& ostr)):
	Simplify.
	(operator[]): Likewise.
	Make it const.
	* src/callgraph/fundec-graph.hh, src/callgraph/fundec-graph.hxx
	(~FundecGraph): New virtual dtor.
	(name_get, name_set): New methods.
	* src/callgraph/libcallgraph.cc: Add qualify boost::tie with its
	namespace.

2005-06-17  Roland Levillain  <roland@lrde.epita.fr>

	Have FundecGraph's (i.e., CallGraph and ParentGraph) use the Boost
	Graph Library instead of Tiger's own graph implementation.

	* src/callgraph/fundec-graph.hh, src/callgraph/fundec-graph.hxx
	(FundecGraph): Inherit from boost::adjacency_list.
	(fundec_vertex_t, fundec_prop_type): New vertex property.
	(name_prop_type): New graph property.
	(hfundecs_type, fundec_add, fundec_link, hfundec_get): Adjust.
	(operator[]): New operator.
	(print (std::ostream& ostr), epilogue_print (std::ostream& ostr))
	(print (std::string file)): New methods.
	(fundecgraph_vertex_iter_type, fundecgraph_edge_iter_type)
	(fundecgraph_neighb_iter_type, callgraph_vertex_iter_type)
	(callgraph_neighb_iter_type, parentgraph_neighb_iter_type): New
	convenience typedefs.
	(property_map<callgraph::FundecGraph, Property>): New helper traits.
	* src/callgraph/libcallgraph.cc (node_set_type): Adjust typedef.
	(escapes_sl_compute, escapes_find): Adjust functions.
	* src/callgraph/tiger_callgraph.i: Don't have SWIG parse
	src/callgraph/fundec-graph.hh, just give it the needed identifiers.

	* configure.ac: Typo.
	* src/liveness/liveness.cc (Liveness::Liveness): Aesthetic change.

2005-06-16  Roland Levillain  <roland@lrde.epita.fr>

	* src/codegen/mips/move_store.brg
	(move: Move(Mem(Binop(exp, Const)), exp)): Merge this rule with...
	(move: Move(Mem(Binop(Const, exp)), exp)): ...this one.
	Swap the subtrees of the Binop if necessary.
	* src/codegen/mips/codegen.cc: Regen.

2005-06-16  Roland Levillain  <roland@lrde.epita.fr>

	* src/codegen/mips/move_store.brg
	(move: Move(Mem(Binop(Const, exp)), exp)): Get the right subtree
	as store source.
	* src/codegen/mips/codegen.cc: Regen.

2005-06-15  Roland Levillain  <roland@lrde.epita.fr>

	* src/codegen/mips/Makefile.am ($(srcdir)/codegen.stamp): Fix rule
	action (missing semi-colon).
	* src/codegen/mips/codegen.hh: Regen.

2005-06-14  Roland Levillain  <roland@lrde.epita.fr>

	Keep libtarget its pure interface.

	* configure.ac: Bump to 0.90a.
	* src/target/mips-target.hh, src/target/mips-target.cc
	(MipsTarget::MipsTarget): No longer use
	codegen::task::rule_trace_p, take an (optional) Boolean
	argument instead.
	* src/target/ia32-target.hh (Ia32Target::Ia32Target): Likewise.
	* tcsh/python/tcsh.test: Swap the order of the tests.

2005-06-14  Roland Levillain  <roland@lrde.epita.fr>

	Version 0.90.
	For 2007-tc-7.0.

	* configure.ac, NEWS: Version 0.90.
	* AUTHORS: Typo.
	* src/codegen/mips/move.brg: Hide some code.
	* src/codegen/mips/codegen.cc: Regen.
	* src/codegen/mips/Makefile.am ($(srcdir)/codegen.stamp): Pass
	the option --quiet to monoburg.
	Simplify rule.
	* tests/Makefile.am (check-local): Typo.

2005-06-14  Arnaud Fabre  <fabre_a@epita.fr>

	Rename misc::List as misc::list.

	* src/misc/list.hcc, src/misc/list.hh (List): Rename as...
	(list): this.
	* src/temp/temp.cc, src/temp/label.cc,
	* src/temp/fwd.hh, src/assem/instrs.hh,
	* src/misc/fwd.hh: Adjust.

	* NEWS: Keep in sync with configure.ac.

2005-06-13  Akim Demaille  <akim@epita.fr>

	* src/liveness/liveness.cc: Issue a nice error message on failure.

2005-06-13  Akim Demaille  <akim@epita.fr>

	* configure.ac: Fix the handling of disabled *shared* (not
	dynamic) libraries.

2005-06-13  Arnaud Fabre  <fabre_a@epita.fr>

	Move temp::List to misc::List.

	* src/temp/list.hh, src/temp/list.hcc: Move to...
	* src/misc/list.hh, src/misc/list.hcc: ...here. Adjust to new
	namespace.
	* src/canon/traces.cc, src/canon/basic-block.cc,
	* src/tree/jump.hh, src/tree/cjump.hh,
	* src/temp/temp.cc, src/temp/label.cc,
	* src/temp/test-temp.cc, src/temp/Makefile.am,
	* src/temp/fwd.hh, src/assem/instr.hh,
	* src/assem/move.hxx, src/target/cpu-limits.hh,
	* src/target/cpu.hh, src/target/cpu.cc,
	* src/misc/Makefile.am, src/misc/fwd.hh,
	* src/codegen/ia32/codegen.cc,
	* src/codegen/ia32/gas-assembly.cc,
	* src/codegen/mips/codegen.cc,
	* src/codegen/mips/spim-assembly.cc:
	Adjust.

2005-06-12  Michael Cadilhac  <michael.cadilhac@lrde.epita.fr>

	* src/codegen/mips/Makefile.am: Fix `mv' command on "codegen.hh"
	to avoid trying moving this file to its own place.

2005-06-10  Akim Demaille  <akim@epita.fr>

	* src/temp/list.hh, src/temp/list.cc (append, operator+)
	(operator+=): New.
	And simplify the previous code.
	* src/temp/temp.cc: Adjust.

	* src/codegen/mips/prologue.cc: Rename as...
	* src/codegen/mips/prologue.hh: this.
	* src/codegen/mips/Makefile: Adjust.
	Fix the dependencies.
	Make the generated files read only.
	* src/codegen/mips/codegen.cc (append_sink, define_registers):
	Remove: inline into...
	(build_fragment_context): here.
	And callee save are used registers...
	* src/codegen/mips/codegen.hh: Adjust.

2005-06-10  Akim Demaille  <akim@epita.fr>

	* config/monoburg.m4: Be robust to no MonoBURG.
	* src/regalloc/test-regalloc.cc: Include changes.

2005-06-09  Roland Levillain  <roland@lrde.epita.fr>

	Normalize tasks names.

	* src/task/task.hh (name_): Turn it into a std::string.
	(normalize): New class member.
	* src/task/task.cc (normalize): Likewise.
	(Task::Task): Use it.
	* src/task/task.hxx (name_get): Adjust.
	* tests/Makefile.am (check-local): Fix condition.

2005-06-09  Roland Levillain  <roland@lrde.epita.fr>

	* src/codegen/mips/Makefile.am ($(srcdir)/codegen.stamp): Use
	monoburg's -I option.
	* src/codegen/mips/codegen.hh, src/codegen/mips/codegen.cc: Regen.

2005-06-08  Roland Levillain  <roland@lrde.epita.fr>

	* configure.ac: Bump to 0.89a.
	* tests/Makefile.am (check-local): Simplify rule.

2005-06-08  Arnaud Fabre  <fabre_a@epita.fr>

	Compute cycles executed in nolimips.

	* tests/tc-check.in (nolimips_cycles): New function.
	(nolimips_check_one): Do not display stderr when profiling.
	Count cycles executed.
	(nolimips_check): Add --profile when required.

2005-06-07  Roland Levillain  <roland@lrde.epita.fr>

	Version 0.89.
	For 2007-tc-6.0.

	* configure.ac, NEWS: Version 0.89.

2005-06-07  Roland Levillain  <roland@lrde.epita.fr>

	Fix studentize tags in configure.ac.

	* configure.ac: Use `dnl' for studentize named tags.
	* dev/studentize: Add `dnl' as a comment delimiter.
	* dev/stagize: Prune configure.ac using `dnl' as marker.

2005-06-07  Roland Levillain  <roland@lrde.epita.fr>

	Check for MonoBURG 1.0.1 or newer.

	* config/monoburg.m4: New file.
	* configure.ac: Use it to check for the right version of monoburg.
	* dev/stagize: Keep parts tagged as `codegen' in TC-789.
	Add configure.ac to the list of pruned files.

2005-06-06  Roland Levillain  <roland@lrde.epita.fr>

	Handle MonoBURG within the build system.

	* configure.ac: Check for MonoBURG.
	* src/codegen/mips/Makefile.am (BUILT_SOURCES): New.
	(EXTRA_DIST): Move move.brg, binop.brg, tiger.brg, call.brg,
	mem.brg, cjump.brg, move_store.brg, exp.brg, stm.brg,
	move_load.brg and temp.brg...
	(CODEGEN_GRAMMAR): ...here (new).
	(EXTRA_DIST): Add codegen.stamp.
	($(srcdir)/codegen.hh $(srcdir)/codegen.cc)
	($(srcdir)/codegen.stamp): New rules.

2005-06-06  Akim Demaille  <akim@epita.fr>

	* configure.ac (HAS_SWIG): Rename as...
	(ENABLE_TCSH): this.
	Take the availability of dynamic libraries into account.
	* Makefile.am: Adjust.

2005-06-06  Akim Demaille  <akim@epita.fr>

	* src/tc.cc (filename, error): Move to...
	* src/common.cc: here, for symmetry with common.hh.
	* src/common.hh: Update documentation.
	* src/liveness/interference-graph.cc, liveness/liveness.cc: Do not
	include common.hh.

2005-06-06  Akim Demaille  <akim@epita.fr>

	* Makefile.am (authors.h): Define PACKAGE_SHORT_AUTHORS.
	* src/version.cc.in: Use it.

2005-06-06  Arnaud Fabre  <fabre_a@epita.fr>

	Add support for cycles count in tc-check.

	* tests/tc-check.in ($profile_code_p): New predicate.
	(havm_cycles): New function. Extract cycles information from HAVM
	output.
	(ir_check_one): Do not display stderr when profiling. Save cycles
	information.
	(ir_check): Add --profile to HAVM command line when required.
	(summary): Sum and display cycles count.
	(grade_output): Display summary of cycles.
	(help, parse_arguments): New option --profile.
	(cycles, cycles_add): New methods of stick for saving cycles
	information.

2005-06-04  Michael Cadilhac  <michael.cadilhac@lrde.epita.fr>

	This patch replaces the mips/codegen.cc tree parser with
	a generated mips/codegen.cc from monoburg (>= 1.0.1).
	* src/codegen/mips/tiger.brg,
	* src/codegen/mips/prologue.cc,
	* src/codegen/mips/binop.brg,
	* src/codegen/mips/call.brg,
	* src/codegen/mips/cjump.brg,
	* src/codegen/mips/exp.brg,
	* src/codegen/mips/mem.brg,
	* src/codegen/mips/move.brg,
	* src/codegen/mips/move_load.brg,
	* src/codegen/mips/move_store.brg,
	* src/codegen/mips/stm.brg,
	* src/codegen/mips/temp.brg,
	* src/codegen/mips/epilogue.cc:  New.    Add  monoburg  files   in
	replacement  of  `mips/codegen.cc'  and  `mips/codegen.hh'  files.
	These burg  files have  to be assembled  with monoburg  (>= 1.0.1)
	with:

	monoburg  --without-glib --with-references	\
		  --without-exported-symbols		\
		  -d codegen.hh -s codegen.cc tiger.brg

	* src/codegen/mips/codegen.hh,
	* src/codegen/mips/codegen.cc: Change to monoburg generated
	versions.

	* src/tree/tree.hxx,
	* src/tree/tree.cc,
	* src/tree/tree.hh: Add data members used in monoburg processing,
	and accessors for them.

	* src/codegen/tasks.hh: Create a new boolean task `rule-trace'
	telling if rule matching of monoburg has to be printed.

	* src/target/ia32-target.hh,
	* src/target/mips-target.cc: Call `Codegen' creation with an extra
	parameter telling if rule matching has to be printed.

	* src/codegen/ia32/codegen.hh,
	* src/codegen/ia32/codegen.cc: Add this extra parameter to the
	default constructor.

	* src/codegen/codegen.hxx,
	* src/codegen/codegen.hh: Add a `rule_trace_p_' member as described
	above, and accessors on assembly and frame.

2005-06-04  Michael Cadilhac  <michael.cadilhac@lrde.epita.fr>

	* src/assem/comment.hh,
	* src/assem/comment.hxx: New. Add a new `assem::Instr' for comment
	outputting in the assembly code.
	* src/assem/libassem.hh,
	* src/assem/Makefile.am: Update accordingly.

2005-06-03  Roland Levillain  <roland@lrde.epita.fr>

	* tcsh/python/test.py: Adjust call to the new definition of
	tc.target.MipsTarget.
	* src/target/tiger_target.i (target/cpu-limits.hh): Include it.

2005-06-02  Akim Demaille  <akim@epita.fr>

	* configure.ac (AC_DISABLE_STATIC): Don't call, since it brutally
	removes the *possibility* to build static libraries, instead of
	simply disabling it by default.
	Disable by default by hand.
	* src/Makefile.am: Remove the special case for Darwin.

2005-06-02  Gilles Walbrou  <walbro_g@epita.fr>

	* src/codegen/mips/codegen.cc, src/codegen/mips/codegen.hh
	(define_registers): New, used to define "defined registers".
	* src/liveness/liveness.cc: Check if there are undefined temps.
	* src/temp/temp.cc: Adjust.

2005-06-01  Akim Demaille  <akim@epita.fr>

	* src/overload/type-visitor.cc: Don't issue a trailing leading
	indentation prefix: the last endl must be after all the decindents.

2005-06-01  Roland Levillain  <roland@lrde.epita.fr>

	* src/bind/bind-visitor.hh, src/bind/bind-visitor.cc (def_init):
	New method.
	(operator() (ast::BreakExp&), operator() (ast::SimpleVar&))
	(operator() (ast::CallExp&), operator() (ast::NameTy&)): Use it to
	factor calls to def_get/def_set.

2005-06-01  Akim Demaille  <akim@epita.fr>

	* src/task/libtask.hh (CONCAT_, CONCAT, TASK_UNIQUE): New.
	(INT_TASK_DECLARE): Use the latter to avoid name clashes.
	* src/target/tasks.hh (caller_save, callee_save): Restore as...
	(caller-save, callee-save): these.

2005-06-01  Akim Demaille  <akim@epita.fr>

	To avoid clashes, use the user name in tc-check's tmp directory name.
	Reported by Benoît Perrot.

	* tests/tc-check.in ($tmpdir): New.
	Use it.

2005-05-31  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-visitor.cc: Comment change.

	* src/codegen/tiger-runtime.c: Sort, and document a bit.
	(tc_string_compare): this.
	(tc_streq): this.
	(tc_strcmp): New.

2005-05-31  Roland Levillain  <roland@lrde.epita.fr>

	Prevent function shadowing due to desugaring.

	* src/bind/bind-visitor.cc (operator() (ast::BreakExp&))
	(operator() (ast::SimpleVar&), operator() (ast::CallExp&))
	(operator() (ast::NameTy&)): Don't re-set a previously set
	definition.
	* tests/good/shadowed-streq.tig, tests/good/shadowed-streq.-e.s,
	* tests/good/shadowed-streq.-e.u.s, tests/good/shadowed-streq.hir,
	* tests/good/shadowed-streq.hpr, tests/good/shadowed-streq.lir,
	* tests/good/shadowed-streq.lpr, tests/good/shadowed-streq.out,
	* tests/good/shadowed-streq.s, tests/good/shadowed-streq.sta,
	* tests/good/shadowed-streq.u.s: New test.
	* tests/good/Makefile.am (dist_noinst_DATA): Add
	shadowed-streq.tig, $(srcdir)/shadowed-streq.out,
	$(srcdir)/shadowed-streq.sta, $(srcdir)/shadowed-streq.hpr,
	$(srcdir)/shadowed-streq.lpr, $(srcdir)/shadowed-streq.-e.s,
	$(srcdir)/shadowed-streq.s, $(srcdir)/shadowed-streq.u.s,
	and $(srcdir)/shadowed-streq.-e.u.s.
	* README-Subversion: Update.

2005-05-31  Roland Levillain  <roland@lrde.epita.fr>

	* tests/Makefile.am (check-local): Pass --build-in-src to tc-check
	only when the package has been configured from the source
	directory.

2005-05-30  Akim Demaille  <akim@epita.fr>

	Fix --argument=MAX even better.

	* src/target/mips-cpu.cc (MipsCpu::MipsCpu): Fix the upper bound
	of the number of registers to declare.

2005-05-30  Akim Demaille  <akim@epita.fr>

	Fix --argument=MAX better.

	* src/target/mips-cpu.cc (MipsCpu::MipsCpu): Respect the order for
	argument registers.

2005-05-30  Akim Demaille  <akim@epita.fr>

	Fix --argument=MAX.

	* src/target/cpu.hh, src/target/cpu.cc (arg_reg, arg_regs): Rename
	as...
	(argument_reg, argument_regs): these.
	* src/codegen/ia32/codegen.cc, src/codegen/mips/codegen.cc,
	* src/regalloc/color.cc (regalloc): Adjust.
	* src/target/mips-cpu.cc (MipsCpu::MipsCpu): Fix the definition of
	argument passing registers.

2005-05-30  Akim Demaille  <akim@epita.fr>

	Implement --argument=MAX.

	* src/target/tasks.hh (caller-save, callee-save): Rename as...
	(caller_save, callee_save): these.
	It would be nice if Task::Task could change _ to -.
	* src/target/cpu-limits.hh, src/target/cpu-limits.cc: New.
	* src/task/libtask.hh (INT_TASK_DECLARE): No longer defines the
	variable, just references it.
	No longer takes a default value.
	* target/cpu.cc, target/cpu.hh, target/fwd.hh, target/mips-cpu.cc,
	* target/mips-cpu.hh, target/mips-target.cc, target/mips-target.hh,
	* target/tasks.cc, target/tasks.hh: Use CpuLimits instead of
	integers passed by hand.

	* src/translate/translation.cc: Remove a dead lint comment.

2005-05-30  Roland Levillain  <roland@lrde.epita.fr>

	Have tc-check be more flexible, so that the project can be fully
	tested on the LRDE Build Farm.

	* configure.ac: Check for a reference compiler.
	* tests/Makefile.am: Run tc-check only if a reference compiler was
	found.
	* tests/tc-check.in: Add option --build-in-src, to have tc-check
	run on projects configured from the source directory.

2005-05-25  Roland Levillain  <roland@lrde.epita.fr>

	* src/overload/type-visitor.cc
	(TypeVisitor::operator()(ast::CallExp&)): Use misc::indent to have
	a prettier output on nil ambiguities.

2005-05-16  Arnaud Fabre  <fabre_a@epita.fr>

	Fix compilation error and warnings with g++ 4.0.

	* src/parse/tiger-parser.hh (YY_DECL): Adjust declaration to make
	g++ 4.0 happy.
	* src/type/types.hh, src/type/types.cc (Field)
	* src/misc/xalloc.hh (iomanipulator): New virtual destructor.
	* src/misc/xalloc.cc: New file.
	* src/misc/Makefile.am (libmisc_la_SOURCES): Adjust.

2004-05-10  Benoît Perrot  <benoit@lrde.epita.fr>

	Provide backend implementation of the print_err primitive.

	* src/codegen/mips/runtime.s: Provide MIPS assembly implementation
	of print_err.
	* src/codegen/tiger-runtime.c: Provide C implementation of print_err.

2005-05-13  Akim Demaille  <akim@epita.fr>

	Allow implicit construction of Temps/Labels from string literals.

	* temp/identifier.hcc, temp/identifier.hh (Identifier (const char*)):
	New constructor, to allow seamless (implicit) constructions of
	Temps/Labels from plain strings.
	* codegen/mips/test-rw_prg.cc, target/cpu.cc, target/ia32-cpu.cc,
	* target/mips-cpu.cc, temp/test-temp.cc, translate/level.cc,
	* translate/translate-visitor.cc, translate/translation.cc:
	Simplify by removal of useless explicit constructor calls.

2005-05-13  Roland Levillain  <roland@lrde.epita.fr>

	New task: raw-desugar.

	* configure.ac: Bump to 0.88a.
	* NEWS: Likewise.
	Update.
	* src/desugar/tasks.hh, src/desugar/tasks.hh (raw_desugar): New
	task.
	* src/desugar/libdesugar.hh, src/desugar/libdesugar.cc
	(raw_desugar): New function.
	(desugar): Use it.
	* src/desugar/desugar-visitor.cc
	(operator() (const ast::ForExp&)): Silently hide it.
	Fix comment.

2005-05-13  Akim Demaille  <akim@epita.fr>

	Simplify misc::Map, drop misc::put support.

	* src/misc/map.hcc (operator[]): Rewrite it so that when first
	used for t, t is mapped onto itself.  This save the annoying
	gratuitous instantiation of Temps (or Labels).
	* src/misc/map.hh (key_type, mapped_type, key_compare): Remove.
	* src/misc/map.hh, src/misc/map.hcc (lower_bound, upper_bound)
	(insert, key_comp): Remove.
	* src/target/mips-cpu.cc (MipsCpu::MipsCpu): Use
	temp::TempMap::operator[] instead of misc::put.
	* src/temp/test-temp.cc: Likewise.
	Simplify the names.

2005-05-13  Roland Levillain  <roland@lrde.epita.fr>

	* tests/tc-check.in (grade_output): Aesthetic changes in output of
	empty tests.

2005-05-12  Roland Levillain  <roland@lrde.epita.fr>

	Enrich the test suite wrt overloading.

	* configure.ac (AC_CONFIG_FILES): tests/overload-type/Makefile.
	* tests/Makefile.am (SUBDIRS): Add overload-type.
	* tests/mk-Makefile-am: Generate overload-type/Makefile.am.
	Generate outputs for overload.
	* tests/overload/overload-builtin.-e.s,
	* tests/overload/overload-builtin.-e.u.s,
	* tests/overload/overload-builtin.hir,
	* tests/overload/overload-builtin.hpr,
	* tests/overload/overload-builtin.lir,
	* tests/overload/overload-builtin.lpr,
	* tests/overload/overload-builtin.out,
	* tests/overload/overload-builtin.s,
	* tests/overload/overload-builtin.sta,
	* tests/overload/overload-builtin.u.s,
	* tests/overload/overload-function.-e.s,
	* tests/overload/overload-function.-e.u.s,
	* tests/overload/overload-function.hir,
	* tests/overload/overload-function.hpr,
	* tests/overload/overload-function.lir,
	* tests/overload/overload-function.lpr,
	* tests/overload/overload-function.out,
	* tests/overload/overload-function-record-arg.-e.s,
	* tests/overload/overload-function-record-arg.-e.u.s,
	* tests/overload/overload-function-record-arg.hir,
	* tests/overload/overload-function-record-arg.hpr,
	* tests/overload/overload-function-record-arg.lir,
	* tests/overload/overload-function-record-arg.lpr,
	* tests/overload/overload-function-record-arg.out,
	* tests/overload/overload-function-record-arg.s,
	* tests/overload/overload-function-record-arg.sta,
	* tests/overload/overload-function-record-arg.u.s,
	* tests/overload/overload-function.s,
	* tests/overload/overload-function.sta,
	* tests/overload/overload-function.u.s,
	* tests/overload/overload-nil-diambiguated.-e.s,
	* tests/overload/overload-nil-diambiguated.-e.u.s,
	* tests/overload/overload-nil-diambiguated.hir,
	* tests/overload/overload-nil-diambiguated.hpr,
	* tests/overload/overload-nil-diambiguated.lir,
	* tests/overload/overload-nil-diambiguated.lpr,
	* tests/overload/overload-nil-diambiguated.out,
	* tests/overload/overload-nil-diambiguated.s,
	* tests/overload/overload-nil-diambiguated.sta,
	* tests/overload/overload-nil-diambiguated.u.s,
	* tests/overload/overload-var-type-inference.-e.s,
	* tests/overload/overload-var-type-inference.-e.u.s,
	* tests/overload/overload-var-type-inference.hir,
	* tests/overload/overload-var-type-inference.hpr,
	* tests/overload/overload-var-type-inference.lir,
	* tests/overload/overload-var-type-inference.lpr,
	* tests/overload/overload-var-type-inference.out,
	* tests/overload/overload-var-type-inference.s,
	* tests/overload/overload-var-type-inference.sta,
	* tests/overload/overload-var-type-inference.u.s: New (generated)
	files.

2005-05-12  Roland Levillain  <roland@lrde.epita.fr>

	Have misc::put work with misc::Map<>, and use it to fix
	temporaries produced by the code generator.

	* src/misc/map.hh (key_type, mapped_type, value_type)
	(key_compare): New typedefs.
	* src/misc/map.hh, src/misc/map.hcc (lower_bound, upper_bound)
	(insert, key_comp): New methods.
	* src/target/mips-cpu.cc (MipsCpu::MipsCpu): Use misc::put instead
	of temp::TempMap::operator[].
	* src/temp/test-temp.cc (main): Adjust test.
	* src/temp/fwd.hh, src/temp/label.hh, src/temp/temp.hh,
	* src/temp/identifier.hh: Clean up inclusions of Boost headers.

	* tests/escapes/for-lower.-e.s, tests/escapes/for-lower.-e.u.s,
	* tests/escapes/for-lower.hir, tests/escapes/for-lower.lir,
	* tests/escapes/for-lower.s, tests/escapes/for-lower.u.s,
	* tests/escapes/formal-escapes.-e.s,
	* tests/escapes/formal-escapes.-e.u.s,
	* tests/escapes/formal-escapes.hir,
	* tests/escapes/formal-escapes.lir, tests/escapes/formal-escapes.s,
	* tests/escapes/formal-escapes.u.s, tests/escapes/for-scope.-e.s,
	* tests/escapes/for-scope.-e.u.s, tests/escapes/for-scope.hir,
	* tests/escapes/for-scope.lir, tests/escapes/for-scope.s,
	* tests/escapes/for-scope.u.s, tests/escapes/for-upper.-e.s,
	* tests/escapes/for-upper.-e.u.s, tests/escapes/for-upper.hir,
	* tests/escapes/for-upper.lir, tests/escapes/for-upper.s,
	* tests/escapes/for-upper.u.s, tests/escapes/local-escapes.-e.s,
	* tests/escapes/local-escapes.-e.u.s,
	* tests/escapes/local-escapes.hir, tests/escapes/local-escapes.lir,
	* tests/escapes/local-escapes.s, tests/escapes/local-escapes.u.s,
	* tests/escapes/no-functiondec-at-all.-e.s,
	* tests/escapes/no-functiondec-at-all.-e.u.s,
	* tests/escapes/no-functiondec-at-all.hir,
	* tests/escapes/no-functiondec-at-all.lir,
	* tests/escapes/no-functiondec-at-all.s,
	* tests/escapes/no-functiondec-at-all.u.s,
	* tests/escapes/record-escapes.-e.s,
	* tests/escapes/record-escapes.-e.u.s,
	* tests/escapes/record-escapes.hir,
	* tests/escapes/record-escapes.lir, tests/escapes/record-escapes.s,
	* tests/escapes/record-escapes.u.s, tests/escapes/recursion.-e.s,
	* tests/escapes/recursion.-e.u.s, tests/escapes/recursion.hir,
	* tests/escapes/recursion.lir, tests/escapes/recursion.s,
	* tests/escapes/recursion.u.s, tests/escapes/redeclaration.-e.s,
	* tests/escapes/redeclaration.-e.u.s,
	* tests/escapes/redeclaration.hir, tests/escapes/redeclaration.lir,
	* tests/escapes/redeclaration.s, tests/escapes/redeclaration.u.s,
	* tests/escapes/rhs-of-a-vardec.-e.s,
	* tests/escapes/rhs-of-a-vardec.-e.u.s,
	* tests/escapes/rhs-of-a-vardec.hir,
	* tests/escapes/rhs-of-a-vardec.lir,
	* tests/escapes/rhs-of-a-vardec.s,
	* tests/escapes/rhs-of-a-vardec.u.s, tests/escapes/scopes.-e.s,
	* tests/escapes/scopes.-e.u.s, tests/escapes/scopes.hir,
	* tests/escapes/scopes.lir, tests/escapes/scopes.s,
	* tests/escapes/scopes.u.s, tests/escapes/sl-propagation-1.-e.s,
	* tests/escapes/sl-propagation-1.-e.u.s,
	* tests/escapes/sl-propagation-1.hir,
	* tests/escapes/sl-propagation-1.lir,
	* tests/escapes/sl-propagation-1.s,
	* tests/escapes/sl-propagation-1.u.s,
	* tests/escapes/sl-propagation-2.-e.s,
	* tests/escapes/sl-propagation-2.-e.u.s,
	* tests/escapes/sl-propagation-2.hir,
	* tests/escapes/sl-propagation-2.lir,
	* tests/escapes/sl-propagation-2.s,
	* tests/escapes/sl-propagation-2.u.s,
	* tests/escapes/variable-escapes.-e.s,
	* tests/escapes/variable-escapes.-e.u.s,
	* tests/escapes/variable-escapes.hir,
	* tests/escapes/variable-escapes.lir,
	* tests/escapes/variable-escapes.s,
	* tests/escapes/variable-escapes.u.s,
	* tests/escapes/variable-inside-for-body.-e.s,
	* tests/escapes/variable-inside-for-body.-e.u.s,
	* tests/escapes/variable-inside-for-body.hir,
	* tests/escapes/variable-inside-for-body.lir,
	* tests/escapes/variable-inside-for-body.s,
	* tests/escapes/variable-inside-for-body.u.s,
	* tests/escapes/variant-escapes.-e.s,
	* tests/escapes/variant-escapes.-e.u.s,
	* tests/escapes/variant-escapes.hir,
	* tests/escapes/variant-escapes.lir,
	* tests/escapes/variant-escapes.s,
	* tests/escapes/variant-escapes.u.s, tests/good/array.-e.s,
	* tests/good/array.-e.u.s, tests/good/array.hir,
	* tests/good/array.lir, tests/good/array-of-alias.-e.s,
	* tests/good/array-of-alias.-e.u.s, tests/good/array-of-alias.hir,
	* tests/good/array-of-alias.lir, tests/good/array-of-alias.s,
	* tests/good/array-of-alias.u.s, tests/good/array.s,
	* tests/good/array.u.s,
	* tests/good/assign-and-array-instantiation.-e.s,
	* tests/good/assign-and-array-instantiation.-e.u.s,
	* tests/good/assign-and-array-instantiation.hir,
	* tests/good/assign-and-array-instantiation.lir,
	* tests/good/assign-and-array-instantiation.s,
	* tests/good/assign-and-array-instantiation.u.s,
	* tests/good/assign-void.-e.s, tests/good/assign-void.-e.u.s,
	* tests/good/assign-void.hir, tests/good/assign-void.lir,
	* tests/good/assign-void.s, tests/good/assign-void.u.s,
	* tests/good/assign-vs-boolean.-e.s,
	* tests/good/assign-vs-boolean.-e.u.s,
	* tests/good/assign-vs-boolean.hir,
	* tests/good/assign-vs-boolean.lir, tests/good/assign-vs-boolean.s,
	* tests/good/assign-vs-boolean.u.s, tests/good/assign-vs-rel.-e.s,
	* tests/good/assign-vs-rel.-e.u.s, tests/good/assign-vs-rel.hir,
	* tests/good/assign-vs-rel.lir, tests/good/assign-vs-rel.s,
	* tests/good/assign-vs-rel.u.s, tests/good/basic-import.-e.s,
	* tests/good/basic-import.-e.u.s, tests/good/basic-import.hir,
	* tests/good/basic-import.lir, tests/good/basic-import.s,
	* tests/good/basic-import.u.s, tests/good/bempel_j.-e.s,
	* tests/good/bempel_j.-e.u.s, tests/good/bempel_j.hir,
	* tests/good/bempel_j.lir, tests/good/bempel_j.s,
	* tests/good/bempel_j.u.s, tests/good/big-exp.-e.s,
	* tests/good/big-exp.-e.u.s, tests/good/big-exp.hir,
	* tests/good/big-exp.lir, tests/good/big-exp.s,
	* tests/good/big-exp.u.s, tests/good/big-lvalue.-e.s,
	* tests/good/big-lvalue.-e.u.s, tests/good/big-lvalue.hir,
	* tests/good/big-lvalue.lir, tests/good/big-lvalue.s,
	* tests/good/big-lvalue.u.s, tests/good/boolean-1.-e.s,
	* tests/good/boolean-1.-e.u.s, tests/good/boolean-1.hir,
	* tests/good/boolean-1.lir, tests/good/boolean-1.s,
	* tests/good/boolean-1.u.s, tests/good/boolean-2.-e.s,
	* tests/good/boolean-2.-e.u.s, tests/good/boolean-2.hir,
	* tests/good/boolean-2.lir, tests/good/boolean-2.s,
	* tests/good/boolean-2.u.s, tests/good/break-in-for.-e.s,
	* tests/good/break-in-for.-e.u.s, tests/good/break-in-for.hir,
	* tests/good/break-in-for.lir, tests/good/break-in-for.s,
	* tests/good/break-in-for.u.s, tests/good/break-in-while.-e.s,
	* tests/good/break-in-while.-e.u.s, tests/good/break-in-while.hir,
	* tests/good/break-in-while.lir, tests/good/break-in-while.s,
	* tests/good/break-in-while.u.s, tests/good/builtins.-e.s,
	* tests/good/builtins.-e.u.s, tests/good/builtins.hir,
	* tests/good/builtins.lir, tests/good/builtins.s,
	* tests/good/builtins.u.s, tests/good/call.-e.s,
	* tests/good/call.-e.u.s, tests/good/call.hir, tests/good/call.lir,
	* tests/good/call.s, tests/good/call.u.s, tests/good/chr-256.-e.s,
	* tests/good/chr-256.-e.u.s, tests/good/chr-256.hir,
	* tests/good/chr-256.lir, tests/good/chr-256.s,
	* tests/good/chr-256.u.s, tests/good/chr.-e.s,
	* tests/good/chr.-e.u.s, tests/good/chr.hir, tests/good/chr.lir,
	* tests/good/chr-minus-1.-e.s, tests/good/chr-minus-1.-e.u.s,
	* tests/good/chr-minus-1.hir, tests/good/chr-minus-1.lir,
	* tests/good/chr-minus-1.s, tests/good/chr-minus-1.u.s,
	* tests/good/chr.s, tests/good/chr.u.s,
	* tests/good/comments-javalike-nested.-e.s,
	* tests/good/comments-javalike-nested.-e.u.s,
	* tests/good/comments-javalike-nested.hir,
	* tests/good/comments-javalike-nested.lir,
	* tests/good/comments-javalike-nested.s,
	* tests/good/comments-javalike-nested.u.s,
	* tests/good/comments-nested.-e.s,
	* tests/good/comments-nested.-e.u.s, tests/good/comments-nested.hir,
	* tests/good/comments-nested.lir, tests/good/comments-nested.s,
	* tests/good/comments-nested.u.s,
	* tests/good/comments-with-comment-chars.-e.s,
	* tests/good/comments-with-comment-chars.-e.u.s,
	* tests/good/comments-with-comment-chars.hir,
	* tests/good/comments-with-comment-chars.lir,
	* tests/good/comments-with-comment-chars.s,
	* tests/good/comments-with-comment-chars.u.s,
	* tests/good/comments-with-parens.-e.s,
	* tests/good/comments-with-parens.-e.u.s,
	* tests/good/comments-with-parens.hir,
	* tests/good/comments-with-parens.lir,
	* tests/good/comments-with-parens.s,
	* tests/good/comments-with-parens.u.s,
	* tests/good/comments-with-quotes.-e.s,
	* tests/good/comments-with-quotes.-e.u.s,
	* tests/good/comments-with-quotes.hir,
	* tests/good/comments-with-quotes.lir,
	* tests/good/comments-with-quotes.s,
	* tests/good/comments-with-quotes.u.s,
	* tests/good/commutation-1.-e.s, tests/good/commutation-1.-e.u.s,
	* tests/good/commutation-1.hir, tests/good/commutation-1.lir,
	* tests/good/commutation-1.s, tests/good/commutation-1.u.s,
	* tests/good/commutation-2.-e.s, tests/good/commutation-2.-e.u.s,
	* tests/good/commutation-2.hir, tests/good/commutation-2.lir,
	* tests/good/commutation-2.s, tests/good/commutation-2.u.s,
	* tests/good/compare-nil-and-record.-e.s,
	* tests/good/compare-nil-and-record.-e.u.s,
	* tests/good/compare-nil-and-record.hir,
	* tests/good/compare-nil-and-record.lir,
	* tests/good/compare-nil-and-record.s,
	* tests/good/compare-nil-and-record.u.s,
	* tests/good/compare-record-and-nil.-e.s,
	* tests/good/compare-record-and-nil.-e.u.s,
	* tests/good/compare-record-and-nil.hir,
	* tests/good/compare-record-and-nil.lir,
	* tests/good/compare-record-and-nil.s,
	* tests/good/compare-record-and-nil.u.s,
	* tests/good/compare-record-and-record.-e.s,
	* tests/good/compare-record-and-record.-e.u.s,
	* tests/good/compare-record-and-record.hir,
	* tests/good/compare-record-and-record.lir,
	* tests/good/compare-record-and-record.s,
	* tests/good/compare-record-and-record.u.s,
	* tests/good/compare-void.-e.s, tests/good/compare-void.-e.u.s,
	* tests/good/compare-void.hir, tests/good/compare-void.lir,
	* tests/good/compare-void.s, tests/good/compare-void.u.s,
	* tests/good/complex-import.-e.s, tests/good/complex-import.-e.u.s,
	* tests/good/complex-import.hir, tests/good/complex-import.lir,
	* tests/good/complex-import.s, tests/good/complex-import.u.s,
	* tests/good/concat.-e.s, tests/good/concat.-e.u.s,
	* tests/good/concat.hir, tests/good/concat.lir, tests/good/concat.s,
	* tests/good/concat.u.s, tests/good/concurrent-arguments.-e.s,
	* tests/good/concurrent-arguments.-e.u.s,
	* tests/good/concurrent-arguments.hir,
	* tests/good/concurrent-arguments.lir,
	* tests/good/concurrent-arguments.s,
	* tests/good/concurrent-arguments.u.s, tests/good/donald.-e.s,
	* tests/good/donald.-e.u.s, tests/good/donald.hir,
	* tests/good/donald.lir, tests/good/donald.s, tests/good/donald.u.s,
	* tests/good/empty-let-body.-e.s, tests/good/empty-let-body.-e.u.s,
	* tests/good/empty-let-body.hir, tests/good/empty-let-body.lir,
	* tests/good/empty-let-body.s, tests/good/empty-let-body.u.s,
	* tests/good/empty-record-type.-e.s,
	* tests/good/empty-record-type.-e.u.s,
	* tests/good/empty-record-type.hir,
	* tests/good/empty-record-type.lir, tests/good/empty-record-type.s,
	* tests/good/empty-record-type.u.s, tests/good/escaping-record.-e.s,
	* tests/good/escaping-record.-e.u.s, tests/good/escaping-record.hir,
	* tests/good/escaping-record.lir, tests/good/escaping-record.s,
	* tests/good/escaping-record.u.s, tests/good/evalexp.-e.s,
	* tests/good/evalexp.-e.u.s, tests/good/evalexp.hir,
	* tests/good/evalexp.lir, tests/good/evalexp.s,
	* tests/good/evalexp.u.s, tests/good/exit-51.-e.s,
	* tests/good/exit-51.-e.u.s, tests/good/exit-51.hir,
	* tests/good/exit-51.lir, tests/good/exit-51.s,
	* tests/good/exit-51.u.s, tests/good/explicit-record-type.-e.s,
	* tests/good/explicit-record-type.-e.u.s,
	* tests/good/explicit-record-type.hir,
	* tests/good/explicit-record-type.lir,
	* tests/good/explicit-record-type.s,
	* tests/good/explicit-record-type.u.s, tests/good/fact.-e.s,
	* tests/good/fact.-e.u.s, tests/good/fact.hir, tests/good/fact.lir,
	* tests/good/fact.s, tests/good/fact.u.s,
	* tests/good/field-of-field.-e.s, tests/good/field-of-field.-e.u.s,
	* tests/good/field-of-field.hir, tests/good/field-of-field.lir,
	* tests/good/field-of-field.s, tests/good/field-of-field.u.s,
	* tests/good/for.-e.s, tests/good/for.-e.u.s,
	* tests/good/for-high-computed-once.-e.s,
	* tests/good/for-high-computed-once.-e.u.s,
	* tests/good/for-high-computed-once.hir,
	* tests/good/for-high-computed-once.lir,
	* tests/good/for-high-computed-once.s,
	* tests/good/for-high-computed-once.u.s,
	* tests/good/for-high-same-name-as-index.-e.s,
	* tests/good/for-high-same-name-as-index.-e.u.s,
	* tests/good/for-high-same-name-as-index.hir,
	* tests/good/for-high-same-name-as-index.lir,
	* tests/good/for-high-same-name-as-index.s,
	* tests/good/for-high-same-name-as-index.u.s, tests/good/for.hir,
	* tests/good/for-in-let.-e.s, tests/good/for-in-let.-e.u.s,
	* tests/good/for-in-let.hir, tests/good/for-in-let.lir,
	* tests/good/for-in-let.s, tests/good/for-in-let.u.s,
	* tests/good/for-in-while.-e.s, tests/good/for-in-while.-e.u.s,
	* tests/good/for-in-while.hir, tests/good/for-in-while.lir,
	* tests/good/for-in-while.s, tests/good/for-in-while.u.s,
	* tests/good/for.lir, tests/good/for.s, tests/good/for-scope.-e.s,
	* tests/good/for-scope.-e.u.s, tests/good/for-scope.hir,
	* tests/good/for-scope.lir, tests/good/for-scope.s,
	* tests/good/for-scope.u.s, tests/good/for-up-to-32bits.-e.s,
	* tests/good/for-up-to-32bits.-e.u.s,
	* tests/good/for-up-to-32bits.hir, tests/good/for-up-to-32bits.lir,
	* tests/good/for-up-to-32bits.s, tests/good/for-up-to-32bits.u.s,
	* tests/good/for.u.s, tests/good/forward-fun-and-type-decl.-e.s,
	* tests/good/forward-fun-and-type-decl.-e.u.s,
	* tests/good/forward-fun-and-type-decl.hir,
	* tests/good/forward-fun-and-type-decl.lir,
	* tests/good/forward-fun-and-type-decl.s,
	* tests/good/forward-fun-and-type-decl.u.s,
	* tests/good/four-hex-backslash.-e.s,
	* tests/good/four-hex-backslash.-e.u.s,
	* tests/good/four-hex-backslash.hir,
	* tests/good/four-hex-backslash.lir,
	* tests/good/four-hex-backslash.s,
	* tests/good/four-hex-backslash.u.s,
	* tests/good/fractions-underloaded.-e.s,
	* tests/good/fractions-underloaded.-e.u.s,
	* tests/good/fractions-underloaded.hir,
	* tests/good/fractions-underloaded.lir,
	* tests/good/fractions-underloaded.s,
	* tests/good/fractions-underloaded.u.s, tests/good/functions.-e.s,
	* tests/good/functions.-e.u.s, tests/good/functions.hir,
	* tests/good/functions.lir, tests/good/functions.s,
	* tests/good/functions.u.s, tests/good/fun-vs-var.-e.s,
	* tests/good/fun-vs-var.-e.u.s, tests/good/fun-vs-var.hir,
	* tests/good/fun-vs-var.lir, tests/good/fun-vs-var.s,
	* tests/good/fun-vs-var.u.s, tests/good/getchar.-e.s,
	* tests/good/getchar.-e.u.s, tests/good/getchar.hir,
	* tests/good/getchar.lir, tests/good/getchar-no-static-string.-e.s,
	* tests/good/getchar-no-static-string.-e.u.s,
	* tests/good/getchar-no-static-string.hir,
	* tests/good/getchar-no-static-string.lir,
	* tests/good/getchar-no-static-string.s,
	* tests/good/getchar-no-static-string.u.s, tests/good/getchar.s,
	* tests/good/getchar.u.s, tests/good/if-and-bool.-e.s,
	* tests/good/if-and-bool.-e.u.s, tests/good/if-and-bool.hir,
	* tests/good/if-and-bool.lir, tests/good/if-and-bool.s,
	* tests/good/if-and-bool.u.s, tests/good/if-and-if.-e.s,
	* tests/good/if-and-if.-e.u.s, tests/good/if-and-if.hir,
	* tests/good/if-and-if.lir, tests/good/if-and-if.s,
	* tests/good/if-and-if.u.s, tests/good/if-and-rel.-e.s,
	* tests/good/if-and-rel.-e.u.s, tests/good/if-and-rel.hir,
	* tests/good/if-and-rel.lir, tests/good/if-and-rel.s,
	* tests/good/if-and-rel.u.s, tests/good/if.-e.s,
	* tests/good/if.-e.u.s, tests/good/if.hir, tests/good/if.lir,
	* tests/good/if.s, tests/good/if.u.s, tests/good/if-void-body.-e.s,
	* tests/good/if-void-body.-e.u.s, tests/good/if-void-body.hir,
	* tests/good/if-void-body.lir, tests/good/if-void-body.s,
	* tests/good/if-void-body.u.s, tests/good/init-array.-e.s,
	* tests/good/init-array.-e.u.s, tests/good/init-array.hir,
	* tests/good/init-array.lir, tests/good/init-array.s,
	* tests/good/init-array.u.s, tests/good/initialize-to-nil.-e.s,
	* tests/good/initialize-to-nil.-e.u.s,
	* tests/good/initialize-to-nil.hir,
	* tests/good/initialize-to-nil.lir, tests/good/initialize-to-nil.s,
	* tests/good/initialize-to-nil.u.s, tests/good/int-comparison.-e.s,
	* tests/good/int-comparison.-e.u.s, tests/good/int-comparison.hir,
	* tests/good/int-comparison.lir, tests/good/int-comparison.s,
	* tests/good/int-comparison.u.s, tests/good/int-var-ordering.-e.s,
	* tests/good/int-var-ordering.-e.u.s,
	* tests/good/int-var-ordering.hir, tests/good/int-var-ordering.lir,
	* tests/good/int-var-ordering.s, tests/good/int-var-ordering.u.s,
	* tests/good/invisible-valid-types.-e.s,
	* tests/good/invisible-valid-types.-e.u.s,
	* tests/good/invisible-valid-types.hir,
	* tests/good/invisible-valid-types.lir,
	* tests/good/invisible-valid-types.s,
	* tests/good/invisible-valid-types.u.s,
	* tests/good/just-a-simple-for-1.-e.s,
	* tests/good/just-a-simple-for-1.-e.u.s,
	* tests/good/just-a-simple-for-1.hir,
	* tests/good/just-a-simple-for-1.lir,
	* tests/good/just-a-simple-for-1.s,
	* tests/good/just-a-simple-for-1.u.s,
	* tests/good/just-a-simple-for-2.-e.s,
	* tests/good/just-a-simple-for-2.-e.u.s,
	* tests/good/just-a-simple-for-2.hir,
	* tests/good/just-a-simple-for-2.lir,
	* tests/good/just-a-simple-for-2.s,
	* tests/good/just-a-simple-for-2.u.s, tests/good/letexp-eseq.-e.s,
	* tests/good/letexp-eseq.-e.u.s, tests/good/letexp-eseq.hir,
	* tests/good/letexp-eseq.lir, tests/good/letexp-eseq.s,
	* tests/good/letexp-eseq.u.s, tests/good/let-in-for-init.-e.s,
	* tests/good/let-in-for-init.-e.u.s, tests/good/let-in-for-init.hir,
	* tests/good/let-in-for-init.lir, tests/good/let-in-for-init.s,
	* tests/good/let-in-for-init.u.s,
	* tests/good/let-scope-for-functions.-e.s,
	* tests/good/let-scope-for-functions.-e.u.s,
	* tests/good/let-scope-for-functions.hir,
	* tests/good/let-scope-for-functions.lir,
	* tests/good/let-scope-for-functions.s,
	* tests/good/let-scope-for-functions.u.s,
	* tests/good/let-scope-for-types.-e.s,
	* tests/good/let-scope-for-types.-e.u.s,
	* tests/good/let-scope-for-types.hir,
	* tests/good/let-scope-for-types.lir,
	* tests/good/let-scope-for-types.s,
	* tests/good/let-scope-for-types.u.s,
	* tests/good/local-vs-global-type.-e.s,
	* tests/good/local-vs-global-type.-e.u.s,
	* tests/good/local-vs-global-type.hir,
	* tests/good/local-vs-global-type.lir,
	* tests/good/local-vs-global-type.s,
	* tests/good/local-vs-global-type.u.s, tests/good/many-args.-e.s,
	* tests/good/many-args.-e.u.s, tests/good/many-args.hir,
	* tests/good/many-args.lir, tests/good/many-args.s,
	* tests/good/many-args.u.s, tests/good/many-bool-ops.-e.s,
	* tests/good/many-bool-ops.-e.u.s, tests/good/many-bool-ops.hir,
	* tests/good/many-bool-ops.lir, tests/good/many-bool-ops.s,
	* tests/good/many-bool-ops.u.s, tests/good/many-functions.-e.s,
	* tests/good/many-functions.-e.u.s, tests/good/many-functions.hir,
	* tests/good/many-functions.lir, tests/good/many-functions.s,
	* tests/good/many-functions.u.s, tests/good/many-vars.-e.s,
	* tests/good/many-vars.-e.u.s, tests/good/many-vars.hir,
	* tests/good/many-vars.lir, tests/good/many-vars.s,
	* tests/good/many-vars.u.s, tests/good/merge.-e.s,
	* tests/good/merge.-e.u.s, tests/good/merge.hir,
	* tests/good/merge.lir, tests/good/merge.s, tests/good/merge.u.s,
	* tests/good/mutually-recursive-functions.-e.s,
	* tests/good/mutually-recursive-functions.-e.u.s,
	* tests/good/mutually-recursive-functions.hir,
	* tests/good/mutually-recursive-functions.lir,
	* tests/good/mutually-recursive-functions.s,
	* tests/good/mutually-recursive-functions.u.s,
	* tests/good/mutually-recursive-procedures.-e.s,
	* tests/good/mutually-recursive-procedures.-e.u.s,
	* tests/good/mutually-recursive-procedures.hir,
	* tests/good/mutually-recursive-procedures.lir,
	* tests/good/mutually-recursive-procedures.s,
	* tests/good/mutually-recursive-procedures.u.s,
	* tests/good/nil-as-arg.-e.s, tests/good/nil-as-arg.-e.u.s,
	* tests/good/nil-as-arg.hir, tests/good/nil-as-arg.lir,
	* tests/good/nil-as-arg.s, tests/good/nil-as-arg.u.s,
	* tests/good/nil-as-return-value.-e.s,
	* tests/good/nil-as-return-value.-e.u.s,
	* tests/good/nil-as-return-value.hir,
	* tests/good/nil-as-return-value.lir,
	* tests/good/nil-as-return-value.s,
	* tests/good/nil-as-return-value.u.s, tests/good/nine.-e.s,
	* tests/good/nine.-e.u.s, tests/good/nine.hir, tests/good/nine.lir,
	* tests/good/nine.s, tests/good/nine.u.s,
	* tests/good/non-commutative-move-mem-expr.-e.s,
	* tests/good/non-commutative-move-mem-expr.-e.u.s,
	* tests/good/non-commutative-move-mem-expr.hir,
	* tests/good/non-commutative-move-mem-expr.lir,
	* tests/good/non-commutative-move-mem-expr.s,
	* tests/good/non-commutative-move-mem-expr.u.s,
	* tests/good/nul-character.-e.s, tests/good/nul-character.-e.u.s,
	* tests/good/nul-character.hir, tests/good/nul-character.lir,
	* tests/good/nul-character.s, tests/good/nul-character.u.s,
	* tests/good/of-precedence.-e.s, tests/good/of-precedence.-e.u.s,
	* tests/good/of-precedence.hir, tests/good/of-precedence.lir,
	* tests/good/of-precedence.s, tests/good/of-precedence.u.s,
	* tests/good/order-strings.-e.s, tests/good/order-strings.-e.u.s,
	* tests/good/order-strings.hir, tests/good/order-strings.lir,
	* tests/good/order-strings.s, tests/good/order-strings.u.s,
	* tests/good/precedence.-e.s, tests/good/precedence.-e.u.s,
	* tests/good/precedence.hir, tests/good/precedence.lir,
	* tests/good/precedence.s, tests/good/precedence.u.s,
	* tests/good/preincrement.-e.s, tests/good/preincrement.-e.u.s,
	* tests/good/preincrement.hir, tests/good/preincrement.lir,
	* tests/good/preincrement.s, tests/good/preincrement.u.s,
	* tests/good/print-chr-ord.-e.s, tests/good/print-chr-ord.-e.u.s,
	* tests/good/print-chr-ord.hir, tests/good/print-chr-ord.lir,
	* tests/good/print-chr-ord.s, tests/good/print-chr-ord.u.s,
	* tests/good/print-tree.-e.s, tests/good/print-tree.-e.u.s,
	* tests/good/print-tree.hir, tests/good/print-tree.lir,
	* tests/good/print-tree.s, tests/good/print-tree.u.s,
	* tests/good/queens.-e.s, tests/good/queens.-e.u.s,
	* tests/good/queens.hir, tests/good/queens.lir, tests/good/queens.s,
	* tests/good/queens.u.s, tests/good/record.-e.s,
	* tests/good/record.-e.u.s, tests/good/record.hir,
	* tests/good/record.lir, tests/good/record.s, tests/good/record.u.s,
	* tests/good/recursive-type.-e.s, tests/good/recursive-type.-e.u.s,
	* tests/good/recursive-type.hir, tests/good/recursive-type.lir,
	* tests/good/recursive-type.s, tests/good/recursive-types.-e.s,
	* tests/good/recursive-types.-e.u.s, tests/good/recursive-types.hir,
	* tests/good/recursive-types.lir,
	* tests/good/recursive-types-mutual.-e.s,
	* tests/good/recursive-types-mutual.-e.u.s,
	* tests/good/recursive-types-mutual.hir,
	* tests/good/recursive-types-mutual.lir,
	* tests/good/recursive-types-mutual.s,
	* tests/good/recursive-types-mutual.u.s,
	* tests/good/recursive-types.s, tests/good/recursive-types.u.s,
	* tests/good/recursive-type.u.s, tests/good/redefine-print.-e.s,
	* tests/good/redefine-print.-e.u.s, tests/good/redefine-print.hir,
	* tests/good/redefine-print.lir, tests/good/redefine-print.s,
	* tests/good/redefine-print.u.s, tests/good/rel.-e.s,
	* tests/good/rel.-e.u.s, tests/good/rel.hir, tests/good/rel.lir,
	* tests/good/rel.s, tests/good/rel.u.s,
	* tests/good/scopes-protect-types.-e.s,
	* tests/good/scopes-protect-types.-e.u.s,
	* tests/good/scopes-protect-types.hir,
	* tests/good/scopes-protect-types.lir,
	* tests/good/scopes-protect-types.s,
	* tests/good/scopes-protect-types.u.s,
	* tests/good/scopes-protect-vars.-e.s,
	* tests/good/scopes-protect-vars.-e.u.s,
	* tests/good/scopes-protect-vars.hir,
	* tests/good/scopes-protect-vars.lir,
	* tests/good/scopes-protect-vars.s,
	* tests/good/scopes-protect-vars.u.s,
	* tests/good/seqexp-arithmetics.-e.s,
	* tests/good/seqexp-arithmetics.-e.u.s,
	* tests/good/seqexp-arithmetics.hir,
	* tests/good/seqexp-arithmetics.lir,
	* tests/good/seqexp-arithmetics.s,
	* tests/good/seqexp-arithmetics.u.s,
	* tests/good/shadowing-functions.-e.s,
	* tests/good/shadowing-functions.-e.u.s,
	* tests/good/shadowing-functions.hir,
	* tests/good/shadowing-functions.lir,
	* tests/good/shadowing-functions.s,
	* tests/good/shadowing-functions.u.s,
	* tests/good/shadowing-types-separate.-e.s,
	* tests/good/shadowing-types-separate.-e.u.s,
	* tests/good/shadowing-types-separate.hir,
	* tests/good/shadowing-types-separate.lir,
	* tests/good/shadowing-types-separate.s,
	* tests/good/shadowing-types-separate.u.s,
	* tests/good/side-effects.-e.s, tests/good/side-effects.-e.u.s,
	* tests/good/side-effects.hir, tests/good/side-effects-in-init.-e.s,
	* tests/good/side-effects-in-init.-e.u.s,
	* tests/good/side-effects-in-init.hir,
	* tests/good/side-effects-in-init.lir,
	* tests/good/side-effects-in-init.s,
	* tests/good/side-effects-in-init.u.s,
	* tests/good/side-effects-in-sxp.-e.s,
	* tests/good/side-effects-in-sxp.-e.u.s,
	* tests/good/side-effects-in-sxp.hir,
	* tests/good/side-effects-in-sxp.lir,
	* tests/good/side-effects-in-sxp.s,
	* tests/good/side-effects-in-sxp.u.s, tests/good/side-effects.lir,
	* tests/good/side-effects.s, tests/good/side-effects.u.s,
	* tests/good/single-variable.-e.s,
	* tests/good/single-variable.-e.u.s, tests/good/single-variable.hir,
	* tests/good/single-variable.lir, tests/good/single-variable.s,
	* tests/good/single-variable.u.s,
	* tests/good/so-many-args-in-rec-func.-e.s,
	* tests/good/so-many-args-in-rec-func.-e.u.s,
	* tests/good/so-many-args-in-rec-func.hir,
	* tests/good/so-many-args-in-rec-func.lir,
	* tests/good/so-many-args-in-rec-func.s,
	* tests/good/so-many-args-in-rec-func.u.s, tests/good/strcmp.-e.s,
	* tests/good/strcmp.-e.u.s, tests/good/strcmp.hir,
	* tests/good/strcmp.lir, tests/good/strcmp.s, tests/good/strcmp.u.s,
	* tests/good/string-backslash-char.-e.s,
	* tests/good/string-backslash-char.-e.u.s,
	* tests/good/string-backslash-char.hir,
	* tests/good/string-backslash-char.lir,
	* tests/good/string-backslash-char.s,
	* tests/good/string-backslash-char.u.s,
	* tests/good/string-backslash-octal.-e.s,
	* tests/good/string-backslash-octal.-e.u.s,
	* tests/good/string-backslash-octal.hir,
	* tests/good/string-backslash-octal.lir,
	* tests/good/string-backslash-octal.s,
	* tests/good/string-backslash-octal.u.s,
	* tests/good/string-backslash-tortured.-e.s,
	* tests/good/string-backslash-tortured.-e.u.s,
	* tests/good/string-backslash-tortured.hir,
	* tests/good/string-backslash-tortured.lir,
	* tests/good/string-backslash-tortured.s,
	* tests/good/string-backslash-tortured.u.s,
	* tests/good/string-huge.-e.s, tests/good/string-huge.-e.u.s,
	* tests/good/string-huge.hir, tests/good/string-huge.lir,
	* tests/good/string-huge.s, tests/good/string-huge.u.s,
	* tests/good/string-int-not-keywords.-e.s,
	* tests/good/string-int-not-keywords.-e.u.s,
	* tests/good/string-int-not-keywords.hir,
	* tests/good/string-int-not-keywords.lir,
	* tests/good/string-int-not-keywords.s,
	* tests/good/string-int-not-keywords.u.s,
	* tests/good/string-simple-quotes.-e.s,
	* tests/good/string-simple-quotes.-e.u.s,
	* tests/good/string-simple-quotes.hir,
	* tests/good/string-simple-quotes.lir,
	* tests/good/string-simple-quotes.s,
	* tests/good/string-simple-quotes.u.s,
	* tests/good/string-var-comparing.-e.s,
	* tests/good/string-var-comparing.-e.u.s,
	* tests/good/string-var-comparing.hir,
	* tests/good/string-var-comparing.lir,
	* tests/good/string-var-comparing.s,
	* tests/good/string-var-comparing.u.s,
	* tests/good/string-var-ordering.-e.s,
	* tests/good/string-var-ordering.-e.u.s,
	* tests/good/string-var-ordering.hir,
	* tests/good/string-var-ordering.lir,
	* tests/good/string-var-ordering.s,
	* tests/good/string-var-ordering.u.s,
	* tests/good/stupid-array-type.-e.s,
	* tests/good/stupid-array-type.-e.u.s,
	* tests/good/stupid-array-type.hir,
	* tests/good/stupid-array-type.lir, tests/good/stupid-array-type.s,
	* tests/good/stupid-array-type.u.s,
	* tests/good/substring-copy-all.-e.s,
	* tests/good/substring-copy-all.-e.u.s,
	* tests/good/substring-copy-all.hir,
	* tests/good/substring-copy-all.lir,
	* tests/good/substring-copy-all.s,
	* tests/good/substring-copy-all.u.s,
	* tests/good/substring-copy-nothing.-e.s,
	* tests/good/substring-copy-nothing.-e.u.s,
	* tests/good/substring-copy-nothing.hir,
	* tests/good/substring-copy-nothing.lir,
	* tests/good/substring-copy-nothing.s,
	* tests/good/substring-copy-nothing.u.s, tests/good/substring.-e.s,
	* tests/good/substring.-e.u.s, tests/good/substring.hir,
	* tests/good/substring.lir, tests/good/substring.s,
	* tests/good/substring-too-high-sum.-e.s,
	* tests/good/substring-too-high-sum.-e.u.s,
	* tests/good/substring-too-high-sum.hir,
	* tests/good/substring-too-high-sum.lir,
	* tests/good/substring-too-high-sum.s,
	* tests/good/substring-too-high-sum.u.s,
	* tests/good/substring-too-low-first.-e.s,
	* tests/good/substring-too-low-first.-e.u.s,
	* tests/good/substring-too-low-first.hir,
	* tests/good/substring-too-low-first.lir,
	* tests/good/substring-too-low-first.s,
	* tests/good/substring-too-low-first.u.s,
	* tests/good/substring-too-low-length.-e.s,
	* tests/good/substring-too-low-length.-e.u.s,
	* tests/good/substring-too-low-length.hir,
	* tests/good/substring-too-low-length.lir,
	* tests/good/substring-too-low-length.s,
	* tests/good/substring-too-low-length.u.s, tests/good/substring.u.s,
	* tests/good/test27.-e.s, tests/good/test27.-e.u.s,
	* tests/good/test27.hir, tests/good/test27.lir, tests/good/test27.s,
	* tests/good/test27.u.s, tests/good/test30.-e.s,
	* tests/good/test30.-e.u.s, tests/good/test30.hir,
	* tests/good/test30.lir, tests/good/test30.s, tests/good/test30.u.s,
	* tests/good/test37.-e.s, tests/good/test37.-e.u.s,
	* tests/good/test37.hir, tests/good/test37.lir, tests/good/test37.s,
	* tests/good/test37.u.s, tests/good/test42.-e.s,
	* tests/good/test42.-e.u.s, tests/good/test42.hir,
	* tests/good/test42.lir, tests/good/test42.s, tests/good/test42.u.s,
	* tests/good/test44.-e.s, tests/good/test44.-e.u.s,
	* tests/good/test44.hir, tests/good/test44.lir, tests/good/test44.s,
	* tests/good/test44.u.s, tests/good/three-name-spaces.-e.s,
	* tests/good/three-name-spaces.-e.u.s,
	* tests/good/three-name-spaces.hir,
	* tests/good/three-name-spaces.lir, tests/good/three-name-spaces.s,
	* tests/good/three-name-spaces.u.s, tests/good/types-aliases.-e.s,
	* tests/good/types-aliases.-e.u.s, tests/good/types-aliases.hir,
	* tests/good/types-aliases.lir, tests/good/types-aliases.s,
	* tests/good/types-aliases.u.s,
	* tests/good/var-bob-is-another-bob.-e.s,
	* tests/good/var-bob-is-another-bob.-e.u.s,
	* tests/good/var-bob-is-another-bob.hir,
	* tests/good/var-bob-is-another-bob.lir,
	* tests/good/var-bob-is-another-bob.s,
	* tests/good/var-bob-is-another-bob.u.s,
	* tests/good/var-override.-e.s, tests/good/var-override.-e.u.s,
	* tests/good/var-override.hir, tests/good/var-override.lir,
	* tests/good/var-override.s, tests/good/var-override.u.s,
	* tests/good/while-in-while.-e.s, tests/good/while-in-while.-e.u.s,
	* tests/good/while-in-while.hir, tests/good/while-in-while.lir,
	* tests/good/while-in-while.s, tests/good/while-in-while.u.s:
	Regen, because of recent changes in the high-level intermediate
	representation (HIR) and because of the lower-case `main'
	identifier.

2005-05-11  Roland Levillain  <roland@lrde.epita.fr>

	Version 0.88.
	For 2007-tc-5.0.

	* configure.ac, NEWS: Version 0.88.
	* src/temp/identifier.hh (Identifier): Some more documentation.
	* src/temp/identifier.hcc, src/translate/translate-visitor.cc,
	* src/translate/translation.cc: Hide more code.

2005-05-11  Arnaud Fabre  <fabre_a@epita.fr>

	* src/temp/identifier.hcc (print): Remove dead code.

2005-05-11  Roland Levillain  <roland@lrde.epita.fr>

	Fix tcsh wrt the introduction of timers in modules.

	* tcsh/python/test.py (tempmap): Adjust call to
	tc.regalloc.allocate_registers new signature.
	* src/tiger_common.i: Export timer.
	* src/misc/timer.hh (clocks_per_sec_): Rename as...
	* src/misc/timer.hh (clocks_per_sec): ...this.
	Make it a class member.
	* src/misc/timer.cc (clocks_per_sec): Initialize it.
	(timeinfo, dump): Adjust users.
	Wrap lines longer than 80 columns.

2005-05-11  Arnaud Fabre  <fabre_a@epita.fr>

	Fix compilation error.

	* src/temp/temp.cc, src/temp/label.cc (Temp::count_, Label::count_):
	Fix declaration.

2005-05-11  Roland Levillain  <roland@lrde.epita.fr>

	Have the configuration system check for Boost library.

	* configure.ac: Check Boost headers presence.
	Add option --with-boost to allow user-defined Boost paths.
	Aesthetic changes.
	* src/translate/tasks.hh (hir-compute): Always depend on type.

2005-05-10  Roland Levillain  <roland@lrde.epita.fr>

	Simplify Tree and make it more uniform.

	* src/tree/binop.hh (Oper::plus): Rename as...
	(Oper::add): ...this.
	(Oper::minus): Rename as...
	(Oper::sub): ...this.
	* src/tree/binop.cc: Adjust.
	Do not enclose operator in parens.
	(tag_print): Print keywords instead of symbols.
	* src/frame/access.cc, src/translate/translation.cc: Adjust.
	* src/codegen/ia32/codegen.cc, src/codegen/mips/codegen.cc
	(munchStore, munchLoad, build_fragment_entry_exit)
	* src/codegen/ia32/gas-assembly.cc (binop_build)
	* src/codegen/mips/spim-assembly.cc (binop_inst): Adjust.
	* src/codegen/codegen.cc: Adjust Doxygen header.

	* src/ast/ast.yml (FunctionDec): s/__main__/main/.
	* src/translate/translate-visitor.cc: Likewise.
	* tests/tc-check.in (graph_check_one):  Likewise.
	(TranslateVisitor::TranslateVisitor): Remove useless
	initializations.
	* src/ast/function-dec.hh: Regen.
	* src/codegen/ia32/gas-layout.cc
	(operator() (const assem::ProcFrag&)
	* src/codegen/mips/spim-layout.cc
	(operator() (const assem::ProcFrag&)): Don't handle `main' as a
	special case.
	* src/assem/fragment.cc (tree_label2asm_label): Remove function.
	(ProcFrag::print): Use Label::string_get instead of
	tree_label2asm_label.
	* src/temp/test-temp.cc: Adjust test.

2005-05-10  Roland Levillain  <roland@lrde.epita.fr>

	Implement temp::Identifier using boost::variant instead of
	inclusion polymorphism.  Remove factories for temp::Temp and
	temp::Label, since they are no longer needed to build and manage
	these objects.

	* src/temp/identifier.hh, src/temp/identifier.hcc
	(Identifier): Make this class concrete, and get concrete methods
	from TaggedIdentifier.
	(TaggedIdentifier): Remove class.
	(Identifier::value_): New.
	Use a boost::variant to store the actual value of an identifier
	(either an unsigned or a symbol::Symbol).
	(Identifier::prefix_, Identifier::rank_): New members.
	(Identifier::count_): New static member.
	(Identifier::Identifier ())
	(Identifier::Identifier (const symbol::Symbol&))
	(Identifier::Identifier (const std::string&))
	(Identifier::Identifier (const Identifier<Traits_>&)): New ctors.
	(operator=): New.
	(IdentifierCompareVisitor): New variant visitor.
	(operator==, operator<): Use it to reimplement these.
	(identifier_ptr_less): Remove functor.
	* src/temp/label.hh, src/temp/label.cc (LabelFactory)
	(label_ptr_less): Remove.
	(Label::count_): New static member definition.
	* src/temp/temp.hh, src/temp/temp.cc (TempFactory, temp_ptr_less):
	Remove.
	(Temp::count_): New static member definition.
	* src/temp/fwd.hh: Update.
	* src/temp/factory.hh, src/temp/factory.hcc: Remove files.
	* src/temp/Makefile.am (libtemp_la_SOURCES): Remove factory.hh and
	factory.hcc.
	* src/misc/map.h, src/misc/map.hcc,
	* src/temp/list.hh, src/temp/list.hcc: Store plain objects instead
	of pointers.

	* src/temp/temp-set.cc, src/temp/temp-set.hh,
	* src/assem/fragment.cc, src/assem/fragment.hh,
	* src/assem/fragment.hxx, src/assem/instr.cc, src/assem/instr.hh,
	* src/assem/label.hh, src/assem/label.hxx, src/assem/move.hh,
	* src/assem/move.hxx, src/canon/basic-block.cc,
	* src/canon/basic-block.hh, src/canon/canon.cc, src/canon/traces.cc,
	* src/canon/traces.hh, src/codegen/ia32/codegen.cc,
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/gas-assembly.cc,
	* src/codegen/ia32/gas-layout.cc, src/codegen/mips/codegen.cc,
	* src/codegen/mips/codegen.hh, src/codegen/mips/spim-assembly.cc,
	* src/frame/access.cc, src/frame/access.hh, src/frame/access.hxx,
	* src/frame/frame.cc, src/frame/frame.hh,
	* src/liveness/flowgraph.hxx, src/liveness/interference-graph.cc,
	* src/liveness/interference-graph.hh,
	* src/liveness/test-flowgraph.cc, src/regalloc/color.cc,
	* src/regalloc/color.hh, src/target/cpu.cc, src/target/ia32-cpu.cc,
	* src/target/mips-cpu.cc, src/translate/exp.cc,
	* src/translate/exp.hh, src/translate/level.cc,
	* src/translate/level.hh, src/translate/translate-visitor.cc,
	* src/translate/translate-visitor.hh, src/translate/translation.cc,
	* src/tree/cjump.hh, src/tree/cjump.hxx, src/tree/fragment.hh,
	* src/tree/fragment.hxx, src/tree/jump.hxx, src/tree/label.hh,
	* src/tree/label.hxx, src/tree/name.hh, src/tree/name.hxx,
	* src/tree/temp.hh, src/tree/temp.hxx:	Adjust.
	Use plain objects for temp and labels instead of const references
	and pointers.
	* src/temp/test-temp.cc: Adjust test.

	* src/symbol/symbol.hh (operator=): New.
	(str_): Make this member a pointer to a	string instead of a
	reference.
	* src/symbol/symbol.hxx (name_get, operator==, operator<): Adjust.
	(operator=): New.
	* src/symbol/symbol.cc (Symbol::Symbol) Adjust ctor.

	* configure.ac (TC_CXX_WARNINGS): Use -Wno-shadow instead of
	-Wshadow to pacify g++ on Boost Variants code.
	* NEWS: Update.

2005-05-10  Arnaud Fabre  <fabre_a@epita.fr>

	Update documentation in tree/.

	* src/tree/seq.hh, src/tree/stm.hh,
	* src/tree/fragment.hh, src/tree/binop.hxx,
	* src/tree/name.hh, src/tree/binop.cc,
	* src/tree/eseq.hh, src/tree/move.hh,
	* src/tree/sxp.hh, src/tree/mem.hh,
	* src/tree/libtree.hh, src/tree/const.hh,
	* src/tree/temp.hh, src/tree/binop.hh,
	* src/tree/jump.hh, src/tree/cjump.hh,
	* src/tree/exp.hh, src/tree/call.hh,
	* src/tree/label.hh: Add comments.

2005-05-10  Gilles Walbrou  <walbro_g@epita.fr>

	Factor list handling in temp.

	* src/temp/list.hh, src/temp/list.hcc: New. Factor list handling
	in temp.
	* src/temp/temp-list.cc, src/temp/temp-list.hh,
	* src/temp/temp-list.hxx, src/temp/label-list.cc,
	* src/temp/label-list.hh: Remove.
	* src/assem/instr.cc, src/assem/instr.hh, src/assem/move.hxx,
	* src/canon/basic-block.cc, src/canon/traces.cc,
	* src/codegen/ia32/codegen.cc, src/codegen/ia32/gas-assembly.cc,
	* src/codegen/mips/codegen.cc, src/codegen/mips/spim-assembly.cc,
	* src/target/cpu.cc, src/target/cpu.hh, src/temp/Makefile.am,
	* src/temp/fwd.hh, temp/label-list.cc, temp/label-list.hh,
	* src/temp/label.cc, src/temp/temp.cc, src/tree/cjump.hh,
	* src/tree/cjump.hxx, src/tree/jump.hh: Adjust.
	* src/temp/test-temp.cc: Add a some tests for containers used in
	temp.

2005-05-09  Arnaud Fabre  <fabre_a@epita.fr>

	Check that no tasks are running when merging Timers.

	* src/misc/timer.cc (Timer (const Timer&)): Precondition on running
	tasks.
	(operator<< (const Timer& rhs)): Formatting change. Added comment.

2005-05-09  Arnaud Fabre  <fabre_a@epita.fr>

	Put Timer in namespace misc.

	* src/misc/timer.hh, src/misc/timer.hxx, src/misc/timer.cc
	(Timer):Declare class Timer in namespace misc.
	* src/common.hh, src/liveness/flowgraph.hxx,
	* src/liveness/libliveness.cc, src/liveness/interference-graph.hh,
	* src/liveness/flowgraph.hh, src/liveness/interference-graph.cc,
	* src/liveness/libliveness.hh, src/regalloc/regallocator.cc,
	* src/regalloc/color.cc, src/regalloc/libregalloc.cc,
	* src/regalloc/color.hh, src/regalloc/regallocator.hh,
	* src/regalloc/libregalloc.hh, src/task/task-register.hh,
	* src/task/task-register.hxx, src/common.cc: Adjust.

2005-05-09  Arnaud Fabre  <fabre_a@epita.fr>

	Make tc-check able to check overloading of tarballs with no asm
	output capabilities.

	* tests/tc-check.in (overload_check_one, overload_check): New
	functions. Check overloading the same way bindings are checked.
	(load_tests): Use overload_check for testing overload, not
	nolimips_check.

2005-05-09  Arnaud Fabre  <fabre_a@epita.fr>

	Add support for streq in tiger runtime.

	* src/codegen/mips/runtime.s (streq): New builtin.

2005-05-08  Akim  <akim@epita.fr>

	* src/type/type-visitor.hh, src/type/type-visitor.cc
	(type_recovery):
	Remove, replaced by...
	(error_and_recover): this.

2005-05-08  Arnaud Fabre  <fabre_a@epita.fr>

	Do not use timer global variable in modules.
	Remove common.cc from libtc.

	Add support for merging to Timer.

	* src/misc/timer.cc, src/misc/timer.hh (Timer::Timer): Initialize
	dump_stream.
	(Timer::Timer (const Timer&)): New copy constructor.
	(Timer::opartor<< (const Timer&)): New operator overloading.
	* src/misc/fwd.hh (Timer): Forward declare it.

	Make objects have their own Timer.

	* src/liveness/flowgraph.hh, src/liveness/flowgraph.hxx
	(timer_get): New member function.
	(timer_): New member.
	(FlowGraph<EdgeLabel>::FlowGraph): Use it.
	* src/liveness/liveness.cc (Liveness): Use member timer_.
	* src/liveness/interference-graph.hh,
	* src/liveness/interference-graph.cc (timer_get): New member function.
	(timer_): New attribute.
	(compute_liveness): Use it.
	* src/regalloc/regallocator.cc, src/regalloc/regallocator.hh
	(timer_get): New member function.
	(timer_): New member.
	(operator() (assem::ProcFrag& frag)): Report time spent in color.
	* src/regalloc/color.cc, src/regalloc/color.hh (DO): Use local
	variable timer_ instead of global timer.
	(Color::Color): Report time spent for computing interference graph.
	(timer_get): New function member.
	(timer_): New member.
	* src/task/task-register.hh (timer_get): New function member.
	(timer_): New member.
	* src/task/task-register.cc (execute): Use it.
	* src/task/task-register.hxx: New file.

	Update libraries accordingly.

	* src/liveness/libliveness.cc, src/liveness/libliveness.hh
	(flowgraph_dump, liveness_dump, interference_dump): New argument
	timer.
	* src/regalloc/libregalloc.cc, src/regalloc/libregalloc.hh
	(allocate_registers): New argument timer.

	Make tasks report times from modules to global timer.

	* src/liveness/tasks.cc (flowgraph_dump, liveness_dump)
	(interference_dump): Adjust.
	* src/regalloc/tasks.cc (asm_compute): Adjust.
	* src/tc.cc (main): Get time report of tasks module.

	Do no include common.cc in libtc.

	* src/Makefile.in (libtc_la_SOURCES): Move declaration of common.cc
	and common.hh...
	(dist_tc_SOURCES): ...here.
	* src/task/Makefile.am (libtask_la_SOURCES): Adjust.
	* src/liveness/test-flowgraph.cc (timer): Remove global variable.

2005-05-07  Akim  <akim@epita.fr>

	Simplify the handling of labels in fragments.

	* src/assem/fragment.hh, src/assem/fragment.cc, src/assem/fragment.hxx,
	* src/tree/fragment.hh, src/tree/fragment.cc, src/tree/fragment.hxx:
	(label_, label_get): Operate on temp::Label instead of tree::Label.
	* src/codegen/ia32/gas-layout.cc, src/codegen/mips/spim-layout.cc,
	* src/frame/frame.hh, src/translate/translation.cc: Adjust.

	* src/assem/fragment.hh, src/assem/fragment.cc (file_name): New.
	* src/regalloc/color.cc, src/liveness/libliveness.cc: Use it.

	* src/translate/level.hh: Formatting changes.

2005-05-06  Akim Demaille  <akim@epita.fr>

	* src/bind/bind-visitor.hh, src/type/type-visitor.hh,
	* src/type/type-visitor.cc: Comment changes.

2005-04-25  Akim  <akim@epita.fr>

	* src/frame/frame.hh, src/frame/frame.cc (static_link): Remove,
	this breaks the abstractions: Frames don't know about static links.
	* src/translate/level.hh, src/translate/level.cc (fp_exp): Rename
	as...
	(fp): this.
	Adjust to the removal of static_link.
	* src/translate/level.hh, src/translate/level.hxx,
	* src/translate/level.cc (sl): New.
	* src/translate/translation.cc, src/translate/translation.hh
	(callExp): Factor the two shorthands.
	Accept a string for label.
	Use in callers.
	(staticLink): New.
	* src/translate/translate-visitor.cc: Adjust to these changes.
	* src/translate/access.hh, src/translate/access.cc: Adjust.
	Formatting changes.

	* src/temp/factory.hh:
	* src/temp/identifier.hh (super_type): New.
	Use it.
	* src/temp/temp.hh:

	* src/tree/all.hh, src/tree/binop.hh, src/tree/binop.hxx,
	* src/tree/call.cc, src/tree/call.hh, src/tree/cjump.hh,
	* src/tree/cjump.hxx, src/tree/const.hh, src/tree/eseq.hh,
	* src/tree/eseq.hxx, src/tree/exp.hh, src/tree/fragment.cc,
	* src/tree/fragment.hh, src/tree/fragment.hxx,
	* src/tree/fragments.cc, src/tree/fragments.hh, src/tree/jump.hxx,
	* src/tree/label.hh, src/tree/mem.hh, src/tree/mem.hxx,
	* src/tree/move.hh, src/tree/move.hxx, src/tree/name.hh,
	* src/tree/seq.cc, src/tree/sxp.hh, src/tree/sxp.hxx,
	* src/tree/temp.hh, src/tree/tree.cc, src/tree/tree.hh,
	* src/tree/tree.hxx, src/tree/trees.cc, src/tree/trees.hh: Remove
	the 'setters'.
	Remove first_child_get and so forth: Use the one from Tree.
	Adjust the callers to using child_push_back.
	This simplifies the interface, and saves us from dirty iterator
	handling.
	Lots of formatting changes, but documentation is still needed.

2005-05-04  Roland Levillain  <roland@lrde.epita.fr>

	* src/desugar/desugar-visitor.cc (operator() (const ast::OpExp&)):
	Fix the use of streq when desugaring string inequality.

2005-05-04  Roland Levillain  <roland@lrde.epita.fr>

	* src/desugar/desugar-visitor.cc (desugar): Handle `break'
	statements in `for' loops desugaring.
	Suggested by Michaël Cadilhac.

2005-05-04  Roland Levillain  <roland@lrde.epita.fr>

	* src/misc/contract.cc [NDEBUG] (__FailedCondition): Enable this
	function.
	(__Terminate): Always define this function.
	Reported by Michaël Cadilhac.

2005-05-04  Roland Levillain  <roland@lrde.epita.fr>

	* configure.ac: Bump to 0.87a.
	Add --enable-desugar option, to allow hir-compute to depend on
	desugar rather than just type.
	* src/translate/tasks.hh (hir-compute) [ENABLE_DESUGAR]: Depend on
	desugar.
	(hir-compute) [!ENABLE_DESUGAR]: Depend on type.
	* NEWS: Update.

2005-04-27  Roland Levillain  <roland@lrde.epita.fr>

	Version 0.87.
	For 2007-tc-4.2.

	* configure.ac, NEWS: Version 0.87.
	* dev/stagize: Deliver astclone and desugar modules in TC-4
	student tarballs.
	* src/desugar/desugar-visitor.hh, src/desugar/desugar-visitor.cc
	(operator() (const ast::ForExp&)): Hide method.
	* tests/tc-check.in (bindings_check): Pass --bind option to the
	compiler, since --bindings-display no longer implies --bind.

2005-04-27  Arnaud Fabre  <fabre_a@epita.fr>

	* src/desugar/Makefile.am (test_string_cmp_desugar_CPPFLAGS)
	(test_for_loops_desugar_CPPFLAGS): New variables.
	* src/desugar/test-for-loops-desugar.cc,
	* src/desugar/test-string-cmp-desugar.cc: Use parse_string member
	function for creating AST.

	* src/astclone/Makefile.am (test_clone_visitor_LDADD): Update with
	new dependancies.
	(test_clone_visitor_CPPFLAGS): New variable.
	* src/astclone/test-clone-visitor.cc (clone_ast): New function.
	Use parse_string member function for creating AST.

2005-04-22  Akim Demaille  <akim@epita.fr>

	* src/parse/tasks.hh, src/parse/tasks.cc (no-prelude): New.
	* src/overload/tasks.hh (-O): Same as --overfun-types-compute.

2005-04-22  Akim Demaille  <akim@epita.fr>

	* src/bind/tasks.hh (bind): -B does not imply -b as per TLRM.

2005-04-22  Akim Demaille  <akim@epita.fr>

	* src/desugar/desugar-visitor.cc (operator() (FunctionDec)):
	Remember the first occurrence of streq and strcmp.
	Others are no longer the primitives.

2005-04-22  Akim Demaille  <akim@epita.fr>

	Allow the comparison between a Symbol and a string.

	* symbol/symbol.hh, symbol/symbol.hxx (operator==, operator!=):
	New.
	* bind/bind-visitor.cc, src/type/type-visitor.cc,
	* desugar/desugar-visitor.cc, symbol/test-symbol.cc: Use them.

2005-04-22  Akim Demaille  <akim@epita.fr>

	* src/ast/ast.yml: Name and description changes.

2005-04-22  Akim Demaille  <akim@epita.fr>

	* src/regalloc/tiger_regalloc.i, src/temp/tiger_temp.i: Fix
	inclusion of map.hh.
	* src/overload/liboverload.hh (overtable_type): Private.

2005-04-19  Akim Demaille  <akim@epita.fr>

	* src/misc/map.hcc: Include sstream, not strstream.

2005-04-19  Akim  <akim@epita.fr>

	TempMap are independent of Temp: move them to misc/.

	* src/temp/temp-map.hh, src/temp/temp-map.hcc: Move to...
	* src/misc/map.hh, src/misc/map.hcc: here.
	* src/temp/identifier.hh, src/temp/temp.cc, src/temp/label.cc,
	* src/temp/temp.hh, src/temp/Makefile.am, src/temp/fwd.hh,
	* src/temp/identifier.hcc, src/misc/ref.hxx, src/misc/Makefile.am,
	* src/misc/fwd.hh: Adjust all dependencies.

2005-04-18  Roland Levillain  <roland@lrde.epita.fr>

	Use Python's imp module to factor module imports in tcsh.

	* tcsh/python/tc.py (try_import): New function.
	Use it factor module imports.

2005-04-18  Akim Demaille  <akim@epita.fr>

	* src/type/types.hxx, src/type/types.cc: Comment changes.

2005-04-18  Roland Levillain  <roland@lrde.epita.fr>

	* tcsh/python/tc.py, tcsh/python/test.py, tcsh/python/ti.py: Use
	Python's introspection mechanisms to check tc's available modules
	instead of pruning them with studentize.
	* dev/stagize: No longer use studentize to remove not available
	Python modules.

2005-04-14  Akim Demaille  <akim@epita.fr>

	* src/parse/tasks.hh (prelude): Fix its documentation.

2005-04-14  Akim Demaille  <akim@epita.fr>

	Version 0.86.
	For 2007-tc-4.1.

	* src/type/type-visitor.cc (type (const ast::fields_type&)):
	Revert the previous change: it is too heavy and demonstrates that
	binding formals should be done during binding.
	* src/bind/bind-visitor.hh, src/bind/bind-visitor.cc
	(redefinition): New.
	(visitDecBody<ast::FunctionDec>, decs_visit): Use it.
	(visitDecBody<ast::FunctionDec>): Check that formals are defined
	only once, and bind only the first occurrence.

	* tests/type/duplicate-formal.tig: Move to...
	* tests/bind/duplicate-formal.tig: here.

2005-04-14  Arnaud Fabre  <fabre_a@epita.fr>

	Improve handling of duplicate formals.

	* src/type/type-visitor.cc (type (const ast::fields_type&)): When
	checking uniqueness of names, remember the last definition.
	* tests/type/duplicate-formal.tig: Check the erroneous case that
	wasn't correctly catched.

2005-04-14  Akim Demaille  <akim@epita.fr>

	Version 0.85.
	For 2007-tc-4.0.

	* src/parse/tiger-parser.cc (parse_string_decs): Give it to
	students.

	* src/type/tasks.hh (types-check): Rename as...
	(types-compute): this.
	(types-check-default): Rename as...
	(type): this.
	This is the one that is bound to -T.
	* src/cppgen/tasks.hh, src/desugar/tasks.hh, src/overload/tasks.hh,
	* src/translate/tasks.hh tests/tc-check.in: Adjust.

2005-04-14  Akim Demaille  <akim@epita.fr>

	* src/desugar/desugar-visitor.cc: Minor changes.
	* src/parse/libparse.cc (parse): Be sure to parse a file when
	prelude != builtin.

2005-04-14  Arnaud Fabre  <fabre_a@epita.fr>

	No longer use and install prelude.tih. Make tc self-contained.

	* src/parse/tasks.hh (prelude): Default value is builtin.
	Adjust documentation.
	* src/parse/libparse.cc (parse): Parse prelude in a string, not
	from a file.
	* src/parse/tiger-parser.cc, src/parse/tiger-parser.hh
	(parse_string_decs): New method. Parse a declaration list from a
	string.
	* src/parse/tiger-parser.hh (prelude): New method. Return
	default prelude declarations.
	* src/parse/Makefile.am (prelude.cc): New generated file. Create
	it using data/prelude.tih.
	(nodist_libparse_la_SOURCES): New variable.
	* data/Makefile.am (dist_pkgdata_DATA): Rename as...
	(dist_noinst_DATA): ...this. No longer need to install
	prelude.tih.

2005-04-12  Roland Levillain  <roland@lrde.epita.fr>

	Hide the escapes modules to students' tcsh.

	* tcsh/python/tc.py, tcsh/python/test.py: Hide escapes-related
	parts.
	* src/ast/print-visitor.cc: Indent comments.

2005-04-12  Akim Demaille  <akim@epita.fr>

	* src/type/types.cc: Student marks adjustments.
	(type_nesting_index): Make it const, to prevent students from ++
	and -- on it to count the nesting level...
	* dev/studentize (studentize): Relaxes constraints on spaces for
	documented << marks.

2005-04-12  Akim Demaille  <akim@epita.fr>

	* src/misc/error.hh, src/task/task-register.hh, src/temp/map.hh,
	* src/type/libtype.cc: Please Doxygen.

2005-04-11  Roland Levillain  <roland@lrde.epita.fr>

	Check badly-typed OverTiger programs.

	* configure.ac: Bump to 0.84a.
	* tests/tc-check.in (load_tests): s/overloading/overload/.
	Don't use the tests/overload directory in TC-4 (type-checking)
	tests, since these tests can exit with 4 or 5 with the Tiger
	(i.e., not OverTiger) compiler.
	(load_tests): Check badly-typed OverTiger programs.
	* tests/overload-type/overfun-naive-redef.tig,
	* tests/overload-type/overfun-nil-ambiguity.tig,
	* tests/overload-type/overfun-redef.tig: New tests.

2005-04-11  Roland Levillain  <roland@lrde.epita.fr>

	Improve the behavior of the type-checker on nil ambiguity.

	* src/overload/type-visitor.cc
	(TypeVisitor::operator() (ast::CallExp&)): Tag the node with a
	type, even on nil ambiguity, to allow a proper continuation of the
	type-checking.

2005-04-08  Akim Demaille  <akim@epita.fr>

	Version 0.84.
	For 2007-tc-3.0.

	* configure.ac: Require tc 0.84 (correct parentheses with -A),
	Nolimips 0.7, and GCC 3.4.
	* src/parse/tiger_parse.i (parse): Fix the call to parse/5.
	* callgraph/tiger_escapes.i: Include data on the visitors.
	* callgraph/tiger_callgraph.i: Include data on the FunDec graph.
	* src/bind/tasks.hh (bind): Don't mention overfun-bind to students.
	* src/type/tasks.hh (type): Don't memtion overfun-types-check to
	students.
	* tcsh/python/ti.py: Use parse/3 instead parse/5.
	* tests/Makefile.am (TC_CHECK_FLAGS): New.
	(check-local): Use it to allow disabling Valgrind for instance.

2005-04-08  Akim Demaille  <akim@epita.fr>

	Fix tcsh's SEGV.

	* src/common.cc (error, program_name): Move to...
	* src/tc.cc: here.
	Don't ask why it cures the problem: for some reason loading
	tiger_ast in python caused it to segv during the construction of
	the global error handler (defined by common.cc).  Since this
	object was not needed in the modules (hence nor in the Python
	modules), we simply defined it elsewhere, so that it does not have
	to be built in the Python modules.  And... it worked.
	Dunno whether I should :) or :(.

	Adjust tcsh to parse::parse returning a pair.

	* src/parse/tiger_parse.i (parse/3): New.
	I have not managed to use std_pair.i to directly fetch the outcome
	from parse::parse, so this wrapper strips the pair in the C++ world.
	* tcsh/python/test.py: Use parse/3 instead parse/5.

2005-04-08  Roland Levillain  <roland@lrde.epita.fr>

	Fix the tests of the desugar module.

	* src/tc.mk (libdesugar): Add $(libparse).
	(libparse): Make it depend on $(libmisc).
	* src/desugar/test-for-loops-desugar.cc (program_name),
	* src/desugar/test-string-cmp-desugar.cc (program_name): New
	global.

2005-04-08  Roland Levillain  <roland@lrde.epita.fr>

	* src/parse/tiger-parser.hh (allow_reserved_id_p_): Hide
	attribute.

2005-04-08  Arnaud Fabre  <fabre_a@epita.fr>

	* src/parse/libparse.cc (parse): Fix forgotten
	pop_current_directory.

2005-04-08  Akim  <akim@epita.fr>

	Enable Error member manipulators.  Fixes various problems.

	* src/misc/error.hh (Error::member_manip_type): Return type is
	void.

2005-04-07  Roland Levillain  <roland@lrde.epita.fr>

	Aesthetic changes in the construction of TigerParser.

	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc
	(TigerParser::TigerParser): Reorder arguments.
	(TigerParser::TigerParser (bool)): New ctor.
	* src/parse/libparse.cc (parse): Adjust caller.

2005-04-07  Roland Levillain  <roland@lrde.epita.fr>

	Improve the usability of the overload module, thanks to
	disjunctive tasks providing default tasks for the computation of
	the bindings and the type-checking.

	* src/bind/tasks.hh (bind-default): New disjunctive task.
	* src/escapes/tasks.hh (escapes-compute): Let this task depend on
	bind-default, not bind.

	* src/type/tasks.hh (types-check-default): New disjunctive task.
	* src/translate/tasks.hh (hir-compute): Let this task depend on
	types-check-default, not types-check.

2005-04-07  Roland Levillain  <roland@lrde.epita.fr>

	* src/parse/parsetiger.yy: Remove outdated comment.
	* src/parse/parsetiger.hh, src/parse/parsetiger.cc: Regen.
	* src/overload/liboverload.cc (overload): Remove useless cast.

2005-04-07  Roland Levillain  <roland@lrde.epita.fr>

	Introduce reserved identifiers, used by DesugarVisitor.

	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc
	(allow_reserved_id_p_): New attribute.
	(TigerParser::TigerParser): Adjust ctor.
	Pass the FileLibrary by const reference, not by value (copy).
	Provide default values for all arguments.
	* src/parse/libparse.cc (parse): Adjust.
	* src/desugar/desugar-visitor.cc
	(operator() (const ast::ForExp&)): Adjust, and please G++ 3.3.5,
	which didn't like the construction of misc::FileLibrary inside the
	call to TigerParser's ctor.
	Recurse on the children of a ForExp to desugar the whole tree
	properly.
	* src/parse/scantiger.ll: Handle reserved identifiers (beginning
	with a `$').

2005-04-07  Akim Demaille  <akim@epita.fr>

	Provide member manipulators to misc::Error.

	* src/parse/tasks.cc (parse): Only exit if the parsing yielded
	nothing.

	* src/misc/error.hh, src/misc/error.hxx, src/misc/error.cc
	(member_manip_type): New.
	(Error::exit): New.

	* astclone/tasks.cc, bind/tasks.cc, desugar/tasks.cc,
	* overload/tasks.cc, parse/tasks.cc, type/tasks.cc,
	* src/parse/scantiger.ll: Adjust.

2005-04-07  Roland Levillain  <roland@lrde.epita.fr>

	Clean up error handling in overload and desugar modules.

	* src/overload/liboverload.hh, src/overload/liboverload.cc
	(types_check): Catch up with visitors' new functor interface.
	(bind): Likewise.
	Return both the bindings and the error status.
	* src/overload/tasks.cc (overfun_bind): Adjust.
	Use misc::exit_on_error.

	* src/desugar/libdesugar.hh, src/desugar/libdesugar.cc (desugar):
	Return both the desugared tree and the error status.
	* src/desugar/tasks.cc (desugar): Adjust.

	* src/parse/parsetiger.yy: Adjust/update comments.
	* src/parse/parsetiger.hh: Regen.

2005-04-07  Arnaud Fabre  <fabre_a@epita.fr>

	Fix idempotence issue found by Tristan Carel <carel_t@epita.fr>.

	* src/ast/print-visitor.cc (operator() (IfExp&))
	(operator() (AssignExp&), operator() (WhileExp&))
	(operator() (ForExp&)): Parenthezise if, while, for and assignation
	expression for ensuring idempotence of output.

2005-04-06  Akim Demaille  <akim@epita.fr>

	* src/desugar/desugar-visitor.cc: Use concrete syntax to handle
	the case of for loops desugaring.
	* src/desugar/libdesugar.cc: Handle error messages explicitly:
	these routines now return true *on error*.

2005-04-06  Akim Demaille  <akim@epita.fr>

	* src/Makefile.am (AM_CPPFLAGS): Look for config.h and authors.h.

2005-04-06  Akim Demaille  <akim@epita.fr>

	Enable string parsing.

	* src/parse/scantiger.ll: In C++ (void) is written ().
	(scan_open, scan_close): Be ready to parse TigerParser::input_.
	* src/parse/tiger-parser.cc, src/parse/tiger-parser.hh
	(scan_open): No argument.
	(input_, parse_string): New
	(parse_program): Free the content to students.
	* src/parse/test-parse.cc, src/bind/test-bind.cc: New.
	* src/parse/Makefile.am: Adjust.

	* src/ast/libast.cc, src/ast/libast.hh: Student marks.
	* src/ast/print-visitor.cc: Ditto.

	* configure.ac: Pass nostdinc to Automake to have shorter
	compilation command lines.

2005-04-05  Akim Demaille  <akim@epita.fr>

	* src/bind/libbind.hh, src/bind/tasks.hh
	* src/bind/bind-visitor.hh, src/bind/libbind.cc
	* src/bind/tasks.cc, src/bind/bind-visitor.cc: Student marks.

2005-04-04  Arnaud Fabre  <fabre_a@epita.fr>

	Desugar "exp | exp" and "exp & exp" in a clever way.

	* src/parse/parsetiger.yy (exp): Desugar using <> 0 instead of
	nested if.
	* src/parse/parsetiger.cc: Regen.

2005-04-04  Arnaud Fabre  <fabre_a@epita.fr>

	* src/parse/Makefile.am (BISONXX_IN): Fix bison++.in location.
	* dev/stagize (bison): Quoting is not required in a variable
	affectation.

2005-04-03  Arnaud Fabre  <fabre_a@epita.fr>

	Deliver symbol tables test at TC-3 only.

	* src/symbol/test-symbol.cc: Add studentize tags around tables
	test.
	* dev/stagize: Keep code concerning bindings from TC-3 and up.

2005-04-03  Arnaud Fabre  <fabre_a@epita.fr>

	Fix discheck for TC-2.

	* src/parse/Makefile.am (BISONXX_IN): New variable.
	(parsetiger.stamp): Depend on bison++.in instead of bison++, and
	ensure bison++ is rebuilt.
	* src/dev/stagize (bison): New variable for accessing bison++.
	Use bison++ instead of bison for regeneraing parsetiger.cc.
	* Makefile.am (dist-hook): Set top_builddir variable when
	calling stagize.

	Fix code delivered to the students.

	* Makefile.am: Change studentize flags for hiding developpers
	parts.
	* config/stagize, config/studentize, config/studentize_test.yml,
	* config/studentize_tc.conf, config/stats, config/reheader: Move
	to...
	* dev/stagize, dev/studentize, dev/studentize_test.yml,
	* dev/studentize_tc.conf, dev/stats, dev/reheader: ...here.
	* config/Makefile.am, dev/Makefile.am, Makefile.am: Adjust.

	Fix dev/stats.

	* dev/stats (dev): Look in that new directory.
	(config): Some files have moved to dev.
	(bison++): Count lines of bison++.in instead.
	($parse_dir/parse.hh): File no longer exists.

2005-04-02  Akim Demaille  <akim@epita.fr>

	* src/parse/Makefile.am (generate-parser): Hook to recreate
	position.hh and location.hh.
	It became too hard to try to build them directly from another
	directory, as BSD Make could do see that, although the paths were
	different, the files were the same.
	* src/ast/Makefile.am: Adjust.

2005-04-01  Akim  <akim@epita.fr>

	* configure.ac: Bump to 0.83a.
	* src/parse/Makefile.am (position.hh, location.hh): New targets, to
	receive requests from parse/ for BSD Make.
	* dev/Makefile.am: Typo.

2005-04-01  Arnaud Fabre  <fabre_a@epita.fr>

	* src/translate/libtranslate.hh, src/translate/libtranslate.cc
	* src/translate/tasks.cc (translate): Take an ast::Ast& instead of an
	ast::Ast*.

2005-04-01  Akim Demaille  <akim@epita.fr>

	Version 0.83.
	For 2007-tc-2.1.

	* config/stagize (stages_opts): Remove Libtool files.
	* src/misc/error.cc (operator=): Fix the assignment of stream_.
	From Gilles Walbrou.

2005-04-01  Akim Demaille  <akim@epita.fr>

	* src/tc.cc (main): In addition to catching std::exceptions, catch
	misc::Errror.
	At the end of the regular process, trigger the error handler.
	* src/parse/scantiger.ll (scan_open): Fire the local error handler
	when a file does not exist.
	* src/misc/error (exit_on_error, exit): Throw the error handler
	itself.

2005-03-31  Akim  <akim@epita.fr>

	Make the TigerParser handle the seed token.

	* src/parse/tiger-parser.hh (file_type): Remove, replaced by...
	(seed_): this new attribute.
	Adjust dependencies.
	* src/parse/parse.hh: Remove, no longer used.
	* src/parse/scantiger.ll (yylex): Remove, use again the regular
	yylex which was renamed as flex_yylex for a while.
	Instead, rely on %{ %} to insert code in the beginning of yylex.
	And use tp.seed_ here.
	(initial_token_): Remove.
	Adjust dependencies.

	* src/misc/error.cc (operator=): Fix the copy of status_.

2005-03-31  Akim  <akim@epita.fr>

	Move scan_open and scan_close into the TigerParser.

	* src/parse/parse.hh, src/parse/scantiger.ll (scan_open, scan_close)
	(FileType, states): Move
	into...
	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc (scan_open)
	(scan_close, file_type, states_): here.
	(scan_open): Simplify the prototype, now that we can see in
	the TigerParser.
	Remove the useless friend declaration.
	* src/parse/tiger-parser.cc (parse_): Adjust.
	* src/parse/fwd.hh (yy_buffer_state): New fwd decl.

2005-03-31  Akim Demaille  <akim@epita.fr>

	* src/misc/error.hh, src/misc/error.cc, src/misc/error.hxx:
	(exit_on_error): Reintroduced as method.
	(exit): New manipulator.
	* src/bind/bind-visitor.hh,src/parse/scantiger.ll, src/tc.cc: Use
	methods instead of manipulators where more elegant.
	* src/parse/scantiger.ll (stack): Include it.
	* src/parse/tasks.cc (parse): Use at_exit to register the removal
	of the_program once for all.
	* src/bind/tasks.cc, src/desugar/tasks.cc, src/overload/tasks.cc,
	* src/parse/tasks.cc, src/type/tasks.cc, src/astclone/tasks.cc:
	No longer delete the_program.
	Use Error sugar.

	* src/escapes/libescapes.cc, src/parse/parsetiger.yy:
	Don't include common.hh, which is impure.

2005-03-31  Akim Demaille  <akim@epita.fr>

	* config/bison++.in: Implement a work-around the lack of
	%lex-param in C++ parsers.
	* src/parse/parsetiger.yy: Call %lex-param.
	Remove the ad hoc work around.
	* src/parse/scantiger.ll: Likewise.
	Remove common.hh, it is dirty and no longer needed.
	(YY_DECL): Don't call it, done elsewhere now.
	* src/parse/Makefile.am: Make sure bison++ is built when needed,
	and forces an upgrade of the output.

2005-03-31  Roland Levillain  <roland@lrde.epita.fr>

	* src/ast/ast.yml (FunctionDec): Remove name_set.
	* src/ast/function-dec.hh: Regen.

	* src/type/type-visitor.cc
	(TypeVisitor::visitDecHeader<ast::FunctionDec>)
	(TypeVisitor::visitDecBody<ast::FunctionDec>),
	* src/overload/type-visitor.cc
	(TypeVisitor::overfun_header_visit)
	(TypeVisitor::overfun_body_visit): Rename result_type as
	return_type to avoid shadowing a typedef of std::unary_function.

2005-03-31  Roland Levillain  <roland@lrde.epita.fr>

	Add a error_ member to TigerParser, and use it instead of the
	global error.

	* src/parse/tiger-parser.hh (error_): New attribute.
	Make YY_DECL and scan_open friends of TigerParser.
	* src/parse/tiger-parser.cc (TigerParser): Adjust ctor.
	(parse_import): Use the local error_ rather than the global error.
	* src/parse/parsetiger.yy: Likewise.
	Define yylex so that it can be passed a parsing context.
	* src/parse/scantiger.ll: Likewise.
	(scan_open): Add the parsing context as third argument.
	* src/parse/parse.hh: Define flex_yylex	and yylex so that they can
	be passed a parsing context.
	Declare YY_DECL.
	* src/parse/tiger-parser.hh, src/parse/tiger-parser.cc
	(error_get): New accessor.
	* src/parse/fwd.hh: New file.
	* src/parse/Makefile.am (libparse_la_SOURCES): Add fwd.hh.
	* src/parse/libparse.hh, src/parse/libparse.cc (parse): Return a
	pair, containing both the Ast and the error status.
	* src/parse/tasks.cc (parse): Adjust.

2005-03-31  Roland Levillain  <roland@lrde.epita.fr>

	Turn exit_on_error into a manipulator of misc::Error.

	* src/misc/error.hh (manip_type): New typedef.
	* src/misc/error.hh, src/misc/error.cc (exit_on_error): Turn
	this method into a manipulator.
	* src/astclone/tasks.cc, src/bind/tasks.cc, src/desugar/tasks.cc,
	* src/overload/tasks.cc, src/parse/scantiger.ll,
	* src/parse/tasks.cc, src/tc.cc, src/type/tasks.cc: Adjust.
	* src/misc/test-error.cc (main): Update test.

2005-03-31  Akim Demaille  <akim@epita.fr>

	* src/tc.cc, src/parse/scantiger.ll: Stylistic changes.
	* src/ast/Makefile.am: Fix dependencies on parsetiger.yy.
	* dev/diff-r: More ignores.

2005-03-31  Akim Demaille  <akim@epita.fr>

	* dev/count-fixme-lines, dev/diff-r: New.
	* Makefile.am, dev/Makefile.am: Adjust.

2005-03-31  Roland Levillain  <roland@lrde.epita.fr>

	Adjust dev/ast-readme-gen to the studentization process.

	* dev/ast-readme-gen: Don't fail on missing nodes; instead,
	compute the list of available nodes before printing them.

2005-03-30  Arnaud Fabre  <fabre_a@epita.fr>

	Fix code delivered to the students for TC-2.

	* config/stagize (kept_stages): Keep code concerning ast from TC-2.
	* src/parse/libparse.hh, src/parse/parsetiger.hh,
	* src/parse/parsetiger.yy, src/parse/tasks.cc: Change some tags from
	<<- to <ast<- so that code is delivered at TC-2.

2005-03-30  Arnaud Fabre  <fabre_a@epita.fr>

	No longer generate visitor.hxx.

	* src/ast/visitor.hxx: No longer generated. Removed comment at the
	beginning.
	* dev/ast-visitor-gen: Do not write visitor.hxx.
	* src/ast/Makefile.am: Adjust.

2005-03-30  Gilles Walbrou  <walbro_g@epita.fr>

	* src/misc/error.hh: Add some comments, change operator|= to
	operator<<, add accessors.
	* src/bind/tasks.cc, src/type/tasks.cc, src/overload/tasks.cc: Use
	the new operator for error.
	* src/tc.cc: Use error accessors.
	* src/misc/error.cc: Adjust.
	* src/misc/error.hxx: Clean.

2005-03-30  Arnaud Fabre  <fabre_a@epita.fr>

	Use clever variable names.

	* src/escapes/libescapes.cc (escapes_compute):
	s/visitor/escapes_compute/.
	* src/desugar/libdesugar.cc (desugar): s/desugar_visitor/desugar/.
	* src/callgraph/libcallgraph.cc (escapes_find):
	s/sl_visitor/static_link_compute/.
	* src/bind/libbind.cc (bind): s/bind_visitor/bind/.
	* src/ast/libast.cc (operator<< (std::ostream&, const Ast&)):
	s/pv/print/.
	* src/astclone/libastclone.hxx (clone): s/clone_visitor/clone/.

2005-03-30  Arnaud Fabre  <fabre_a@epita.fr>

	* src/translate/libtranslate.cc (translate): Fix regression:
	code used an incorrect version of operator().

2005-03-30  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-visitor.hh,
	* src/translate/translate-visitor.cc (operator() (const ast::Ast&)):
	New.
	(fragments_get): Rely on it.
	* src/translate/libtranslate.cc (translate): Adjust.

2005-03-30  Akim Demaille  <akim@epita.fr>

	* dev/ast-visitor-gen: Stylistic change.
	* cppgen/cppgen-visitor.hh, cppgen/cppgen-visitor.cc
	(generate): Replace with...
	(operator() (const Ast&)): this.
	* cppgen/libcppgen.hh, cppgen/libcppgen.cc: Adjust.

2005-03-30  Arnaud Fabre  <fabre_a@epita.fr>

	Rename clone_collection to recurse_collection in CloneVisitor.

	* dev/ast-clone-visitor-gen, src/astclone/clone-visitor.hxx
	(clone_collection): Rename to...
	(recurse_collection): ...this. Add a comment.
	* src/astclone/clone-visitor.cc,
	* src/astclone/clone-visitor.hh: Regen.
	* TODO: Update.

2005-03-30  Arnaud Fabre  <fabre_a@epita.fr>

	Change GenVisitor so that it can be used as an STL functor.

	* dev/ast-visitor-gen
	(operator() (typename Const<ast::Ast>::type&)): New method.
	Make GenVisitor derive from std::unary_function<ast::Ast, void>.
	Generate visitor.hxx file.
	* src/ast/visitor.hh: Regen.
	* src/ast/visitor.hxx: New generated file.
	* src/type/libtype.cc, src/escapes/libescapes.cc,
	* src/desugar/libdesugar.cc, src/callgraph/libcallgraph.cc,
	* src/bind/libbind.cc, src/astclone/libastclone.hxx
	(types_check, escapes_check, desugar)
	(escapes_find, bind, clone): Launch visitor using function call syntax.
	* src/ast/Makefile.am (BUILT_SOURCES_local): Add visitor.hxx.

2005-03-30  Gilles Walbrou  <walbro_g@epita.fr>

	* src/misc/error.cc: Correct a few mistakes.
	* src/misc/error.hxx: New.
	* src/tc.cc: Print errors.
	* TODO: Add Akim Demaille's ideas.

	2005-03-27  Akim  <akim@epita.fr>

	Use an Error handler class, instead of free functions.

	* src/misc/fail.hh, src/misc/fail.cc: Remove, replaced by...
	* src/misc/error.hh, src/misc/error.cc: these.
	* src/misc/Makefile.am (libmisc_la_SOURCES): Adjust.
	* common.hh: Include misc/error.hh.
	(error): New.
	Adjust all uses of misc/fail.hh with uses of misc/error.hh.
	Also, change all uses of std::cerr + exit_set with using
	the local (or global in tasks) error object.

	Special adjustments: replace ad hoc error handling in visitors
	with an error handler.  Adjust callers to fetch it, and to merge
	it into the global error handler.
	* src/bind/bind-visitor.hh, src/bind/bind-visitor.cc
	(error_number_, error_number_get): Replace by...
	(error_, error_get): these.
	(error): Rename and rewrite as...
	(undeclared): this.
	Fix incorrect student marks.
	* src/bind/libbind.hh, src/bind/libbind.cc (bind): Return the
	error handler from the visitor.
	* src/bind/tasks.hh, src/bind/tasks.cc: Accumulate the errors in
	the global error handler.
	* src/escapes/escapes-check-visitor.hh,
	* src/escapes/escapes-check-visitor.cc,
	* src/escapes/libescapes.hh, src/escapes/libescapes.cc,
	* src/escapes/tasks.hh, src/escapes/tasks.cc: Ditto.
	* src/overload/overfun-type-visitor.hh,
	* src/overload/overfun-type-visitor.cc,
	* src/overload/liboverload.hh, src/overload/liboverload.cc,
	* src/overload/tasks.hh, src/overload/tasks.cc: Ditto.
	* src/type/type-visitor.hh, src/type/type-visitor.cc,
	* src/type/libtype.hh, src/type/libtype.cc,
	* src/type/tasks.hh, src/type/tasks.cc: Ditto.

	* src/task/task.cc, src/task/task-register.cc: Use the global
	error handler instead of cerr and misc::exit.
	* src/tc.cc: Likewise.

	To simplify the reporting of errors, it is convenient that
	function, type, and variable uses share the same interface to
	reach the name used.
	* src/ast/ast.yml (CallExp::func_, CallExp::func_set)
	(CallExp::func_get): Rename as...
	(CallExp::name_, CallExp::name_set, CallExp::name_get): these.
	All dependencies updated.

2005-03-24  Roland Levillain  <roland@lrde.epita.fr>

	* src/type/types.hh, src/type/types.cc
	(Function::compatible_with): Enclose in stagize silent tags.
	* src/overload/type-visitor.hh: Aesthetic changes.

2005-03-24  Roland Levillain  <roland@lrde.epita.fr>

	Improve the detection of complete redefinitions of overloaded
	functions.

	* src/type/types.hh, src/type/types.cc
	(Function::compatible_with): New method.
	* src/overload/type-visitor.cc (): Use it, and no longer rely on
	any kind of mangling for prototype comparison.

2005-03-24  Roland Levillain  <roland@lrde.epita.fr>

	Have overload::BindVisitor compute all potential function
	bindings.

	* src/overload/type-visitor.hh, src/overload/type-visitor.cc
	(operator() (ast::ForExp&), operator() (ast::LetExp&))
	(scope_begin, scope_end): Remove methods.
	* src/overload/type-visitor.hh (overtable_type): Move typedef...
	* src/overload/bind-visitor.hh: ...here.
	* src/overload/type-visitor.hh (overftable_): Rename and move
	typedef...
	* src/overload/bind-visitor.hh (overfuns_): ...here.
	(overfun_bindings_type): New typedef.
	(overfun_bindings_): New attribute.
	* src/overload/bind-visitor.cc (BindVisitor): Initialize it in
	ctor.
	* src/overload/bind-visitor.hh, src/overload/bind-visitor.cc
	(scope_begin, scope_end, visitDecHeader (ast::FunctionDec&)): New
	methods.
	(overfun_bindings_get): New accessor.
	* src/overload/over-table.hh, src/overload/over-table.cc (get):
	Return a list of FunctionDec's rather than a range of const
	iterators.
	Ensure the environment is not empty.
	* src/overload/bind-visitor.cc (operator() (ast::CallExp&)): Adjust.
	* src/bind/bind-visitor.hh (BindVisitor::funs_): Make it private.
	(BindVisitor::BindVisitor ()): Adjust ctor.
	* src/bind/bind-visitor.cc
	(BindVisitor::visitDecBody<ast::FunctionDec> ): Typo in comment.


	Let overload::TypeVisitor use these potential bindings.

	* src/overload/type-visitor.hh, src/overload/type-visitor.cc
	(TypeVisitor): Have the ctor take a list of bindings.
	* src/overload/type-visitor.cc
	(operator() (ast::FunctionDecs&), operator() (ast::CallExp&)):
	Use function bindings, instead of the previous overfuns_ symbol
	table.
	No longer using mangling.
	(overfun_body_visit): No longer	handle scopes.
	* src/overload/type-visitor.hh, src/overload/type-visitor.cc
	(mangle): Remove method.


	Adjust liboverload interface, as well as Overload module's tasks.

	* src/overload/liboverload.hh, src/overload/liboverload.cc
	(overfun_bind): Rename as...
	(bind): ...this.
	Return the potential function bindings instead of a boolean.
	(overfun_types_check): Rename as...
	(types_check): ...this.
	Take a list of potential function bindings
	as second argument.
	Return whether the type-checking succeeded or not.
	* src/overload/tasks.hh, src/overload/tasks.cc
	(overfun_bind): Adjust.
	Store function bindings in it.
	(overfun_types_check): Adjust.
	Fetch function bindings from it.
	(the_overfun_bindings): New global.

2005-03-24  Akim Demaille  <akim@epita.fr>

	Fix bison++ portability issues.

	* config/Makefile.am (nodist_noinst_SCRIPTS): Add bison++ so that
	it is always updated.
	* config/bison++.in: Don't rely on Bash nor GNU Sed.

2005-03-23  Akim Demaille  <akim@epita.fr>

	Move AST generation code into dev/.

	* config/ast-clone-visitor-gen, config/ast-fwd-gen,
	* config/ast-nodes-gen, config/ast-nodes-mk-gen,
	* config/ast-readme-gen, config/ast-visitor-gen, config/ast.py,
	* config/stagize, config/tools.py:
	Move to...
	* dev/ast-clone-visitor-gen, dev/ast-fwd-gen,
	* dev/ast-nodes-gen, dev/ast-nodes-mk-gen,
	* dev/ast-readme-gen, dev/ast-visitor-gen, dev/ast.py,
	* dev/stagize, dev/tools.py: here...

	* bootstrap, config/Makefile.am, dev/Makefile.am,
	* src/ast/Makefile.am, src/astclone/Makefile.am: Adjust.

2005-03-23  Roland Levillain  <roland@lrde.epita.fr>

	Rename overload::OverfunBindVisitor as overload::BindVisitor and
	overload::OverfunTypeVisitor as overload::TypeVisitor.

	* configure.ac: Bump to 0.82a.
	* src/overload/overfun-bind-visitor.hh,
	* src/overload/overfun-bind-visitor.cc,
	* src/overload/overfun-type-visitor.hh,
	* src/overload/overfun-type-visitor.cc: Rename files as...
	* src/overload/bind-visitor.hh, src/overload/bind-visitor.cc,
	* src/overload/type-visitor.hh, src/overload/type-visitor.cc:
	...this.
	Rename OverfunBindVisitor as BindVisitor.
	Adjust Doxygen comments, inclusion guards and header inclusions.
	* src/overload/Makefile.am (liboverload_la_SOURCES): Adjust.
	* src/overload/liboverload.cc: Adjust.

	Remove overload::FunEntry.

	* src/overload/fun-entry.hh, src/overload/fun-entry.cc: Remove
	files, useless.
	* src/overload/Makefile.am (liboverload_la_SOURCES): Remove
	fun-entry.hh and fun-entry.cc.

2005-03-23  Arnaud Fabre  <fabre_a@epita.fr>

	Fix tags so that make distcheck T=2 is ok.

	* src/ast/print-visitor.cc (operator() (const VarDec&, bool)):
	Fix studentize tags.

2005-03-23  Roland Levillain  <roland@lrde.epita.fr>

	* config/stagize: Strip src/ast/parsetiger.output from student
	tarballs.

2005-03-22  Akim Demaille  <akim@epita.fr>

	Version 0.82.
	For 2007-tc-2.0.

2005-03-22  Gilles Walbrou  <walbro_g@epita.fr>

	* src/misc/xalloc.hh: Add some documentation.

2005-03-22  Roland Levillain  <roland@lrde.epita.fr>

	Have the AST node file names follow the Tiger Project's coding
	style.

	* config/ast.py (Node.fname): Generate file names following the
	Tiger Project's coding style.
	* config/tools.py (file_id): Catch up.
	* config/ast-nodes-mk-gen: Adjust.
	* array-exp.cc, array-exp.hh, array-exp.hxx, array-ty.cc,
	* array-ty.hh, array-ty.hxx, assign-exp.cc, assign-exp.hh,
	* assign-exp.hxx, break-exp.cc, break-exp.hh, break-exp.hxx,
	* call-exp.cc, call-exp.hh, call-exp.hxx, field-init.cc,
	* field-init.hh, field-init.hxx, field-var.cc, field-var.hh,
	* field-var.hxx, for-exp.cc, for-exp.hh, for-exp.hxx,
	* function-dec.cc, function-dec.hh, function-dec.hxx, if-exp.cc,
	* if-exp.hh, if-exp.hxx, int-exp.cc, int-exp.hh, int-exp.hxx,
	* let-exp.cc, let-exp.hh, let-exp.hxx, name-ty.cc, name-ty.hh,
	* name-ty.hxx, nil-exp.cc, nil-exp.hh, nil-exp.hxx, op-exp.cc,
	* op-exp.hh, op-exp.hxx, print-visitor.yy, record-exp.cc,
	* record-exp.hh, record-exp.hxx, record-ty.cc, record-ty.hh,
	* record-ty.hxx, seq-exp.cc, seq-exp.hh, seq-exp.hxx, simple-var.cc,
	* simple-var.hh, simple-var.hxx, string-exp.cc, string-exp.hh,
	* string-exp.hxx, subscript-var.cc, subscript-var.hh,
	* subscript-var.hxx, type-constructor.cc, type-constructor.hh,
	* type-constructor.hxx, type-dec.cc, type-dec.hh, type-dec.hxx,
	* var-dec.cc, var-dec.hh, var-dec.hxx, while-exp.cc, while-exp.hh,
	* while-exp.hxx: New files (generated).
	* arrayexp.hh, arrayexp.hxx, arrayexp.cc, arrayty.hh, arrayty.hxx,
	* arrayty.cc, assignexp.hh, assignexp.hxx, assignexp.cc,
	* breakexp.hh, breakexp.hxx, breakexp.cc,
	* callexp.hh, callexp.hxx, callexp.cc,
	* field.hh, field.hxx, field.cc, fieldinit.hh,
	* fieldinit.hxx, fieldinit.cc, fieldvar.hh, fieldvar.hxx,
	* fieldvar.cc, forexp.hh, forexp.hxx, forexp.cc, functiondec.hh,
	* functiondec.hxx, functiondec.cc, ifexp.hh, ifexp.hxx, ifexp.cc,
	* intexp.hh, intexp.hxx, intexp.cc, letexp.hh, letexp.hxx,
	* letexp.cc, namety.hh, namety.hxx, namety.cc, nilexp.hh,
	* nilexp.hxx, nilexp.cc, opexp.hh, opexp.hxx, opexp.cc,
	* recordexp.hh, recordexp.hxx, recordexp.cc, recordty.hh,
	* recordty.hxx, recordty.cc, seqexp.hh, seqexp.hxx, seqexp.cc,
	* simplevar.hh, simplevar.hxx, simplevar.cc, stringexp.hh,
	* stringexp.hxx, stringexp.cc, subscriptvar.hh, subscriptvar.hxx,
	* subscriptvar.cc, typeconstructor.cc, typeconstructor.hh,
	* typeconstructor.hxx, typedec.cc, typedec.hh, typedec.hxx,
	* vardec.cc, vardec.hh, vardec.hxx, whileexp.cc, whileexp.hh,
	* whileexp.hxx: Remove files.

2005-03-22  Akim Demaille  <akim@epita.fr>

	* src/translate/translation.cc, src/callgraph/fundec-graph.hh,
	* src/callgraph/parent-graph-visitor.cc,
	* src/callgraph/call-graph-visitor.cc, src/parse/libparse.cc,
	* src/ast/whileexp.hh, src/ast/whileexp.hxx, src/ast/nilexp.hh,
	* src/ast/letexp.hxx, src/ast/functiondec.hxx,
	* src/ast/assignexp.hxx, src/ast/tiger_ast.i, src/ast/ifexp.hh,
	* src/ast/field.hh, src/ast/typedec.cc, src/ast/anydecs.hh,
	* src/ast/subscriptvar.hh, src/ast/breakexp.cc, src/ast/forexp.cc,
	* src/ast/arrayty.hh, src/ast/arrayexp.hh, src/ast/stringexp.hxx,
	* src/ast/namety.hh, src/ast/namety.hxx, src/ast/simplevar.hxx,
	* src/ast/opexp.cc, src/ast/fieldvar.cc, src/ast/recordty.hxx,
	* src/ast/recordexp.hxx, src/ast/seqexp.hh, src/ast/fieldinit.hh,
	* src/ast/nilexp.hxx, src/ast/breakexp.hxx, src/ast/whileexp.cc,
	* src/ast/vardec.hxx, src/ast/seqexp.hxx, src/ast/stringexp.hh,
	* src/ast/nilexp.cc, src/ast/allty.hh, src/ast/callexp.hh,
	* src/ast/subscriptvar.hxx, src/ast/ifexp.cc, src/ast/vardec.hh,
	* src/ast/intexp.hh, src/ast/subscriptvar.cc, src/ast/allvar.hh,
	* src/ast/arrayexp.cc, src/ast/arrayty.cc, src/ast/namety.cc,
	* src/ast/alldec.hh, src/ast/typeconstructor.hh,
	* src/ast/recordexp.hh, src/ast/recordty.hh, src/ast/assignexp.hh,
	* src/ast/functiondec.hh, src/ast/letexp.hh, src/ast/simplevar.hh,
	* src/ast/forexp.hxx, src/ast/fieldinit.hxx, src/ast/allexp.hh,
	* src/ast/seqexp.cc, src/ast/fieldinit.cc, src/ast/opexp.hxx,
	* src/ast/stringexp.cc, src/ast/callexp.cc, src/ast/intexp.hxx,
	* src/ast/vardec.cc, src/ast/ty.hh, src/ast/intexp.cc,
	* src/ast/typedec.hh, src/ast/typeconstructor.hxx,
	* src/ast/callexp.hxx, src/ast/breakexp.hh, src/ast/forexp.hh,
	* src/ast/fieldvar.hxx, src/ast/typedec.hxx, src/ast/all.hh,
	* src/ast/typeconstructor.cc, src/ast/recordty.cc,
	* src/ast/recordexp.cc, src/ast/ifexp.hxx, src/ast/letexp.cc,
	* src/ast/assignexp.cc, src/ast/functiondec.cc,
	* src/ast/simplevar.cc, src/ast/opexp.hh, src/ast/fieldvar.hh,
	* src/ast/arrayexp.hxx, src/ast/arrayty.hxx,
	* src/cppgen/includes/recordty.hh, src/cppgen/includes/arrayty.hh:
	Convert to the new AST file names.
	More is definitely needed, first stab.

2005-03-22  Akim Demaille  <akim@epita.fr>

	Provide a tool to rename files from classname to class-name.

	* dev/rename-headers.pl: New.
	Tailored for renaming of the ast currently.

2005-03-22  Roland Levillain  <roland@lrde.epita.fr>

	Don't ship ast::Escapable, ast::Typable and ast::TypeConstructor
	in TC-2 student tarballs.

	* config/stagize: Don't ship parts tagged as `escapes' before
	TC-3.
	Remove AST nodes before regenerating them.
	Prune src/parse/parsetiger.yy and src/ast/print-visitor.cc.
	Regen necessary files by hand.
	Never deliver the cppgen module.
	* config/studentize_tc.conf: Add no-escapes tag.
	* src/ast/ast.yml (Escapable): Enclose in studentize's `escapes'
	tags.
	(FunctionDec): Hide escapes_get() in non-`escapes' mode.
	* src/ast/print-visitor.cc: Hide escapes-related parts with
	`escapes' tag.
	(VarDec, Field): Have them inherit from Escapable in `escapes'
	mode.
	* src/ast/tiger_ast.i: Include ast/escapable.hh in `escapes'
	mode only.
	* src/parse/parsetiger.yy: Adjust.
	* src/parse/parsetiger.cc: Regen.
	* src/ast/default-visitor.hh
	(operator() (typename Const<Escapable>::type&)): Remove operator,
	useless.

2005-03-22  Arnaud Fabre  <fabre_a@epita.fr>

	Fix doxygen warning.

	* src/desugar/desugar-visitor.cc:
	s/desugar-visitor.hh/desugar-visitor.cc/.
	* src/task/disjunctive-task.hh (resolve_dependencies): Remove
	useless scope resolution operator.
	* src/misc/fail.cc (fatal): Remove comment, as it is already in
	the header.
	* config/bison++.in (rewrite_doc): New variable.
	Rewrite documentation tag for generated files to make doxygen
	happy.
	* src/parse/parsetiger.cc, src/parse/position.hh,
	* src/parse/parsetiger.hh, src/parse/stack.hh,
	* src/parse/location.hh: Regen.

2005-03-22  Arnaud Fabre  <fabre_a@epita.fr>

	Change interface of misc::escape.

	* src/misc/escape.cc, src/misc/escape.hh, src/misc/escape.hxx
	(escape_e, Escape::operator<<): Remove.
	(Escape::print): New method.
	(escape): New function. Wrapper around class Escape.
	(Escape::postr_): Remove. Replace by...
	(Escape::pobj_str_): ... this. New attribute.
	(operator<< (std::ostream& o, escape_e)): Remove. Replace by...
	(operator<< (std::ostream& o, const Escape&)): ... this.
	* src/misc/escape.cc, src/misc/escape.hxx:

	* src/tree/fragment.cc, src/assem/fragment.cc,
	* src/parse/scantiger.ll, src/ast/print-visitor.cc,
	* src/misc/test-escape.cc, src/codegen/ia32/gas-layout.cc,
	* src/codegen/mips/spim-layout.cc,
	* src/cppgen/cppgen-visitor.cc: Adjust.

2005-03-22  Arnaud Fabre  <fabre_a@epita.fr>

	* config/ast.py (need_duplicate): Improve comment.
	* doc/Makefile.am (edit): Fix sed command.

2005-03-22  Roland Levillain  <roland@lrde.epita.fr>

	* config/ast-readme-gen: Improve comment.
	* src/ast/README: Regen.

2005-03-21  Roland Levillain  <roland@lrde.epita.fr>

	Introduce OverfunBindVisitor, with its task.

	* configure.ac: Bump to 0.81a.
	* src/overload/tasks.hh, src/overload/tasks.cc (overfun-bind): New
	task.
	* src/overload/liboverload.hh, src/overload/liboverload.cc
	(overfun_bind): New function.
	* src/overload/overfun-bind-visitor.hh,
	* src/overload/overfun-bind-visitor.cc: New files.
	* src/bind/bind-visitor.hh (bind::BindVisitor::funs_): Make it
	protected.
	(BindVisitor::BindVisitor ()): Adjust ctor.
	* src/overload/Makefile.am (liboverload_la_SOURCES): Add
	overfun-bind-visitor.hh and overfun-bind-visitor.cc.
	* src/bind/tasks.hh,
	* src/bind/bind-visitor.cc (BindVisitor::decs_visit): Update
	documentation.


	Fix the OverfunTypeVisitor.  Catch up with OverfunBindVisitor and
	the current TypeVisitor.

	* src/overload/overfun-type-visitor.hh (overtable_type): New
	typedef.
	(overftable_): Use it.  Use ast::FunctionDec as key instead of
	overload::FunEntry.
	* src/overload/overfun-type-visitor.hh,
	* src/overload/overfun-type-visitor.cc (mangle): Take a type::Function
	as argument instead of a FunEntry.
	(overfun_header_visit): Attach a type::Function to the node
	instead of returning an overload::FunEntry.
	(overfun_body_visit): Remove the FunEntry argument, useless.
	Use Typable's interface to get the prototype of the fonction.
	No longer populate the variables' environment with formals.
	(operator() (ast::ForExp&), operator() (ast::LetExp&)): New
	methods.
	(operator() (ast::FunctionDecs&)): Use Typable's interface to get
	the types of the declared functions, and don't store their bodies.
	(operator() (ast::CallExp&)): Adjust.
	Use Typable's interface to get the types of the declared
	functions.
	Check for the nil ambiguity again.
	* NEWS: Update.

2005-03-20  Arnaud Fabre  <fabre_a@epita.fr>

	Fix code delivered to students for TC-2.

	* src/ast/ast.yml (escape_tag): Hide attribute from students.
	* src/ast/print-visitor.cc (operator<<): Hide escape_tag_display
	tag from students.
	* config/ast.py (need_duplicate): Constructor need duplicate if
	parent class need duplicate.
	* src/ast/field.hh, src/ast/escapable.hxx, src/ast/escapable.cc,
	* src/ast/vardec.hh, src/ast/field.cc, src/ast/vardec.cc,
	* src/ast/escapable.hh: Regen.

2005-03-17  Gilles Walbrou  <walbro_g@epita.fr>

	* NEWS: Add information about Boolean operators.
	* tests/good/boolean-2.tig: Clean.

2005-03-16  Roland Levillain  <roland@lrde.epita.fr>

	Version 0.81.
	For 2007-tc-1.0.

	* configure.ac, NEWS: Version 0.81.
	* TODO: Update.
	* config/stagize: Remove generated and standard stuff in student
	mode after bootstraping the project.

2005-03-16  Roland Levillain  <roland@lrde.epita.fr>

	* src/parse/tiger-parser.cc: Equip with studentize marks.

2005-03-15  Roland Levillain  <roland@lrde.epita.fr>

	* config/studentize: Document --keep-marks/--skip-marks.

2005-03-15  Roland Levillain  <roland@lrde.epita.fr>

	Document remaining AST classes in src/ast/README.

	* config/ast-readme-gen (print_node_rec, print_node): New
	functions.
	Print Escapable, Typable, TypeConstructor and their
	immediate subclasses.
	Add studentize warning tag.
	* src/ast/README: Regen.

2005-03-15  Arnaud Fabre  <fabre_a@epita.fr>

	Move all logic of finding from to FileLibrary.

	* src/parse/tiger-parse.cc (parse_import): Rely on find_file
	method of filelibrary for finding prelude.
	Adjust code to perform a push_current_directory.
	* src/misc/filelibrary.hh (switch_to_file): Replaced by...
	(find_file): ...this, which does not perform a push_current_directory.
	Adjust comments.
	* src/misc/filelibrary.hh (find_in_directory): New method.
	(find_in_search_path): Simplify code. Remove useless variable.

	Use current directory instead of working directory, which is
	confusing.

	* src/misc/filelibrary.hh, src/misc/filelibrary.cc
	(pop_working_directory, push_working_directory)
	(working_directory_get, working_directory_): Rename as...
	(pop_current_directory, push_current_directory)
	(working_current_get, current_directory_): ...theses.
	Adjust comments.
	* src/parse/libparse.cc (parse): Adjust.
	* src/parse/tiger-parse.cc (parse_import): Adjust.

2005-03-14  Roland Levillain  <roland@lrde.epita.fr>

	Even more pretty-printing in ast-readme-gen.

	* config/ast-readme-gen (ctor_args_summary): Hide `const', `*' and
	`&' in types.
	(print_node_summary): Do no print ctors of hidden nodes.  Add a
	leading star in front of them, if there is enough space.

2005-03-14  Roland Levillain  <roland@lrde.epita.fr>

	More pretty-printing in ast-readme-gen.

	* config/ast-readme-gen: Show inheritance using indentation, mark
	abstract classes with '/', simplify ctors.
	(print_node_summary, ctor_args_summary): New functions.
	* config/ast.py (Node.__init__.derived): New attribute.
	(Loader.resolve_super): Initialize it.
	* src/ast/README: Regen.

2005-03-14  Roland Levillain  <roland@lrde.epita.fr>

	Generate src/ast/README from the AST description.

	* config/ast-readme-gen: New file.
	* src/ast/README: New file (generated).
	* config/Makefile.am (dist_noinst_SCRIPTS): Add ast-readme-gen.
	* src/ast/Makefile.am ($(srcdir)/README): New target.
	(dist_noinst_DATA): Add README.

2005-03-10  Roland Levillain  <roland@lrde.epita.fr>

	Desugar « for » loops as « while » loops (cont.).

	* src/desugar/desugar-visitor.cc
	(DesugarVisitor::operator() (const ast::ForExp&)): Fix desugaring
	of for's
	* src/desugar/test-for-loops-desugar.cc: Don't include
	type/types.hh.

2005-03-09  Roland Levillain  <roland@lrde.epita.fr>

	Desugar « for » loops as « while » loops.

	* src/desugar/desugar-visitor.hh, src/desugar/desugar-visitor.cc:
	(DesugarVisitor::operator() (const ast::ForExp&)): New method.
	* src/desugar/test-for-loops-desugar.cc: New test.
	* src/desugar/test-desugar-visitor.cc: Rename test as...
	* src/desugar/test-string-cmp-desugar.cc: ...this.
	* src/desugar/Makefile.am (check_PROGRAMS): Adjust.
	Add test-for-loop-desugar.
	(test_desugar_visitor_SOURCES): Rename variable as...
	(test_string_cmp_desugar_SOURCES): ...this.
	(test_desugar_visitor_LDADD): Rename variable as...
	(test_string_cmp_desugar_LDADD): ...this.
	(test_for_loop_desugar_SOURCES, test_for_loop_desugar_LDADD): New
	variables.
	* NEWS, TODO: Update.

2005-03-09  Roland Levillain  <roland@lrde.epita.fr>

	Have tc-check be more tolerant w.r.t. optional tests.

	* tests/tc-check.in (load_tests): Tag optional tests as such.
	(run_test): Don't alter failure_p when running optional tests.
	(nolimips_check_one, cxxgen_check_one, ia32_check_one): Don't die
	on missing output file; skip the test instead.

	* src/translate/translate-visitor.cc (translate): Typo in comment.

2005-03-01  Roland Levillain  <roland@lrde.epita.fr>

	Regen assembler outputs.

	* tests/escapes/for-lower.-e.s, tests/escapes/for-lower.s,
	* tests/escapes/for-upper.-e.s, tests/escapes/for-upper.s,
	* tests/escapes/variable-inside-for-body.-e.s,
	* tests/escapes/variable-inside-for-body.s,
	* tests/good/array-of-alias.s, tests/good/array.s,
	* tests/good/assign-and-array-instantiation.s,
	* tests/good/big-exp.-e.s, tests/good/big-exp.s,
	* tests/good/big-lvalue.-e.s, tests/good/big-lvalue.s,
	* tests/good/builtins.-e.s, tests/good/call.-e.s,
	* tests/good/call.s, tests/good/chr.-e.s, tests/good/chr.s,
	* tests/good/compare-record-and-record.-e.s,
	* tests/good/compare-record-and-record.s,
	* tests/good/concurrent-arguments.-e.s,
	* tests/good/concurrent-arguments.s, tests/good/donald.-e.s,
	* tests/good/escaping-record.s, tests/good/evalexp.-e.s,
	* tests/good/evalexp.s, tests/good/explicit-record-type.s,
	* tests/good/field-of-field.-e.s, tests/good/field-of-field.s,
	* tests/good/for-high-computed-once.-e.s,
	* tests/good/for-high-same-name-as-index.-e.s,
	* tests/good/for-high-same-name-as-index.s,
	* tests/good/for-up-to-32bits.-e.s, tests/good/for-up-to-32bits.s,
	* tests/good/forward-fun-and-type-decl.-e.s,
	* tests/good/forward-fun-and-type-decl.s,
	* tests/good/fractions-underloaded.-e.s,
	* tests/good/fractions-underloaded.s,
	* tests/good/getchar-no-static-string.-e.s,
	* tests/good/let-in-for-init.-e.s, tests/good/let-in-for-init.s,
	* tests/good/many-args.-e.s, tests/good/many-vars.-e.s,
	* tests/good/many-vars.s, tests/good/merge.-e.s,
	* tests/good/merge.s, tests/good/nine.-e.s, tests/good/nine.s,
	* tests/good/non-commutative-move-mem-expr.-e.s,
	* tests/good/non-commutative-move-mem-expr.s,
	* tests/good/print-tree.-e.s, tests/good/print-tree.s,
	* tests/good/queens.-e.s, tests/good/queens.s,
	* tests/good/record.s, tests/good/recursive-type.s,
	* tests/good/recursive-types-mutual.-e.s,
	* tests/good/recursive-types-mutual.s,
	* tests/good/recursive-types.s,
	* tests/good/scopes-protect-types.-e.s,
	* tests/good/scopes-protect-types.s, tests/good/side-effects.-e.s,
	* tests/good/side-effects-in-init.s,
	* tests/good/side-effects-in-sxp.-e.s,
	* tests/good/side-effects-in-sxp.s, tests/good/strcmp.-e.s,
	* tests/good/strcmp.s, tests/good/string-int-not-keywords.-e.s,
	* tests/good/string-int-not-keywords.s, tests/good/substring.-e.s,
	* tests/good/substring.s, tests/good/test30.s,
	* tests/good/test42.-e.s, tests/good/test42.s,
	* tests/good/three-name-spaces.-e.s,
	* tests/good/three-name-spaces.s, tests/good/types-aliases.-e.s,
	* tests/good/types-aliases.s: Regen.

2005-03-01  Roland Levillain  <roland@lrde.epita.fr>

	Prefer `strcmp (a, b) <> 0' to `not (strcmp (a, b))' in Desugar.
	Check strcmp's declaration.

	* src/desugar/desugar-visitor.cc
	(DesugarVisitor::operator() (const ast::OpExp&)): Prefer
	`strcmp (a, b) <> 0' to `not (strcmp (a, b))'.
	Fix assertion (really check if strcmp is declared).
	* src/desugar/test-desugar-visitor.cc: Fix test accordingly.
	(dummy_fundec): New function.
	(test_string_desugaring): Use it.

2005-03-01  Akim Demaille  <akim@epita.fr>

	Kill the never ending compilation of big-exp.tig.

	* src/regalloc/color.cc (select_spill): Fix the nondeterminism due
	to float comparisons.

2005-02-28  Roland Levillain  <roland@lrde.epita.fr>

	Desugar the remaining string comparisons.

	* src/desugar/desugar-visitor.cc
	(DesugarVisitor::operator() (const ast::OpExp&)): Desugar string
	comparisons for operators <>, <, <=, > and >=.
	(DesugarVisitor::operator() (const ast::FunctionDec&)): Remember
	the definition site of strcmp.
	* src/desugar/desugar-visitor.hh (DesugarVisitor::strcmp_def_):
	New attribute.
	(DesugarVisitor::DesugarVisitor): Initialize it.
	* src/desugar/test-desugar-visitor.cc: Add more test cases.
	* NEWS, TODO: Update.

2005-02-25  Arnaud Fabre  <fabre_a@epita.fr>

	Fix runtime function names.

	* src/codegen/tiger-runtime.c (tcInitArray,tcAllocRecord)
	(tcStringEqual,tcPrint,tcFlush,tcOrd,tcChr,tcSize)
	(tcSubstring,tcConcat,tcNot,tcGetchar): Rename to...
	(tc_init_array,tc_alloc_record,tc_string_equal,tc_print)
	(tc_flush,tc_ord,tc_chr,tc_size,tc_substring,tc_concat)
	(tc_not,tc_getchar): .. theses.

	Fix concat marks for studentize.

	* src/codegen/mips/runtime.s (concat): Remove copy loop for
	students.

2005-02-25  Arnaud Fabre  <fabre_a@epita.fr>

	Report modifications of mips/runtime.s into tiger-runtime.c

	* src/codegen/tiger-runtime.c (initArray,allocRecord)
	(stringEqual,print,flush,ord,chr,size,substring,concat)
	(not,getchar): Rename to...
	(tcInitArray,tcAllocRecord,tcStringEqual,tcPrint,tcFlush,tcOrd)
	(tcChr,tcSize,tcSubstring,tcConcat,tcNot,tcGetchar): .. theses.
	(main): Call tc_main install of t_main.


2005-02-25  Arnaud Fabre  <fabre_a@epita.fr>

	Update TODO.

	* TODO (not builtin): Remove. Fixed by previous patch.

2005-02-25  Arnaud Fabre  <fabre_a@epita.fr>

	Fix implementation of 'not' builtin: do no use a function for
	declaring it.

	* src/codegen/mips/runtime.s (malloc,exit,strcmp,print)
	(print_int,flush,ord,chr,size,substring,concat,_not)
	(get_char): Rename labels to...
	(tc_malloc,tc_exit,tc_strcmp,tc_print,tc_print_int,tc_flush)
	(tc_ord,tc_chr,tc_size,tc_substring,tc_concat,tc_not)
	(tc_get_char): ... theses.
	* src/codegen/mips/spim-layout.cc
	(operator() (const assem::ProcFrag&)): Prepend "tc_" to routine
	names.
	Rename t_main to tc_main.
	* src/codegen/mips/spim-assembly.cc (call_build): Prepend "tc_"
	to label of called function.
	* data/prelude.tih (not): Declare as a builtin, not a function.

2005-02-24  Roland Levillain  <roland@lrde.epita.fr>

	Clean more files, and have `make distcheck T=2' run successfully.

	* Makefile.am (CLEANFILES): Add tc.log.bz2.
	* src/Makefile.am (CLEANFILES): Add version.stamp.
	* tcsh/generate-swig-mk (CLEANFILES): Add $base.pyc.

2005-02-24  Roland Levillain  <roland@lrde.epita.fr>

	Have the `check' step of `make distcheck T=2' run successfully.

	* tests/tc-check.in (tarball_test_wrapper): Fix log filename.
	Postpone its closing to avoid print-on-closed-handle errors.
	* tests/Makefile.am (EXTRA_DIST): Add xalloc-leak.valgrind.

2005-02-22  Arnaud Fabre  <fabre_a@epita.fr>

	* config/stagize: Remove dev repertory when creating a tarball
	for students.

2005-02-22  Arnaud Fabre  <fabre_a@epita.fr>

	Do not include builtins code into reference file.
	Generate ASM files without register allocation.

	* tests/tests.mk (TIG2ASM, TIG2ASM_ESCAPE): Change the command
	so that tc does not produce builtins code.
	(TIG2UASM, TIG2UASM_ESCAPE): New variables.
	New rules for generating ASM files without register allocation.
	* tests/mk-Makefile-am: -e.u.s and .u.s files must not be
	installed.

	Document the change.

	* dev/tc.texi (Generated files): Document purpose of -e.u.s and
	.u.e files.

2005-02-22  Roland Levillain  <roland@lrde.epita.fr>

	Have CloneVisitor use more general names for its identifiers, so
	as to clean-up clonerisms in DesugarVisitor.

	* config/ast-clone-visitor-gen (astclone::CloneVisitor::clone_):
	Rename attribute as result_.
	(astclone::CloneVisitor::clone_get): Rename method as...
	(astclone::CloneVisitor::result_get): ...this.
	(astclone::CloneVisitor::clone<> (const T&): Rename method as...
	(astclone::CloneVisitor::recurse (const T&)): ...this.
	(astclone::CloneVisitor::clone<> (const T* const)): Rename method
	as...
	(astclone::CloneVisitor::recurse (const T* const)): ...this.
	* src/astclone/clone-visitor.hxx: Likewise.
	* src/astclone/clone-visitor.hh, src/astclone/clone-visitor.cc:
	Regen.
	* src/desugar/desugar-visitor.cc
	(DesugarVisitor::operator() (const ast::OpExp&)): Adjust.
	* src/astclone/libastclone.hxx (clone),
	* src/astclone/test-clone-visitor.cc (main),
	* src/desugar/libdesugar.cc (desugar),
	* src/desugar/test-desugar-visitor.cc (main): Adjust callers.

2005-02-22  Roland Levillain  <roland@lrde.epita.fr>

	Equip TCSH with studentize's named marks.

	* tcsh/python/tc.py, tcsh/python/test.py, tcsh/python/ti.py: Add
	studentize's named marks to disable pruned modules.
	* config/studentize_tc.conf: New allowed marks: bind, escapes,
	overload, cppgen, translate, canon, temp, target, codegen,
	liveness, regalloc.
	* config/stagize: Use studentize's `--keep-marks' options to prune
	tcsh/python/tc.py, tcsh/python/test.py and tcsh/python/ti.py.

2005-02-21  Roland Levillain  <roland@lrde.epita.fr>

	Remove dependencies on the Type module for stages < TC-4 (cont.)

	* src/ast/tiger_ast.i: Include ast/typeconstructor.hh.
	Don't include headers from the Type module in non-`type' stages.
	* config/stagize: Use studentize's `--keep-marks' options to prune
	src/ast/tiger_ast.i.

2005-02-21  Akim Demaille  <akim@epita.fr>

	* config/bison++.in: Now that bison++ lives in build, fix the path
	to move-if-change.

2005-02-20  Arnaud Fabre  <fabre_a@epita.fr>

	Change Makefile for producing ASM files of tests.

	* tests/tests.mk (TIG2ASM, TIG2ASM_ESCAPE): New variables, for
	compiling test cases.
	New rules for generating ASM files.
	* tests/mk-Makefile-am: -e.s and .s files must not be installed.

	Document the change.

	* dev/tc.texi (Generated files): Document purpose of -e.s and .e
	files.

2005-02-17  Roland Levillain  <roland@lrde.epita.fr>

	* config/stagize: Always prune desugar from student tarballs.
	Deliver astclone at TC-2, and desugar at TC-4 (in professor
	tarballs).

2005-02-17  Roland Levillain  <roland@lrde.epita.fr>

	* src/desugar/test-desugar-visitor.cc (main): Fix comment.
	* src/desugar/desugar-visitor.cc: Aesthetics changes in comments.

2005-02-17  Roland Levillain  <roland@lrde.epita.fr>

	Introduce a new module, desugar, along with its visitor
	(DesugarVisitor) and a new task (desugar).  This DesugarVisitor
	handles desugaring of string comparisons, i.e. « "foo" = "bar » is
	rewritten as « streq ("foo", "bar") ».

	* src/desugar/libdesugar.hh, src/desugar/libdesugar.cc,
	* src/desugar/desugar-visitor.hh, src/desugar/desugar-visitor.cc,
	* src/desugar/tasks.hh, src/desugar/tasks.cc,
	* src/desugar/test-desugar-visitor.cc,
	* src/desugar/Makefile.am: New files.
	* configure.ac (AC_CONFIG_FILES): Add src/desugar/Makefile.
	* src/Makefile.am (SUBDIRS): Add desugar.
	(dist_tc_SOURCES): Add desugar/tasks.cc and desugar/tasks.hh.
	(libtc_la_LIBADD): Add $(libdesugar_la).
	* src/tc.mk (libdesugar_la, libdesugar): New variables.

2005-02-17  Roland Levillain  <roland@lrde.epita.fr>

	Move template method bodies outside ast-clone-visitor-gen.

	* config/ast-clone-visitor-gen (CloneVisitor::clone<>))
	(CloneVisitor::clone<>, CloneVisitor::clone_collection<>)
	(CloneVisitor::decs_visit<>): Move the definitions of these
	methods...
	* src/astclone/clone-visitor.hxx: ...here (new file).
	* config/ast-clone-visitor-gen:	Have astclone/clone-visitor.hh
	include astclone/clone-visitor.hxx.
	* src/astclone/clone-visitor.hh, src/astclone/clone-visitor.cc:
	Regen.
	* src/astclone/Makefile.am (libastclone_la_SOURCES): Add
	clone-visitor.hxx.
	* src/astclone/libastclone.hh, src/astclone/tasks.cc,
	* src/astclone/test-clone-visitor.cc: Typos in comments.

2005-02-17  Akim Demaille  <akim@epita.fr>

	* config/make.m4: New: modified version from Automake 1.9.5's one,
	to accept nonexistent included files.
	This is required because for subdir-objects which, during
	distclean, will sometimes delete deps files included by other
	Makefiles.  The latter ones of course fail with "hard includes".
	It turns out "-include" is supported by NetBSD Make and GNU Make,
	which are our main targets.

2005-02-17  Roland Levillain  <roland@lrde.epita.fr>

	Fix some Doxygen comments.

	* src/ast/anydecs.hh, src/ast/anydecs.hxx,
	* src/ast/location.hh, src/canon/basic-block.hh,
	* src/codegen/mips/spim-layout.hh, src/symbol/symbol.cc,
	* src/symbol/symbol.hh, src/symbol/symbol.hxx,
	* src/task/boolean-task.cc, src/task/disjunctive-task.cc,
	* src/task/function-task.cc, src/task/string-task.cc,
	* src/task/task-register.cc, src/task/task.cc, src/temp/map.hcc:
	Don't start file descriptions with a namespace name, to work
	around Doxygen's automatics capitalization.
	* config/ast-visitor-gen, config/ast-clone-visitor-gen: Likewise.
	* src/ast/visitor.hh, src/astclone/clone-visitor.hh,
	* src/astclone/clone-visitor.cc: Regen.

	* src/codegen/assembly.cc, src/bind/bind-visitor.hh,
	* src/task/boolean-task.hh, src/callgraph/call-graph-visitor.hh,
	* src/callgraph/call-graph-visitor.cc,
	* src/codegen/mips/codegen.cc, src/tree/exp.cc,
	* src/misc/filelibrary.cc, src/overload/fun-entry.hh,
	* src/task/function-task.hh, src/codegen/ia32/gas-assembly.cc,
	* src/codegen/ia32/gas-assembly.hh, src/target/ia32-cpu.hh,
	* src/assem/instrs.hh, src/assem/instrs.cc,
	* src/temp/label-list.hh, src/temp/label-list.cc,
	* src/translate/level.hxx, src/translate/level.cc,
	* src/liveness/liveness.hh, src/liveness/liveness.cc,
	* src/task/multiple-string-task.cc,
	* src/task/multiple-string-task.hh,
	* src/callgraph/parent-graph-visitor.cc,
	* src/callgraph/parent-graph-visitor.hh,
	* src/regalloc/regallocator.cc, src/regalloc/regallocator.hh,
	* src/codegen/mips/spim-assembly.cc,
	* src/codegen/mips/spim-assembly.hh,
	* src/callgraph/static-link-visitor.cc, src/tree/stm.cc,
	* src/task/string-task.hh, src/symbol/table.hxx,
	* src/task/task-register.hh, src/task/task.hh,
	* src/temp/temp-list.hh, src/temp/temp-list.hxx,
	* src/parse/tiger-parser.cc, src/parse/tiger-parser.hh,
	* src/canon/traces.cc, src/canon/traces.hh,
	* src/translate/translate-visitor.cc,
	* src/translate/translate-visitor.hh: Forgotten namespace in
	Doxygen comment.

	* src/frame/libframe.hh: Typo in a comment.

2005-02-16  Roland Levillain  <roland@lrde.epita.fr>

	* config/ast-clone-visitor-gen: Fix generated Doxygen comment (use
	astclone:: namespace, not ast::).
	* src/astclone/clone-visitor.hh, src/astclone/clone-visitor.cc:
	Regen.

2005-02-16  Akim Demaille  <akim@epita.fr>

	Fix my previous checkin.

	* configure.ac: Call swig with -version, not --version.
	* config/bison.m4: Use $BISON, not $YACC.
	* config/Makefile.am (dist_noinst_SCRIPTS): Remove bison++, now it
	is generated.

2005-02-16  Akim Demaille  <akim@epita.fr>

	Build system upgrade/cleanup.

	* src/Makefile.am (version.cc): Stop wasting cycles: use
	move-if-change, and a stamp file.  Before, any edition of
	ChangeLog resulted in recompiling version.cc and linking libtc.

	* config/bison++: Rename as...
	* config/bison++.in: this.
	Take BISON and @BISON@ into account.
	* src/parse/Makefile.am (libparse_la_SOURCES): No longer use
	Automake at all for Bison compilation.
	(BISONXX): Adjust.
	* config/bison.m4 (AC_CHECK_BISON1875): Rename as...
	(TC_PROG_BISON2): this.
	* configure.ac: Adjust.

	* bootstrap: Make sure not to provoke some exit 1 on valid
	behavior.

2005-02-15  Roland Levillain  <roland@lrde.epita.fr>

	* data/prelude.tih: Add print_err, streq and strcmp primitives.

2005-02-15  Roland Levillain  <roland@lrde.epita.fr>

	Let libclone copy any (root) node, and perform necessary casts.

	* src/astclone/libastclone.hh (clone): Make this function generic
	wrt the type of its argument.
	* src/astclone/libastclone.cc: Adjust and rename as...
	* src/astclone/libastclone.hxx: ...this.
	* src/astclone/Makefile.am (libastclone_la_SOURCES):
	s/libastclone\.hcc/libastclone\.hxx/
	* src/astclone/tasks.cc (astclone): No longer dynamic_cast<> the
	cloned Ast.

2005-02-15  Akim Demaille  <akim@epita.fr>

	* bootstrap: Update stamp-vti.

2005-02-15  Akim Demaille  <akim@epita.fr>

	* bootstrap: Work around autoreconf's failures.

2005-02-15  Roland Levillain  <roland@lrde.epita.fr>

	Add a simple clone task, making a deep copy of an Ast.

	* src/astclone/tasks.hh, src/astclone/tasks.cc,
	* src/astclone/libastclone.hh, src/astclone/libastclone.cc: New
	files.
	* src/astclone/Makefile.am (libastclone_la_SOURCES): Add
	libastclone.hh and libastclone.cc.
	* src/Makefile.am (dist_tc_SOURCES): Add astclone/tasks.cc and
	astclone/tasks.hh.
	(libtc_la_LIBADD): Add $(libastclone_la).

	* src/target/tasks.hh (target): Typo.

2005-02-14  Arnaud Fabre  <fabre_a@epita.fr>

	* src/astclone/Makefile.am (clone-visitor.hh, clone-visitor.cc):
	Prepend these files with $(srcdir) so that a fresh checkout works
	properly.
	* src/ast/libast.cc, src/ast/libast.hh (escapes_tags_display)
	(sl_display): Correct anchors so that they are not shipped to
	students.

2005-02-14  Roland Levillain  <roland@lrde.epita.fr>

	* config/stagize: Ship astclone with non-student tarballs.
	* config/ast-clone-visitor-gen: Typo.

2005-02-10  Akim Demaille  <akim@epita.fr>

	Use misc::ref for translate::Exp too.

	* src/translate/exp.hh (rExp, rEx, rNx, rCx, rIx): New.
	* src/translate/exp.hh, src/translate/exp.hxx, src/translate/exp.cc
	(Exp::unEx_, Exp::unNx_, Exp::unCx_): Remove: since there is no
	longer to manage the memory, there is no need to have deleting/non
	deleting versions of these functions.
	(Exp::unEx, Exp::unNx, Exp::unCx): Now virtual.
	(Ex, Nx, Cx, Ix): Adjust their function members.
	(Ix): Store rExp, not Exp.
	* src/translate/translation.hh, src/translate/translation.cc: Use
	rExp where we used Exp*.
	Almost all functions are affected.
	* src/translate/translate-visitor.hh,
	* src/translate/translate-visitor.cc: Likewise.

	* src/misc/fwd.hh (ref): New.
	* Makefile.am: Close a student mark.

2005-02-08  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&run): s/--logfile-fd/--log-fd/.
	Issue a shorter message.
	* tests/README: Remove, incoporated into...
	* dev/tc.texi: this new file.
	* Makefile.am, configure.ac, dev/Makefile.am: Adjust.

2005-02-08  Roland Levillain  <roland@lrde.epita.fr>

	* src/ast/Makefile.am ($(srcdir)/ast-fwd-gen.stamp)
	($(srcdir)/ast-visitor-gen.stamp, $(srcdir)/ast-nodes-gen.stamp)
	* src/astclone/Makefile.am
	($(srcdir)/ast-clone-visitor-gen.stamp): No longer change the
	write permissions of $(srcdir), to avoid forbidden Ast
	regenerations after stagize.  Rather...
	* config/stagize: ...relaunch the generators after the pruning of
	ast.yml.

2005-02-08  Roland Levillain  <roland@lrde.epita.fr>

	Remove dependencies on the type module for stages < TC-4.

	* config/stagize: Always prune src/astclone.
	Use studentize's `--keep-marks' options to prune src/ast/ast/yml.
	* config/studentize_tc.conf: Add `no-type'.
	* src/ast/ast.yml (Typable, TypeConstructor, Dec, FunctionDec)
	(TypeDec, Exp, Ty): Remove dependencies on the type module in
	`no-type' stages.
	* src/tc.mk (libast): Strip the dependency on libtype in `no-type'
	stages.

	* src/ast/Makefile.am ($(srcdir)/ast-fwd-gen.stamp)
	($(srcdir)/ast-visitor-gen.stamp, $(srcdir)/ast-nodes-gen.stamp):
	Set write permissions for the user on $(srcdir) to allow the
	removal of stamps files.
	* src/astclone/Makefile.am
	($(srcdir)/ast-clone-visitor-gen.stamp): Likewise.

2005-02-08  Arnaud Fabre  <fabre_a@epita.fr>

	* TODO, NEWS: Update.
	* src/target/tasks.cc (target): Add comment that was removed by a
	previous patch.

2005-02-07  Roland Levillain  <roland@lrde.epita.fr>

	* src/ast/ast.yml (ArrayExp): Use `hide' instead of inline tags to
	hide the content of this class.  Moreover, this now applies to the
	three generated files, not just the header.

2005-02-06  Gilles Walbrou  <walbro_g@epita.fr>

	Change Boolean operators.

	* src/parse/parsetiger.yy: Change syntactic sugar for Boolean
	operators. Now, they return only 0 or 1.
	* src/parse/parsetiger.cc, src/parse/position.hh,
	* src/parse/parsetiger.hh, src/parse/stack.hh,
	* src/parse/location.hh: Regen.
	* tests/good/boolean-2.tig: New test.
	* tests/good/Makefile.am: Add boolean-2.tig.
	* tests/good/fractions-underloaded.tig : Adjust.

2005-02-02  Arnaud Fabre  <fabre_a@epita.fr>

	* TODO: Update, DisjunctiveTask is (almost) done.

2005-02-02  Arnaud Fabre  <fabre_a@epita.fr>

	Use DisjunctiveTask to implements target-default.

	* src/target/tasks.hh (target-default): Use
	DISJUNCTIVE_TASK_DECLARE instead of TASK_DECLARE.
	* src/target/task.cc (target_default): Remove function. No
	longer used.

2005-02-02  Arnaud Fabre  <fabre_a@epita.fr>

	Implements a new type of task: DisjunctiveTask.

	* src/task/disjunctive-task.hh, src/task/disjunctive-task.cc:
	New files.
	* src/task/Makefile.am (libtask_la_SOURCES): Add
	disjunctive-task.hh and disjunctive-task.cc.

	Handle it properly in TaskRegister and Task.

	* src/task/task-register.cc (resolve_dependencies): Ask the
	tasks which dependents tasks should be activated instead of
	activating all of them.
	* src/task/task.hh, src/task/task.cc (resolve_dependencies): New
	method. By default return all dependent tasks.

	Update macros for using DisjunctiveTask in other modules.

	* src/task/libtask.hh (DISJUNCTIVE_TASK_DECLARE): New macro for
	declaring a disjunctive task.

	Misc.

	* src/task/task.hh (tasks_list_type): New typedef. Alias for
	TaskRegister::tasks_list_type.
	(deps_type): Move this typedef to the beginning of the class.
	* src/task/task-register.hh (tasks_list_type): New typedef.
	(task_order_): Use new typedef.

2005-01-31  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* config/studentize: Add --keep-marks, and --skip-marks options.
	* config/studentize_test.yml: Add one test and update others.
	* config/studentize_tc.conf: Add ast, and type.

2005-01-27  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in: Don't use LOG before opening it.
	Fix minor bugs.
	* Makefile.am (check-local): Move to...
	* tests/Makefile.am: here.
	* configure.ac: Pass -Wall to Automake.
	* tests/tests.mk (AUTOMAKE_OPTIONS): New.
	* doc/Makefile.am (html): Rename as...
	(html-local): this.

2005-01-25  Roland Levillain  <roland@lrde.epita.fr>

	* config/stagize: Factor the calls to bootstrap.
	* src/misc/test-ref.cc: Use more relevant comments in studentize
	marks.

2005-01-24  Arnaud Fabre  <fabre_a@epita.fr>

	Adjust which parts of Symbol is given to students.

	* src/symbol/symbol.hh, src/symbol/symbol.cc (symbol_set_type)
	(create): Do not remove declaration for students. Remove a part
	of the definition.
	(string_map_size, symbol_map_size): Remove for students.
	(symbol_set_instance): Notify students of this method.
	* src/symbol/test-symbol.cc (main): Do not deliver testing of
	size of sets.

2005-01-24  Roland Levillain  <roland@lrde.epita.fr>

	Have config/stagize call config/studentize and use it to
	enable/disable specific parts of the project according to the
	target stage.

	* Makefile.am (studir): Move call to config/studentize...
	* config/stagize: ...here.
	Use studentize's --stages.
	* config/studentize_tc.conf: Keep only the `ref-count' stage.
	* src/misc/test-ref.cc: Add studentize marks to make this test
	a fake one when `ref-count' stage is not required.

	* config/studentize (studentize): Allow stage specific silent
	marks with no comment.
	* config/studentize_test.yml: Typo.

2005-01-24  Roland Levillain  <roland@lrde.epita.fr>

	* config/ast.py (Loader.parse): Read the input once, instead of
	line per line.

2005-01-21  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* vcs/HOWTO: New. Read this file to know how to commit with vcs.
	* vcs/tiger.rb: New. Add tiger_commit et tcci to subversion.

2005-01-21  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* TODO: Update, --stage in studentize is done.

2005-01-20  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* config/studentize: Add the --stage feature to studentize. See the
	updated documentation for more details.
	* config/studentize_tc.conf: New. A basic studentize configuration
	file for tc.
	* config/studentize_test.yml: New. A TTK test suite for studentize.
	* src/symbol/symbol.hh, src/symbol/symbol.cc: Properly close 3 silent
	marks.

2005-01-20  Akim Demaille  <akim@epita.fr>

	* configure.ac: Eval $SWIG when running it.

2005-01-18  Akim Demaille  <akim@epita.fr>

	* config/swig.m4: Copy that from the Autoconf Macro Archive.
	* configure.ac: Adjust.

2005-01-17  Akim Demaille  <akim@epita.fr>

	* src/task/libtask.hh (MULTIPLE_STRING_TASK_DECLARE): Use the
	right callback_type.

2005-01-17  Akim Demaille  <akim@epita.fr>

	Remove tasks from the libraries,
	to ease the creation of standalone executables. Indeed global objects
	from libraries not explicitly invoked by the executable are not
	instantiated.  Put them into regular object files.

	* src/modules.cc: Remove.
	* src/Makefile.am (modules.hh): No longer create it.
	(AUTOMAKE_OPTIONS): subdir-objects.
	* src/modules.cc: Remove.
	* src/task/libtask.hh: No longer protect against multiple
	inclusion.  Adjust the task definition macros to depend on the
	current value of DEFINE_TASKS.

	* src/ast/tasks.cc, src/bind/tasks.cc, src/callgraph/tasks.cc,
	* src/canon/tasks.cc, src/codegen/tasks.cc, src/escapes/tasks.cc,
	* src/liveness/tasks.cc, src/overload/tasks.cc, src/parse/tasks.cc,
	* src/regalloc/tasks.cc, src/target/tasks.cc, src/task/tasks.cc,
	* src/temp/tasks.cc, src/translate/tasks.cc, src/type/tasks.cc:
	Define DEFINE_TASKS right before including its peer tasks.hh, and
	undefine it right afterwards.
	* src/ast/Makefile.am, src/bind/Makefile.am,
	* src/callgraph/Makefile.am, src/canon/Makefile.am,
	* src/codegen/Makefile.am, src/cppgen/Makefile.am,
	* src/escapes/Makefile.am, src/liveness/Makefile.am,
	* src/overload/Makefile.am, src/parse/Makefile.am,
	* src/regalloc/Makefile.am, src/target/Makefile.am,
	* src/task/Makefile.am, src/temp/Makefile.am,
	* src/translate/Makefile.am, src/type/Makefile.am: Adjust all the
	library definitions so that tasks are no longer included.
	* src/Makefile.am (dist_tc_SOURCES): Include all the tasks files
	here.

2005-01-15  Akim Demaille  <akim@epita.fr>

	* tcsh/generate-swig-mk (LIBADD): Rename as...
	(AM_LIBADD): this.
	Formatting changes.

2005-01-14  Roland Levillain  <roland@lrde.epita.fr>

	Move the CloneVisitor in its own module (src/astclone, ::astclone).

	* config/ast-clone-visitor-gen: Adjust paths, namespaces and
	inclusion guards.
	Filter final nodes of the Ast.
	(clone (const CollectionType& c)): Rename method as...
	(clone_collection): ...this.
	(clone (const T& t), clone (const T* const t)): New methods.
	Use them to factor visit methods.

	* src/ast/clone-visitor.hh: Regen and move...
	* src/astclone/clone-visitor.hh: ...here.
	* src/ast/clone-visitor.cc: Regen and move...
	* src/astclone/clone-visitor.cc: ...here.
	* src/ast/test-clone-visitor.cc: Regen and move...
	* src/astclone/test-clone-visitor.cc: ...here.

	* src/astclone/Makefile.am: New file.
	* src/ast/Makefile.am (BUILT_SOURCES_local): Remove
	clone-visitor.hh and clone-visitor.cc.
	(EXTRA_DIST): Remove ast-clone-visitor-gen.stamp.
	($(srcdir)/ast-clone-visitor-gen.stamp): Remove rule.
	(clone-visitor.hh clone-visitor.cc): Remove rule.
	(libast_la_SOURCES): Remove clone-visitor.hh and clone-visitor.cc.
	(check_PROGRAMS): Remove test-clone-visitor.
	(test_clone_visitor_SOURCES, test_clone_visitor_LDADD): Remove.
	* configure.ac (AC_CONFIG_FILES): Add src/astclone/Makefile.
	* src/Makefile.am (SUBDIRS): Add astclone.
	* src/tc.mk (libastclone_la, libastclone): New.

2005-01-13  Roland Levillain  <roland@lrde.epita.fr>

	* config/stats: Include src/ast in the count of lines.

2005-01-13  Roland Levillain  <roland@lrde.epita.fr>

	Add a `stats' target to Make, which counts the lines of code in
	the project.

	* config/stats (bison_lines): New file.
	* Makefile.am (stats): New rule.

2005-01-12  Arnaud Fabre  <fabre_a@epita.fr>

	Add tiger-interpretor.pl, a simple wrapper around tc and havm.

	* tools/tiger-interpretor.pl: New file.

2005-01-12  Arnaud Fabre  <fabre_a@epita.fr>

	Fix generation of reference files in tests.

	* tests/tests.mk (TIG2HIR, TIG2LIR): Use -P instead of -B.

2005-01-12  Arnaud Fabre  <fabre_a@epita.fr>

	Check for header file in TigerParser, as suggested by FIXME
	in FileLibrary.

	* src/parse/tiger-parser.cc: Check existence of header in
	current directory before calling switch_to_file.
	* src/misc/filelibrary.cc: Remove FIXME.
	(find_in_search_path): No longer check current directory.

2005-01-12  Arnaud Fabre  <fabre_a@epita.fr>

	Sync tc-check with new option -P.

	* tests/tc-check.in ($tc_inc_path, parse_arguments): Use -P
	instead of -B for specifying include path.

2005-01-12  Arnaud Fabre  <fabre_a@epita.fr>

	Fix memory leak in TC-5.

	* src/translate/translate-visitor.cc (~TranslateVisitor): Free
	map of levels.

2005-01-12  Roland Levillain  <roland@lrde.epita.fr>

	Introduce the CloneVisitor, which duplicates an Ast.  This will be
	a starting point for Ast rewriting tools.

	* config/ast-clone-visitor-gen: New file.
	* config/Makefile.am (dist_noinst_SCRIPTS): Add
	ast-clone-visitor-gen.

	* src/ast/clone-visitor.hh, src/ast/clone-visitor.hh: New files
	(generated).
	* src/ast/Makefile.am ($(srcdir)/ast-clone-visitor-gen.stamp)
	(clone-visitor.hh, clone-visitor.cc): New rule.
	(EXTRA_DIST): Add ast-clone-visitor-gen.stamp.
	(BUILT_SOURCES_local, libast_la_SOURCES): Add clone-visitor.hh and
	clone-visitor.cc.

	* src/ast/test-clone-visitor.cc: New file.
	* src/ast/Makefile.am (check_PROGRAMS): Add test-clone-visitor.
	(test_clone_visitor_SOURCES, test_clone_visitor_LDADD): New.

2005-01-11  Akim Demaille  <akim@epita.fr>

	Honor the current -p, -P, -B.

	* src/bind/tasks.hh: -B is --bindings-display.
	* src/parse/tasks.hh: -p is lib-prepend, -P is append.

	* src/misc/fail.hh, src/misc/fail.cc (error, fatal): New.
	This is only a beginning, more is needed to factor error
	handling.
	* src/parse/tasks.cc: Use it.

	Avoid useless string copies.

	* src/task/multiple-string-task.hh,
	* src/task/multiple-string-task.cc (callback_type): New.
	Use it.
	* src/task/libtask.hh (MULTIPLE_STRING_TASK_DECLARE): Avoid a
	string copy where useless.

2005-01-11  Roland Levillain  <roland@lrde.epita.fr>

	* configure.ac: Revert to Libtool 1.5 usage.

2005-01-11  Akim Demaille  <akim@epita.fr>

	* src/codegen/assembly.cc: Really add it (thanks to tla, and
	tla-svn-sync).
	* tests/good/if-and-bool.hir, tests/good/if-and-bool.lir: Regen.
	Hopefully once for all.

2005-01-11  Akim Demaille  <akim@epita.fr>

	Work against undeterministic evaluations.

	* src/tree/seq.hh, src/tree/seq.hxx (push_back): Return void,
	to prevent the temptation of writing undeterministic code.
	* src/translate/exp.cc, src/translate/translation.cc: When
	translation, make sure the temporaries and labels are always
	created in the same order by breaking large expressions into
	smaller ones, with a well defined sequence of evaluation.

2005-01-10  Akim Demaille  <akim@epita.fr>

	Minimize (some) includes.

	* src/assem/fragment.cc, src/assem/fragment.hh,
	* src/assem/fragments.cc, src/assem/fragments.hh, src/assem/fwd.hh,
	* src/assem/instr.hh, src/assem/layout.cc, src/codegen/Makefile.am,
	* src/codegen/assembly.hh, src/codegen/codegen.hh,
	* src/codegen/libcodegen.cc, src/codegen/libcodegen.hh,
	* src/codegen/tasks.cc, src/regalloc/regallocator.hh,
	* src/target/cpu.hh, src/temp/fwd.hh, src/codegen/ia32/codegen.cc,
	* src/codegen/ia32/gas-assembly.cc,
	* src/codegen/ia32/gas-assembly.hh, src/codegen/mips/codegen.cc,
	* src/codegen/mips/spim-assembly.cc,
	* src/codegen/mips/spim-assembly.hh: Include adjustments.

	* src/codegen/assembly.cc: New.

2005-01-10  Roland Levillain  <roland@lrde.epita.fr>

	* config/ast-fwd-gen: Catch up with src/ast/fwd.hh.

2005-01-07  Akim Demaille  <akim@epita.fr>

	Use ccache.

	* test/good/if-and-bool.hir, test/good/if-and-bool.lir: Regen.
	Apparently there is some nondeterminism here, as Darwin's G++ and
	Debian's produce different results.  This is to be fixed!
	* config.site (CC, CXX): Pass ccache, it provides a substantial
	boost!

2005-01-06  Akim Demaille  <akim@epita.fr>

	Fix a leak in "import" processing.
	Reported by Arnaud Fabre.

	* src/parse/parsetiger.yy (decs: importdec decs): Delete the
	spliced list.

	* src/parse/tiger-parser.hh: Formatting changes.

	Something is really fishy for static linking of dynamic
	libraries.   I thought it worked, but it may not actually.
	Anyway, at least have it work properly on Darwin.

	* configure.ac (DARWIN): New Automake conditional.
	* src/Makefile.am: Use it.

2005-01-03  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy (error): s/location/location_type/.

2005-01-03  Akim Demaille  <akim@epita.fr>

	* configure.ac: Automake 1.9.4.
	Reported by Alexandre Duret-Lutz.

2005-01-03  Akim Demaille  <akim@epita.fr>

	Fix test-ast which now depends on libtype.

	* src/tc.mk: Extend with the list of library locations and
	dependencies.
	* ast/Makefile.am, canon/Makefile.am, graph/Makefile.am,
	* liveness/Makefile.am, symbol/Makefile.am, temp/Makefile.am,
	* type/Makefile.am: Adjust to using these variables.

	* debian/changelog-deb: Rename as...
	* debian/changelog: this, since apparently the rest of the patch
	never made it.  And anyway CVS Automake now includes the needed
	changes to handle gracefully this case on Darwin.

2004-12-29  Akim Demaille  <akim@epita.fr>

	Use misc::xalloc instead of std::ios::xalloc.

	* src/temp/identifier.hh, src/temp/identifier.hcc (map_index_)
	(map_set): Remove, replaced by...
	(map): this misc::xalloc slot.
	Adjust callers.

	* src/assem/instr.hh, src/assem/instr.cc (Instr::debug_index)
	(Instr::debug_set): Remove, replaced by...
	(Instr::debug): this misc::xalloc slot.
	Adjust callers.
	* src/codegen/tasks.cc (instructions_display): Adjust.
	* src/liveness/libliveness.cc (liveness_dump): Adjust.
	* src/regalloc/regallocator.cc (RegisterAllocator::operator()): Adjust.

2004-12-28  Akim Demaille  <akim@epita.fr>

	Use objects instead of types to store xalloc'd slot.
	Requested by Thomas Claveirole.

	* src/misc/xalloc.hh, src/misc/xalloc.hxx: Add a few const where
	they belong.
	Fix visibility.
	(xalloc): No longer templated by a (useless) unique type: remove
	this second parameter.
	(set, get, swap): Rename these classes as...
	(set_type, get_type, swap_type): these.
	Also store the xalloc object they belong to.
	(set, get, swap): New member functions, sugar to instantiate the
	previous classes.
	(index_): New attribute.
	(index): Adjust.
	(value): Remove, replaced by...
	(operator()): this.
	Extend to return an lvalue.
	* src/misc/fwd.hh, src/misc/test-xalloc.cc: Adjust.

	Adjust misc::xalloc uses in ast.

	* src/ast/fwd.hh (escapes_display_type, escapes_tags_display_type)
	(sl_display_type, bindings_display_type, escapes_display)
	(escapes_tags_display, sl_display, bindings_display): Remove.
	* src/ast/libast.cc (escapes_display, escapes_tags_display)
	(sl_display, bindings_display): New const variables.
	* src/ast/libast.hh (escapes_display, escapes_tags_display)
	(sl_display, bindings_display): Declare them.
	* src/ast/print-visitor.cc, src/bind/tasks.cc,
	* src/callgraph/tasks.cc, src/escapes/tasks.cc: Adjust.

	Fix some test failures.
	* src/ast/test-ast.cc: Include ast/libast.hh which declares <<
	Ast.
	Use the Symbol factory.
	* src/type/test-type.cc: Use the Symbol factory.

2004-12-28  Akim Demaille  <akim@epita.fr>

	Use Swig 1.3.23 dependency tracking feature.

	* tcsh/generate-swig-mk ($dest): Pass -MD -MF to Swig.
	Include the corresponding dependency file.

2004-12-27  Akim Demaille  <akim@epita.fr>

	Fix (again) tcsh in Python.

	* configure.ac: Use LT_INIT instead of AC_DISABLE_STATIC and
	AC_PROG_LIBTOOL.
	Remove obsolete SHARED_LIBRARY_LDFLAGS.
	* src/Makefile.am (tc_LDFLAGS): Comment: there seems to be a bug
	in current Libtool that causes it to create an executable under
	Darwin that depends upon the shared libtc, but fails to find it
	(since it is not installed: without -static, libtool properly
	creates a wrapper).
	Move version.cc and modules.hh under the responsibility of
	libtc.la, not tc itself.
	* src/tc.cc: Don't include ast/libast.hh.

	* tcsh/python/test.py: Use "print" for fragments.

	* tcsh/python/Makefile.am (TESTS_ENVIRONMENT): Pass top_srcdir.
	(XFAIL_TESTS): Remove.

	Swig 1.3.24 no longer requires the swigpy trick.

	* tcsh/generate-swig-mk (LIBADD): Remove swigpy.la.
	No longer pass -noruntime.
	* tcsh/python/swigpy.i: Remove.
	* tcsh/python/Makefile.am (libtcswigpy.la): Remove all the material
	related to it.

2004-12-23  Arnaud Fabre  <fabre_a@epita.fr>

	Remove handling of user_dtor_code, now useless.

	* config/ast-nodes-gen (print_ctor_dtor): No longer use
	user_dtor_code.
	* config/ast.py (Node.__init__): Remove initialisation of
	user_dtor_code, emit a warning if it is used.

2004-12-23  Arnaud Fabre  <fabre_a@epita.fr>

	Fix a few leaks in TC-01234.

	Correct leaks of Type by introducing TypeConstructor class.

	* src/ast/ast.yml (TypeConstructor): New class.
	(FunctionDec, TypeDec, Ty): Add TypeConstructor to super classes.
	(FunctionDec, TypeDec): Remove user_dtor_code and inline impl
	prologue, now useless.
	* src/type/type-visitor.cc (visitDecHeader<ast::FunctionDec>)
	(visitDecHeader<ast::TypeDec>,operator() (ast::RecordTy& e))
	(operator() (ast::ArrayTy& e)): Set created_type.
	* src/ast/functiondec.hh, src/ast/ty.cc, src/ast/typedec.cc,
	* src/ast/ty.hh, src/ast/functiondec.cc, src/ast/fwd.hh: Regen.
	* src/ast/typeconstructor.hh, src/ast/typeconstructor.cc,
	* src/ast/typeconstructor.hxx: New generated files.

	Other leaks.

	* src/parse/tiger-parser.cc (parse_import): Return 0 instead of
	exiting in case of error.
	* src/parse/parsetiger.yy (importdec): Free filename string.
	* tests/tc-check.in (load_tests): Free ast even in case of scan
	or parse error.
	(run): Pass --leak-resolution=high to Valgrind so that it can do
	correctory its job.

	Update suppression rules for Valgrind.

	* tests/xalloc-leak.valgrind: Suppress leaks for memcheck tool.

2004-12-22  Akim Demaille  <akim@epita.fr>

	Have tcsh compile on Darwin: libtcswigpy must not be a module.

	* tcsh/generate-swig-mk (AM_LDFLAGS): Rename as...
	(MODULELDFLAGS): this.
	Use it for each module LDFLAGS.
	Unfortunately with Automake 1.9.4, foo_la_LDFLAGS does not
	override AM_LDFLAGS: it cumulates.

2004-12-22  Akim Demaille  <akim@epita.fr>

	* src/parse/tiger_parse.i: Adjust to position.
	Include Symbols.
	* src/parse/tiger-parser.hh (parse/location.hh): Don't include it.
	* src/parse/parsetiger.yy (symbol.hh): Include it.
	(filename_type): Set to Symbol.
	Adjust the rest of the code.
	* src/parse/parse.hh (symbol.hh): Include it.

2004-12-22  Gilles Walbrou  <walbro_g@epita.fr>

	Correct the static link escaping computation.

	* src/callgraph/libcallgraph.cc (escapes_sl_compute): Correct and
	add a few comments.

2004-12-21  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen (print_includes): More header prologues
	handling here.

2004-12-21  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen: Adjust to allow the creation of files, not
	only updates.

2004-12-20  Akim Demaille  <akim@epita.fr>

	Catch up with CVS Bison.

	* src/parse/libparse.cc, src/parse/parse.hh,
	* src/parse/parsetiger.yy, src/parse/scantiger.ll,
	* src/parse/tiger-parser.cc, src/parse/tiger-parser.hh,
	* src/parse/tiger_parse.i: Adjust to s/Parser/parser/,
	s/Location/location/, s/Position/position/.

2004-12-19  Arnaud Fabre  <fabre_a@epita.fr>

	Fix some memory leaks.

	FunctionDec formals were never freed.

	* src/type/types.hh, src/type/types.cc, src/type/types.hxx
	(Function::formals_): Use a pointer instead of a reference.
	(Function::~Function): New. Free formals_.
	(Function::Function): Adjust. Take a pointer to a Record
	instead of a reference.
	(Function::formals_get): Adjust.
	* src/type/type-visitor.cc
	(visitDecHeader<ast::FunctionDec>): Adjust.

	Free types at their definition location.

	* config/ast-nodes-gen (print_includes): Add support for a new
	placeholder, impl prologue.
	(print_ctor_dtor): Add support for a new property, user_dtor_code.
	* config/ast.py (Node.__init__): Add support for user_dtor_code.
	* src/ast/ast.yml (FunctionDec user_dtor_code)
	(TypeDec user_dtor_code): New properties. Free declared type.
	(FunctionDec impl prologue, TypeDec impl prologue): New properties.
	Include necessary headers.
	* src/ast/functiondec.cc, src/ast/typedec.cc: Regen.

2004-12-17  Akim Demaille  <akim@epita.fr>

	Please Doxygen.

	* src/bind/bind-visitor.cc: Record the Doxygen bug.
	* src/ast/import-visitor.hh: Remove for real!
	* src/parse/libparse.hh: Doc changes.

	CVS Libtool is fixed to handle multiple files with the same name, in
	different directories.

	* src/codegen/mips/mips-codegen.cc: Rename as...
	* src/codegen/mips/codegen.cc: this.
	* src/codegen/ia32/ia32-codegen.cc: Rename as...
	* src/codegen/ia32/codegen.cc: this.
	* src/codegen/mips/mips-runtime.cc: Rename as...
	* src/codegen/mips/runtime.cc: this.
	* src/codegen/ia32/ia32-runtime.cc: Rename as...
	* src/codegen/ia32/runtime.cc: this.
	* src/codegen/ia32/Makefile.am, src/codegen/mips/Makefile.am:
	Adjust.

2004-12-17  Akim Demaille  <akim@epita.fr>

	Catch up with Bison 1.875f.

	* src/parse/parsetiger.yy (error_): Rename as...
	(error): this, and adjust prototype.
	* src/parse/tiger-parser.cc (parse_): Adjust.

2004-12-17  Akim Demaille  <akim@epita.fr>

	* src/type/types.hh: Documentation changes.
	* src/parse/tiger_parse.i (Location::__str__, Position::__str__):
	New.
	* src/ast/tiger_ast.i: Stylistic change.

2004-12-17  Akim Demaille  <akim@epita.fr>

	* doc/Doxyfile.in (EXCLUDE_SYMLINKS): Set to "yes" to avoid
	infinite loops _src -> _build -> _src etc. (for those using
	symbuild).

2004-12-15  Akim Demaille  <akim@epita.fr>

	* tcsh/tcsh.test, tcsh/ltihooks.py, tcsh/ti.py, tcsh/test.py,
	* tcsh/Makefile.am, tcsh/run.in, tcsh/swigpy.i, tcsh/tc.py: Move
	to...
	* tcsh/python/tcsh.test, tcsh/python/ltihooks.py,
	* tcsh/python/ti.py, tcsh/python/test.py, tcsh/python/Makefile.am,
	* tcsh/python/run.in, tcsh/python/swigpy.i, tcsh/python/tc.py: here.

	* configure.ac, bootstrap, config/stagize: Adjust.
	* tcsh/Makefile.am: New.

2004-12-14  Arnaud Fabre  <fabre_a@epita.fr>

	Fix segv when prelude file cannot be parsed.

	* src/parse/libparse.cc (parse): Check the result of the parsing of
	prelude.tih.
	* src/misc/filelibrary.hh (find_in_search_path): Correct a comment.

2004-12-14  Arnaud Fabre  <fabre_a@epita.fr>

	Change prelude.tig extension to .tih.

	* data/prelude.tig: Rename as ...
	* data/prelude.tih: ... this.
	* data/Makefile.am (dist_pkgdata_DATA): Adjust.
	* src/parse/tasks.hh (STRING_TASK_DECLARE ("prelude")): Default to
	prelude.tih instead of prelude.tig.
	* tcsh/ti.py, tcsh/test.py: Include prelude.tih.

2004-12-14  Akim Demaille  <akim@epita.fr>

	Provide a Tiger Interpreter.
	This could be a service from tcsh.py.

	* src/ast/libast.cc, src/ast/libast.hh: Comment changes.
	* src/tree/tiger_tree.i: Include more files.
	(Fragments:__str__): New.
	* src/translate/libtranslate.cc, src/translate/libtranslate.hh
	(print): Remove, now useless.
	Remove useless includes.
	*  src/translate/translate-visitor.hh: Fix includes.

	* tcsh/ti.py: New.
	* tcsh/Makefile.am, tcsh/tcsh.test: Adjust.

2004-12-13  Arnaud Fabre  <fabre_a@epita.fr>

	Fix regression of parsing when tc is used for checking bindings.

	* src/parse/scantiger.ll (bind_addr): New abbreviation. Match a
	binding	address comment.
	(id): Use bind_addr.
	(break, while, for): Allow a binding address info after keyword.
	* src/ast/print-visitor.cc
	(PrintVisitor::operator() (const WhileExp&))
	(PrintVisitor::operator() (const ForExp&))
	(PrintVisitor::operator() (const BreakExp&)): Revert a change
	incorrectly commited in previous patch.

2004-12-13  Arnaud Fabre  <fabre_a@epita.fr>

	Create a real factory of Symbol.

	* src/symbol/symbol.hh (Symbol (const std::string& s)): Change
	visibility to private.
	(create (const std::string& s)): New static method, implement
	the Factory design pattern.
	(map_size, size_type, instance): Rename as ...
	(string_map_size, string_size_type, string_set_instance): ... these.
	(symbol_set_type, symbol_size_type): New typedefs.
	(symbol_set_instance): New method. Return unique set of	Symbol.
	(symbol_map_size): New method.
	* src/symbol/symbol.cc (symbol_set_instance)
	(symbol_map_size, create): New methods.
	(instance, map_size): Rename as ...
	(string_set_instance, string_map_size): ... this.

	Correct uses of Symbol.

	* src/ast/ast.yml (Dec, FunctionDec, FieldInit, CallExp, FieldVar)
	(SimpleVar, Field, NameTy): Change type of Symbol attributes to
	const Symbol. Change access of these attributes to rW.
	* src/parse/parsetiger.yy (%union): Add const to Symbol.
	(%destructor): No longer free Symbol.
	* src/type/type-visitor.cc, src/translate/translate-visitor.cc,
	* src/temp/factory.hcc, src/parse/scantiger.ll,
	* src/parse/parsetiger.yy, src/bind/bind-visitor.cc,
	* src/ast/print-visitor.cc, src/symbol/test-symbol.cc,
	* src/overload/overfun-type-visitor.cc,
	* src/overload/overfun-type-visitor.hh,
	* src/cppgen/cppgen-visitor.cc: Adjust by changing type Symbol to
	const Symbol and using factory method Symbol::create instead of
	Symbol constructor.
	* src/ast/namety.cc, src/ast/functiondec.hh, src/ast/simplevar.hh,
	* src/ast/fieldinit.hxx, src/ast/dec.cc, src/ast/typedec.cc,
	* src/ast/field.hh, src/ast/fieldinit.cc, src/ast/namety.hh,
	* src/ast/namety.hxx, src/ast/simplevar.hxx, src/ast/callexp.cc,
	* src/ast/fieldvar.cc, src/ast/vardec.cc, src/ast/dec.hh,
	* src/ast/typedec.hh, src/ast/fieldvar.hxx, src/ast/fieldinit.hh,
	* src/ast/functiondec.cc, src/ast/simplevar.cc, src/ast/callexp.hh,
	* src/ast/field.hxx, src/ast/fieldvar.hh, src/ast/vardec.hh,
	* src/ast/field.cc: Regen.

2004-12-13  Akim Demaille  <akim@epita.fr>

	Don't depend on a static list of modules.

	* tcsh/generate-swig-mk (tcdir): Factor some variables.
	Do not depend on a static list of modules: find them.
	* bootstrap, config/stagize, tcsh/Makefile.am: Adjust.

2004-12-12  Arnaud Fabre  <fabre_a@epita.fr>

	Fix regression of tests/bind/break-in-while-cond.tig.

	* src/bind/bind-visitor.cc
	(BindVisitor::operator() (ast::WhileExp& e)): Correct handling of
	loop_ attribut.

2004-12-10  Akim Demaille  <akim@epita.fr>

	More tests.

	* tests/good/escaping-record.tig: New.
	From Arnaud Fabre.

2004-12-07  Akim Demaille  <akim@epita.fr>

	Stylistic changes.

	* src/misc/filelibrary.hh, src/misc/filelibrary.cc (push_cwd):
	New, to factor the ctors.
	* src/bind/bind-visitor.hh, src/bind/bind-visitor.cc: Provide
	error handling functions to students.

2004-12-06  Akim Demaille  <akim@epita.fr>

	* src/ast/ast.yml (IntExp, Escapable, OpExp): Their scalar
	attributes should not have access = rW, since that introduces
	overloading that Swig doesn't like.
	And anyway it was wrong.  The default should be rW for pointers
	and rw for scalars.
	* config/ast-fwd-gen: Remove the declaration of operator<<, it
	confuses Swig.
	* src/ast/test-ast.cc: Adjust the include files.

2004-12-06  Akim Demaille  <akim@epita.fr>

	Coding style.

	* assem/fragment.hh, assem/fragment.hxx, ast/test-ast.cc,
	* callgraph/tasks.cc, canon/tasks.cc, codegen/mips/test-rw_prg.cc,
	* codegen/tasks.cc, cppgen/tasks.cc, liveness/tasks.cc,
	* liveness/test-flowgraph.cc, misc/fail.cc,
	* misc/fail.hh, misc/test-timer.cc, overload/tasks.cc,
	* parse/location.hh, parse/parsetiger.cc, parse/tasks.cc,
	* regalloc/tasks.cc, regalloc/test-regalloc.cc, symbol/table.hh,
	* symbol/table.hxx, symbol/test-symbol.cc, target/tasks.cc,
	* task/boolean-task.cc, task/boolean-task.hh, task/function-task.cc,
	* task/function-task.hh, task/int-task.cc, task/int-task.hh,
	* task/libtask.hh, task/multiple-string-task.cc,
	* task/multiple-string-task.hh, task/string-task.cc,
	* task/string-task.hh, task/task-register.cc, task/task-register.hh,
	* task/task.cc, task/task.hh, task/task.hxx, task/tasks.cc,
	* temp/tasks.cc, temp/test-temp.cc, translate/tasks.cc,
	* type/tasks.cc, type/test-type.cc, type/types.cc, type/types.hh,
	* type/types.hxx: s/(void)/()/.

2004-12-06  Akim Demaille  <akim@epita.fr>

	Export "ostream << Ast" into the Python world.

	* src/anydecs.hh, src/anydecs.hxx (AnyDecs): Add a second ctor,
	because Swig is confused with the optional argument syntax.
	* src/ast/libast.hh: Don't include all.hh, fwd.hh suffices.
	(print): Remove.
	* src/ast/libast.hxx: Remove.
	* src/ast/libast.cc, src/ast/Makefile.am: Adjust.
	* src/ast/print-visitor.hh: Formatting changes.
	* src/ast/tiger_ast.i (Ast): Cover the whole module, not just
	bits.
	(ast::Ast): Extend it with a __str__ method.
	* tcsh/test.py: "print ast" instead of calling the dump function.

2004-12-06  Akim Demaille  <akim@epita.fr>

	Let the BV check that breaks are in loops instead of the TyV.

	* ast/ast.yml (BreakExp::def): New.
	* ast/breakexp.hh, ast/breakexp.hxx, ast/breakexp.cc: Regen.
	* ast/print-visitor.cc: Print loop addresses, and breaks' loop.
	* bind/bind-visitor.hh, bind/bind-visitor.cc (loop_): New.
	(operator() (WhileExp), operator() (BreakExp)): New.
	Maintain it.
	(operator() (ForExp), operator() (LetExp)): Maintain it too.
	* type/type-visitor.hh, type/type-visitor.cc (in_loop_): Remove.
	* translate/translate-visitor.hh, translate/translate-visitor.cc
	(loop_end_label_): Be a map of Labels instead of a simple Label.
	Remove its now useless save/restore code.
	Adjust uses.

	* tests/type/break-alone.tig, tests/type/break-in-for-high.tig,
	* tests/type/break-in-for-init.tig, tests/type/break-in-for.tig,
	* tests/type/break-in-function-in-while.tig,
	* tests/type/break-in-vardec-in-while.tig,
	* tests/type/break-in-while-cond.tig, tests/type/break-in-while.tig,
	* tests/type/break-outside-loop.tig: Rename as...
	* tests/bind/break-alone.tig, tests/bind/break-in-for-high.tig,
	* tests/bind/break-in-for-init.tig, tests/bind/break-in-for.tig,
	* tests/bind/break-in-function-in-while.tig,
	* tests/bind/break-in-vardec-in-while.tig,
	* tests/bind/break-in-while-cond.tig, tests/bind/break-in-while.tig,
	* tests/bind/break-outside-loop.tig: ... this.

2004-12-06  Akim Demaille  <akim@epita.fr>

	Get rid of libcommon, which contents is in libtc now.

	* tcsh/Makefile.am (libcommon.la): Remove, useless.

2004-12-06  Akim Demaille  <akim@epita.fr>

	Remove tc-shared.mk, no longer needed.

	* tcsh/generate-tc-shared-mk: Remove.
	* bootstrap, tcsh/Makefile.am: Adjust.

2004-12-06  Akim Demaille  <akim@epita.fr>

	Introduce TigerParser, the parsing driver.

	* src/parse/parse.hh (parsing_context, parse_program)
	(parse_import): Move to...
	* src/parse/tiger-parser.cc, src/parse/tiger-parser.hh
	(TigerParser): ...this new class.
	* src/parse/libparse.cc, src/parse/Makefile.am: Adjust.
	* src/parse/parsetiger.yy: Adjust.
	(parse_, parse_program, parse_prelude, parse_import): Move to...
	* src/parse/tiger-parser.cc: here, as member functions.

2004-12-05  Akim Demaille  <akim@epita.fr>

	Fix tcsh.

	* tcsh/run.in: Don't forget to pass arguments to python.
	* configure.ac (AC_DISABLE_STATIC): To spare cycles.
	* src/tiger_common.i (get_cout, get_cerr): New, Cout and Cerr
	don't seem to work.
	* tcsh/test.py: Various adjustments to have it work.

2004-12-04  Akim Demaille  <akim@epita.fr>

	More tcsh fixes.

	* src/Makefile.am (noinst_LTLIBRARIES): Make libtc a...
	(lib_LTLIBRARIES): so that a dynamic library is built, so that
	tcsh can use it instead of linking each tcsh module against a
	static libtc.  In the latter case linking is extremely long, and
	bloats the code...
	(tc_LDFLAGS): Link tc statically.
	* src/callgraph/tiger_callgraph.i: Typo.
	* src/ast/Makefile.am: Formatting changes.
	* tcsh/generate-swig-mk (MODULES): Don't forget callgraph, that's
	why tcsh was failing!
	Something must be done to factor the handling of modules.
	* tcsh/generate-tc-shared-mk: Likewise.
	* tcsh/test.py: Adjust the call to escapes_find to the current
	interface.

2004-12-04  Akim Demaille  <akim@epita.fr>

	Stylistic changes.

	* src/escapes/libescapes.hh, src/escapes/libescapes.cc
	(escapes_find): Rename as...
	(escapes_compute): this.
	* src/escapes/tasks.cc: s/(void)/()/.

2004-12-02  Akim Demaille  <akim@epita.fr>

	More tcsh fixes.

	* src/Makefile.am (dist_tc_SOURCES): Move modules.cc to...
	(libtc_la_SOURCES): here, since some task variables are declared
	but mot defined.
	This should be addressed latter.

	* tcsh/generate-swig-mk (MAINTAINERCLEANFILES): Replace with...
	(CLEANFILES): this, since we no longer ship these files.
	* tcsh/Makefile.am (MAINTAINERCLEANFILES): Replace its
	initialization with...
	(CLEANFILES): this one.
	(AM_SWIGFAGS): Fix a -I.

2004-11-29  Akim Demaille  <akim@epita.fr>

	Continuing fixing tcsh.

	* tcsh/run.in: Upgrade from master copy: Alexandre Duret-Lutz
	fixed the OSX issues.
	* src/temp/map.hcc: Formatting changes.
	* tcsh/Makefile.am (AM_SWIGFAGS): Rename as...
	(AM_SWIGFLAGS): this.
	Adjust all uses which, incredibly enough, did use the same
	spelling!
	No longer include -noruntime, since when given -noruntime
	-runtime, swig honors the latter...
	* tcsh/generate-swig-mk (LIBADD): Add libtc.la but remove
	libcommon which no longer seems needed.
	* src/Makefile.am (dist_tc_SOURCES): Move version.hh, common.hh,
	and common.cc to...
	(dist_libtc_la_SOURCES): here.
	(nodist_tc_SOURCES): Move version.cc to...
	(libtc_la_SOURCES): here.
	Adjust dependencies.
	(libtc_la_LIBADD): Sort.

	Fix link failures.

	* src/temp/temp.cc: Require the instantiation of the operator<< on
	Temp's.  I have no idea why it worked before.  Maybe because we
	never used it directly, but only via temp_set or temp_list which
	have it inlined.  tcsh did not and failed to link properly.
	* src/temp/label.cc: Likewise.

2004-11-28  Akim Demaille  <akim@epita.fr>

	* config/pypath.m4: Really add it.

2004-11-28  Akim Demaille  <akim@epita.fr>

	Use Libtool, and have tcsh work on Mac OSX (still failing).


	Use Libtool, and fix the search for Python.h.

	* config/pypath.m4: New, stolen from Spot by Alexandre Duret-Lutz.
	* configure.ac: Use it.
	(AC_PROG_RANLIB): Remove.
	(AC_PROG_LIBTOOL): Use it.
	(PYTHON_CPPFLAGS): Remove.
	* config/swig.m4: Formatting changes.
	(_AC_CHECK_SWIG13): New, to improve readability.

	Build Libtool libraries.

	* src/callgraph/Makefile.am, argp/Makefile.am,
	* src/canon/Makefile.am, src/Makefile.am, src/assem/Makefile.am,
	* src/ast/Makefile.am, src/codegen/Makefile.am,
	* src/codegen/ia32/Makefile.am, src/codegen/mips/Makefile.am,
	* src/cppgen/Makefile.am, src/escapes/Makefile.am,
	* src/frame/Makefile.am, src/graph/Makefile.am,
	* src/liveness/Makefile.am, src/misc/Makefile.am,
	* src/overload/Makefile.am, src/parse/Makefile.am,
	* src/regalloc/Makefile.am, src/symbol/Makefile.am,
	* src/target/Makefile.am, src/task/Makefile.am,
	* src/temp/Makefile.am, src/translate/Makefile.am,
	* src/tree/Makefile.am, src/type/Makefile.am, tcsh/Makefile.am,
	* src/bind/Makefile.am: Rename the *_LIBRARIES as *_LTLIBRARIES.
	Change their suffix from .a to .la.
	* tcsh/generate-swig-mk: Likewise.
	* src/Makefile.am (libtc): New target.
	Will simplify the build of tc.
	* src/codegen/Makefile.am (libcodegen_la_LIBADD): We finally can
	include libraries here, instead of object files.

	For some reason yet to track down, because the following files
	have the same name, libtc does not include everything it should.

	* src/codegen/mips/codegen.cc: Rename as...
	* src/codegen/mips/mips-codegen.cc: this.
	* src/codegen/ia32/codegen.cc: Rename as...
	* src/codegen/ia32/ia32-codegen.cc: this.
	* src/codegen/mips/runtime.cc: Rename as...
	* src/codegen/mips/mips-runtime.cc: this.
	* src/codegen/ia32/runtime.cc: Rename as...
	* src/codegen/ia32/ia32-runtime.cc: this.
	* src/codegen/ia32/Makefile.am, src/codegen/mips/Makefile.am:
	Adjust.

	Formatting changes.

	* src/codegen/ia32/gas-assembly.hh,
	* src/codegen/mips/spim-assembly.hh:
	Coding style changes.

	Fix tcsh.

	* tcsh/run.in (PYTHONPATH): Include srcdir for ltihooks.
	* tcsh/ltihooks.py: New, stolen from Spot too.
	* tcsh/tc.py: Import it.
	* tcsh/generate-swig-mk: Pass -module to LDFLAGS to pacify lib*
	requirements.
	* tcsh/Makefile.am: Adjust.
	(tc-shared.mk): Should no longer be needed: the .la are there, and
	libtc includes them all.
	Comment its inclusion.
	Eventually, remove it.

2004-11-29  Arnaud Fabre  <fabre_a@epita.fr>

	Workaround a (supposed) bug with certain versions of gcc.

	* src/tree/fragments.cc
	(operator<<(std::ostream& ostr, const Fragments& fragments)): Do not
	use shortcut to misc::separator(C, S).

2004-11-27  Arnaud Fabre  <fabre_a@epita.fr>

	Fix path resolution of import directive.

	* src/parse/parsetiger.yy (parse_import): Pop the working directory
	once the import is done.

2004-11-27  Arnaud Fabre  <fabre_a@epita.fr>

	Correct a small bug in ast-nodes-gen.

	* config/ast-nodes-gen (print_ctor_dtor): Remove erroneous printing of
	hidden attributes in shipped constructor.

2004-11-27  Arnaud Fabre  <fabre_a@epita.fr>

	Modify definition of id for checking correctness of bindings.
	Check bindings more thoroughly in tc-check.

	* src/parse/scantiger.ll (id): Include the binding info in id.
	* tests/tc-check.in (bindings_check_one, binding_check): New
	functions.
	(load_tests): Use binding_check for checking TC-3.

2004-11-26  Gilles Walbrou  <walbro_g@epita.fr>

	Protect generated files.

	* config/ast-fwd-gen, config/ast-nodes-gen,
	* config/ast-visitor-gen: Add a chmod to prevent generated files
	modifications. Fix a generated file modification.
	* src/ast/Makefile.am: Add some "rm -rf" to remove protected
	generated files before modifying them.

2004-11-24  Akim Demaille  <akim@epita.fr>

	Store the requestor's location in the parsing context.

	* src/parse/parse.hh (map, parse/location.hh): Include.
	(parsing_context::open_files): New.
	(parsing_context::parsing_context): Remove.
	* src/parse/parsetiger.yy (open_files): Remove.
	Adjust all users.
	(%initial-action): Reset pc's results.
	* src/parse/libparse.cc (parse): Adjust.

2004-11-23  Akim Demaille  <akim@epita.fr>

	Introduce a parsing context.

	* src/parse/parse.hh (parsing_context): New.
	(parse_program, parse_import): Use it.
	(file_library): Remove, no longer needed.
	* src/parse/parsetiger.yy: Use a single parsing context instead of
	zillions of parse-param.
	(parse_program, parse_import): Use the parsing context.
	(parse_): Adjust.
	* src/parse/libparse.cc: Adjust.

2004-11-23  Akim Demaille  <akim@epita.fr>

	Remove "using namespace" and make parse/parse.hh more complete.

	* src/parse/parse.hh (parse/parsetiger.hh): Don't include it:
	a simple fwd decl of YYSTYPE suffices *now* that Bison no
	longer typedef's it.
	Also fwd decl. yy::Location.
	Adjust their uses.
	* src/parse/parsetiger.yy (ast/location.hh, parse/libparse.hh):
	Don't include them.
	Do not "using" the std namespace.
	Adjust all uses.
	(parse/parse.hh): Include it early.
	Remove decls that are therefore no longer needed.
	* src/parse/scantiger.ll (stdexcept): Remove inclusion, unused.
	(parse/parsetiger.hh): Include.
	Adjust Location's location in yy.
	* src/parse/libparse.cc: Use explicit namespaces.
	(parse/parsetiger.hh): Don't include it, there is too much stuff
	in it. Rather, include what is needed.

	* src/ast/libast.hh (ast): Formatting changes.

2004-11-23  Akim Demaille  <akim@epita.fr>

	* config/ast-fwd-gen: White space changes.

2004-11-22  Akim Demaille  <akim@epita.fr>

	* config/ast-fwd-gen, config/ast-visitor-gen: Kill uses of
	ImportDec in the real sources, not the generated sources.

2004-11-21  Akim Demaille  <akim@epita.fr>

	Finish the ImportDec removal.

	* src/cppgen/cppgen-visitor.hh, src/cppgen/cppgen-visitor.cc:
	ImportDec and ImportDecs no longer exist.
	* src/parse/parsetiger.yy (parse_program): It is not static,
	but...
	(parse_prelude): this one is.

2004-11-21  Akim Demaille  <akim@epita.fr>

	Remove ImportDec.

	* src/ast/ast.yml (ImportDec): Remove.
	* src/ast/importdec.cc, src/ast/importdec.hh,
	* src/ast/importdec.hxx, src/parse/import-visitor.cc: Remove.
	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx,
	* src/ast/fwd.hh, src/ast/print-visitor.cc,
	* src/ast/print-visitor.hh, src/ast/visitor.hh, src/ast/alldec.hh,
	* src/ast/anydecs.hh: Adjust.

2004-11-21  Akim Demaille  <akim@epita.fr>

	Parse the imports when import directives are found.

	* src/parse/parsetiger.yy (open_files, file_library)
	(parse_import): New.
	(importdecs): Remove.
	(importdec): Now immediately parse the import file, and return
	its contents.
	* src/parse/libparse.cc (parse): Parse the prelude and glue it
	in the AST here.
	Don't launch the ImportVisitor.
	* src/parse/parse.hh (file_library, parse_import): Declare.
	(parse_prelude): Don't declare.
	* src/parse/Makefile.am (libparse_a_SOURCES): Remove import-visitor.

2004-11-21  Akim Demaille  <akim@epita.fr>

	Use Flex features to open/close files in a "reentrant" way.

	* src/parse/parsetiger.yy (parse_): Don't assert the result to
	preserve error recovery.
	* src/parse/scantiger.ll (file_type): Remove.
	(yylex_destroy): Move to the :: namespace, where it belongs,
	as the other flex routines.
	(initial_token, states): New.
	(scan_open): Use them.
	Instead of yyrestart, use Flex's yy_*_buffer functions.
	(scan_close): Likewise.
	(yylex): Adjust to initial_token.

2004-11-21  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy (yyresult, yydecs): Now pass them as
	%parse-param.
	Fix type coding style.
	(parse_, parse_program, parse_prelude): New.
	* src/parse/import-visitor.cc (parse_prelude): Let this member
	function use the previous function.
	* src/parse/libparse.hh (FileType): Move to...
	* src/parse/parse.hh: here.
	(parse_program, parse_prelude): Declare.
	* src/parse/libparse.cc (parse.hh): Include.
	(parse): Use parse_program.

2004-11-18  Akim Demaille  <akim@epita.fr>

	Make sure lir and hir files are recreated.

	* tests/tests.mk: Declare lir and hir precious.
	* tests/README: Update.
	* tests/good/if-and-bool.hir, tests/good/if-and-bool.lir: Regen.
	I don't know why they changed, something is fishy.

2004-11-18  Akim Demaille  <akim@epita.fr>

	New target, recheck.

	* tests/tests.mk (recheck): New.
	* tests/Makefile.am (recheck, recheck-recursive, recheck-am): New.
	* Makefile.am (recheck): New.
	(doc, html): Use AM_MAKEFLAGS, not MAKEFLAGS.
	* tests/README: Complete.

	* tcsh/Makefile.am (libtcswigpy_so_SOURCES): Rename as...
	(nodist_libtcswigpy_so_SOURCES): this.

2004-11-17  Akim Demaille  <akim@epita.fr>

	Catch up with CVS Bison.

	* src/parse/scantiger.ll (current_file): Remove.
	(YY_USER_INIT): Remove: now the initialization is performed by the
	parser.
	* src/parse/parsetiger.yy (%parse-param): Use it to pass the
	current input filename.
	(%initial-action): Use it to initialize yylloc's filename.
	(%printer): Don't output the location: Bison's parsers already do
	it.
	(Parser::print_): Remove, no longer defined in the current CVS Bison.
	* src/parse/libparse.cc: Adjust the call to the Parser ctor.

2004-11-16  Arnaud Fabre  <fabre_a@epita.fr>

	* tests/tc-check.in (load_tests): Correct title of binding tests.
	Check tests contained by escapes/ and type/.

2004-11-16  Akim Demaille  <akim@epita.fr>

	* src/bind/bind-visitor.hh, src/bind/bind-visitor.cc (var_put)
	(var_get, type_put, type_get, fun_put, fun_get): Remove, inline in
	their (unique) callers.

2004-11-15  Arnaud Fabre  <fabre_a@epita.fr>

	Make tc-check launch binding tests.

	* tests/tc-check.in (load_tests): Declare tests for bindings. Rename
	tests of T3 to T104.
	(stages_extract): Add T104 to list of availables tests.

2004-11-14  Akim Demaille  <akim@epita.fr>

	Some PrintVisitor factoring.

	* src/ast/ast.yml: Comment changes.
	* src/ast/print-visitor.cc (misc/escape.hh): Include.
	(operator<< (Escapable), operator<< (Dec)): New.
	Use it to factor some code.
	One would like to factor the def_get part, but that's more tricky,
	and therefore probably isn't worth the change.
	Nevertheless, in that case, it would be tempting to introduce a
	UseExp virtual class in the Ast, sort of dual of Dec, that would
	include both the name and def parts.
	* src/ast/print-visitor.hh (misc/escape.hh): Don't include.
	Comment changes.
	* src/assem/fwd.hh: Remove a dead fixme.


2004-11-12  Akim Demaille  <akim@epita.fr>

	misc::pair, a std::pair with support for operator<<.

	* src/misc/pair.hh, src/misc/pair.hxx: New.
	* src/ast/print-visitor.cc: Use it.
	* src/misc/test-separator.cc: Test the use of misc::pair.

2004-11-11  Akim Demaille  <akim@epita.fr>

	Sugar to print separated lists.

	* src/misc/containers.hh, src/misc/containers.hxx
	(print_with_separator): Remove, replaced by...
	* src/misc/separator.hh, src/misc/separator.hxx: New.
	* src/ast/print-visitor.cc, src/translate/access.cc,
	* src/tree/fragments.cc, src/tree/trees.cc: Use it.
	* src/misc/test-separator.cc: New.
	* src/misc/Makefile.am: Adjust.
	Sort.
	* src/misc/dereh.hh (postr_): Rename as...
	(ostr_): this, for consistency.
	(Deref::operator() (ref<T>)): New.
	Formatting changes.
	* src/misc/deref.hxx: Adjust.
	* src/misc/ref.hh: Formatting changes.

2004-11-11  Akim Demaille  <akim@epita.fr>

	Fix tests Makefile machinery.

	* configure.ac: Bump to 0.80a.
	* tests/mk-Makefile-am, tests/tests.mk: Deep revamping.
	See the following file to know more.
	* tests/README: New.

2004-11-10  Akim Demaille  <akim@epita.fr>

	Version 0.80.
	For 2005b-tc-4.0.

	* src/type/README: Update.
	* src/type/types.cc, src/type/types.hxx: Formatting changes.
	* src/type/type-visitor.cc (operator() (SimpleVar)): Simplify.
	* src/type/types.hxx (operator<< (Field)): Fix typo.

2004-11-10  Akim Demaille  <akim@epita.fr>

	* src/type/types.hh, src/type/types.hxx (Type::operator!=): New.
	* src/type/type-visitor.h, src/type/type-visitor.cc (check_type)
	(check_types): Return void, not bool.
	Simplify using type ().
	Use operator!= for Types.
	* src/type/type-visitor.cc (type (fields_type)): Simplify using
	type ().
	(operator() (SubscriptVar&), operator() (WhileExp&)),
	(operator() (ForExp&)): Just by adjusting the control flow and the
	place where the output type is set, make it useless to "return",
	hence, make it useless to use check_type's return value.

2004-11-10  Akim Demaille  <akim@epita.fr>

	Finally revert to not shipping Swig output files.
	See NEWS for more details.

	* tcsh/Makefile.am (AM_SWIGFLAGS): New.
	(python_PYTHON): Rename as...
	(nodist_python_PYTHON): this.
	Remove `$(srcdir)/' for Swig output files.
	* tcsh/generate-swig-mk: Remove `$(srcdir)/' for Swig output
	files.
	(python_PYTHON): Rename as...
	(nodist_python_PYTHON): this.
	($dest: $src): Use AM_SWIGFLAGS.

2004-11-09  Akim Demaille  <akim@epita.fr>

	* src/types/types.hh, src/types/types.hxx, src/types/types.cc
	(Named::protect, Type::is_singleton): Remove these hacks.
	The right model to reclaim memory belongs to the AST, when
	freeing TypeDecs and FunctionDecs.
	Currently, ast-nodes-gen probably don't support what's needed, so
	this patch introduces additional leaks, but provides a better
	code.

2004-11-07  Gilles Walbrou  <walbro_g@epita.fr>

	* src/callgraph/libcall-graph.cc, src/callgraph/libcall-graph.hh,
	* src/callgraph/tiger_call-graph.i: Rename as...
	* src/callgraph/libcallgraph.cc, src/callgraph/libcallgraph.hh,
	* src/callgraph/tiger_callgraph.i: this.
	* src/callgraph/tasks.cc, src/callgraph/Makefile.am,
	* src/Makefile.am: Adjust.

2004-11-05  Akim Demaille  <akim@epita.fr>

	* src/escapes/escapes-visitor.hh, src/escapes/escapes-visitor.cc
	(EscapesVisitor, ~EscapesVisitor): Remove, to emphasize how easy
	this exercise is.

2004-11-05  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.cc (operator() (VarDec)): The type
	provided must be taken into account, at least if the variable
	where initialized to nil.
	And btw: do check that in that case the type is specified.

2004-11-05  Akim Demaille  <akim@epita.fr>

	* src/type/types.hh, src/type/types.cc (Type::assignable_to): Remove.
	(Type::comparable_to): Rename as...
	(Type::compatible_with): this.
	Adjust descendants.
	* src/type/type-visitor.cc (check_types_assignable): Remove both
	implementations.
	Adjust callers to use the following function instead.
	(check_types_comparable): Rename as...
	(check_types): these (there are two).
	Adjust all callers.
	(operator() (RecordExp), operator() (CallExp), operator() (OpExp))
	(operator() (VarDec)): Simplify the control flow: remove useless
	returns and ifs.
	When possible, set the outgoing type (that of the node visited)
	first, and then check the incoming types (those of its children).
	That does simplify the writing.
	* src/overload/overfun-type-visitor.cc: Adjust.
	* src/types/test-types.cc: Complete.

2004-11-05  Arnaud Fabre  <fabre_a@epita.fr>

	Factor some checks into type method.

	* type-visitor.cc (type (ast::Typable& e)): Check that node is not
	already visited before resolving its type.
	(check_type,check_types_comparable,check_types_assignable): Call
	unconditionally type.
	(operator() (ast::IfExp& e)): Remove useless if.

2004-11-04  Arnaud Fabre  <fabre_a@epita.fr>

	Simplify a bit usage of check_types_comparable and
	check_types_assignable.

	* src/type/type-visitor.hh, src/type/type-visitor.cc
	(check_types_assignable,check_types_comparable): New overloaded
	methods, using Typable.
	* src/type/type-visitor.cc (operator() (ast::OpExp& e))
	(operator() (ast::AssignExp& e),operator() (ast::IfExp& e)): Use them.

2004-11-04  Gilles Walbrou  <walbro_g@epita.fr>

	Rename call-graph and fix some comments.

	* src/call-graph: Rename as...
	* src/callgraph: this. It will avoid problems with SWIG.
	* config/stagize, configure.ac, src/Makefile.am: Adjust.
	* src/callgraph/fundec-graph.hh, src/callgraph/fundec-graph.hxx,
	* src/callgraph/libcall-graph.cc, src/callgraph/libcall-graph.hh,
	* src/callgraph/parent-graph-visitor.cc,
	* src/callgraph/parent-graph-visitor.hh,
	* src/callgraph/static-link-visitor.cc,
	* src/callgraph/static-link-visitor.hh,
	* src/callgraph/tasks.cc, src/callgraph/tasks.hh: Fix the comments.

2004-11-03  Gilles Walbrou  <walbro_g@epita.fr>

	Split static-links optimisations and escapes.

	* src/call-graph: New directory.
	* configure.ac, src/Makefile.am: Add call-graph directory.
	* src/call-graph/Makefile.am,
	* src/call-graph/libcall-graph.cc,
	* src/call-graph/libcall-graph.hh,
	* src/call-graph/tasks.cc, src/call-graph/tasks.hh,
	* src/call-graph/tiger_call-graph.i: New.
	* src/call-graph/static-link-visitor.cc,
	* src/call-graph/static-link-visitor.hh: New. Move the SL
	optimisations code of the EV here.
	* src/escapes/callgraph-visitor.cc,
	* src/escapes/callgraph-visitor.hh,
	* src/escapes/fundecgraph.hh, src/escapes/fundecgraph.hxx,
	* src/escapes/parentgraph-visitor.cc,
	* src/escapes/parentgraph-visitor.hh: Move to...
	* src/call-graph/call-graph-visitor.cc,
	* src/call-graph/call-graph-visitor.hh,
	* src/call-graph/fundec-graph.hh, src/call-graph/fundec-graph.hxx,
	* src/call-graph/parent-graph-visitor.cc,
	* src/call-graph/parent-graph-visitor.hh: ...here.
	* src/escapes/escapes-visitor.cc:
	* src/escapes/libescapes.cc (escapes_find): Remove callgraph,
	parentgraph and	escapes_sl_computes_p parameters.
	(escapes_sl_compute, parentgraph_compute, callgraph_compute):
	Move to...
	* src/call-graph/libcall-graph.cc (escapes_sl_compute)
	(parentgraph_compute, callgraph_compute): ...here.
	* src/escapes/tasks.cc (callgraph_compute, callgraph_dump)
	(parentgraph_compute, parentgraph_dump)
	(escapes_sl_display): Move to...
	* src/call-graph/tasks.cc (callgraph_compute, callgraph_dump)
	(parentgraph_compute, parentgraph_dump)
	(escapes_sl_display): ...here.
	* src/escapes/escapes-visitor.hh, src/escapes/libescapes.hh:
	Adjust.
	* src/escapes/tasks.hh (escapes-sl-compute, escapes-sl-display):
	Move to...
	* src/call-graph/tasks.hh (escapes-sl-compute)
	(escapes-sl-display): ...here.
	* src/escapes/Makefile.am: Remove SL optimisations files.
	* config/stagize: Add call-graph to the removed directories.

2004-11-02  Akim Demaille  <akim@epita.fr>

	* src/liveness/test-flowgraph.cc (main): Rename variables.
	Remove trailing useless initializations.

2004-10-28  Akim Demaille  <akim@epita.fr>

	* tcsh/generate-swig-mk, tcsh/Makefile.am: Use nodist_ when
	listing sources from other directories, to avoid a second shipping
	request (which is benign), or an undesired shipping, as was the
	case for src/version.cc, generated.
	Reported by Clément Vasseur.

2004-10-28  Akim Demaille  <akim@epita.fr>

	* src/ast/ast.yml (AssignExp): Remove the useless force member.
	* src/type/type-visitor.hh (var_read_only_): Back to storing
	Ast*, since that eases the membership test against a SimpleVar's
	definition which is an Ast*.
	* src/type/type-visitor.cc (operator ()(AssignExp&)): Set the
	node's type first to avoid error recovery pitfalls.
	Simplify the code.

2004-10-27  Arnaud Fabre  <fabre_a@epita.fr>

	Correct type of var_read_only_.

	* src/type/type-visitor.hh (TypeVisitor): Change type of
	var_read_only_ to a more specific one.
	* src/type/type-visitor.cc (operator() (ast::AssignExp& e)): Remove
	useless static_cast.

2004-10-27  Arnaud Fabre  <fabre_a@epita.fr>

	Use misc::set for storing writable status of variables in TyV.

	* src/type/type-visitor.hh (var_writable_): Remove. Replace with...
	(var_read_only_): this. New attribute.
	* src/type/type-visitor.cc (): Adjust.

2004-10-27  Arnaud Fabre  <fabre_a@epita.fr>

	Suppress reporting of xalloc leaks.

	* tests/xalloc-leak.valgrind: New file.
	* tests/tc-check.in (run): Use it when calling valgrind.

2004-10-26  Akim Demaille  <akim@epita.fr>

	* src/ast/tasks.cc (print): Add a missing std::endl.

2004-10-26  Akim Demaille  <akim@epita.fr>

	* configure.ac: Automake 1.9.2.
	Bump to 0.79a.
	* tests/tc-check.in (escapes_check): Pass -A after -E.

2004-10-26  Akim Demaille  <akim@epita.fr>

	Version 0.79.
	For 2005b-tc-3.0.

	* src/ast/print-visitor.cc, src/bind/bind-visitor.cc,
	* src/bind/bind-visitor.hh: Adjust student marks.
	* src/bind/bind-visitor.hh (vartab_type, funtab_type)
	(typetab_type): Remove, useless once inlined where used.
	* src/ast/libast.hh, src/ast/print-visitor.cc (misc::xalloc.hh):
	Remove useless inclusion.

2004-10-26  Akim Demaille  <akim@epita.fr>

	First stab at changing typing error recovery.

	* src/type/type-visitor.cc (type/types.hh): Include.
	(operator ()(ArrayExp)): Set the type as soon as it is known.
	* src/type/type-visitor.hh, src/type/type-visitor.cc
	(type_recovery (Typable, Type): New.
	Use it where appropriate for error recovery.
	(check_types_equal): Rename as...
	(check_type): this.
	Tailor it for checking that a given AST node has an expected type,
	and perform a nice error recovery in such a case.
	Adjust all callers.
	* src/ast/ast.yml (Typable): Initialize type_ to 0, to avoid the
	ast dependency on type.
	* src/overload/overfun-type-visitor.cc (type/types.hh): Include.
	* config/ast-nodes-gen (includes_map): Point to type/fwd.hh, not
	types.hh.
	* src/ast/Makefile.am (test_ast_LDADD): Remove libtype.

2004-10-26  Akim Demaille  <akim@epita.fr>

	Change the previous patch to use misc::xalloc.

	* src/ast/tasks.cc (ast_display): Don't override the xalloc'ed
	flags.
	* src/escapes/tasks.cc, src/escapes/tasks.hh (escapes-display)
	(escapes-sl-display, escapes-tags-display): Make them actual Tasks
	that have a side effect on std::cout.
	* src/bind/tasks.cc, src/bind/tasks.hh (bindings-display): Likewise.

2004-10-26  Gilles Walbrou  <walbro_g@epita.fr>

	Turn escape display and bind display into ast display options.

	* src/escapes/tasks.cc, src/bind/tasks.cc (escapes_display)
	(bindings-display): Remove.
	* src/escapes/tasks.hh, src/bind/tasks.hh (escapes-display)
	(bindings-display): Turn those tasks into boolean tasks.
	* src/ast/tasks.cc (ast_display): Add ast display options.

2004-10-25  Arnaud Fabre  <fabre_a@epita.fr>

	Store writable flag of variables in TypeVisitor, not in AST.

	* src/ast/ast.yml (writable): Remove. Replace by...
	* src/type/type-visitor.hh (var_writeable_): New attribute.
	* src/type/type-visitor.cc (operator() (ast::AssignExp& e))
	(operator() (ast::ForExp& e), operator() (ast::VarDec& e)): Use it.
	* src/ast/vardec.cc, src/ast/vardec.hxx, src/ast/vardec.hh: Regen.

2004-10-25  Arnaud Fabre  <fabre_a@epita.fr>

	* src/bind/bind-visitor.cc (operator() (ast::NameTy& e)): Remove
	irrelevant FIXME.

2004-10-25  Roland Levillain  <roland@lrde.epita.fr>

	Document ast::Typable.

	* config/ast-nodes-gen (print_namespace_class_open): Print
	optional description.
	* src/ast/ast.yml (Typable): Describe the class.
	* src/ast/typable.hh: Regen.

2004-10-25  Roland Levillain  <roland@lrde.epita.fr>

	Use ast::Typable to also store the type of declared objects.

	* src/ast/ast.yml (Dec): Remove attribute `type'.
	Make it inherit from Typable.
	* src/ast/dec.cc, src/ast/dec.hh, src/ast/dec.hxx: Regen.

	* src/type/type-visitor.cc
	(TypeVisitor::visitDecHeader<ast::FunctionDec>)
	(TypeVisitor::operator() (ast::VarDec&))
	(TypeVisitor::visitDecHeader<ast::TypeDec>): Comment the usage of
	Typable::type_ in Dec nodes.
	(TypeVisitor::operator() (ast::NameTy&)): Remove irrelevant FIXME.

2004-10-25  Akim Demaille  <akim@epita.fr>

	* configure.ac, src/Makefile.am, src/overload/Makefile.am,
	* src/overload/overfun-type-visitor.cc,
	* src/overload/overfun-type-visitor.hh, src/type/test-type.cc,
	* tcsh/generate-tc-shared-mk: Revert Rolland's changes of 2004-10-21
	to re-enable the compilation of overload.
	* src/overload/fun-entry.hh, src/overload/fun-entry.cc: New, based
	on the late type::FunEntry class.
	Adjust callers.

2004-10-25  Akim Demaille  <akim@epita.fr>

	* src/type/test-type.cc: Catch up the changes.  In particular,
	the environment no longer plays any role here.

2004-10-24  Arnaud Fabre  <fabre_a@epita.fr>

	Remove TypeEnv.

	* src/type/type-visitor.hh: Remove include of type-env.hh.
	* src/type/type-entry.hxx, src/type/type-env.cc,
	* src/type/type-entry.cc, src/type/type-env.hh,
	* src/type/type-entry.hh: Remove.
	* src/type/types.hh (Function): Correct whitespaces.
	* src/type/Makefile.am (libtype_a_SOURCES): Adjust.

	Correct FIXME in bind visitor since prelude is functional.

	* src/bind/bind-visitor.cc (operator() (ast::CallExp& e)): Remove
	hardcoded builtin names.

2004-10-23  Arnaud Fabre  <fabre_a@epita.fr>

	Correct compilation problem of test ast.

	* src/ast/Makefile.am (test_ast_LDADD): Complete the missing lib.

2004-10-22  Akim Demaille  <akim@epita.fr>

	* config/studentize (studentize): Don't chop, chomp, in case the
	last line of the file lacks an eol.
	* config/ast-nodes-mk-gen: Use print.
	Make sure the last eol is not missing.

2004-10-22  Roland Levillain  <roland@lrde.epita.fr>

	* src/bind/bind-visitor.hh, src/translate/translate-visitor.cc
	* src/type/types.hh, src/type/type-entry.hh, src/type/type-env.hh,
	* src/type/type-visitor.hh: Use ``argument'' instead of
	``parameter'' when talking about function's arguments.

2004-10-22  Roland Levillain  <roland@lrde.epita.fr>

	Revert to a correct usage of Doxygen's \arg and \param commands.

	* src/type/types.hh (type::Named::Named, type::Field::Field)
	(type::Function::Function): Use \param for function arguments in
	Doxygen comments.
	* src/type/type-entry.hh (type::VarEntry::VarEntry)
	(type::FunEntry::FunEntry): Likewise.

2004-10-22  Akim Demaille  <akim@epita.fr>

	Remove the "kind" annotation: use the type annotations.

	* src/ast/ast.yml (AssignExp, IfExp, LetExp, OpExp)
	(SeqExp, VarDec): Remove their Kind and kind.
	* src/type/type-visitor.cc (AssignExp, IfExp, LetExp, OpExp)
	(SeqExp, VarDec): Don't update their kinds.
	* src/translate/translate-visitor.cc (AssignExp, IfExp, LetExp, OpExp)
	(SeqExp, VarDec): Don't use them use the types.

2004-10-22  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen (declare_visitor): New, extracted from...
	(print_visitor): here.
	Adjust.
	Don't rely on visitable, rather, whether the class is abstract or
	concrete.
	* src/ast/ast.yml, config/ast.py: Remove visitable support.
	* src/type/type-visitor.hh, src/type/type-visitor.cc
	(type (ast::Exp&), type (ast::Ty&)): Merge into...
	(type (ast::Typable&)): this.

2004-10-22  Roland Levillain  <roland@lrde.epita.fr>

	* src/type/types.hh (type::Function),
	* src/type/type-entry.hh (type::FunEntry): Typo in documentation.

	* src/type/types.hh (type::Named::Named, type::Field::Field)
	(type::Function::Function): Use \arg instead of \param for
	function arguments in Doxygen comments.
	* src/type/type-entry.hh (type::VarEntry::VarEntry)
	(type::FunEntry::FunEntry): Likewise.

2004-10-22  Akim Demaille  <akim@epita.fr>

	No LevelEnv is needed now that we have no scope to handle.

	* src/translate/translate-visitor.hh (env_): Remove.
	(var_access_, fun_level_, fun_label_): New.
	* src/translate/translate-visitor.cc: Adjust all former uses of
	the env_ to directly attack these maps.
	* src/translate/level-entry.hh, src/translate/level-env.cc,
	* src/translate/level-env.hh, src/translate/level-env.hxx: Remove,
	useless.

2004-10-21  Roland Levillain  <roland@lrde.epita.fr>

	Label the AST nodes with type information.  Use a new type,
	type::Function, to store the type of a function.

	* src/ast/ast.yml (VarDec): New `writable' attribute.
	(Dec): New `type' attribute.
	* src/ast/vardec.cc, src/ast/vardec.hh, src/ast/vardec.hxx,
	* src/ast/dec.cc, src/ast/dec.hh, src/ast/dec.hxx: Regen.

	* src/type/types.hh, src/type/types.hxx, src/type/types.cc
	(type::Function): New class.

	* src/type/type-visitor.hh (TypeVisitor::env_)
	(TypeVisitor::type_): Remove attributes.
	(TypeVisitor::type (ast::Ast&)): Remove this method.
	(TypeVisitor::type (ast::Exp&))
	(TypeVisitor::type (ast::Ty&)): New method.
	(TypeVisitor::type (ast::fields_type&)): Add const qualifier to
	argument, yielding...
	(TypeVisitor::type (const ast::fields_type&)): ...this method.
	* src/type/type-visitor.cc: Likewise.
	(TypeVisitor::TypeVisitor): Adjust ctor.
	(TypeVisitor::type_recovery): Adjust.

	* src/type/type-visitor.cc
	(TypeVisitor::operator() (ast::SimpleVar&))
	(TypeVisitor::operator() (ast::FieldVar&))
	(TypeVisitor::operator() (ast::SubscriptVar&))
	(TypeVisitor::operator() (ast::NilExp&))
	(TypeVisitor::operator() (ast::IntExp&))
	(TypeVisitor::operator() (ast::StringExp&))
	(TypeVisitor::operator() (ast::RecordExp&))
	(TypeVisitor::operator() (ast::CallExp&))
	(TypeVisitor::operator() (ast::OpExp&))
	(TypeVisitor::operator() (ast::SeqExp&))
	(TypeVisitor::operator() (ast::AssignExp&))
	(TypeVisitor::operator() (ast::IfExp&))
	(TypeVisitor::operator() (ast::WhileExp&))
	(TypeVisitor::operator() (ast::ForExp&))
	(TypeVisitor::operator() (ast::BreakExp&))
	(TypeVisitor::operator() (ast::BreakExp&))
	(TypeVisitor::operator() (ast::LetExp&))
	(TypeVisitor::operator() (ast::ArrayExp&))
	(TypeVisitor::operator() (ast::VarDec&))
	(TypeVisitor::operator() (ast::FunctionDec&))
	(TypeVisitor::operator() (ast::TypeDec&)): Get/store type
	information from/to the AST.

	* NEWS: Update.

2004-10-21  Roland Levillain  <roland@lrde.epita.fr>

	Disable function overloading.

	* configure.ac (MODULES), src/Makefile.am (SUBDIRS, tc_LDADD)
	* tcsh/generate-tc-shared-mk (MODULES): Exclude	`overload' from
	the list of modules.

	* NEWS: Update.

2004-10-21  Roland Levillain  <roland@lrde.epita.fr>

	Introduce a new Typable abstract class for typable AST nodes.

	* src/ast/ast.yml (TypeDec): Rename `type' attribute as `ty'.
	* src/ast/default-visitor.hxx:
	(GenDefaultVisitor<Const>::operator()(typename Const<TypeDec>::type&)):
	Adjust.
	* src/ast/print-visitor.cc
	(PrintVisitor::operator() (const TypeDec&)): Adjust
	* src/type/type-visitor.cc
	(TypeVisitor::visitDecBody<ast::TypeDec>): Adjust.
	* src/cppgen/cppgen-visitor.cc
	(CppGenVisitor::operator() (const ast::TypeDec&)): Adjust.
	(CppGenVisitor::operator() (const ast::TypeDecs&)): Adjust.
	* src/ast/typedec.cc, src/ast/typedec.hh, src/ast/typedec.hxx:
	Regen.

	* src/ast/ast.yml (Typable): New node.
	(Exp, Ty): Make these nodes inherit from Typable.
	* src/ast/typable.cc, src/ast/typable.hh, src/ast/typable.hxx: New
	files (generated).

	* NEWS: Update.

2004-10-21  Roland Levillain  <roland@lrde.epita.fr>

	Prepare the AST-generation tools for the upcoming ast::Typable
	class.

	* config/ast.py (Node.ctor_args): Handle the case of zero
	arguments in super classes.
	(Node): New `visitable' attribute, set as true by default.
	* config/ast-nodes-gen (includes_map): Add mappings for type::Type
	and type::Int.
	(print_ctor_dtor): Fix the output of the initialisation list of
	constructors with no arguments.
	(print_visitor): Print only visitable nodes.
	* src/ast/ast.yml: Add comments.

2004-10-21  Akim Demaille  <akim@epita.fr>

	Have it distcheck.

	* tcsh/Makefile.am (XFAIL_TESTS): New.
	* tests/mk-Makefile-am: Make sure tih files are shipped.

2004-10-20  Arnaud Fabre  <fabre_a@epita.fr>

	Correct Makefile so that a fresh checkout can be compiled.

	* src/ast/Makefile.am (position.hh, location.hh): Correct creation of
	these files.

2004-10-20  Akim Demaille  <akim@epita.fr>

	* tcsh/Makefile.am (EXTRA_DIST): Ship the TESTS.

2004-10-20  Akim Demaille  <akim@epita.fr>

	Have tc-check work _only_ with a _build dir.

	* tests/tc-check.in ($tc_inc_path): Adjust.
	(&project_make): Ensure there is a _build dir.
	Build into it.
	And run make twice if the first fails, my machine has bad RAM.
	* Makefile.am (check-local): Pass $(srcdir) to tc-check, that
	wants the top-level srcdir, not builddir.

2004-10-20  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-visitor.cc (translate): Remove translate
	invocation nondeterminism.

2004-10-20  Akim Demaille  <akim@epita.fr>

	* src/translate/leve-env.hxx (BUILTINS): Remove.
	(level_get, label_get): No longer implement an exception for
	primitives.
	* src/translate/translate-visitor.cc (visitFunctionDecHeader): A
	primitive uses its own label, and has no level.
	(const ast::FunctionDecs&): Go into primitive
	definition headers.
	(const ast::CallExp&): Assert the level is defined when needed.

2004-10-20  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-visitor.cc (CallExp): Remove the
	exception for SL, since now, primitives correctly don't need one.
	* data/prelude.tig (not): Implement as a function, so that we
	don't need the exception for _not.

2004-10-20  Roland Levillain  <roland@lrde.epita.fr>

	* src/translate/translate-visitor.cc
	(TranslateVisitor::operator() (const ast::SeqExp&)): Check the
	validity of the kind of the SeqExp.

	* src/ast/fwd.hh: Regen.

2004-10-20  Akim Demaille  <akim@epita.fr>

	* tests/tests.mk: Rewrite the generation of out, sta, hir, hpr,
	lir, and lpr files, to make sure that the dependencies are right,
	and the files are produced in srcdir.
	To this end, we depend on GNU Make extensions, what *greatly*
	simplifies the implementation (and allows factorization).
	(TC): Now do use the shipped tc.
	* tests/mk-Makefile-am: Disable overload.
	Ship lpr and hpr files.

2004-10-18  Akim Demaille  <akim@epita.fr>

	Simplify misc::xalloc for integral types.

	* src/misc/xalloc.hh (xalloc::set_, xalloc::get_, xalloc::rget_):
	Remove.
	(xalloc::value): New.
	Use it to replace the previous two.
	Change the prototypes and implementation so that we always
	store exactly the parameter type.  Before, we handled a
	pointer of that type, which prevented simple types such
	as bool to be used simply.
	(xalloc::operator ()): Remove.
	* src/ast/print-visitor.cc: Adjust.
	* src/ast/tasks.hh, src/ast/tasks.cc (ast-initialization): Remove,
	useless.
	Adjust dependencies.
	* src/bind/tasks.hh, src/escapes/tasks.hh: Likewise.
	* src/misc/fwd.hh (xalloc): New fwd decl.
	* src/ast/fwd.hh: Do not include misc/xalloc.hh, it defeats the
	whole point of fwd.hh.
	* src/ast/test-ast.cc: No longer include tasks.cc, it is useless
	now that we rely on the initialization to 0 of xalloc'd slots.
	Use less funky names.
	Fix the *£&$ coding style.

2004-10-15  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* src/ast/ast.yml: Remove dots at the beginning of inlined code.
	* config/ast-nodes-gen: Update.

2004-10-15  Arnaud Fabre  <fabre_a@epita.fr>

	Fix regression caused by primitives in translate visitor.

	* src/ast/ast.yml (FunctionDec): Take in account whether the function
	is a builtin or not to initialize sl_needed and sl_escapes.
	* src/ast/functiondec.cc: Regen.

2004-10-13  Akim Demaille  <akim@epita.fr>

	* configure.ac: Bump to 0.78a.

2004-10-13  Akim Demaille  <akim@epita.fr>

	Version 0.78.
	For 2005b-tc-2.0.
	* config/stagize (where): Catch up with bootstrap.
	* Makefile.am (diff_re): Accept 2005b as a year.

2004-10-13  Akim Demaille  <akim@epita.fr>

	* tests/tests.mk (Makefile.am): Qualify with srcdir to make sure
	the rule is triggered.
	* tests/tc-check.in: Comment changes.
	Show all the chdirs.

2004-10-13  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* tests/tc-check.in: Add a parameter to transmit some options to
	the compiler in &ir_check_one.

2004-10-13  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&run_test): More empty lines to separate test
	groups.
	(&summary): Add missing eol after reporting leaks.
	(&interface_check): Revert my previous patch: use &check_external
	instead of &check.

2004-10-13  Arnaud Fabre  <fabre_a@epita.fr>

	Improve use of --prelude in tc-check.

	* tests/tc-check.in: Make a clever use of --prelude.
	($tc_exe): Remove.
	* tests/syntax/import-recursive1.tig: Move to...
	* tests/import/import-recursive1.tig: here.
	(import): Import a header file instead of import-recursive1.tig.
	* tests/import/import-recursive1.tih: New header included by previous
	file.

2004-10-12  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&interface_check): No reason to use
	&check_external.
	Formatting changes.

2004-10-12  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy (import STRING): Free the string since
	we keep the symbol from it.

2004-10-12  Akim Demaille  <akim@epita.fr>

	* src/ast/test-ast.cc: Fix it.
	It needs to be adjusted to the new LetExp implementation.
	It also needs to initialize our xalloc'ed bool.
	This sucks, and is probably easily fixable using iword instead of
	pword for integral types.

2004-10-12  Akim Demaille  <akim@epita.fr>

	Free memory when importing.

	* src/parse/import-visitor.cc (operator() (decs_list_type)): Free
	the import nodes when processed.
	Free the spliced list.

	Fix some mistakes in tcsh.

	* tcsh/test.py: Use the 0-ary FileLibrary ctor.
	* tcsh/generate-swig-mk: Produce cc files, not cxx.
	* tcsh/Makefile.am: More comments.
	Ship swigpy.i.

	Let LetExp free the decs.

	* config/ast.py (re_list): foo_list_type is also a container type.
	* config/ast-nodes-gen (re_list): Remove, use ast.py's one.

	Ship the prelude.

	* data/Makefile.am (pkgdata_DATA): Rename as...
	(dist_pkgdata_DATA): this, to ship the file.

	* bootstrap: Set -e.
	Adjust to non-writable *.mk files.

2004-10-12  Akim Demaille  <akim@epita.fr>

	Fix tcsh.  Well, try to: it segfaults!

	* src/bind/tiger_bind.i (bind/fundecgraph.hh): Don't include it,
	it doesn't exist!
	* tcsh/tcsh.test, tcsh/run.in: New.
	* tcsh/generate-swig-mk (MODULES): Add bind.
	(swig_ldadd): Remove, inline its value.
	(swig_ldflags): Don't pass -lswigpy, since recent versions of Swig
	no longer package it.  Rather, you have to link with a library you
	do yourself (see swigpy.i below).
	(swig_ldflags): Don't pass libcommon.so here, do it for each
	module_so_LDFLAGS, together with libtcswigpy.so.
	Define module_so_DEPENDENCIES to make sure everything is built in
	the right order.
	Split the rule to invoke Swig in two, since the semantics of Make
	don't allow several products in a rule.
	Save the output of Swig in srcdir, and ship it.
	* tcsh/generate-tc-shared-mk (CLEANFILES): Remove, made no sense.
	* tcsh/Makefile.am: More comments.
	(tc-shared.mk, swig.mk): Add targets to update them.
	(TESTS_ENVIRONMENT, check_SCRIPTS, TESTS): New.
	Inspiration taken from Spot, by Alexandre Duret-Lutz.
	(libtcswigpy.so): New.
	* tcsh/test.py: Adjust the call to the parser.
	Gosh, this is hairy...
	* tcsh/tc.py: Import tiger_misc and tiger_bind.
	Define shortcuts.
	* configure.ac (tcsh/run): Configure it.

2004-10-12  Akim Demaille  <akim@epita.fr>

	* src/misc/path.hh, src/misc/filelibrary.hh (print): Add the Swig
	magic to rename it to dump.
	* src/misc/filelibrary.hh, src/misc/filelibrary.cc
	(Filelibrary): New ctor with no argument.
	Do not take TC_PKGDATADIR into account here!  That's impure.
	Rather...
	* src/parse/tasks.cc (tc_pkgdatadir): do it in this new variable.
	(file_library): Use it.
	* src/misc/tiger_misc.i: Include path.hh and filelibrary.hh.

2004-10-12  Arnaud Fabre  <fabre_a@epita.fr>

	Report changes of src/ast/fwd.hh into config/ast-fwd-gen, since
	fwd.hh is generated.

	* src/ast/fwd.hh: Regen.
	* config/ast-fwd-gen: Report changes of src/ast/fwd.hh.

2004-10-12  Arnaud Fabre  <fabre_a@epita.fr>

	Add tests for import.

	* configure.ac (AC_CONFIG_FILES): New Makefile in tests/import.
	* tests/tc-check.in (import): New section of tests for TC-2.
	* tests/mk-Makefile-am, tests/Makefile.am (SUBDIRS): New subdir
	import.
	* tests/import/Makefile.am: New generated file.
	* tests/syntax/Makefile.am, tests/good/Makefile.am: Regen.

	Test files.

	* tests/syntax/import-recursive1.tig,
	* tests/good/complex-import.tig,
	* tests/good/complex-import-header1.tih,
	* tests/good/basic-import.tig,
	* tests/good/complex-import-header2.tih,
	* tests/good/basic-import-header.tih,
	* tests/import/import-non-existent-file.tig,
	* tests/import/import-recursive2.tig,
	* tests/import/import-rec-header1.tih,
	* tests/import/import-rec-header2.tih: New test files.

2004-10-12  Arnaud Fabre  <fabre_a@epita.fr>

	Support for --prelude in tc-check.

	* src/prelude.tig: Rename as...
	* data/prelude.tig: this.
	* configure.ac, Makefile.am, data/Makefile.am: New directory data,
	adjust makefiles.
	* src/parse/task.hh (prelude): Make default prelude file
	"prelude.tig".
	* tests/tc-check.in: New option --install-tc. Pass --prelude= and -B
	data when needed to tested tc.
	* tests/tests.mk (TIG2HIR, TIG2LIR): Adjust search path so that tc
	uses the good prelude file when generating reference files.

2004-10-12  Arnaud Fabre  <fabre_a@epita.fr>

	Correct a problem with "../.." in misc::Path.

	* src/misc/path.cc (append_rep): Correct handling of "../../".
	* src/misc/test-path.cc: Test Path with "../..". Ensure use of
	operator() (std::string) instead of constructor since we want to check
	data and not replace it.

2004-10-11  Arnaud Fabre  <fabre_a@epita.fr>

	Correct search path handling.

	* src/misc/filelibrary.cc, src/misc/filelibrary.hh
	(ensure_absolute_path): New method.
	* src/misc/filelibrary.cc (append_dir, prepend_dir): Use
	ensure_absolute_path.
	(append_dir_list): Correct typo.
	(FileLibrary): Ensure working directory is set before adding
	repertories.

2004-10-10  Gilles Walbrou  <walbro_g@epita.fr>

	* src/tc.cc (main): Remove useless init_xalloc() call.
	* src/ast/tasks.hh, src/bind/tasks.hh, src/escapes/tasks.hh
	(ast-display, bindings-display, escapes-display): Make those tasks
	depend on ast-initialization.
	(ast-initialization): New task.
	* src/ast/print-visitor.cc: Make the use of << prettier.
	* src/ast/libast.hh: Add some comments.
	* src/ast/libast.cc (init_xalloc): Move this function...
	* src/ast/tasks.cc: here and rename it as ast_initialization.
	* src/escapes/tasks.cc, src/bind/tasks.cc (bindings_display)
	(escapes_display): Add missing spaces.

2004-10-09  Gilles Walbrou  <walbro_g@epita.fr>

	Use xalloc in the PV.

	* src/tc.cc (main): Add a call to init_xalloc.
	This is quite dirty and should be removed later.
	* src/misc/xalloc.hxx, src/misc/xalloc.hh:
	Add operator() to make xalloc pretty.
	* src/bind/tasks.cc, src/escapes/tasks.cc:
	Use xalloc parameters. Remove PV attributes uses.
	* src/ast/print-visitor.cc (ast): Use << instead of accept.
	(escapes_display_set, escapes_tags_display_set, sl_display_set)
	(bindings_display_set): Remove. Xalloc does the job now.
	* src/ast/print-visitor.hh: Adjust.
	* src/ast/fwd.hh (operator<<): New for Ast.
	(escapes_display, escapes_tags_display, sl_display)
	(bindings_display): New structures.
	* src/ast/libast.hh (escapes_display_type)
	(escapes_tags_display_type, sl_display_type)
	(bindings_display_type): New typedefs.
	(init_xalloc): Declare.
	* src/ast/libast.cc (xalloc_init): New.

2004-10-08  Arnaud Fabre  <fabre_a@epita.fr>

	Add options --library-append and --library-prepend. Use TC_PKGDATADIR
	for default search path. Fix some comments.

	* src/task/libtask.hh, src/task/Makefile.am,
	* src/task/multiple-string-task.hh, str/task/multiple-string-task.cc
	(MultipleStringTask): New type of task.
	* src/parse/tasks.cc, src/parse/tasks.hh (library-append)
	(library-prepend): New options.
	* src/parse/import-visitor.hh: Move a include of <list>...
	* src/parse/import-visitor.cc: ...here.
	* src/misc/filelibrary.hh, src/misc/filelibrary.cc
	(append_dir_list): New method.
	(FileLibrary): Use envvar TC_PKGDATADIR for default search path.
	* src/misc/path.cc (init): Fix style issue.

	Correct comments.

	* src/parse/tasks.hh, src/misc/filelibrary.hh,
	* src/parse/import-visitor.hh: Fix comments.

2004-10-07  Arnaud Fabre  <fabre_a@epita.fr>

	Handling of path for import directive. Correct some bugs in
	import procedure.

	* src/parse/libparse.hh (parse): New argument file_library.
	* src/parse/libparse.cc (parse): Use file_library for handling
	search_path.
	* src/parse/import-visitor.hh, src/parse/import-visitor.cc:
	(ImportVisitor): Remove included_path, replaced by file_library.
	(operator() (decs_list_type&)): New method.
	(parse_prelude): New argument location.
	(is_absolute_path, current_path_get, remove_filename_from)
	(find_file, include_path_, includes_): Remove. file_library
	does a better job for them.
	(included_file): New structure.
	(file_library_): New attribute.
	(already_included): New method.
	* src/parse/import-visitor.cc (ImportVisitor): Simplify change
	of directory by using file_library.
	(parse_prelude): Delegate all path computations to file_library.
	Handle errors, and check for recursive include.
	(operator() (decs_list_type&)): Process nested import
	directives.
	* src/parse/import-visitor.hxx: Remove.
	* src/misc/path.hh, src/misc/path.cc, path.hxx: Fix comments.
	(Path): Path object knows whether it is absolute or relative, by
	using...
	(absolute_get, absolute_): ...these new method and attribute.
	* src/misc/filelibrary.hh, src/misc/filelibrary.cc,
	src/misc/filelibrary.hxx: New files.
	* src/misc/fwd.hh (FileLibrary): New forward declaration.
	* src/misc/Makefile.am (libmisc_a_SOURCES): Add filelibrary.hh,
	filelibrary.hxx and filelibrary.cc.
	* src/parse/Makefile.am (AM_CPPFLAGS): Define PKGDATADIR.
	(libparse_a_SOURCES): Remove import-visitor.hxx.
	* src/parse/tasks.hh, src/parse/tasks.cc (file_library): New
	global variable.
	(library-display): New task.
	(print_search_path): New function called by task
	library-display.

2004-10-06  Akim Demaille  <akim@epita.fr>

	* configure.ac: Bump to 0.77a.

2004-10-06  Akim Demaille  <akim@epita.fr>

	Version 0.77.
	For 2005b-tc-1.0.

	* configure.ac: Version 0.77.
	Automake 1.9.1.
	* config/stagize: Handle bind/.
	* AUTHORS: Sort and complete.
	Include Emacs hooks for text mode and American dictionary.
	* NEWS: Update.
	* Makefile.am (authors.h): Adjust.
	* src/parse/scantiger.llsrc/parse/parsetiger.yy (seed_src)
	(seed_header): Rename as...
	(seed_source, seed_import): these.
	Fix coding style issues.
	* src/parse/parse.hh (YY_DECL): Move its use...
	* src/parse/scantiger.ll: here.

2004-10-06  Gilles Walbrou  <walbro_g@epita.fr>

	* src/misc/xalloc.hxx (misc): Add a missing inline.
	* src/misc/xalloc.hh (misc): Remove useless comments.

2004-10-01  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* README-Subversion: New.

2004-09-30  Gilles Walbrou  <walbro_g@epita.fr>

	Add a swap function to misc::xalloc.

	* src/misc/test-xalloc.cc (main): Add a test for swap.
	* src/misc/xalloc.hxx (misc): Add the implementation for swap.
	* src/misc/xalloc.hh (misc): Update the comments.
	Add swap function declaration.

2004-09-30  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* src/translate/translate-visitor.hh, src/temp/map.hh, src/misc/set.hh,
	* src/cppgen/includes/type.hh, src/cppgen/includes/function.hh,
	* src/cppgen/includes/builtin.hh, src/cppgen/includes/control.hh:
	Fix some templates style, and some trailling white-spaces in cppgen.

2004-09-30  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* config/ampersand_test.yml, config/ampersand.rb: Improve fix
	templates style.

	* src/type/types.cc, src/type/type-visitor.cc,
	* src/type/type-visitor.hh,
	* src/escapes/escapes-visitor.cc, src/escapes/tasks.cc,
	* src/escapes/callgraph-visitor.cc, src/liveness/flowgraph.hxx,
	* src/liveness/libliveness.cc, src/liveness/liveness.hh,
	* src/liveness/interference-graph.hh, src/liveness/flowgraph.hh,
	* src/liveness/interference-graph.cc, src/regalloc/regallocator.cc,
	* src/regalloc/color.hh, src/translate/libtranslate.hh,
	* src/translate/tasks.hh, src/translate/translate-visitor.hh,
	* src/translate/level-env.hh, src/translate/level-entry.hh,
	* src/translate/libtranslate.cc, src/translate/tasks.cc,
	* src/translate/translate-visitor.cc, src/canon/traces.hh,
	* src/canon/canon.cc, src/canon/traces.cc, src/canon/canon.hh,
	* src/canon/basic-block.cc, src/tree/eseq.cc, src/tree/eseq.hxx,
	* src/tree/visitor.hxx, src/tree/move.hxx, src/tree/mem.hxx,
	* src/tree/visitor.hh, src/tree/fwd.hh, src/graph/iterator.hxx,
	* src/graph/graph.hh, src/graph/test-graph.cc, src/graph/handler.hxx,
	* src/graph/graph.hxx, src/graph/iterator.hh, src/graph/handler.hh,
	* src/task/task-register.cc, src/temp/identifier.hh, src/temp/tasks.hh,
	* src/temp/label-list.hh, src/temp/temp.cc, src/temp/factory.hcc,
	* src/temp/label.cc, src/temp/temp.hh, src/temp/factory.hh,
	* src/temp/tasks.cc, src/temp/map.hcc, src/temp/map.hh,
	* src/temp/label.hh, src/temp/fwd.hh, src/temp/identifier.hcc,
	* src/assem/instrs.hh, src/assem/fragments.hh, src/assem/visitor.hh,
	* src/assem/visitor.hxx, src/assem/instrs.cc, src/assem/fwd.hh,
	* src/parse/import-visitor.hh, src/parse/import-visitor.cc,
	* src/bind/bind-visitor.hh, src/bind/bind-visitor.cc,
	* src/target/mips-cpu.cc, src/target/cpu.hh, src/target/tasks.cc,
	* src/ast/anydecs.hh, src/ast/anydecs.hxx, src/ast/default-visitor.hh,
	* src/ast/default-visitor.hxx, src/misc/xalloc.hh, src/misc/deref.hh,
	* src/misc/path.hh, src/misc/deref.hxx, src/misc/escape.hh,
	* src/misc/traits.hh, src/misc/ref.hxx, src/misc/xalloc.hxx,
	* src/misc/set.hh, src/misc/set.hxx, src/misc/select-const.hh,
	* src/misc/containers.hh, src/misc/escape.hxx, src/misc/ref.hh,
	* src/misc/containers.hxx, src/misc/traits.hxx, src/misc/fwd.hh,
	* src/codegen/mips/test-rw_prg.cc, src/codegen/mips/codegen.cc,
	* src/codegen/tasks.cc, src/codegen/ia32/codegen.cc,
	* src/symbol/symbol.hh, src/symbol/table.hh, src/symbol/table.hxx,
	* src/overload/over-table.hxx, src/overload/over-table.hh,
	* src/cppgen/includes/type.hh, src/cppgen/includes/function.hh,
	* src/cppgen/includes/env.hh, src/cppgen/includes/explist.hh,
	* src/cppgen/includes/lvalue.hh, src/cppgen/includes/arrayty.hh,
	* src/cppgen/includes/dec.hh, src/cppgen/includes/recordty.hh,
	* src/cppgen/includes/macro.hh, src/cppgen/includes/letinend.hh,
	* src/cppgen/includes/builtin.hh, src/cppgen/includes/binop.hh,
	* src/cppgen/includes/list.hh, src/cppgen/includes/control.hh,
	* src/cppgen/cppgen-visitor.hh, src/cppgen/cppgen-visitor.cc:
	Apply ampersand.rb.

2004-09-29  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* config/stagize, bootstrap: Use ast.yml instead of ast.xml.

2004-09-28  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* src/ast/ast.yml: New.
	* src/ast/ast.xml: Remove.
	* src/ast/functiondec.hh, src/ast/assignexp.hh, src/ast/letexp.hh,
	* src/ast/ifexp.hh, src/ast/importdec.hh, src/ast/ast.hh,
	* src/ast/visitor.hh, src/ast/Makefile.am, src/ast/fwd.hh: Regen.
	* config/ast-visitor-gen, config/ast-nodes-gen,
	* config/ast-nodes-mk-gen, config/ast-fwd-gen, config/ast.py:
	Update to load the Yaml.

2004-09-28  Akim Demaille  <akim@epita.fr>

	hir-compute fails on empty (let-) decs.
	This results from several different issues, and a bit of luck.
	misc::for_each copies its given functor to return the result.
	The TrV's dtor destroys its level_ member, so when using
	misc::for_each, a copy of the TrV is made, and then it dtor is
	called, destroying level_, which is still "used" by the upper
	level TrV, in particular it will be deleted again.
	This was uncovered by the recent changes in let-parsing, which can
	now create empty decs-let, although before in this case we
	produced a SeqExp.

	* src/misc/containers.hh, src/misc/containers.hxx (for_each):
	Return a reference to the functor, so that there is no copy of it
	on return.
	Arguably, we could return void.
	* src/translate/translate-visitor.hh (translate): Declare, but do
	not implement, the copy ctor.

2004-09-28  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* config/ast-visitor-gen, config/ast-fwd-gen, config/ast.py:
	Fix types style.

	* src/ast/arrayexp.cc, src/ast/arrayty.cc, src/ast/namety.cc,
	* src/ast/whileexp.hh, src/ast/recordexp.hh, src/ast/recordty.hh,
	* src/ast/whileexp.hxx, src/ast/nilexp.hh, src/ast/assignexp.hh,
	* src/ast/functiondec.hh, src/ast/letexp.hh, src/ast/simplevar.hh,
	* src/ast/dec.hxx, src/ast/functiondec.hxx, src/ast/assignexp.hxx,
	* src/ast/letexp.hxx, src/ast/forexp.hxx, src/ast/ifexp.hh,
	* src/ast/importdec.cc, src/ast/var.cc, src/ast/fieldinit.hxx,
	* src/ast/dec.cc, src/ast/ty.cc, src/ast/typedec.cc, src/ast/field.hh,
	* src/ast/subscriptvar.hh, src/ast/breakexp.cc, src/ast/forexp.cc,
	* src/ast/seqexp.cc, src/ast/arrayexp.hh, src/ast/arrayty.hh,
	* src/ast/stringexp.hxx, src/ast/fieldinit.cc, src/ast/namety.hh,
	* src/ast/ast.hxx, src/ast/opexp.hxx, src/ast/namety.hxx,
	* src/ast/stringexp.cc, src/ast/simplevar.hxx, src/ast/ast.cc,
	* src/ast/callexp.cc, src/ast/intexp.hxx, src/ast/opexp.cc,
	* src/ast/fieldvar.cc, src/ast/exp.cc, src/ast/importdec.hh,
	* src/ast/escapable.hxx, src/ast/var.hh, src/ast/ast.xml,
	* src/ast/vardec.cc, src/ast/dec.hh, src/ast/ty.hh,
	* src/ast/typedec.hh, src/ast/intexp.cc, src/ast/callexp.hxx,
	* src/ast/breakexp.hh, src/ast/forexp.hh, src/ast/recordexp.hxx,
	* src/ast/recordty.hxx, src/ast/fieldvar.hxx, src/ast/seqexp.hh,
	* src/ast/typedec.hxx, src/ast/fieldinit.hh, src/ast/whileexp.cc,
	* src/ast/vardec.hxx, src/ast/seqexp.hxx, src/ast/recordexp.cc,
	* src/ast/recordty.cc, src/ast/stringexp.hh, src/ast/ifexp.hxx,
	* src/ast/nilexp.cc, src/ast/letexp.cc, src/ast/functiondec.cc,
	* src/ast/ast.hh, src/ast/assignexp.cc, src/ast/simplevar.cc,
	* src/ast/callexp.hh, src/ast/field.hxx, src/ast/opexp.hh,
	* src/ast/exp.hh, src/ast/fieldvar.hh, src/ast/visitor.hh,
	* src/ast/subscriptvar.hxx, src/ast/ifexp.cc, src/ast/arrayty.hxx,
	* src/ast/arrayexp.hxx, src/ast/vardec.hh, src/ast/intexp.hh,
	* src/ast/field.cc, src/ast/subscriptvar.cc, src/ast/escapable.hh,
	* src/ast/fwd.hh: Regen.

2004-09-28  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* config/ampersand.rb: Improve.

	* src/type/type-env.hh, src/regalloc/regallocator.cc,
	* src/regalloc/color.hh, src/liveness/flowgraph.hh,
	* src/translate/exp.cc, src/translate/translation.cc,
	* src/translate/translate-visitor.hh, src/translate/exp.hh,
	* src/translate/level-env.hh, src/translate/translation.hh,
	* src/translate/translate-visitor.cc, src/canon/traces.hh,
	* src/tree/fragment.hh, src/tree/visitor.hxx, src/tree/call.cc,
	* src/tree/fragment.cc, src/tree/call.hh, src/task/task.hh,
	* src/temp/identifier.hh, src/temp/temp.cc, src/temp/temp-set.hh,
	* src/temp/factory.hcc, src/temp/label.cc, src/temp/map.hh,
	* src/temp/fwd.hh, src/temp/identifier.hcc, src/assem/visitor.hxx,
	* src/parse/import-visitor.hh, src/parse/libparse.cc,
	* src/parse/import-visitor.cc, src/ast/anydecs.hh,
	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx,
	* src/frame/access.cc, src/misc/xalloc.hh, src/misc/ref.hxx,
	* src/misc/timer.hh, src/codegen/mips/test-rw_prg.cc,
	* src/codegen/mips/codegen.cc, src/codegen/ia32/codegen.cc,
	* src/cppgen/includes/type.hh, src/cppgen/includes/function.hh,
	* src/cppgen/includes/arrayty.hh, src/cppgen/includes/recordty.hh,
	* src/cppgen/includes/letinend.hh, src/cppgen/includes/builtin.hh,
	* src/cppgen/includes/control.hh: Normalize types.

2004-09-28  Gilles Walbrou  <walbro_g@epita.fr>

	Add a new parameter to xalloc.
	Change a few names.

	* src/misc/xalloc.hh (misc): Add a few comments.
	Rename template parameter T as StoredType.
	Add a new template parameter.
	* src/misc/xalloc.hxx (misc): Add the new template parameter
	* src/misc/test-xalloc.cc (main): Rename imanip as int_flag
	Add a test for the new template parameter.

2004-09-28  Gilles Walbrou  <walbro_g@epita.fr>

	Correct a few mistakes in names.

	* src/misc/xalloc-wrapper.hxx (misc): Rename as...
	* src/misc/xalloc.hxx (misc): ...this
	* src/misc/xalloc-wrapper.hh (misc): Rename as...
	* src/misc/xalloc.hh (misc): ...this
	Change a few names.
	Add new structure get.
	* src/misc/test-xalloc-wrapper.cc (main): Rename as...
	* src/misc/test-xalloc.cc (main): ...this
	Add a test for get.
	* src/misc/Makefile.am: Rename the xalloc-wrapper filenames to
	xalloc.

2004-09-28  Gilles Walbrou  <walbro_g@epita.fr>

	Add xalloc wrapper support and test it.
	From Akim Demaille.

	* src/misc/Makefile.am: Add xalloc-wrapper files.
	* src/misc/xalloc-wrapper.hxx (misc): New.
	* src/misc/xalloc-wrapper.hh (misc): New.
	* src/misc/test-xalloc-wrapper.cc (main): New.

2004-09-27  Gilles Walbrou  <walbro_g@epita.fr>

	Make the bind-visitor compile with gcc-3.3 (there was a
	"specialization after instantiation" error).

	* src/bind/bind-visitor.cc (bind): Moving "decs_visit" at the end
	of the file.

2004-09-27  Akim Demaille  <akim@epita.fr>

	Support --prelude.

	* src/task/string-task.cc, src/task/string-task.hh: New.
	* src/task/int-task.hh: Comment changes.
	* src/task/Makefile.am, src/task/libtask.hh: Adjust.

	* src/Makefile.am (version.cc): Pacify Mac OSX's sed.
	* src/parse/libparse.cc, src/parse/libparse.hh (parse):
	Accept a new argument, prelude, and if not null, consider it
	as a hidden import.
	* src/parse/tasks.cc, src/parse/tasks.hh (prelude): New task.
	(parse): Use this prelude.

	* src/prelude.tig: New.
	Not shipped yet, until we know how to handle the library path.

2004-09-27  Akim Demaille  <akim@epita.fr>

	Implement primitive support.

	* src/parse/parsetiger.yy, src/parse/scantiger.ll: Recognize
	"primitive" as a FunctionDec without any body.
	And sort keywords.
	* src/ast/ast.xml (FunctionDec::body): No longer mandatory.
	* src/ast/functiondec.hh, src/ast/functiondec.hxx: Regen.
	* src/ast/default-visitor.hxx, src/ast/print-visitor.cc
	* src/cppgen/cppgen-visitor.cc, src/escapes/escapes-check-visitor.cc
	* src/escapes/parentgraph-visitor.cc,
	* src/overload/overfun-type-visitor.cc,
	* src/translate/translate-visitor.cc, src/type/type-visitor.cc:
	Adjust to body_get possibly returning 0.
	Note that this is certainly not enough for cppgen.

	* tests/bind/primitive-and-function-same-chunk.tig,
	* tests/type/primitive-arg.tig, tests/type/primitive-result.tig: New.
	* tests/type/Makefile.am, tests/bind/Makefile.am: Adjust.

2004-09-27  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* src/type/test-type.cc, src/type/type-entry.hxx,
	* src/type/types.cc, src/type/type-env.cc, src/type/types.hh,
	* src/type/type-visitor.cc, src/type/type-env.hh,
	* src/type/types.hxx, src/type/type-visitor.hh,
	* src/type/type-entry.hh, src/escapes/escapes-check-visitor.cc,
	* src/escapes/callgraph-visitor.hh,
	* src/escapes/escapes-check-visitor.hh,
	* src/escapes/escapes-visitor.cc, src/escapes/escapes-visitor.hh,
	* src/common.hh, src/regalloc/color.cc,
	* src/regalloc/regallocator.cc, src/regalloc/libregalloc.cc,
	* src/regalloc/test-regalloc.cc, src/regalloc/regallocator.hh,
	* src/regalloc/color.hh, src/regalloc/libregalloc.hh,
	* src/liveness/flowgraph.hxx, src/liveness/libliveness.cc,
	* src/liveness/liveness.hh, src/liveness/interference-graph.hh,
	* src/liveness/flowgraph.hh, src/liveness/test-flowgraph.cc,
	* src/liveness/interference-graph.cc, src/liveness/liveness.cc,
	* src/tc.cc, src/translate/exp.cc, src/translate/level-env.cc,
	* src/translate/translation.cc, src/translate/access.cc,
	* src/translate/translate-visitor.hh, src/translate/exp.hh,
	* src/translate/level.cc, src/translate/level-env.hh,
	* src/translate/translation.hh, src/translate/access.hh,
	* src/translate/exp.hxx, src/translate/level-env.hxx,
	* src/translate/level-entry.hh, src/translate/level.hh,
	* src/translate/access.hxx, src/translate/libtranslate.cc,
	* src/translate/level.hxx, src/translate/translate-visitor.cc,
	* src/translate/fwd.hh, src/canon/traces.hh,
	* src/canon/basic-block.hxx, src/canon/canon.cc,
	* src/canon/libcanon.hh, src/canon/traces.cc,
	* src/canon/basic-block.hh, src/canon/libcanon.cc,
	* src/canon/canon.hh, src/canon/basic-block.cc, src/tree/cjump.hxx,
	* src/tree/seq.hh, src/tree/name.hxx, src/tree/fragment.hh,
	* src/tree/tree.hxx, src/tree/libtree.cc, src/tree/name.hh,
	* src/tree/tree.cc, src/tree/fragments.hh, src/tree/binop.cc,
	* src/tree/visitor.hxx, src/tree/const.hh, src/tree/label.hxx,
	* src/tree/tree.hh, src/tree/call.cc, src/tree/temp.hh,
	* src/tree/fragment.hxx, src/tree/temp.hxx, src/tree/cjump.hh,
	* src/tree/seq.cc, src/tree/fragment.cc, src/tree/const.hxx,
	* src/tree/visitor.hh, src/tree/seq.hxx, src/tree/iterator.hxx,
	* src/tree/fragments.cc, src/tree/label.hh, src/graph/graph.hh,
	* src/graph/graph.hxx, src/task/task-register.hh, src/task/task.cc,
	* src/task/libtask.hh, src/task/int-task.hh, src/task/task.hh,
	* src/task/boolean-task.cc, src/task/task.hxx,
	* src/task/task-register.cc, src/task/boolean-task.hh,
	* src/task/int-task.cc, src/temp/libtemp.cc, src/temp/identifier.hh,
	* src/temp/temp-list.hxx, src/temp/label-list.hh,
	* src/temp/libtemp.hh, src/temp/temp-set.hh, src/temp/temp-list.cc,
	* src/temp/factory.hh, src/temp/test-temp.cc, src/temp/temp-list.hh,
	* src/temp/label-list.cc, src/temp/fwd.hh, src/assem/instrs.hh,
	* src/assem/instr.cc, src/assem/fragments.hh, src/assem/fragment.cc,
	* src/assem/visitor.hh, src/assem/instr.hh, src/assem/fragment.hh,
	* src/assem/oper.hh, src/assem/move.hh, src/assem/visitor.hxx,
	* src/assem/instrs.cc, src/assem/fragment.hxx, src/assem/oper.hxx,
	* src/assem/move.hxx, src/assem/label.hh, src/parse/libparse.hh,
	* src/parse/libparse.cc, src/parse/import-visitor.hh,
	* src/parse/parse.hh, src/parse/tasks.cc,
	* src/parse/import-visitor.cc, src/parse/import-visitor.hxx,
	* src/bind/libbind.hh, src/bind/libbind.cc,
	* src/bind/bind-visitor.hh, src/bind/bind-visitor.cc, src/common.cc,
	* src/version.hh, src/target/ia32-cpu.hh, src/target/mips-cpu.cc,
	* src/target/target.hh, src/target/cpu.hh, src/target/mips-cpu.hh,
	* src/target/tasks.cc, src/target/target.cc, src/target/cpu.cc,
	* src/ast/decs.hxx, src/ast/test-ast.cc, src/ast/libast.hxx,
	* src/ast/anydecs.hh, src/ast/anydecs.hxx, src/ast/libast.cc,
	* src/ast/decs.hh, src/ast/default-visitor.hh,
	* src/ast/default-visitor.hxx, src/ast/libast.hh,
	* src/frame/access.hh, src/frame/access.cc, src/frame/frame.hh,
	* src/frame/frame.cc, src/frame/fwd.hh, src/misc/path.hh,
	* src/misc/timer.cc, src/misc/path.cc, src/misc/ref.hxx,
	* src/misc/timer.hxx, src/misc/set.hh, src/misc/contract.cc,
	* src/misc/set.hxx, src/misc/path.hxx, src/misc/containers.hh,
	* src/misc/ref.hh, src/misc/containers.hxx, src/misc/traits.hxx,
	* src/misc/timer.hh, src/codegen/libcodegen.cc,
	* src/codegen/codegen.hh, src/codegen/mips/test-rw_prg.cc,
	* src/codegen/mips/codegen.hh, src/codegen/mips/spim-assembly.hh,
	* src/codegen/mips/spim-layout.cc, src/codegen/mips/codegen.cc,
	* src/codegen/mips/spim-assembly.cc, src/codegen/tasks.cc,
	* src/codegen/libcodegen.hh, src/codegen/codegen.hxx,
	* src/codegen/assembly.hh, src/codegen/ia32/codegen.hh,
	* src/codegen/ia32/gas-assembly.hh, src/codegen/ia32/codegen.cc,
	* src/codegen/ia32/gas-layout.cc, src/codegen/ia32/gas-assembly.cc,
	* src/symbol/symbol.hh, src/symbol/table.hh, src/symbol/symbol.cc,
	* src/symbol/symbol.hxx, src/symbol/table.hxx,
	* src/overload/overfun-type-visitor.cc,
	* src/overload/overfun-type-visitor.hh,
	* src/cppgen/includes/control.hh, src/cppgen/cppgen-visitor.hh:
	Normalize types.

2004-09-27  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* config/ampersand.rb: New script to normalize `&' and `*' in types.
	* config/ampersand_test.yml: New test file for ampersand.rb.

2004-09-26  Akim Demaille  <akim@epita.fr>

	Simplify the handling of "import" by simplify LetExp.
	Instead of having one homogenous list of declarations per LetExp,
	let LetExp accept an heterogeneous list of homogeneous declarations.

	* src/ast/decs.hh (decs_list_type): New.
	* config/ast-nodes-gen (includes_map): Handle decs_list_type.
	* src/ast/ast.xml (LetExp): Let decs be a decs_list_type*.
	Remove is_valid and replace_content, now useless (that's the whole
	point).
	* src/ast/letexp.cc, src/ast/letexp.hh, src/ast/letexp.hxx: Regen.

	Adjust the parsing.

	* src/parse/libparse.cc (parse): Formatting changes.
	* src/parse/parsetiger.yy (let.rest): Remove completely.
	(decs): New type, and new symbol.
	(yyinclude): Remove, unused.
	(yydecs): New.
	(program): Use yydecs to return the result of a prelude file.

	Simplify the import processing.

	* src/parse/import-visitor.cc, src/parse/import-visitor.hh
	(parse_file): Rename as...
	(parse_prelude): this.
	Adjust to decs_list_type and yydecs.
	(operator() (ImportDecs): Adjust.

	Adjust other visitors.

	* src/ast/default-visitor.hh: Comment changes.
	* src/ast/default-visitor.hxx (LetExp): Adjust the visit code.
	* src/ast/print-visitor.cc: Likewise.
	* src/cppgen/cppgen-visitor.cc: Completely disable the handling
	of declarations here: for some reason yet to be tracked down, the
	same change as above does not work.
	Yes, this means that this visitor compiles, but behaves improperly.
	* src/translate/translate-visitor.cc: Likewise.
	* src/type/type-visitor.cc: Likewise.

2004-09-22  Akim Demaille  <akim@epita.fr>

	* config/bison++: Set -e.

2004-09-21  Arnaud Fabre  <fabre_a@epita.fr>

	Merge the implementation of import directive.

	Theses additionnals modifications take into account changes which
	occured in trunk :
	* src/ast/print-visitor.cc (ImportDec): Use misc::idenl for
	indenting output.
	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx
	(ImportDec, ImportDecs): Change	prototype for using the template
	Const.
	* src/parse/import-visitor.hh (ImportVisitor): Make class derive
	from ast::DefaultVisitor.
	* config/ast-visitor-gen: Adapt generated prototypes to the new
	type of class GenVisitor.
	* config/ast-nodes-gen (print_attributes): Correct type error in
	accessor W when 1) the target type is a pointer, 2) the attribute
	is mandatory.
	* src/ast/ast.xml (letexp): Change access attribute to reflect
	changes in prototypes.
	* src/ast/letexp.hxx: Regen.

	2004-08-31  Arnaud Fabre  <fabre_a@epita.fr>

	A lot of formatting fixes. Some minor fixes.

	* src/ast/ast.xml (ImportDec): Change comment.
	(LetExp): Fix some formattting.
	* src/parse/import-visitor.cc (operator() ImportDec): New method.
	(operator() LetExp): Fix formatting. Reuse parent method.
	* src/misc/path.cc (init): Remove useless path_.clear ().
	Fix formatting.
	* src/ast/default-visitor.hxx (ImportDecs, ImportDec): Make the
	traversal fail with unreached.
	* src/parse/import-visitor.hh: Change comment. Fix formatting.
	* src/misc/path.hh, src/misc/path.hxx, src/misc/test-path.cc,
	* src/parse/libparse.cc, src/parse/parsetiger.yy,
	* src/parse/import-visitor.hxx: Fix formatting.
	* src/ast/letexp.hh, src/ast/importdec.hh: Regen.

	2004-08-26  Arnaud Fabre  <fabre_a@epita.fr>

	Implement ImportVisitor, misc::Path

	* Import_readme: Report changes requested by Akim.
	* src/ast/alldec.hh (importdec.hh): Add include.
	* src/ast/anydecs.hh (ImportDecs): New typedef.
	* src/ast/print-visitor.hh, src/ast/print-visitor.cc
	(ImportDec): New printing method.
	* src/ast/letexp.hh, src/ast/visitor.hh, src/ast/fwd.hh: Regen.
	* src/ast/importdec.cc, src/ast/importdec.hh,
	* src/ast/importdecs.hxx: New generated files.
	* src/ast/ast.xml (ImportDec, ImportDecs): New nodes.
	(LetExp): New misc function.
	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx
	(ImportDec, ImportDecs): New methods.
	* src/misc/path.hh, src/misc/path.hxx, src/misc/path.cc:
	New files. Implement class misc::Path.
	* src/misc/test-path.cc: New file. Test suite for misc::Path.
	* src/parse/libparse.hh (import work list): Remove typedefs.
	* src/parse/libparse.cc (parse): Use ImportVisitor to handle import
	directives.
	* src/parse/parsetiger.yy (let.rest, decs): Create ImportDec and
	ImportDecs when	parsing import directive.
	(yyinclude): Remove variable.
	* src/parse/import-visitor.hh, src/parse/import-visitor.hxx,
	* src/parse/import-visitor.cc: New files. Implement ImportVisitor
	* src/cppgen/cppgen-visitor.hh (ImportDec, ImportDecs): New
	methods.
	* config/ast-visitor-gen, config/ast-fwd-gen (ImportDec)
	(ImportDecs): Add support.
	* src/misc/Makefile.am (libmisc_a_SOURCES): Add new files.
	(test_path_SOURCES): New program.
	(check_PROGRAMS): Add test-path.
	* src/parse/Makefile.am (libparse_a_SOURCES): Add import visitor
	files.

	2004-08-20  Arnaud Fabre  <fabre_a@epita.fr>

	Implementation of basic import directive.

	* Import_readme: New file
	* src/ast/ast.xml: Add method in LetExp for importing header ast
	* src/ast/letexp.hh: Regen
	* src/ast/libparse.hh: Add structure and typedef for storing
	informations about importation
	* src/parse/libparse.cc: Launch parsing of imported files and merge
	them in the initial source file
	* src/parse/scantiger.ll: Add "import" token. New yylex custom
	function.
	* src/parse/parsetiger.yy (let.rest): Add rule for import directive
	(decs): New non-terminal for header files
	(program): Select type of file depending on the seed
	(token): Add seed tokens
	* src/parse/parse.hh: Change prototype of function yylex for Flex.

2004-09-20  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* config/studentize: Handle student tags on a single line, like
	/*<<-*/ hidden /*->>*/.

2004-09-11  Akim Demaille  <akim@epita.fr>

	Various stylistic changes.

	* src/escapes/tasks.cc, src/escapes/tasks.hh (callgraph-display)
	(parentgraph-display): Rename as...
	(callgraph-dump, parentgraph-dump): these.
	* src/temp/map.hcc, src/temp/map.hh: Space changes.
	* src/type/tasks.hh: Remove useless tasks dependencies, they
	clutter the task graph.
	* src/cppgen/tasks.hh, tests/tc-check.in: Rename --cpp-display as
	--cxx-display.

2004-09-14  Akim Demaille  <akim@epita.fr>

	* src/ast/print-visitor.hh, src/ast/print-visitor.cc (tab_, dec_)
	(inc_, inc_endl_, dec_endl_, endl_): Remove.
	Use misc::indent instead.

2004-09-08  Roland Levillain  <roland@lrde.epita.fr>

	Rename ast::FieldExp as ast::FieldInit.

	* src/ast/ast.xml: Rename FieldExp as FieldInit.  Make it directly
	inherit	from Ast, rather than from Exp.
	Rename fieldexps_type as fieldinits_type.
	* config/ast-fwd-gen (fieldexps_type): Rename typedef as...
	(fieldinits_type): ...this.  Adjust type definition.
	* config/ast-nodes-gen (includes_map): s/fieldexp/fieldinit/.

	* src/ast/fieldexp.cc: Rename (regen) as...
	* src/ast/fieldinit.cc: ...this.
	* src/ast/fieldexp.hh: Rename (regen) as...
	* src/ast/fieldinit.hh: ...this.
	* src/ast/fieldexp.hxx: Rename (regen) as...
	* src/ast/fieldinit.hxx: ...this.
	* src/ast/fwd.hxx, src/ast/visitor.hh,
	* src/ast/recordexp.cc, src/ast/recordexp.hh,
	* src/ast/recordexp.hxx: Regen.

	* src/ast/allexp.hh: No longer include ast/fieldexp.hh.
	* src/ast/all.hh: Include ast/fieldinit.hh.

	* src/ast/default-visitor.hh: Rename FieldExp as FieldInit.
	* src/ast/default-visitor.hxx: Likewise.
	* src/ast/print-visitor.hh: Likewise.
	* src/ast/print-visitor.cc: Likewise.
	Rename fieldexps_type as fieldinits_type.
	* src/parse/parsetiger.yy: Rename FieldExp as FieldInit,
	fieldexps_type as fieldinits_type,
	fieldexp as fieldinit,
	fieldexps as fieldinits.
	* src/type/type-visitor.cc: Rename FieldExp as FieldInit.
	* src/cppgen/cppgen-visitor.hh: Likewise.
	* src/cppgen/cppgen-visitor.cc: Likewise.

2004-09-06  Akim Demaille  <akim@epita.fr>

	Use the bindings to compute the call graph.

	* src/escapes/callgraph-visitor.hh, src/escapes/callgraph-visitor.cc:
	Vastly simplify, using the bindings.
	The scoped sybol table is no longer needed.
	Include just what is needed, not ast/all.hh!
	* src/escapes/tasks.hh (callgraph-build): Depend on bind, and...
	(callgraph-compute): rename as this.
	* src/escapes/parentgraph-visitor.hh,
	* src/escapes/parentgraph-visitor.cc: Formatting and stylistic
	changes.
	* src/escapes/tasks.hh, src/escapes/tasks.cc (parentgraph-build):
	Rename as...
	(parentgraph-compute): this.

2004-09-02  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy: Add %printer clauses.
	Fix %destructor clauses for list of pointers: free the content.
	* src/parse/Makefile.am: Remove trailing debugging code.
	* tests/syntax/syntax-vs-type-1.tig: Style changes.

2004-09-01  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy: Invoke %destructor for the relevant
	symbols.

2004-09-01  Akim Demaille  <akim@epita.fr>

	Stop making ast::tasks::print support all the PV options.
	In the long run, stream modifiers might be a better option
	to save recompilation and augment the modularity.

	* src/ast/print-visitor.hh, src/ast/print-visitor.cc
	(PrintVisitor::PrintVisitor): Take only the ostream as argument.
	(escapes_display_set, escapes_tags_display_set)
	(sl_display_set, bindings_display_set, bindings_display_p_): New.
	* src/ast/libast.hh, src/ast/libast.cc (print): Adjust.
	* src/escapes/tasks.cc: Use the PrintVisitor directly.
	* src/bind/tasks.hh, src/bind/tasks.cc (bindings_display)
	Implement for real.

2004-09-01  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen, config/ast.py: Remove debugging code.

2004-08-31  Akim Demaille  <akim@epita.fr>

	Implement support for several super classes.

	* config/ast.py (formal_ctor_read_decl): Remove.  Inline and
	simplify its only call into...
	(Node.ctor_args): here.
	(Node.ctor_init): Adjust to iterate over super classes.
	(NodeBuilder): Make super a list.
	(Loader.resolve_super): Iterate over super classes.
	* config/ast-nodes-gen: Iterate over super classes.
	* config/ast-nodes-mk-gen: Consider only the first super class for
	indentation matters.

	Factor out escaping features into Escapable.

	* src/ast/ast.xml (Escapable): New.
	(Field, VarDec): No longer implement escape and escape_tag
	support: derive from Escapable.
	* src/ast/vardec.hh, src/ast/vardec.hxx, src/ast/vardec.cc,
	* src/ast/field.hh, src/ast/field.hxx, src/ast/field.cc: Regen.
	* src/ast/escapable.hh, src/ast/escapable.hxx,
	* src/ast/escapable.cc: New (generated).
	* src/ast/fwd.hh: Regen.
	* src/ast/visitor.hh: Regen.
	* src/ast/default-visitor.hh: As a temporary and unsatisfactory
	hack, implement a do-nothing visit for Escapable.
	* src/cppgen/cppgen-visitor.hh: Likewise.

	* src/escapes/escapes-visitor.cc (var_get): Factor.
	* src/parse/parsetiger.yy: Adjust to the new order of ctor
	arguments (super class attributes are first).

2004-08-30  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-mk-gen: Take no arg.
	* src/ast/Makefile.am: Adjust the invocation.

2004-08-30  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-mk-gen: Consider the output is in srcdir too.
	* src/ast/Makefile.am: Add $(srcdir) where needed.

2004-08-30  Akim Demaille  <akim@epita.fr>

	Finally use all these ast.xml changes: use it for def sites.

	* src/ast/ast.xml (CallExp, SimpleVar, NameTy): Remove the hand
	written definition site handling: rather use regular attribute
	handling.
	Note, btw, that this is more than merely aesthetics: the def_
	members were not initialized (to 0), which upsets valgrind.

2004-08-30  Akim Demaille  <akim@epita.fr>

	* config/ast.py (Handler.boolean_attribute_set): New.
	(Handler.startElement): Use it to handle attribute "owned" (new),
	and "mandatory" which replaces "necessity".
	(Attribute.print_delete): Rename as...
	(Attribute.delete): ... this, which does not print, of course.
	Adjust callers.
	* src/ast/ast.py: Adjust to these new flags.

2004-08-27  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen: Improve the output using ast.decl to join
	a type and an id, with a space if needed.
	* config/ast.py (attr_decl): Fix a bug: use decl too (so that we
	never mix the type and the id together).
	(print_decl): Fix a bug: delete pointers, not "not atomic" types.

2004-08-27  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen: No longer test for init=copy, it is
	useless.
	* config/ast.py (re_init_set): Remove.
	Instead of using it, just test whether the init member has a
	value, and use it as initial value.
	* src/ast/ast.xml: s/init="set:/init="/.
	Adjust the documentation.

2004-08-27  Akim Demaille  <akim@epita.fr>

	* src/ast/ast.xml: Remove all the uses of init=copy.
	This information can be recovered from the type of the attribute.
	* config/ast.py (Attribute.pointer_p): New.
	(decl): New.
	* config/ast-nodes-gen: Adjust.

2004-08-27  Akim Demaille  <akim@epita.fr>

	And now, enjoy all these ast-nodes-gen changes...

	* src/ast/ast.xml: Declare the type of all the pointer attributes
	as... a pointer.
	* config/ast.py (Attributes): Adjust all methods checking the type
	by checking the root_type ().
	Some methods are much simplified.

2004-08-27  Akim Demaille  <akim@epita.fr>

	* config/ast.py (Attribute.attr_decl, Attribute.print_delete):
	Take atomicity into account.
	* src/ast/ast.xml: Remove init=copy for all atomic types.

2004-08-27  Akim Demaille  <akim@epita.fr>

	* config/ast.py (Attribute.atomic_p): New.
	(Attribute.print_delete): New.
	* config/ast-nodes-gen: Use them.
	Remove "copy:VALUE" support.
	* src/ast/ast.xml: Adjust comments.

2004-08-27  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen (print_attributes): Export a part of the
	job...
	* config/ast.py (Attribute.attr_decl): here.
	Adjust callers.
	* src/ast/ast.xml: Comment changes.

2004-08-27  Akim Demaille  <akim@epita.fr>

	* src/ast/ast.xml: Fix/complete the documentation.
	(AssignExp::force): Init as "set", not "copy".
	* config/ast-nodes-gen (re_pointer, re_reference)
	(re_init_default, re_init_set): Remove useless globals.
	(print_ctor_dtor): Simplify the definition of "hide" (no visible
	difference in the output).
	(need_duplicate): Move to...
	* config/ast.py (Node.need_duplicate): here.
	Adjust caller.

2004-08-27  Akim Demaille  <akim@epita.fr>

	* src/ast/Makefile.am (ast_gen_deps): New.
	Use it to complete the dependencies on ast.py.
	* config/ast.py, config/ast-nodes-gen, config/ast-nodes-mk-gen:
	Use += when nicer.

2004-08-27  Akim Demaille  <akim@epita.fr>

	* config/ast.py (Loader.resolve_super): New.
	Adjust all "Node.super" uses.
	(Loader.load): Use it.
	* config/ast-nodes-gen (node_map): No longer needed.
	(ctor_args, ctor_init): More to...
	* config/ast.py (Node.ctor_args, Node.ctor_init): here.

2004-08-27  Akim Demaille  <akim@epita.fr>

	* config/ast.py (Attribute.ctor_init): New, from...
	* config/ast-nodes-gen (attribute_init): this.
	(ctor_init): Use it.
	Use /* */ for student marks instead of //.
	Remove unused argument.

2004-08-27  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen (ctor_init): More student_hide
	simplifications.  The code output is poorer, but ast-nodes-gen is
	much clearer.

2004-08-26  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen: Don't be smart about embedded student
	marks.  That's studentize's job.

2004-08-26  Akim Demaille  <akim@epita.fr>

	Clarify interrelated ifs.

	* config/ast.py (Attribute.r_type, Attribute.W_type):
	(Attribute.w_type): New.
	* config/ast-nodes-gen: Use them.

2004-08-26  Akim Demaille  <akim@epita.fr>

	* config/tools.py (class_id): Remove, useless.
	(warning): Don't trash stdout.
	* config/ast.py (Node.fname, Node.guard, Node.cc, Node.hh)
	(Node.hxx): New.
	* config/ast-nodes-gen: Use them.

2004-08-26  Akim Demaille  <akim@epita.fr>

	ast-nodes-gen: map the nodes.

	* config/ast-nodes-gen (node_map): New global that remove the need
	to pass the list of all the nodes to almost all the routines.
	It also removes some linear behavior where (almost) constant time
	is doable.

2004-08-26  Akim Demaille  <akim@epita.fr>

	Simplify ast-nodes-gen.
	It is too hard to understand: there are too many relationships
	between attribute attributes, I'm lost.

	* config/ast.py (Attribute.formal_ctor_read_decl): New.
	(Attribute.root_type): New.
	* config/ast-nodes-gen: Use them.
	Use string.join where useful.
	* src/ast/ast.xml: Fix the documentation.
	Remove "ast::": we're in it!
	(AssignExp): Fix a typo.

2004-08-26  Akim Demaille  <akim@epita.fr>

	build != src fix.

	* src/parse/Makefile.am: Specify the path of the parsetiger.stamp
	to remove.

2004-08-24  Akim Demaille  <akim@epita.fr>

	* src/Makefile.am (version.cc): Small optimization: quit scanning
	ChangeLog once $Id found.
	Suggested by Alexandre Duret-Lutz.

2004-08-24  Akim Demaille  <akim@epita.fr>

	* src/Makefile.am (version.cc): Be robust to `/' in $Id.

2004-08-22  Akim Demaille  <akim@epita.fr>

	* src/codegen/codegen.hh, src/codegen/mips/codegen.cc,
	* src/codegen/mips/codegen.hh, src/symbol/table.hh,
	* src/translate/access.hh, src/translate/level.hh: Documentation
	and layout changes.

2004-08-20  Akim Demaille  <akim@epita.fr>

	Use function bindings in translation.  Last use of Table!

	* src/translate/level-env.hh, src/translate/level-env.hxx,
	* src/translate/level-env.cc (scope_begin, scope_end): Remove.
	(LevelEnv::LevelEnv): Don't store builtins in the table.
	(ftable_type): Be a simple std::map.
	(fun_put, label_get, level_get): Adjust.
	* src/translate/translate-visitor.cc: Adjust.

2004-08-20  Akim Demaille  <akim@epita.fr>

	Let the documentation catch up with the introduction of BindVisitor.

	* src/ast/ast.xml (CallExp, NameTy, SimpleVar): Let their def_ and
	def_get store/provide non const information.
	* src/ast/callexp.hh, src/ast/namety.hh, src/ast/simplevar.hh:
	Regen.
	* src/translate/level-env.cc, src/translate/level-env.hh,
	* src/translate/level-env.hxx: Comment changes.
	* src/translate/translate-visitor.hh: More/better Doxygen.
	* src/type/type-env.hh: Fix/update doc.
	* src/bind/bind-visitor.hh, src/bind/bind-visitor.cc:
	Fix/update document.
	(var_put, var_get, fun_put, fun_get, type_put, type_get):
	Now that def_get returns non const nodes, propagate that
	non-constness.
	Adjust callers: remove the now useless const_casts.
	* src/bind/libbind.hh: More Doxygen.

2004-08-19  Akim Demaille  <akim@epita.fr>

	Fix function and type scope handling.

	* src/ast/print-visitor.cc: Print bindings for functions and types
	too.
	* src/bind/bind-visitor.cc (scope_begin, scope_end): Handle types
	and functions scopes.

2004-08-19  Akim Demaille  <akim@epita.fr>

	Believe it or not: the test suite passes although I forgot
	to implement scopes for types and functions!!!
	Complete the test suite to exercise let-scopes for functions and types.

	* tests/good/two-functions-with-the-same-name.tig: Rename as...
	* tests/good/let-scope-for-functions.tig: this.
	Adjust to provoke a type checking error if scopes are not
	properly handled.
	* tests/good/let-scope-for-types.tig: New.

2004-08-19  Akim Demaille  <akim@epita.fr>

	There is no need for Main/Outer levels: one is enough.

	* src/frame/frame.hh: Formatting changes.
	* src/translate/level.hh: Comment fixes.
	(Level::Level): Change the 1ary version	to take a Label as argument
	instead of a frame.
	* src/translate/level.hxx (Level::Level): Move this 1ary version to...
	* src/translate/level.cc (Level::Level): here.
	* src/translate/translate-visitor.hh,
	* src/translate/translate-visitor.cc
	(TranslateVisitor::TranslateVisitor): Now no arguments at all.
	Create the top most level here.
	And pass it to env_.
	(hir_naive_p_): Public.
	* src/translate/libtranslate.cc (translate): Adjust.

2004-08-18  Akim Demaille  <akim@epita.fr>

	* src/ast/Makefile.am (libast_a_SOURCES): Add position.hh.

2004-08-18  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-mk-gen: Use `+' when concatenating strings.

2004-08-17  Akim Demaille  <akim@epita.fr>

	Use bindings for functions in the TypeVisitor.

	* src/overload/over-table.hh (scope_begin, scope_end): Recycle the
	documentation from type-env.hh.
	* src/overload/overfun-type-visitor.cc (scope_begin, scope_end):
	Don't play scopes with env_.
	* src/type/type-env.hh, src/type/type-env.cc (BUILTINS)
	(BUILTIN_0ARY, BUILTIN_1ARY, BUILTIN_2ARY, BUILTIN_3ARY): New.
	Temporary solution until we have a prelude.
	(TypeEnv::TypeEnv): No table (for the outer scope) to initialize.
	(~TypeEnv): None to destroy.
	(scope_begin, scope_end): Remove.
	(ftable_type): Be a std::map, not a symbol::Table.
	(fun_put, formals_get, result_get): Adjust.
	* src/type/type-visitor.hh, src/type/type-visitor.cc: Adjust.
	(scope_begin, scope_end): Remove.

	* tests/type/for-index-in-higher-bound.tig,
	* tests/type/fractions-overloaded.tig,
	* tests/type/invalid-function-redefinition-1.tig,
	* tests/type/invalid-function-redefinition-2.tig,
	* tests/type/invalid-type-redefinition.tig,
	* tests/type/nonexistent-vardec-type.tig,
	* tests/type/nonexistent-vardecrec-type.tig,
	* tests/type/overload-function-redefinition.tig,
	* tests/type/overload-nil-ambiguity.tig,
	* tests/type/print-tree-static.tig, tests/type/test17.tig,
	* tests/type/test18.tig, tests/type/test19.tig,
	* tests/type/undeclared-variable.tig,
	* tests/type/unknown-array-base-type.tig,
	* tests/type/unknown-array-type-1.tig,
	* tests/type/unknown-array-type-2.tig,
	* tests/type/unknown-record.tig, tests/type/unknown-return-type.tig,
	* tests/type/void-does-not-exist.tig: Move to...
	* tests/bind/for-index-in-higher-bound.tig,
	* tests/bind/fractions-overloaded.tig,
	* tests/bind/invalid-function-redefinition-1.tig,
	* tests/bind/invalid-function-redefinition-2.tig,
	* tests/bind/invalid-type-redefinition.tig,
	* tests/bind/nonexistent-vardec-type.tig,
	* tests/bind/nonexistent-vardecrec-type.tig,
	* tests/bind/overload-function-redefinition.tig,
	* tests/bind/overload-nil-ambiguity.tig,
	* tests/bind/print-tree-static.tig, tests/bind/test17.tig,
	* tests/bind/test18.tig, tests/bind/test19.tig,
	* tests/bind/undeclared-variable.tig,
	* tests/bind/unknown-array-base-type.tig,
	* tests/bind/unknown-array-type-1.tig,
	* tests/bind/unknown-array-type-2.tig,
	* tests/bind/unknown-record.tig, tests/bind/unknown-return-type.tig,
	* tests/bind/void-does-not-exist.tig: ... here.

2004-08-06  Akim Demaille  <akim@epita.fr>

	Don't store in the LevelEnv whether a function needs an SL.
	Use the bindings to keep track of it.

	* src/translate/level-entry.hh (LevelFunEntry::sl_needed_p_)
	(LevelFunEntry::sl_needed_get): Remove.
	* src/translate/level-env.hh, src/translate/level-env.cc
	(fun_put, BUILTIN_PUT): Adjust.
	(sl_needed_get): Remove.
	* src/translate/translate-visitor.cc (CallExp): Use def_get to
	recover sl_needed from the FunctionDec.
	(FunctionDec): Adjust.

2004-08-05  Akim Demaille  <akim@epita.fr>

	Use bindings, not scopes, for variables in the TranslateVisitor.

	* src/translate/level-entry.hh (VarEntry): Remove.
	* src/translate/level-env.cc, src/translate/level-env.hh,
	* src/translate/level-env.hxx (vtable_type): Store directly
	the Access.
	And, by the way, be a std map.
	(var_put): Adjust.
	(var_access_get): Adjust and rename as...
	(var_get): this.
	(scope_begin, scope_end): Drop scopes for variables.
	* src/translate/translate-visitor.cc (SimpleVar): Adjust.
	(ForExp): Adjust, and remove scope handling.
	(FunctionDec): Stop playing with the scopes.

2004-08-05  Akim Demaille  <akim@epita.fr>

	Use the bindings for type checking types.

	* src/ast/ast.xml (CallExp): Its def is a FunctionDec (not only an
	Ast).
	(NameTy): Its def is a TypeDec.
	* src/ast/callexp.hh, src/ast/namety.hh: Regen.
	* src/bind/bind-visitor.hh, src/bind/bind-visitor.cc (fun_get)
	(type_get, funtab_type, typetab_type): Adjust.
	* src/type/type-entry.cc, src/type/type-entry.hh,
	* src/type/type-entry.hxx (TypeEntry): Remove, really useless.
	* src/type/type-env.cc, src/type/type-env.hh (ttable_type): Adjust:
	directly point to the NameTy.
	And be a map instead of a symbol::Table.
	(type_put, type_get): Adjust.
	(var_put): Use misc::put.
	(scope_begin, scope_end): Remove the case of types.
	* src/type/type-visitor.cc: Adjust.

2004-08-05  Akim Demaille  <akim@epita.fr>

	Factor the update of a map.

	* src/misc/containers.hh, src/misc/containers.hxx (put): New.
	* src/symbol/table.hh (put): Use it.
	And by the way, return an iterator onto the newly inserted element.

2004-08-04  Akim Demaille  <akim@epita.fr>

	Remove scope support for variables in the TypeVisitor.

	* src/type/type-env.cc, src/type/type-env.hh (scope_begin, scope_end):
	Remove the case of vtable_.
	(var_put, var_get, var_writable_set, var_writable_getg): Rewrite to
	take Ast nodes instead of Symbols.
	(print): Deactivate the case of vtables_.
	* src/type/type-visitor.cc: Adjust callers.
	(ForExp): Reorder now that we no longer are bound to the binding
	order.
	Remove scope handling.
	(FunctionDec): Remove scope handling.
	Adjust to provide Ast nodes to var_put.
	* src/overload/overfun-type-visitor.cc: Adjust the FunctionDec
	case as above.

2004-08-04  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.cc: Remove code that can no longer be
	triggered now that the BindVisitor catches undefined/duplicate
	entities before that the TypeVisitor is run.
	* tests/type/nonexistent-vardec-type.tig,
	* tests/type/nonexistent-vardecrec-type.tig: Move to...
	* tests/bind/nonexistent-vardec-type.tig,
	* tests/bind/nonexistent-vardecrec-type.tig: here.

2004-08-03  Akim Demaille  <akim@epita.fr>

	Let the BindVisitor bind functions and types.  But don't use its
	result yet in other visitors, only some exit status change.

	* src/ast/ast.xml (CallExp, NameTy): Add def_set, def_get and def_.
	* src/ast/callexp.hh, src/ast/namety.hh: Regen.
	* src/bind/bind-visitor.hh, src/bind/bind-visitor.cc
	(fun_put, fun_get, type_put, type_get): New.
	(decs_visit): New.
	Use it to add visit for FunctionDec & CallExp, TypeDec & NameTy.

	Adjust the test suite.

	* tests/type/fractions-overloaded.tig,
	* tests/type/invalid-function-redefinition-1.tig,
	* tests/type/invalid-type-redefinition.tig,
	* tests/type/overload-function-redefinition.tig,
	* tests/type/overload-nil-ambiguity.tig,
	* tests/type/test17.tig, tests/type/test18.tig,
	* tests/type/unknown-array-base-type.tig,
	* tests/type/unknown-array-type-1.tig,
	* tests/type/unknown-array-type-2.tig,
	* tests/type/unknown-record.tig,
	* tests/type/unknown-return-type.tig,
	* tests/type/void-does-not-exist.tig: Move to...
	* tests/bind/fractions-overloaded.tig,
	* tests/bind/invalid-function-redefinition-1.tig,
	* tests/bind/invalid-type-redefinition.tig,
	* tests/bind/overload-function-redefinition.tig,
	* tests/bind/overload-nil-ambiguity.tig,
	* tests/bind/test17.tig, tests/bind/test18.tig,
	* tests/bind/unknown-array-base-type.tig,
	* tests/bind/unknown-array-type-1.tig,
	* tests/bind/unknown-array-type-2.tig,
	* tests/bind/unknown-record.tig,
	* tests/bind/unknown-return-type.tig,
	* tests/bind/void-does-not-exist.tig: here.
	* tests/type/Makefile.am, tests/bind/Makefile.am: Adjust.

2004-08-01  Akim Demaille  <akim@epita.fr>

	* src/overload/overfun-type-visitor.cc: Use error.
	* src/type/type-visitor.cc: Stylistic changes.
	* tests/tc-check.in: Use overload tests as type error for regular
	Tiger.

2004-08-01  Akim Demaille  <akim@epita.fr>

	* tests/overload/overload-var-type-inference.tig: New.

2004-07-28  Akim Demaille  <akim@epita.fr>

	Clean up the formal argument handling in the Ast.

	* src/ast/ast.xml (FunctionDec): Rename params as formals.
	* src/ast/functiondec.cc, src/ast/functiondec.hh,
	* src/ast/functiondec.hxx: Regen.
	* src/ast/default-visitor.hxx: Adjust.
	* src/translate/translate-visitor.cc: Adjust.
	* src/cppgen/cppgen-visitor.cc: Adjust.
	* src/escapes/escapes-check-visitor.cc: Adjust.
	* src/escapes/escapes-visitor.cc: Adjust.
	* src/ast/print-visitor.cc, src/ast/print-visitor.hh: Add an
	operator () for fields to factor common code between FunctionDec
	and RecordTy.
	* src/type/type-visitor.cc, src/type/type-visitor.hh (type):
	New overloaded version to factor the handling of fields_type.
	* src/overload/overfun-type-visitor.cc: Use it.

	* src/parse/parsetiger.yy: Formatting changes.
	* src/bind/bind-visitor.cc: Simplify the case of FunctionDec.

2004-07-27  Akim Demaille  <akim@epita.fr>

	Fix most Overloading and SL optimization "failures": fix the
	nolimips invocations in tc-check.

	* tests/tc-check.in (nolimips_check_one): Pass --nop-after-branch
	here to be sure not to forget a spot.
	* src/overload/overfun-type-visitor.cc: Stylistic changes.

2004-07-26  Akim Demaille  <akim@epita.fr>

	Use the variable bindings to compute the escapes.

	* src/escapes/escapes-visitor.cc, src/escapes/escapes-visitor.hh
	(operator ()(ForExp), operator ()(LetExp)): Remove, they
	were only handling scope issues.
	(scope_begin, scope_end): Likewise.
	(var_put, formal_put, escape_get): Remove, we now directly use
	the...
	(table_): Rename as...
	(depths_): this.  Store the depth of the definitions.
	(operator ()(SimpleVar), operator ()(FunctionDec)): Use it.

	* src/escapes/definition.cc, src/escapes/definition.hh,
	* src/escapes/definition.hxx: Remove.
	* src/escapes/Makefile.am: Adjust.

	* src/ast/print-visitor.cc (bind_display_p): New hackish #define.
	Use it when visiting SimpleVar, VarDec and Field to display bindings.

2004-07-25  Akim Demaille  <akim@epita.fr>

	Introduce the BindVisitor, which binds uses to definitions.
	At the end it should free other visitors from having to maintain
	an environment, as the Ast will be annotated with bindings to
	definitions.  For a start, only SimpleVar are bound to their
	definitions.  No Visitor use this annotation yet.  The only
	visible change is that unbound var identifiers are now caught by
	the BindVisitor, not the TypeVisitor.

	* src/bind/Makefile.am, src/bind/tiger_bind.i,
	* src/bind/bind-visitor.cc, src/bind/bind-visitor.hh,
	* src/bind/libbind.cc, src/bind/libbind.hh,
	* src/bind/tasks.cc, src/bind/tasks.hh: New.
	* src/Makefile.am, configure.ac: Adjust.

	* src/ast/ast.xml (SimpleVar): Add support for definition site.
	* src/ast/simplevar.hh: Regen.
	* src/escapes/tasks.hh (escapes-compute): Depend on "bind".
	* src/type/tasks.hh (type-check): Depend on "bind".
	* src/misc/fail.hh (exit_semant): Split into...
	(exit_typecheck, exit_bind): these.
	* src/type/tasks.cc: Adjust.
	* src/type/type-visitor.cc: Undefined var identifiers are now caught
	elsewhere.

	Move tests corresponding to binding errors to tests/bind.

	* tests/type/for-index-in-higher-bound.tig
	* tests/type/invalid-function-redefinition-2.tig,
	* tests/type/print-tree-static.tig, tests/type/test19.tig,
	* tests/type/undeclared-variable.tig: Move to...
	* tests/bind/for-index-in-higher-bound.tig
	* tests/bind/invalid-function-redefinition-2.tig,
	* tests/bind/print-tree-static.tig, tests/bind/test19.tig,
	* tests/bind/undeclared-variable.tig: ... here.
	* tests/Makefile.am, tests/mk-Makefile-am, tests/tc-check.in,
	* tests/type/Makefile.am, configure.ac: Adjust.

2004-07-25  Akim Demaille  <akim@epita.fr>

	* src/ast/ast.xml: Comment changes.
	* config/ast-nodes-gen: "delete 0" is valid C++.
	* src/ast/functiondec.cc, src/ast/vardec.cc: Regen.

2004-07-25  Akim Demaille  <akim@epita.fr>

	* src/escapes/libescapes.cc, src/escapes/libescapes.hh,
	* src/escapes/tasks.cc: Include adjustments.

2004-07-25  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen: Fix white space issues.
	* src/ast/arrayexp.hxx, src/ast/arrayty.hxx,
	* src/ast/assignexp.hxx, src/ast/ast.hxx, src/ast/callexp.hxx,
	* src/ast/dec.hxx, src/ast/field.cc, src/ast/field.hxx,
	* src/ast/fieldexp.hxx, src/ast/fieldvar.hxx, src/ast/forexp.hxx,
	* src/ast/functiondec.hxx, src/ast/ifexp.hxx, src/ast/intexp.hxx,
	* src/ast/letexp.hxx, src/ast/namety.hxx, src/ast/opexp.hxx,
	* src/ast/recordexp.hxx, src/ast/recordty.hxx, src/ast/seqexp.hxx,
	* src/ast/simplevar.hxx, src/ast/stringexp.hxx,
	* src/ast/subscriptvar.hxx, src/ast/typedec.hxx, src/ast/vardec.cc,
	* src/ast/vardec.hxx, src/ast/whileexp.hxx: Regen.

	* src/ast/print-visitor.cc, src/type/type-visitor.cc: Comment and space
	changes.

2004-07-22  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-visitor.hh: Fix a strange declaration.
	* src/translate/translate-visitor.cc: Var name changes.
	* config/ast-visitor-gen: Fix the Doxygen tags.

2004-07-21  Akim Demaille  <akim@epita.fr>

	Rename the template class DefaultVisitor as GenDefaultVisitor
	(for consistancy with GenVisitor), and define the class DefaultVisitor
	and DefaultConstVisitor.  That saves subclasses from including
	select-const.hh.

	* config/ast-visitor-gen: Comment changes.
	* src/ast/visitor.hh: Regen.
	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx: Do it.
	* src/ast/print-visitor.hh, src/cppgen/cppgen-visitor.hh,
	* src/escapes/callgraph-visitor.hh,
	* src/escapes/escapes-check-visitor.hh,
	* src/escapes/escapes-visitor.hh, src/escapes/parentgraph-visitor.hh,
	* src/translate/translate-visitor.hh, src/type/type-visitor.hh:
	Adjust.

2004-07-20  Akim Demaille  <akim@epita.fr>

	Make sure ast generation is performed in the src tree.

	* config/ast-fwd-gen, config/ast-nodes-gen, config/ast-nodes-mk-gen,
	* config/ast-visitor-gen: Take the srcdir as argument.
	* src/ast/Makefile.am: Adjust calls.

	* src/ast/ast.xml: Comment changes.
	* src/ast/assignexp.hh, src/ast/ast.hh, src/ast/callexp.hh,
	* src/ast/functiondec.hh, src/ast/fwd.hh, src/ast/ifexp.hh,
	* src/ast/letexp.hh, src/ast/opexp.hh, src/ast/seqexp.hh,
	* src/ast/vardec.hh, src/ast/visitor.hh: Regen.


	Use the constify_traits/id_traits unary traits approach to select
	constness instead of the previous binary structsm sorts of if.

	* src/misc/select-const.hh: Remove the old scheme.
	(select_iterator): Change the strategy: fetch the const_iterator for
	const structures.
	Suggested by Raphaël Poss.
	* src/misc/fwd.hh: Adjust.

	* config/ast-visitor-gen: Use the new scheme.
	* config/ast-fwd-gen: Adjust.
	* src/ast/default-visitor.hh, src/ast/default-visitor.hxx: Adjust.
	* src/ast/print-visitor.hh, src/escapes/callgraph-visitor.hh,
	* src/escapes/escapes-visitor.hh, src/escapes/parentgraph-visitor.hh,
	* src/escapes/escapes-check-visitor.hh, src/type/type-visitor.hh,
	* src/translate/translate-visitor.hh: Adjust.
	* src/ast/print-visitor.cc: Formatting changes.
	Use super_type.
	* src/escapes/escapes-visitor.cc: Move the dtor implementation here.

2004-07-20  Akim Demaille  <akim@epita.fr>

	* src/ast/ast.xml: Formatting changes.

2004-07-20  Akim Demaille  <akim@epita.fr>

	* src/canon/canon.cc: Comment changes.

2004-07-12  Akim Demaille  <akim@epita.fr>

	* src/canon/traces.hh, src/canon/traces.cc: Doc changes.

2004-07-12  Akim Demaille  <akim@epita.fr>

	* src/temp/map.hh, src/frame/frame.hh, src/translate/level.hh: Doc
	changes.

2004-07-09  Akim Demaille  <akim@epita.fr>

	* src/tree/binop.hxx, src/tree/eseq.hxx, src/tree/mem.hxx:
	Formatting changes.
	* src/tree/fwd.hh: Remove spurious semicolons.

2004-07-09  Akim Demaille  <akim@epita.fr>

	Fix the 100% failure on T9.

	Currently there are too many TempMap in use, and of course the
	wrong one is used to display the final assembly: the result is as
	if regallocation was not performed.

	* src/temp/map.hh, src/temp/map.hcc (clone): New.
	Formatting changes.
	* src/target/mips-cpu.cc (NolimipsTempMap::clone): New.
	* src/target/tasks.cc (target_set): The global tempmap is a clone
	of the current target's.
	* src/liveness/tasks.cc: Adjust to the global tempmap being a
	pointer now.
	* src/regalloc/tasks.cc (asm_compute): Likewise.
	* src/codegen/tasks.cc (instructions_display): Use the global
	tempmap, not the current target's (which is of course insensitive
	to regalloc).
	* src/temp/tasks.hh, src/temp/tasks.cc (tempmap): Now an
	auto_ptr.

2004-07-08  Akim Demaille  <akim@epita.fr>

	Let Cpu have their own TempMap that contains the needed magic to
	change fp into $fp etc.  In addition, let the MipsCpu become (more
	or less) a NolimipsCpu that also knows how to map t4 into $x4.
	Note: The same should now be done for Labels, since, for instance,
	we sometimes have to change the name of Main etc.

	* src/target/cpu.hh, src/target/cpu.cc (tempmap_, tempmap_get): New.
	(target_set): No longer change the global target::tasks::tempmap,
	since we use the current target's.
	(print): Report it.
	* src/codegen/tasks.cc (instructions_display::NolimipsTempMap):
	Move...
	* src/target/mips-cpu.cc (MipsCpu): into here.
	* src/codegen/tasks.cc (instructions_display): Use the TempMap
	from the current Cpu.
	* src/target/tasks.cc
	* src/target/fwd.hh: Extend.
	* src/codegen/tasks.hh (nolimips-display): Better documentation.

2004-07-08  Akim Demaille  <akim@epita.fr>

	* configure.ac: Bump to 0.75a.
	* src/target/ia32-cpu.hh, src/target/ia32-cpu.cc (~Ia32Cpu):
	Remove, useless.
	* src/target/mips-cpu.hh, src/target/mips-cpu.cc: Likewise.

	* src/temp/map.hcc (print): Use misc::indent.
	* src/assem/fragment.cc (print): Simplify.
	* src/assem/fragment.hh: Formatting changes.

2004-07-07  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* config/studentize: Fix a bug with nested //<<.

2004-07-07  Akim Demaille  <akim@epita.fr>

	Version 0.76.
	For 2006-tc-9.0.

	* doc/Makefile.am (CLEANFILES, EXTRA_DIST): Typos.

2004-07-07  Akim Demaille  <akim@epita.fr>

	* doc/Doxyfile.in (EXCLUDE): New: Skip CPPGen, which is not
	documented, and too hard to parse for Doxygen.

2004-07-07  Akim Demaille  <akim@epita.fr>

	* configure.ac: No longer instantiate it.
	* doc/Makefile.am: Do it.
	* src/regalloc/color.cc: Adjust student marks.

	* src/target/tasks.cc, src/target/fwd.hh, src/ast/tasks.hh,
	* src/liveness/libliveness.cc, src/liveness/libliveness.hh,
	* src/tree/libtree.hh, src/codegen/libcodegen.hh,
	* src/temp/libtemp.hh, src/symbol/fwd.hh, src/assem/libassem.hh:
	Adjust documentation.

2004-07-07  Akim Demaille  <akim@epita.fr>

	For the n-th time, rewrite the revision control keywords support.
	If version.cc does not change, its revision keyword will not
	either.  Since only ChangeLog is "guaranteed" to change at each
	checkin, extract the keywords from there.

	* src/version.cc: Rename as...
	* src/version.cc.in: this.
	* src/Makefile.am (version.cc): New target.

2004-07-07  Akim Demaille  <akim@epita.fr>

	This patch can change the output in some test cases, since the
	move list is loosely ordered (i.e., it is not), and our change
	modifies this random order...  Something should be done...

	* src/liveness/interference-graph.hh: Comment changes.
	* src/liveness/interference-graph.cc (compute_liveness): Make
	moves_ pairs such as 1st < 2nd.
	(epilogue_print): No banner when nothing to display.
	* src/graph/graph.hh: Layout changes.

2004-07-07  Akim Demaille  <akim@epita.fr>

	* src/graph/graph.hxx (Graph::print): Be sure not to accumulate
	labels at each iteration.

	* src/graph/graph.hxx: Rewording.

2004-07-07  Akim Demaille  <akim@epita.fr>

	(Hopefully) fix the Mac OSX bus error: we had a static
	initialization depending on another one.  In such a case there is
	no guarantee on the order, and we should find another way to
	perform these initializations.  I chose to have a new task making
	sure the target is defined.  Then, have the other tasks depend
	upon it.

	* src/target/tasks.hh (target-default): New task.
	(target-display): Depend upon it.
	* src/target/tasks.cc (target_default): New.
	(target_init, t): Remove.
	* src/codegen/tasks.hh (inst-compute, runtime-display)
	(nolimips-display): Depend upon target-default.

2004-07-06  Akim Demaille  <akim@epita.fr>

	* configure.ac: Bump to 0.75a.
	* config/bison.m4: Use a more Autoconf like wording.

2004-07-06  Akim Demaille  <akim@epita.fr>

	Version 0.75.
	For 2006-tc-8.0.

2004-07-06  Akim Demaille  <akim@epita.fr>

	* src/target/tasks.cc (target_init, t): New, used only to
	initialize target.
	(target_set): No longer accept 0.

2004-07-06  Akim Demaille  <akim@epita.fr>

	* src/graph/graph.hh (OrientedGraph, UndirectedGraph): Remove
	epilogue_print, completely useless.

	* src/liveness/flowgraph.hh:
	* src/liveness/flowgraph.hxx (FlowGraph::FlowGraph): Move inner
	comments for students.
	Make timer name more coherent with the rest of the compiler.
	* src/liveness/liveness.cc (Liveness::Liveness): Free the edge
	labeling code to students.
	Move its documentation...
	* src/liveness/liveness.hh: here.
	* src/liveness/interference-graph.hh: More documentation.
	(InterferenceGraph::~InterferenceGraph): Remove.
	(InterferenceGraph::epilogue_print): Move in its appropriate
	section.
	Return an ostream.
	* src/liveness/interference-graph.cc: Adjust.
	Reword some comments.
	* src/regalloc/color.hh (Color::~Color): Remove, useless.
	Formatting changes.
	* src/regalloc/color.cc: Adjust.
	(Color::Color): Remove the useless member initializations.

2004-07-06  Akim Demaille  <akim@epita.fr>

	* config/stagize: Prune the Debian support.
	Take the envvar prune into account.

2004-07-06  Akim Demaille  <akim@epita.fr>

	* src/graph/graph.hh (graph::epilogue_print): Return the ostream.
	Move its body...
	* src/graph/graph.hxx: here.

2004-07-06  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&load_test): Rename as...
	(&load_tests): this.
	(&help): Call it, and output the test stage labels.

2004-07-05  Julien Roussel  <spip@lrde.epita.fr>

	* tests/tc-check.in: Replace {g++,gcc}-3.2 by {g++,gcc}-3.4
	as specified in assignments.

2004-07-05  Nicolas "PoLRoP" Desprès  <nicolas.despres@lrde.epita.fr>

	* src/liveness/interference-graph.cc (Liveness::epilogue_print):
	New, report move edges.

2004-07-05  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* tests/tc-check.in: Print the title of test objects.

2004-07-05  Nicolas "PoLRoP" Desprès  <nicolas.despres@lrde.epita.fr>

	* src/graph/graph.hh (graph): Remove node/edge print hook
	declaration by epilogue_print declaration.
	* src/graph/graph.hxx (graph::print): Replace node/edge print
	hook call by epilogue_print call.

2004-07-05  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (load_test): Add title to test objects.

2004-07-05  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* TODO: Update.

2004-07-04  Nicolas "PoLRoP" Desprès  <nicolas.despres@lrde.epita.fr>

	* src/graph/graph.hxx (graph::print): Call node/edge print
	hook.
	* src/graph/graph.hh (graph): Change hook type. Now it is
	a virtual method.
	(graph::dummy_hook): Remove.

2004-07-02  Nicolas "PoLRoP" Desprès  <nicolas.despres@lrde.epita.fr>

	* src/graph/graph.hxx (graph): Implement print method allowing
	a hook and simulate former print method using the dummy_hook.
	* src/graph/graph.hh (graph): Add print method declaration
	allowing a hook.
	(dummy_hook): New.

2004-07-02  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* tests/tc-check.in: Fix a bug with Stick::message_set return value.

2004-07-02  Nicolas "PoLRoP" Desprès  <nicolas.despres@lrde.epita.fr>

	* src/graph/graph.hxx (graph::print): Do not attach label
	attribute to edges when it is an empty string.

2004-07-01  Akim Demaille  <akim@epita.fr>

	* config/bison.m4: Simplify, and make it work properly.

2004-07-01  Nicolas "PoLRoP" Desprès  <nicolas.despres@lrde.epita.fr>

	* configure.ac: Add check for bison version >= 1.875b
	* config/bison.m4: New.

2004-07-01  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.cc (Color::combine): After having merged v's
	move_list into u's, we should enable_moves for v.  See Appel's
	original algorithm.  I could not find an input file where it makes
	a difference.

2004-07-01  Akim Demaille  <akim@epita.fr>

	* tests/mk-Makefile-am (TC, RUN_TC): Remove.
	* tests/tests.mk (TC, TCFLAGS): New.
	* tests/good/int-comparison.tig: New.

2004-07-01  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* tests/tc-check.in: Do not check memory leaks when `--ast-delete'
	is not required.

2004-06-30  Nicolas "PoLRoP" Desprès  <nicolas.despres@lrde.epita.fr>

	* src/tree/trees.cc (tree): Fix misc::print_with_separator call
	so that the code compiles.

2004-06-28  Akim Demaille  <akim@epita.fr>

	ostr << tree_list_type fails on an empty list.
	Reported by Vincent Cuissard.

	* configure.ac: Bump to 0.74a.
	* src/misc/containers.hh, src/misc/containers.hxx
	(print_with_separator): Be templated on the second arg type.
	Keep a specialization for the default '\n'.
	* src/tree/trees.hh, src/tree/trees.cc: Use it, with misc::iendl.

2004-06-26  Clement Vasseur  <clement.vasseur@lrde.epita.fr>

	Introduce a "make deb" rule for building a package for Debian.

	* debian/control, debian/compat, debian/changelog,
	* debian/copyright, debian/rules: New. Debian files.
	* debian/Makefile.am: New. Tell how to generate the package.
	* Makefile.am: Add debian to SUBDIRS and the `deb' rule.
	* configure.ac: Add debian/Makefile.
	* NEWS: Update.

2004-06-25  Akim Demaille  <akim@epita.fr>

	Version 0.74.
	For 2006-tc-7.0.

	* src/temp/map.hcc: Remove debugging traces.

2004-06-25  Akim Demaille  <akim@epita.fr>

	* src/canon/canon.cc (canon): Clarify the comments.

2004-06-25  Akim Demaille  <akim@epita.fr>

	Lift ostream flags handling higher.

	* src/codegen/libcodegen.hh, src/codegen/libcodegen.cc
	(instructions_dump): Don't take arguments for the instrs-debugging
	state, nor the current TempMap.
	* src/codegen/tasks.cc (instructions_display): Do it here.
	* src/assem/fragment.hh: Formatting changes.

2004-06-25  Akim Demaille  <akim@epita.fr>

	Use more widely the TempMap-in-ostream feature, and add the
	debug-instr-flag-in-ostream one.

	* src/regalloc/regallocator.cc: Use <<frag and map_set, instead of
	print.
	* src/codegen/libcodegen.cc: Likewise.
	* src/assem/layout.hh, src/assem/layout.hxx,
	* src/codegen/mips/spim-layout.cc, src/codegen/ia32/gas-layout.cc:
	No longer pay attention to debug and tempmap arguments: these are
	just passed from the very top to the very bottom via the ostream
	itself.
	* src/assem/layout.hh, src/assem/layout.hxx (ptempmap_, debug_):
	(tempmap_set, debug_set) Remove.
	* src/assem/instr.hh, src/assem/instr.cc (debug_index, debug_set):
	New.
	(print): Single argument.
	* src/assem/oper.hh, src/assem/move.hh, src/assem/oper.hxx
	* src/assem/move.hxx (print): One argument.

	* src/assem/instrs.hh, src/assem/instrs.cc (print): Has a single
	argument: the ostream.
	* src/assem/fragments.hh, src/assem/fragment.cc,
	* src/assem/fragment.hh, src/assem/fragments.cc (print): Single
	argument.

	* src/codegen/mips/codegen.cc: Var renaming.

2004-06-25  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* tests/tc-check.in:
	Change the default behavior when you give a hash to
	run and check functions.
	Add two functions, run_external, and check_external.

2004-06-25  Akim Demaille  <akim@epita.fr>

	Make sure the Target is properly handled as const.

	* src/target/target.hh, src/target/target.cc: Accessors are const.
	* src/regalloc/regallocator.cc: Pass a const target instead of a
	codegen.
	* src/regalloc/libregalloc.cc: Likewise.
	* src/regalloc/tasks.cc: Idem.
	* src/regalloc/regallocator.hh: Ditto.
	* src/regalloc/libregalloc.hh: Similarly.
	* src/codegen/libcodegen.cc: Again.
	* src/codegen/tasks.cc: Once more.
	* src/codegen/libcodegen.hh: And one last.
	* src/regalloc/tasks.hh: Doc change.

2004-06-25  Akim Demaille  <akim@epita.fr>

	Factor all the places where the Target TempMap is declared.

	* src/target/tasks.hh: Fix includes.
	* src/target/tasks.cc (target_set): Handle the default case
	here.
	(target): Use target_set to build it.
	(target_display): Use <<.
	* src/target/target.cc (print): Print the pointee, not the
	pointer.
	* src/regalloc/regallocator.hh, src/regalloc/regallocator.cc:
	Fix includes.
	No longer extend tempmap_ in the ctor, rather use...
	(tempmap_): New.
	* src/regalloc/libregalloc.cc, src/regalloc/tasks.cc,
	* src/regalloc/libregalloc.hh: Adjust, i.e., pass
	temp::task::TempMap where it belongs.
	* src/codegen/tasks.cc: Remove useless includes.
	(Nolimips): No longer needs the Cpu, use temp::task::tempmap.

2004-06-25  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&graph_check, &graph_check_one): New.
	Use them to exercise T8.
	($revision): Use '', not "".

2004-06-24  Akim Demaille  <akim@epita.fr>

	We need a means to propagate changes of target.
	This is not sufficient yet, as the initial target is not
	propagated: we still need tweaks here and there to set
	the tempmap etc.

	* src/target/tasks.cc (target_set): New.
	(target_mips, target_ia32): Use it.

	Target and cpu are not compliant with our coding style.

	* src/target/target.hh (operator<<): New.
	Move the implementations into...
	* src/target/target.cc: this new file.
	* src/target/cpu.hh, src/target/cpu.cc (operator<<): New.
	* src/target/Makefile.am: Adjust.

	This shook the includes.

	* src/codegen/fwd.hh: Add Assembly.
	* src/assem/fwd.hh: Add Instrs.
	* src/liveness/tasks.cc, src/regalloc/regallocator.cc,
	* src/regalloc/color.cc, src/regalloc/regallocator.hh,
	* src/codegen/tasks.cc, src/assem/instrs.hh: Fix includes.

2004-06-24  Akim Demaille  <akim@epita.fr>

	Replace the PRCS keyword handling with Subversion's.

	* config.site: New.
	Use GCC 3.4 and -ggdb.
	* src/version.hh, src/version.cc: New, extracted from...
	* src/common.hh, src/common.cc: these.
	* src/Makefile.am: Adjust.
	* Makefile.am (version.h): Replace with...
	(authors.h): these.
	* tests/tc-check.in ($revision): Use Subversion keywords.

2004-06-21  Julien Roussel  <spip@lrde.epita.fr>

	* tests/tests.mk (.lir.sta, .hir.sta): Fix these rules,
	there were errors on non-null havm exit status (make
	process stops).

2004-06-21  Akim Demaille  <akim@epita.fr>

	* tests/mk-Makefile-am: Move constant material into...
	* tests/tests.mk: Here.
	(MAINTAINERCLEANFILES): New.
	(.lir.sta, .hir.sta) Fix these rules, that were no longer
	producing correct .out files.

2004-06-21  Akim Demaille  <akim@epita.fr>

	* src/liveness/libliveness.cc (LivenessDump::operator()): Remove
	debugging code.

2004-06-21  Akim Demaille  <akim@epita.fr>

	Fix the performance loss due to the change "2004-04-28 Akim
	Demaille <akim@epita.fr>, Avoid having Frame depend on Target".
	The interference graph was not built using the current TempMap,
	and as a result, rv and $v0 were considered as different by the
	IG, which resulted in a conflict between them preventing
	coalescing them.

	* src/liveness/interference-graph.hh,
	* src/liveness/interference-graph.cc (tempmap_): New.
	(node_of): Use it to convert a temp into its current value.
	Adjust some verbosity message.

2004-06-21  Akim Demaille  <akim@epita.fr>

	Let the flow and liveness graphs be output using the current Temp
	mapping.

	* src/liveness/libliveness.cc (flowgraph_dump, liveness_dump): Use
	the TempMap-in-stream to output the result using the current
	TempMap.
	This code is ugly, and needs refactoring.

	Fix one of the problems that led to the performance loss due to
	the change "2004-04-28 Akim Demaille <akim@epita.fr>, Avoid having
	Frame depend on Target.": because the TempMap used by the liveness
	module did not know that rv = $v0, it was not noted that $v0 was
	defined when rv is.  Since the sink of the function is a use of
	$v0, since there was no definition, $v0 was live up to the
	function'entry, and therefore, was in conflict with every other
	Temp, including rv.  Hence rv could not be coalesced with $v0,
	hence the performance loss.  Now the liveness is properly
	computed, but it is the interference graph which still has it
	wrong.

	* src/liveness/tasks.cc (liveness_dump): Teach to
	temp::tasks::tempmap the actual registers corresponding to fp and
	rv on the current architecture.

2004-06-21  Julien Roussel  <spip@lrde.epita.fr>

	* src/regalloc/tiger_regalloc.i, src/temp/tiger_temp.i: Adjust.

2004-06-21  Julien Roussel  <spip@lrde.epita.fr>

	* src/temp/map.hcc: Adjust.

2004-06-21  Akim Demaille  <akim@epita.fr>

	Store in the stream the TempMap used to output Temps in assem::.
	Have Identifiers convert themselves directly when output.

	* src/temp/identifier.hh, src/temp/identifier.hcc (map_set)
	(map_get, map_index_): New.
	(operator<<): Use map_get to see if there is a Map to use to
	filter the Identifiers.

	* src/assem/instr.hh, src/assem/oper.hh, src/assem/move.hh,
	src/assem/oper.hxx, src/assem/move.hxx, src/assem/instr.cc
	(print): Now only has two arguments: the TempMap is no longer
	handle here, but directly by operator<< on Identifiers.
	* src/assem/instrs.cc (print): Set the TempMap on ostr.

2004-06-21  Akim Demaille  <akim@epita.fr>

	* src/liveness/interference-graph.cc: Spare some useless
	temp_set_type copy by using a const &.

2004-06-21  Akim Demaille  <akim@epita.fr>

	* src/liveness/flowgraph.hh, src/liveness/flowgraph.hxx: Comment
	and white space changes.

	* src/graph/graph.hh (operator<<): Directly return the result of
	print.

	* src/codegen/tasks.cc: Wrapping changes.

	* src/assem/instrs.hh: Comment changes.
	* src/assem/instrs.hh, src/assem/instrs.cc (print): Return the
	ostream, as per coding style.

2004-06-21  Akim Demaille  <akim@epita.fr>

	* src/temp/tempmap.cc, src/temp/tempmap.hh: Rename as...
	* src/temp/map.hcc, src/temp/map.hh: these.
	Rewrite to be templated by the Identifier type (typically Temp or
	Label).
	* src/temp/temp.cc, src/temp/label.cc: Instantiate the Map code
	for Temp and Label.

	* src/regalloc/libregalloc.cc, src/liveness/libliveness.cc,
	* src/tree/fragment.hh, src/codegen/mips/spim-assembly.cc,
	* src/temp/libtemp.cc, src/temp/tasks.hh, src/temp/tasks.cc,
	* src/assem/instrs.hh, src/assem/instr.cc, src/assem/instr.hh,
	* src/assem/move.hxx: Adjust includes.

	* src/temp/Makefile.am: Adjust.

	* src/temp/temp.hh (TempMap): New.
	* src/temp/fwd.hh: Adjust.

	* src/temp/libtemp.hh: Comment changes.

2004-06-19  Akim Demaille  <akim@epita.fr>

	* src/task/libtask.hh (INT_TASK_DECLARE): Accept a default value.
	* src/target/tasks.hh: Initialize callee/caller reg nums to 99.
	* src/target/mips-cpu.cc (MipsCpu): Accept 0 callee/caller
	registers.

2004-06-18  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* tests/tc-check.in: Typo and renaming.

2004-06-18  Nicolas Pouillard  <ertai@lrde.epita.fr>

	Test the supported options.

	* tests/tc-check.in:
	Change tests construct, now test description are in a hash.
	You can now specify required options, on students' tc.
	This section can be skipped if the options are not all supported.
	When no specific stages are required, tests are skipped if `tc' doesn't
	support it.
	If `--stage 3' is passed to tc-check, this is flagged as a 0% success.
	Otherwise we do not count these failures in the summary, but
	report `skipped'.

2004-06-18  Akim Demaille  <akim@epita.fr>

	* tests/good/Makefile.am: Decompose the production of output files
	with an additional step via .hir files.
	Aim at sta files, not out files, because of a Mac OSX weirdness.

2004-06-17  Julien Roussel  <spip@lrde.epita.fr>

	* src/regalloc/tiger_regalloc.i: Add missing includes.

2004-06-16  Akim Demaille  <akim@epita.fr>

	* src/regalloc/regallocator.cc (operator()): Don't build the
	fragment entry and exit here by hand.
	* src/regalloc/tasks.cc (asm_compute): Do it here using an
	existing function.

2004-06-15  Akim Demaille  <akim@epita.fr>

	* tests/escapes/local-escapes.tig,
	* tests/good/assign-void.tig,
	* tests/good/side-effects-in-sxp.tig,
	* tests/good/substring-copy-all.tig,
	* tests/overload/overload-builtin.tig,
	* tests/overload/overload-function-record-arg.tig,
	* tests/overload/overload-function.tig,
	* tests/overload/overload-nil-diambiguated.tig: Add new lines in
	the output to avoid producing Unix non text files.
	* tests/escapes/local-escapes.out,
	* tests/good/assign-void.out,
	* tests/good/side-effects-in-sxp.out,
	* tests/good/substring-copy-all.out,
	* tests/overload/overload-builtin.out,
	* tests/overload/overload-function.out,
	* tests/overload/overload-function-record-arg.out,
	* tests/overload/overload-nil-diambiguated.out: Regen.

2004-06-15  Akim Demaille  <akim@epita.fr>

	* tests/escapes/for-lower.out, tests/escapes/for-lower.sta,
	* tests/escapes/formal-escapes.out,
	* tests/escapes/formal-escapes.sta, tests/escapes/for-scope.out,
	* tests/escapes/for-scope.sta, tests/escapes/for-upper.out,
	* tests/escapes/for-upper.sta, tests/escapes/local-escapes.out,
	* tests/escapes/local-escapes.sta,
	* tests/escapes/no-functiondec-at-all.out,
	* tests/escapes/no-functiondec-at-all.sta,
	* tests/escapes/record-escapes.out,
	* tests/escapes/record-escapes.sta, tests/escapes/recursion.out,
	* tests/escapes/recursion.sta, tests/escapes/redeclaration.out,
	* tests/escapes/redeclaration.sta,
	* tests/escapes/rhs-of-a-vardec.out,
	* tests/escapes/rhs-of-a-vardec.sta, tests/escapes/scopes.out,
	* tests/escapes/scopes.sta, tests/escapes/sl-propagation-1.out,
	* tests/escapes/sl-propagation-1.sta,
	* tests/escapes/sl-propagation-2.out,
	* tests/escapes/sl-propagation-2.sta,
	* tests/escapes/variable-escapes.out,
	* tests/escapes/variable-escapes.sta,
	* tests/escapes/variable-inside-for-body.out,
	* tests/escapes/variable-inside-for-body.sta,
	* tests/escapes/variant-escapes.out,
	* tests/escapes/variant-escapes.sta, tests/good/array-of-alias.out,
	* tests/good/array-of-alias.sta, tests/good/array.out,
	* tests/good/array.sta,
	* tests/good/assign-and-array-instantiation.out,
	* tests/good/assign-and-array-instantiation.sta,
	* tests/good/assign-void.out, tests/good/assign-void.sta,
	* tests/good/assign-vs-boolean.out,
	* tests/good/assign-vs-boolean.sta, tests/good/assign-vs-rel.out,
	* tests/good/assign-vs-rel.sta, tests/good/bempel_j.out,
	* tests/good/bempel_j.sta, tests/good/big-exp.out,
	* tests/good/big-exp.sta, tests/good/big-lvalue.out,
	* tests/good/big-lvalue.sta, tests/good/boolean-1.out,
	* tests/good/boolean-1.sta, tests/good/break-in-for.out,
	* tests/good/break-in-for.sta, tests/good/break-in-while.out,
	* tests/good/break-in-while.sta, tests/good/builtins.out,
	* tests/good/builtins.sta, tests/good/call.out, tests/good/call.sta,
	* tests/good/chr-256.out, tests/good/chr-256.sta,
	* tests/good/chr-minus-1.out, tests/good/chr-minus-1.sta,
	* tests/good/chr.out, tests/good/chr.sta,
	* tests/good/comments-javalike-nested.out,
	* tests/good/comments-javalike-nested.sta,
	* tests/good/comments-nested.out, tests/good/comments-nested.sta,
	* tests/good/comments-with-comment-chars.out,
	* tests/good/comments-with-comment-chars.sta,
	* tests/good/comments-with-parens.out,
	* tests/good/comments-with-parens.sta,
	* tests/good/comments-with-quotes.out,
	* tests/good/comments-with-quotes.sta, tests/good/commutation-1.out,
	* tests/good/commutation-1.sta, tests/good/commutation-2.out,
	* tests/good/commutation-2.sta,
	* tests/good/compare-nil-and-record.out,
	* tests/good/compare-nil-and-record.sta,
	* tests/good/compare-record-and-nil.out,
	* tests/good/compare-record-and-nil.sta,
	* tests/good/compare-record-and-record.out,
	* tests/good/compare-record-and-record.sta,
	* tests/good/compare-void.out, tests/good/compare-void.sta,
	* tests/good/concat.out, tests/good/concat.sta,
	* tests/good/concurrent-arguments.out,
	* tests/good/concurrent-arguments.sta, tests/good/donald.out,
	* tests/good/donald.sta, tests/good/empty-let-body.out,
	* tests/good/empty-let-body.sta, tests/good/empty-record-type.out,
	* tests/good/empty-record-type.sta, tests/good/evalexp.out,
	* tests/good/evalexp.sta, tests/good/exit-51.out,
	* tests/good/exit-51.sta, tests/good/explicit-record-type.out,
	* tests/good/explicit-record-type.sta, tests/good/fact.out,
	* tests/good/fact.sta, tests/good/field-of-field.out,
	* tests/good/field-of-field.sta,
	* tests/good/for-high-computed-once.out,
	* tests/good/for-high-computed-once.sta,
	* tests/good/for-high-same-name-as-index.out,
	* tests/good/for-high-same-name-as-index.sta,
	* tests/good/for-in-let.out, tests/good/for-in-let.sta,
	* tests/good/for-in-while.out, tests/good/for-in-while.sta,
	* tests/good/for.out, tests/good/for-scope.out,
	* tests/good/for-scope.sta, tests/good/for.sta,
	* tests/good/for-up-to-32bits.out, tests/good/for-up-to-32bits.sta,
	* tests/good/forward-fun-and-type-decl.out,
	* tests/good/forward-fun-and-type-decl.sta,
	* tests/good/four-hex-backslash.out,
	* tests/good/four-hex-backslash.sta,
	* tests/good/fractions-underloaded.out,
	* tests/good/fractions-underloaded.sta, tests/good/functions.out,
	* tests/good/functions.sta, tests/good/fun-vs-var.out,
	* tests/good/fun-vs-var.sta,
	* tests/good/getchar-no-static-string.out,
	* tests/good/getchar-no-static-string.sta, tests/good/getchar.out,
	* tests/good/getchar.sta, tests/good/if-and-bool.out,
	* tests/good/if-and-bool.sta, tests/good/if-and-if.out,
	* tests/good/if-and-if.sta, tests/good/if-and-rel.out,
	* tests/good/if-and-rel.sta, tests/good/if.out, tests/good/if.sta,
	* tests/good/if-void-body.out, tests/good/if-void-body.sta,
	* tests/good/init-array.out, tests/good/init-array.sta,
	* tests/good/initialize-to-nil.out,
	* tests/good/initialize-to-nil.sta, tests/good/int-var-ordering.out,
	* tests/good/int-var-ordering.sta,
	* tests/good/invisible-valid-types.out,
	* tests/good/invisible-valid-types.sta,
	* tests/good/just-a-simple-for-1.out,
	* tests/good/just-a-simple-for-1.sta,
	* tests/good/just-a-simple-for-2.out,
	* tests/good/just-a-simple-for-2.sta, tests/good/letexp-eseq.out,
	* tests/good/letexp-eseq.sta, tests/good/let-in-for-init.out,
	* tests/good/let-in-for-init.sta,
	* tests/good/local-vs-global-type.out,
	* tests/good/local-vs-global-type.sta, tests/good/many-args.out,
	* tests/good/many-args.sta, tests/good/many-bool-ops.out,
	* tests/good/many-bool-ops.sta, tests/good/many-functions.out,
	* tests/good/many-functions.sta, tests/good/many-vars.out,
	* tests/good/many-vars.sta, tests/good/merge.out,
	* tests/good/merge.sta, tests/good/mutually-recursive-functions.out,
	* tests/good/mutually-recursive-functions.sta,
	* tests/good/mutually-recursive-procedures.out,
	* tests/good/mutually-recursive-procedures.sta,
	* tests/good/nil-as-arg.out, tests/good/nil-as-arg.sta,
	* tests/good/nil-as-return-value.out,
	* tests/good/nil-as-return-value.sta, tests/good/nine.out,
	* tests/good/nine.sta, tests/good/non-commutative-move-mem-expr.out,
	* tests/good/non-commutative-move-mem-expr.sta,
	* tests/good/nul-character.out, tests/good/nul-character.sta,
	* tests/good/of-precedence.out, tests/good/of-precedence.sta,
	* tests/good/order-strings.out, tests/good/order-strings.sta,
	* tests/good/precedence.out, tests/good/precedence.sta,
	* tests/good/preincrement.out, tests/good/preincrement.sta,
	* tests/good/print-chr-ord.out, tests/good/print-chr-ord.sta,
	* tests/good/print-tree.out, tests/good/print-tree.sta,
	* tests/good/queens.out, tests/good/queens.sta,
	* tests/good/record.out, tests/good/record.sta,
	* tests/good/recursive-type.out,
	* tests/good/recursive-types-mutual.out,
	* tests/good/recursive-types-mutual.sta,
	* tests/good/recursive-types.out, tests/good/recursive-types.sta,
	* tests/good/recursive-type.sta, tests/good/redefine-print.out,
	* tests/good/redefine-print.sta, tests/good/rel.out,
	* tests/good/rel.sta, tests/good/scopes-protect-types.out,
	* tests/good/scopes-protect-types.sta,
	* tests/good/scopes-protect-vars.out,
	* tests/good/scopes-protect-vars.sta,
	* tests/good/seqexp-arithmetics.out,
	* tests/good/seqexp-arithmetics.sta,
	* tests/good/shadowing-functions.out,
	* tests/good/shadowing-functions.sta,
	* tests/good/shadowing-types-separate.out,
	* tests/good/shadowing-types-separate.sta,
	* tests/good/side-effects-in-init.out,
	* tests/good/side-effects-in-init.sta,
	* tests/good/side-effects-in-sxp.out,
	* tests/good/side-effects-in-sxp.sta, tests/good/side-effects.out,
	* tests/good/side-effects.sta, tests/good/single-variable.out,
	* tests/good/single-variable.sta,
	* tests/good/so-many-args-in-rec-func.out,
	* tests/good/so-many-args-in-rec-func.sta, tests/good/strcmp.out,
	* tests/good/strcmp.sta, tests/good/string-backslash-char.out,
	* tests/good/string-backslash-char.sta,
	* tests/good/string-backslash-octal.out,
	* tests/good/string-backslash-octal.sta,
	* tests/good/string-backslash-tortured.out,
	* tests/good/string-backslash-tortured.sta,
	* tests/good/string-huge.out, tests/good/string-huge.sta,
	* tests/good/string-int-not-keywords.out,
	* tests/good/string-int-not-keywords.sta,
	* tests/good/string-simple-quotes.out,
	* tests/good/string-simple-quotes.sta,
	* tests/good/string-var-comparing.out,
	* tests/good/string-var-comparing.sta,
	* tests/good/string-var-ordering.out,
	* tests/good/string-var-ordering.sta,
	* tests/good/stupid-array-type.out, tests/good/stupid-array-type.sta,
	* tests/good/substring-copy-all.out,
	* tests/good/substring-copy-all.sta,
	* tests/good/substring-copy-nothing.out,
	* tests/good/substring-copy-nothing.sta, tests/good/substring.out,
	* tests/good/substring.sta, tests/good/substring-too-high-sum.out,
	* tests/good/substring-too-high-sum.sta,
	* tests/good/substring-too-low-first.out,
	* tests/good/substring-too-low-first.sta,
	* tests/good/substring-too-low-length.out,
	* tests/good/substring-too-low-length.sta, tests/good/test27.out,
	* tests/good/test27.sta, tests/good/test30.out, tests/good/test30.sta,
	* tests/good/test37.out, tests/good/test37.sta, tests/good/test42.out,
	* tests/good/test42.sta, tests/good/test44.out, tests/good/test44.sta,
	* tests/good/three-name-spaces.out, tests/good/three-name-spaces.sta,
	* tests/good/two-functions-with-the-same-name.out,
	* tests/good/two-functions-with-the-same-name.sta,
	* tests/good/types-aliases.out, tests/good/types-aliases.sta,
	* tests/good/var-bob-is-another-bob.out,
	* tests/good/var-bob-is-another-bob.sta, tests/good/var-override.out,
	* tests/good/var-override.sta, tests/good/while-in-while.out,
	* tests/good/while-in-while.sta, tests/overload/overload-builtin.out,
	* tests/overload/overload-builtin.sta,
	* tests/overload/overload-function.out,
	* tests/overload/overload-function-record-arg.out,
	* tests/overload/overload-function-record-arg.sta,
	* tests/overload/overload-function.sta,
	* tests/overload/overload-nil-diambiguated.out,
	* tests/overload/overload-nil-diambiguated.sta: New.
	Used to guarantee we don't change the behavior of the programs.

2004-06-10  Akim Demaille  <akim@epita.fr>

	* src/regalloc/libregalloc.hh, src/regalloc/libregalloc.cc
	(allocate_registers): Move all the computation into...
	* src/regalloc/tasks.cc:
	* src/regalloc/regallocator.hh, src/regalloc/regallocator.cc:
	Here.
	Make it a real assem::Visitor to save some dynamic_cast.
	* src/codegen/mips/codegen.cc: Space changes.

2004-06-10  Akim Demaille  <akim@epita.fr>

	* src/target/cpu.hh, src/target/cpu.cc (registers_map_)
	(registers_map_get): Remove.  Replace with...
	(registers_get): New.
	* src/target/mips-cpu.cc, src/target/ia32-cpu.cc,
	* src/regalloc/color.cc: Adjust.

2004-06-10  Akim Demaille  <akim@epita.fr>

	* src/misc/escape.cc (misc): Be sure to preserve the stream state.
	* src/misc/indent.cc (iendl): Likewise.
	Reported by Benjamin Bargeton.

2004-06-10  Akim Demaille  <akim@epita.fr>

	Version 0.73.
	For 2006-tc-6.0.

	* src/canon/traces.hh: Document.
	Make it a unary_function.
	* src/canon/canon.hh, src/canon/canon.cc: Adjust student tags.
	Use `operator()' as method name where appropriate.
	* src/canon/traces.cc: Adjust student tags.
	* src/canon/libcanon.cc: Adjust.
	* src/canon/basic-block.cc: Remove student tags.
	* configure.ac: 0.73.

2004-06-10  Akim Demaille  <akim@epita.fr>

	* src/ast/ast.xml: Formatting changes.
	* config/stagize: Comment changes.

	* src/canon/basic-block.hh (print): Take an ostream & not *, for
	consistency.
	Document.
	* src/canon/basic-block.hxx: Comment changes.
	* src/canon/canon.cc: Use misc::indent for debugging traces.
	* src/canon/traces.cc: Likewise.
	Fix comments.
	* src/canon/canon.hh: Space/comment changes.
	* src/canon/basic-block.cc: Use misc::indent and other operator<<
	instead of open loops.

2004-06-09  Akim Demaille  <akim@epita.fr>

	* config/stagize (where): New.
	Use it to change to the directory we want to stagize.
	* Makefile.am (dist-hook): Pass distdir to stagize, don't
	cd to it.
	Suggested by Thomas Claveirole.

2004-06-09  Julien Roussel  <spip@lrde.epita.fr>

	* src/canon/basic-block.cc: Fix basic block print.

2004-06-09  Julien Roussel  <spip@lrde.epita.fr>

	* src/codegen/mips/spim-layout.cc, src/codegen/ia32/codegen.cc,
	* src/codegen/mips/spim-assembly.cc, src/codegen/ia32/gas-layout.cc,
	* src/codegen/ia32/gas-assembly.cc, src/assem/fragment.cc: Delete
	displayed trailing spaces.
	* TODO: Update.

2004-06-09  Julien Roussel  <spip@lrde.epita.fr>

	* src/codegen/tasks.hh, src/codegen/mips/codegen.hh,
	* src/codegen/libcodegen.hh, src/codegen/tasks.cc,
	* tests/tc-check.in, configure.ac: Use nolimips instead of mipsy.

2004-06-09  Julien Roussel  <spip@lrde.epita.fr>

	* src/canon/traces.cc: Add explanations in comment.

2004-06-09  Julien Roussel  <spip@lrde.epita.fr>

	* src/canon/traces.cc (make_traces): Add missing new lines.
	* src/canon/basic-block.cc (print): Fix basic blocks trace print.

2004-06-09  Julien Roussel  <spip@lrde.epita.fr>

	* src/translate/level.hh: Fix comment.

2004-06-08  Julien Roussel  <spip@lrde.epita.fr>

	No more memory leaks in T9!

	* src/codegen/mips/codegen.cc (rewrite_program): Delete a locally
	allocated frame.

2004-06-08  Julien Roussel  <spip@lrde.epita.fr>

	No more memory leaks in T7!

	* src/codegen/mips/codegen.cc (build_fragment_entry_exit): Delete
	allocated slots in frame.

2004-06-08  Julien Roussel  <spip@lrde.epita.fr>

	* tests/tc-check.in: Do not check mipsy memory leaks.

2004-06-08  Julien Roussel  <spip@lrde.epita.fr>

	No more memory leaks in T6!

	* src/canon/traces.cc (make_trace): Delete useless blocks.

2004-06-08  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-visitor.hh: Document attributes.
	(outer_level_): Remove, unused.

2004-06-04  Akim Demaille  <akim@epita.fr>

	The interface of Cpu is actually that of MipsCpu (e.g., it refers
	to the return address reg which makes no sense for Ia32).
	Have MipsCpu and Ia32Cpu have local casted pointers to their own
	cpu, and relax the interface of Cpu.

	* src/target/cpu.hh (sp_reg, return_reg): Remove, not needed by tc
	per se.
	* src/target/fwd.hh (MipsCpu, Ia32Cpu): Fwd decl.
	* src/codegen/codegen.hh, src/codegen/codegen.cc (cpu_set):
	Virtual.
	* src/codegen/mips/codegen.hh, src/codegen/mips/codegen.cc,
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/codegen.cc
	(mcpu_, cpu_set, super_type): New.
	Define it in the ctor.
	Use it instead of cpu_ to enjoy the features of the very Cpu
	currently targeted.

2004-06-04  Akim Demaille  <akim@epita.fr>

	* src/target/mips-target.cc: New, to stop header deps.
	Pass the cpu and assembly to codegen here.
	* src/target/mips-target.hh: Adjust.
	Simplify includes.
	* src/target/Makefile.am: Adjust.
	* src/codegen/libcodegen.hh, src/codegen/libcodegen.cc
	(target_to_codegen): No longer useful.
	* src/codegen/tasks.cc: Don't use it.

2004-06-04  Akim Demaille  <akim@epita.fr>

	* src/misc/ref.hh (operator==, operator!=): Fix doc.

2004-06-04  Akim Demaille  <akim@epita.fr>

	Output $x13 for Mipsy/Nolimips, and t13 for Havm.

	* src/codegen/tasks.cc (instructions_display): Revamp to create a
	derived class from TempMap that maps t13 to $x13 to please Mipsy.
	This is a first sketch, improvements, generalizations and cleanups
	are needed.
	* src/temp/identifier.hh, src/temp/identifier.hcc (prefix_get):
	New.
	* src/temp/tempmap.hh, src/temp/tempmap.hxx: Make it suitable for
	derivation: add zillions of virtual, use protected instead of
	private, have a virtual dtor.

2004-05-26  Julien Roussel  <spip@lrde.epita.fr>

	tc compiles with g++-3.4 !

	* src/canon/libcanon.cc, src/codegen/libcodegen.cc: Fix 'using'
	accessibility.

2004-05-26  Julien Roussel  <spip@lrde.epita.fr>

	* src/translate/libtranslate.cc: Fix student marks.

2004-05-25  Julien Roussel  <spip@lrde.epita.fr>

	* src/tree/visitor.hxx, src/assem/visitor.hxx: Fix Dtors.

2004-05-20  Damien Thivolle  <damien@lrde.epita.fr>

	* src/escapes/escapes-visitor.hh: Fix constructor declaration of
	EscapesVisitor class.
	* src/frame/access.hh: Fix doxygen comments, \see can't be on a single
	line.
	* src/frame/frame.hh: Fix doxygen comments, each commented line has to
	begin with `**'.
	* src/frame/frame.cc: Remove doxygen comments from source file.
	* src/misc/fail.cc: Likewise.
	* src/misc/fail.hh: Adjust comment.
	* src/tree/libtree.cc: Correct filename in doxygen comment.
	* src/tree/visitor.hxx: Likewise.
	* src/tree/trees.cc: Likewise.
	* src/assem/visitor.hxx: Likewise.

2004-05-20  Julien Roussel  <spip@lrde.epita.fr>

	* src/liveness/tasks.cc (basename): Add comment.

2004-05-19  Julien Roussel  <spip@lrde.epita.fr>

	* src/liveness/libliveness.cc, src/liveness/libliveness.hh:
	No longer access filename directly.
	* src/liveness/tasks.cc: Transmit filename to libs.

2004-05-19  Julien Roussel  <spip@lrde.epita.fr>

	* src/liveness/libliveness.cc: Correct output filenames.
	* TODO: Update.

2004-05-19  Julien Roussel  <spip@lrde.epita.fr>

	* src/tree/visitor.hxx, src/assem/visitor.hxx: Adjust Dtors.

2004-05-18  Akim Demaille  <akim@epita.fr>

	* src/liveness/liveness.hh (temp/temp-set.hh): Do include it, not
	just the fwd.hh, so that the dedicated operator<< is used.
	* src/liveness/tasks.cc:
	* src/codegen/tasks.cc
	* src/temp/temp.cc (temp_traits): Output $x0 instead of t0.
	* tests/tc-check.in: Remove the sed code to transform from t0 to
	$x0, since we do it now.
	(&asm_check, &asm_check_one): Remove, now equal to mipsy's routines.

2004-05-14  Akim Demaille  <akim@epita.fr>

	* src/liveness/libliveness.cc (liveness_dump, interference_dump):
	Fix the constness of operator() so that the code is really
	triggered.
	Avoid warnings for name clashes.

2004-05-10  Akim Demaille  <akim@epita.fr>

	Version 0.72.
	For 2006-tc-5.1.

	* configure.ac: Require tc 0.71, instead of forcing perfect
	synchronization by tc and tc-check versions.

2004-05-10  Benoît Perrot  <benoit@lrde.epita.fr>

	* configure.ac: Increase the requirement over Mipsy.

2004-05-10  Julien Roussel  <spip@lrde.epita.fr>

	* src/codegen/libcodegen.cc (lir_to_assem): Build fragments list in
	visitor Ctor, add accessor and use it.

2004-05-08  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/tc-check.in (stage_test): Invoke Mipsy with
	`--nop-after-branch' to disable emulation of delay slots after branch
	instructions.

2004-05-07  Julien Roussel  <spip@lrde.epita.fr>

	* src/tree/Makefile.am, src/tree/fwd.hh: Adjust.
	* src/tree/fragment.hh, src/tree/fragment.cc: Add Visitors entry point.
	* src/canon/libcanon.cc, src/codegen/libcodegen.cc: Replace
	dynamic_cast by visitors.
	* src/assem/visitor.hxx: Change std::for_each to misc::for_each to
	avoid copy.
	* Src/tree/visitor.hxx, src/tree/visitor.hh: New, same as src/assem.

2004-05-07  Akim Demaille  <akim@epita.fr>

	* src/misc/select-const.hh (const_traits, id_traits): Well, don't
	report the iterator type, as we might use these traits on classes
	that are not containers.

2004-05-07  Akim Demaille  <akim@epita.fr>

	* src/misc/select-const.hh (const_traits, id_traits): Report the
	iterator type.

2004-05-07  Akim Demaille  <akim@epita.fr>

	* src/codegen/libcodegen.cc, src/liveness/libliveness.cc: Make the
	classes bound to a single routine be inner classes of these
	routines.

2004-05-07  Akim Demaille  <akim@epita.fr>

	* src/misc/fwd.hh: New.
	* config/ast-fwd-gen: Use it.
	* src/misc/Makefile.am: Adjust.
	* src/misc/select-const.hh (const_traits, id_traits): New.
	* src/ast/fwd.hh, src/assem/fwd.hh: Use misc/fwd.hh.
	* src/assem/visitor.hh, src/assem/visitor.hxx: Use const_traits
	and id_traits.

2004-05-07  Akim Demaille  <akim@epita.fr>

	* src/assem/map-visitor.hh: Remove.
	* src/assem/map-visitor.hxx: Remove.

2004-05-07  Akim Demaille  <akim@epita.fr>

	Make assem::Visitor const/non-const, and more powerful.
	Actually, MapVisitor is no longer needed.

	* src/assem/visitor.hh (Visitor): Make it template, and rename
	as...
	(GenVisitor): this.
	(ConstVisitor, Visitor): New.
	(operator()): By default, do nothing.
	No longer const wrt *this.
	(operator()): New overloaded versions for pointers, and for lists.
	* src/assem/visitor.cc: Rename as...
	* src/assem/visitor.hxx: this.
	* src/assem/Makefile.am: Adjust.
	(map-visitor.hh, map-visitor.hxx): No longer compile them.

	* src/canon/libcanon.cc: Remove useless casts.
	* src/codegen/libcodegen.cc (FrameAllocate): Be a assem::Visitor.
	Adjust callers.
	* src/assem/layout.hh, src/assem/layout.cc,
	* src/codegen/ia32/gas-layout.cc, src/codegen/ia32/gas-layout.hh,
	* src/codegen/mips/spim-layout.cc, src/codegen/mips/spim-layout.hh:
	(operator()): This method is no longer const: Visitors can be
	modified during a traversal (although not used here).
	* src/liveness/libliveness.cc (progfrag_visit_type): Remove.
	(flowgraph_dumpproc): Make it object function and rename as...
	(FlowGraphDump): this.
	Adjust callers.
	(LivenessDump, InterferenceDump): Be an assem::ConstVisitor.
	Adjust callers.
	* src/assem/fwd.hh: Adjust.
	* src/assem/fragment.hh, src/assem/fragment.cc: Support
	ConstVisitor and Visitor.

	* src/assem/map-visitor.hh, src/assem/map-visitor.hxx: Be
	parameterized by constness.
	(make_mapvisitor, make_constmapvisitor): New convenient wrappers
	to spare the explicit parameterization.

2004-05-06  Akim Demaille  <akim@epita.fr>

	* configure.ac: 0.71a.
	* src/tree/README: Layout changes.
	* src/codegen/codegen.hh: Comment changes.
	* src/codegen/codegen.cc (FrameAllocate): New.
	(frame_allocate): Use it instead of ad hoc for loop.
	* src/codegen/libcodegen.cc: Layout changes.
	* src/liveness/libliveness.cc: Don't create fake object
	functions when plain functions work.
	* src/liveness/liveness.hh, src/assem/map-visitor.hh,
	* src/assem/map-visitor.hxx: Formatting changes.

2004-04-30  Akim Demaille  <akim@epita.fr>

	Version 0.71.
	For 2006-tc-5.0.

	* configure.ac: Autoconf 2.59.
	Automake 1.8.4.
	* Makefile.am (check-local): Pass --valgrind to tc-check.
	(dist-stagize): Inline into...
	(dist-hook): here.
	Fix the path to stagize.

2004-04-30  Akim Demaille  <akim@epita.fr>

	* config/stagize (func_pruned_p): Don't forget src/.
	($distdir): Move its handling into...
	* Makefile.am (dist-stagize): here, as a simple preliminary cd.
	(CLEANFILES): Removes these &£^$ *.dot files left by make check.

2004-04-30  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-visitor.cc (operator () (IfExp)): Simplify.

2004-04-30  Akim Demaille  <akim@epita.fr>

	* Makefile.am (studir-check): Inline in...
	(stud): here.
	(prune): No longer handled here, but within...
	* config/stagize: here.
	(func_pruned_p): New.
	Use it to save running generate-* scripts, bootstrap and so forth.
	This also addresses a problem: when distcheck is run, it also
	performs a `make dist' on its read-only source tree, and will
	run `dist-hook' on the dist tree _before_ setting back the write
	permission.   Hence it fails: one is not expected to change the
	dist dir if no change it to be made.

2004-04-30  Julien Roussel  <spip@lrde.epita.fr>

	* src/frame/frame.cc, src/frame/frame.hh: Add locals desallocation.
	* src/translate/level.cc: Adjust.

2004-04-30  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* config/studentize: Add nested student marks support, add an error
	function, use IO::File, and correct style.
	* src/ast/ast.xml: Restore nested student marks.
	* src/ast/callexp.hh, src/ast/functiondec.hh,
	* src/ast/ifexp.hh, src/ast/letexp.hh,
	* src/ast/seqexp.hh: Regen.

2004-04-29  Akim Demaille  <akim@epita.fr>

	* config/stagize (stud): New incoming var to be able to ship graph
	in T3 for distdir, and in T7 for studir.
	* Makefile.am (dist-stagize, studir): Use it.
	(studir): Move code removal into...
	* config/stagize: here.

2004-04-29  Julien Roussel  <spip@lrde.epita.fr>

	* src/frame/access.cc, src/frame/access.hh (clone): Use
	covariance.
	* src/frame/frame.cc, src/frame/frame.hh (formal_alloc): Delete
	overloaded method accepting access pointer lists, coded in Dtor.

2004-04-29  Akim Demaille  <akim@epita.fr>

	* Makefile.am (check-local): Don't pass --err-exit for the time
	being (since we don't pass 100% tests...).
	* src/misc/tiger_misc.i: Fix the module name.

	* src/misc/test-ref.cc, src/misc/test-indent.cc,
	* src/misc/test-deref.cc, src/misc/test-escape.cc,
	* src/misc/test-timer.cc, src/symbol/test-symbol.cc,
	* src/ast/test-ast.cc, src/temp/test-temp.cc,
	* src/codegen/mips/test-rw_prg.cc, src/graph/test-graph.cc,
	* src/regalloc/test-regalloc.cc: Don't invite Doxygen here, as it
	pollutes the real documentation (especially when there are classes
	such as `A' which `name' is fairly common in regular sentences...).

2004-04-28  Julien Roussel  <spip@lrde.epita.fr>

	* src/frame/access.cc, src/frame/access.hh (clone): New.
	* src/frame/frame.cc, src/frame/frame.hh (formal_alloc): New
	overloaded method accepting access pointer lists, uses clone.
	Use it in Ctor.

2004-04-28  Akim Demaille  <akim@epita.fr>

	Have distcheck T=5 pass.

	* config/stagize: Ship graph for T3, since we do use it in our
	implementation of T3's extensions...
	* src/escapes/fundecgraph.hh: Formatting changes.

	* src/translate/libtranslate.hh, src/translate/tiger_translate.i:
	Move tree material into...
	* src/tree/libtree.cc, src/tree/libtree.hh, src/tree/tiger_tree.i:
	These new files.
	* src/tree/Makefile.am: Adjust.

	* src/canon/libcanon.hh, src/canon/tiger_canon.i,
	* tcsh/generate-swig-mk, tcsh/tc.py: Adjust to using tree.

2004-04-28  Akim Demaille  <akim@epita.fr>

	Have distcheck T=5 pass.

	* src/task/Makefile.am (libtask_a_SOURCES): Typo.
	* src/frame/frame.cc (temp/label.hh): Include it to have operator
	<< over Label.

2004-04-28  Akim Demaille  <akim@epita.fr>

	* src/frame/frame.cc (target/tasks.hh): No longer include it.

2004-04-28  Akim Demaille  <akim@epita.fr>

	translate::Fragments are really a part of tree:: (just as
	assem::Fragment is bound to assem::Instr), hence move them
	there.

	* src/translate/fragment.hh: Rename as...
	* src/tree/fragment.hh: this.
	* src/translate/fragment.hxx: Rename as...
	* src/tree/fragment.hxx: this.
	* src/translate/fragment.cc: Rename as...
	* src/tree/fragment.cc: this.
	* src/translate/fragments.hh: Rename as...
	* src/tree/fragments.hh: this.
	* src/translate/fragments.cc: Rename as...
	* src/tree/fragments.cc: this.
	* src/tree/Makefile.am, src/translate/Makefile.am: Adjust.

	* src/tree/fwd.hh, src/translate/libtranslate.cc,
	* src/translate/libtranslate.hh, src/translate/tasks.cc,
	* src/translate/tasks.hh, src/translate/translate-visitor.hh,
	* src/translate/translation.hh, src/translate/fwd.hh,
	* src/translate/translate-visitor.cc, src/translate/translation.cc,
	* src/canon/tasks.cc, src/canon/libcanon.cc, src/canon/libcanon.hh,
	* src/codegen/libcodegen.cc, src/codegen/libcodegen.hh,
	* src/codegen/ia32/gas-layout.cc, src/codegen/mips/spim-layout.cc,
	* src/codegen/mips/test-rw_prg.cc, src/assem/fragment.hh,
	* src/assem/fragment.hxx: Adjust.

2004-04-28  Akim Demaille  <akim@epita.fr>

	Avoid having Frame depend on Target.

	* src/frame/fwd.hh: Comment changes.
	* src/frame/access.cc: Adjust.
	* src/frame/frame.cc, src/frame/frame.hh (frame_pointer_get)
	(return_value_get): Remove.
	Let clients directly build "fp" and "rv".
	(static_link_exp): Replace with...
	(static_link): this, so that Frame does not depend upon tree::Tree.

	* src/translate/access.hh, src/translate/access.cc (operator<<):
	New for access_list_type.
	* src/translate/level.cc: Use it.
	* src/translate/fragment.hh: Include changes.
	* src/translate/translation.cc: Build "rv" here.
	* src/codegen/ia32/codegen.cc, src/codegen/mips/codegen.cc: Don't
	ask for the fp to a Frame, since anyway the cpu_ is already
	available here!

	* src/codegen/tasks.cc (instruction_display): Ugly Q&D hack.
	Now the intermediate code (Tree) is self consistent: it uses only "rv"
	and "fp".  But then the intermediate representation (Assem) too,
	which is not what Mipsy expects.  So at the last second, set the
	TempMap so that "rv" and "fp" find their concrete names.
	Note that this is the right approach (via TempMap), but it should
	be factored elsewhere (target::Cpu).
	* src/regalloc/libregalloc.cc (allocate_registers): Likewise.

2004-04-28  Akim Demaille  <akim@epita.fr>

	* doc/Doxyfile.in: Document *.hcc files.

2004-04-28  Akim Demaille  <akim@epita.fr>

	Rename tree::Node as tree::Tree, which is more coherent with the
	fact that we name this intermediate representation `Tree code'.
	Rename all the related names (node_list_type, rNode, etc.).

	* src/tree/node.hh: Rename as...
	* src/tree/tree.hh: this.
	* src/tree/node.cc: Rename as...
	* src/tree/tree.cc: this.
	* src/tree/node.hxx: Rename as...
	* src/tree/tree.hxx: this.
	* src/tree/nodes.cc: Rename as...
	* src/tree/trees.cc: this.
	* src/tree/nodes.hh: Rename as...
	* src/tree/trees.hh: this.

	* src/tree/Makefile.am, src/tree/fwd.hh, src/tree/all.hh,
	* src/tree/binop.hh, src/tree/call.hh, src/tree/cjump.hh,
	* src/tree/const.hh, src/tree/eseq.hh, src/tree/exp.hh,
	* src/tree/iterator.hh, src/tree/jump.hh, src/tree/label.hh,
	* src/tree/mem.hh, src/tree/move.hh, src/tree/name.hh,
	* src/tree/node.hh, src/tree/tree.hh, src/tree/seq.hh,
	* src/tree/stm.hh, src/tree/sxp.hh, src/tree/temp.hh,
	* src/tree/node.cc, src/tree/tree.cc, src/tree/name.cc,
	* src/tree/mem.cc, src/tree/label.cc, src/tree/const.cc,
	* src/tree/cjump.cc, src/tree/binop.cc, src/tree/node.hxx,
	* src/tree/tree.hxx, src/tree/iterator.hxx, src/tree/cjump.hxx,
	* src/tree/temp.cc, src/tree/sxp.cc, src/tree/seq.cc,
	* src/tree/move.cc, src/tree/jump.cc, src/tree/eseq.cc,
	* src/tree/call.cc, src/tree/seq.hxx, src/tree/nodes.cc,
	* src/tree/trees.cc, src/tree/nodes.hh, src/tree/trees.hh,
	* src/canon/basic-block.hh, src/canon/canon.hh, src/canon/canon.cc,
	* src/canon/traces.hh, src/canon/traces.cc,
	* src/canon/basic-block.cc, src/canon/basic-block.hxx,
	* src/codegen/ia32/codegen.cc, src/codegen/ia32/codegen.hh,
	* src/codegen/mips/codegen.cc, src/codegen/mips/codegen.hh:
	s/node/tree/g;s/Node/Tree/g.

2004-04-28  Akim Demaille  <akim@epita.fr>

	* src/task/fwd.hh: New.

2004-04-28  Akim Demaille  <akim@epita.fr>

	* src/misc/indent.cc: Documentation.
	Use of precondition.
	Include adjustments.
	* src/misc/test-indent.cc: Rename vars.

2004-04-28  Akim Demaille  <akim@epita.fr>

	Clean up the task module.

	* src/task/boolean-task.hxx, src/task/function-task.hxx,
	* src/task/int-task.hxx: Remove.
	Adjust dependencies.
	* src/task/Makefile.am: Adjust.

	* src/task/tasks.cc, src/task/task.hh, src/task/task.hxx,
	* src/task/task.cc, src/task/boolean-task.hh,
	* src/task/boolean-task.cc, src/task/function-task.hh,
	* src/task/function-task.cc, src/task/int-task.hh,
	* src/task/int-task.cc, src/task/task-register.cc,
	* src/task/task-register.hh: Move everybody into the task
	namespace.
	Change printing methods to take and return an ostream.

2004-04-27  Akim Demaille  <akim@epita.fr>

	* src/temp/test-temp.cc (EXERCISE): Restore a comment that should
	not have been removed.

2004-04-27  Akim Demaille  <akim@epita.fr>

	* src/translate/fragment.hh, src/translate/fragments.hh,
	* src/translate/libtranslate.hh: More cleanups and doc changes.

2004-04-27  Akim Demaille  <akim@epita.fr>

	* src/translate/access.hh, src/translate/exp.hh,
	* src/translate/level.cc, src/translate/level.hh,
	* src/translate/translation.hh, src/translate/exp.cc,
	* src/translate/fwd.hh, src/translate/level.hxx,
	* src/translate/translate-visitor.cc, src/translate/translation.cc:
	Clean up.
	Formatting and documentation changes.
	* src/translate/translation.cc (translate): Use goto to factor
	(yes, yes...).

2004-04-27  Julien Roussel  <spip@lrde.epita.fr>

	* tests/tc-check.in: Fix options.

2004-04-27  Akim Demaille  <akim@epita.fr>

	* src/frame/libframe.hh: New.
	* src/frame/Makefile.am: Adjust.
	* src/frame/access.cc, src/frame/access.hh, src/frame/frame.cc,
	* src/frame/frame.hh, src/frame/access.hxx, src/frame/fwd.hh:
	Minimize header dependencies.
	Less code in hxx files.
	More documentation.
	* src/frame/frame.hh, src/frame/frame.cc (formal_alloc): New
	overloaded method, accepting lists.
	Use it in the ctor.

	* src/translate/access.hh, src/translate/fragment.cc,
	* src/translate/access.cc, src/translate/access.hxx,
	* src/translate/fwd.hh: Adjust includes.

	* src/codegen/mips/codegen.cc, src/codegen/ia32/codegen.cc: Likewise.

2004-04-26  Julien Roussel  <spip@lrde.epita.fr>

	* src/temp/factory.hh, src/temp/factory.hcc: Map keyed over
	Symbols, not string.

2004-04-26  Julien Roussel  <spip@lrde.epita.fr>

	* src/temp/factory.hh, src/temp/factory.hcc:  Add map to create an
	unique Identifier for each named Identifier.
	* src/temp/test-temp.cc: Adjust.

2004-04-26  Akim Demaille  <akim@epita.fr>

	* src/ast/Makefile.am (LOCAL_BUILT_SOURCES): Rename as...
	(BUILT_SOURCES_local): these to avoid Automake warnings.
	Suggested by Alexandre Duret-Lutz.

2004-04-23  Akim Demaille  <akim@epita.fr>

	* src/temp/Makefile.am (libtemp_a_SOURCES): Adjust to *.hcc files.

2004-04-23  Akim Demaille  <akim@epita.fr>

	* src/temp/fwd.hh, src/temp/identifier.hh,
	* src/temp/identifier.hcc, src/temp/label.hh, src/temp/factory.hh,
	* src/temp/factory.hcc, src/temp/temp.hh (TagType_): Rename as...
	(Tag_): this.
	Complete the documentation.
	Student marks.
	(TaggedIdentifier): Add all the comparison operators.
	* src/temp/test-temp.cc: Do a more thorough job.

2004-04-23  Akim Demaille  <akim@epita.fr>

	* src/liveness/Makefile.am (test_flowgraph_LDADD): Complete the
	missing libs, and reorder.
	* src/liveness/test-flowgraph.cc: Be sure to define all the extern
	variables we depend upon.

2004-04-23  Akim Demaille  <akim@epita.fr>

	Before this patch Identifier used to be parameterized by a struct
	(say temp_identifier), and it used a traits parameterized by this
	struct (say identifier_traits <temp_identifier>).  Merge
	temp_identifier and identifier_traits into a single traits,
	temp_traits, that is used to parameterize Identifier.
	This will demonstrate template template parameters.

	* src/temp/identifier.hh (identifier_traits): Remove.
	(Identifier): Be parameterized by Traits_, a template, instead of
	I_, a typename.
	(TaggedIdentifier): Be parameterized twice: once by Traits_, and
	then by the TagType_.
	* src/temp/identifier.hcc: Adjust the code.
	* src/temp/factory.hh, src/temp/factory.hcc: Minimize includes.
	(Factory): Parameterize by Traits_.
	Comment the code.

	* src/temp/label.cc, src/temp/temp.hh, src/temp/temp.cc,
	* src/temp/label.hh, src/temp/fwd.hh: Adjust to create temp_traits
	and label_traits, and to use them.

	* src/temp/Makefile.am: Stylistic changes.
	* src/temp/test-temp.cc: Remove weird code.
	* src/liveness/Makefile.am (test_flowgraph_LDADD): Pay attention
	to lib order.
	* src/liveness/test-flowgraph.cc (temp/label.hh): Include.
	* src/misc/set.hxx (ostream): Include.

2004-04-23  Julien Roussel  <spip@lrde.epita.fr>

	No memory leaks in T5.

	* src/frame/frame.cc, src/frame/frame.hh: Use pointer in ctor.
	Add dtor.
	* src/translate/fragment.hh, src/translate/fragment.hxx,
	* src/translate/fragment.cc (ProcFrag::~ProcFrag): New.
	(frame_): Be const and pointer.
	* src/translate/level.hxx, src/translate/level.cc,
	* src/translate/level.hh: Add dtor and local allocated accesses list.
	Use a frame pointer instead of a frame (to avoid desallocation, needed
	in Fragment).
	* src/translate/libtranslate.cc, src/translate/translation.hh:
	Adjust.
	Add a missing delete.
	* src/translate/level-env.hxx (scope_end): Delete levels.
	* src/translate/translate-visitor.cc: Add delete and adjust.
	* src/translate/translation.cc: Adjust.

2004-04-23  Akim Demaille  <akim@epita.fr>

	Fight the spreading of the code for identifier and factory
	templates: introduce explicit instantiations of these classes in
	specified compilation units.

	* src/temp/fwd.hh (identifier_type): Remove.
	* src/temp/identifier.hh (fwd.hh): Don't include it: we no longer
	rely on identifier_type. Instead, have a regular typename
	parameter.
	No longer include the .hxx part.
	* src/temp/identifier.hxx: Rename as...
	* src/temp/identifier.hcc: this.
	This file is now to be compiled once.
	Remove the `inline'.
	Adjust to the identifier_type removal.
	* src/temp/factory.hh: Similarly.
	* src/temp/factory.hxx: Rename as...
	* src/temp/factory.hcc: this.
	And do similarly.

	* src/temp/label.hh (label_identifier): New struct, playing the
	role of the former eponymous enum values.
	* src/temp/label.cc (factory.hcc, identifier.hcc): Include them.
	For the template instantiations.
	* src/temp/temp.hh, src/temp/temp.cc: Likewise.

	* src/temp/tempmap.cc, src/assem/instr.cc, src/assem/oper.hxx,
	* src/temp/label-list.cc: Adjust includes no longer provided by
	former hxx files.
	* src/frame/frame.hh (operator<<): Move its implementation to...
	* src/frame/frame.cc: here.

2004-04-22  Akim Demaille  <akim@epita.fr>

	* src/misc/ref.hxx: Remove `this->' when not required.
	* src/misc/ref.hh, src/misc/ref.hxx: Complete the documentation.
	Adjust student marks.
	Make it a class instead of a struct.
	Formatting changes.
	* src/misc/test-ref.cc (main): Exercise the copy constructor.
	Formatting changes.

2004-04-20  Julien Roussel  <spip@lrde.epita.fr>

	* tests/tc-check.in: Add leaks check support from T5 to T8.

2004-04-20  Akim Demaille  <akim@epita.fr>

	* src/tree/stm.cc: Implementation for Stm.
	* src/tree/exp.cc: Implementation for Exp.
	* src/tree/nodes.hh, src/tree/nodes.cc: Intermediate
	representation: node_list_type.

2004-04-20  Akim Demaille  <akim@epita.fr>

	* src/assem/layout.hh: Adjust.
	* src/liveness/liveness.cc: Use empty instead of size == 0.

2004-04-20  Akim Demaille  <akim@epita.fr>

	* config/warning.m4: Don't let warning flags leak into CXXFLAGS.

2004-04-20  Akim Demaille  <akim@epita.fr>

	* src/assem/fragment.cc, src/assem/instr.cc, src/assem/instr.hh,
	* src/assem/layout.hh, src/canon/basic-block.hh,
	* src/codegen/assembly.hh, src/codegen/codegen.hh,
	* src/codegen/ia32/gas-layout.cc, src/frame/access.hh,
	* src/frame/frame.hh, src/liveness/interference-graph.hh,
	* src/liveness/liveness.hh, src/regalloc/color.hh,
	* src/translate/exp.cc, src/translate/level-env.cc,
	* src/translate/translate-visitor.cc, src/target/cpu.hh,
	* src/translate/translation.cc, src/translate/exp.hh,
	* src/translate/level.cc, src/translate/libtranslate.cc,
	* src/tree/cjump.hh, src/tree/jump.hh, src/tree/label.hh,
	* src/tree/temp.hh, src/tree/name.cc, src/tree/label.cc,
	* src/tree/temp.cc, src/canon/basic-block.cc: Adjust inclusions.
	* src/assem/instrs.hh: Delete empty lines.
	* src/assem/visitor.hh: Adjust inclusions and comments.
	* src/canon/traces.hh: Adjust typedef.
	* src/misc/Makefile.am: Delete set.cc
	* src/misc/set.hh: Adjust comments.
	* src/misc/set.hxx: Adjust inclusion and operator<<.
	* src/misc/set.cc: Deleted.
	* src/target/cpu.cc: Adjust brackets.
	* src/temp/identifier.hh: Move enum identifier_type ...
	* src/temp/fwd.hh: here. Add some classes and typedefs.
	* src/assem/fwd.hh: add class Visitor.

2004-04-20  Akim Demaille  <akim@epita.fr>

	* src/parse/libparse.hh, src/task/libtask.hh, src/task/task.hh,
	* src/type/libtype.hh: Add or adjust comments.

2004-04-20  Akim Demaille  <akim@epita.fr>

	* src/translate/fragment.cc: Use indentation functions.
	* src/tree/Makefile.am, src/tree/node.hxx: Adjust.
	* src/tree/fwd.hh: Simplify nodes declaration.
	* src/tree/binop.hh, src/tree/call.hh, src/tree/cjump.hh,
	* src/tree/const.hh, src/tree/eseq.hh, src/tree/jump.hh,
	* src/tree/label.hh, src/tree/mem.hh, src/tree/move.hh,
	* src/tree/name.hh, src/tree/seq.hh, src/tree/sxp.hh,
	* src/tree/temp.hh, src/tree/node.hh, src/tree/name.cc,
	* src/tree/mem.cc, src/tree/label.cc, src/tree/const.cc,
	* src/tree/cjump.cc, src/tree/binop.cc, src/tree/temp.cc,
	* src/tree/sxp.cc, src/tree/move.cc, src/tree/jump.cc: Use
	ostream.
	(tag_print): Return an ostream, as do `print' methods.
	(print): Revamp so that they never output the last new-line, for
	sake of homogeneity with the other `print' methods.
	* src/tree/node.cc, src/tree/seq.cc, src/tree/eseq.cc,
	* src/tree/call.cc: Use ostream and indentation functions.
	* src/tree/expstm.cc: Deleted.

2004-04-14  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* config/studentize: Check unclosed student marks, and handle more
	comments styles.
	* Makefile.am: Update.
	* src/parse/scantiger.ll: Change comment style for two student mark.

2004-04-13  Julien Roussel  <spip@lrde.epita.fr>

	* src/ast/ast.xml: Remove unused nested student marks (due to more
	restrictive studentize script).
	* src/ast/callexp.hh, src/ast/functiondec.hh,
	* src/ast/ifexp.hh, src/ast/letexp.hh,
	* src/ast/seqexp.hh: Regen.

2004-04-08  Akim Demaille  <akim@epita.fr>

	* src/assem/instrs.hh, src/frame/frame.hh, src/misc/deref.hxx,
	* src/type/type-visitor.hh, src/type/types.hh,
	* src/type/type-visitor.cc: Comment/style changes.

2004-04-08  Akim Demaille  <akim@epita.fr>

	Don't pass warning flags to the Swig output compilation.

	* configure.ac (CXXFLAGS): Don't add WARNING_CXXFLAGS here.
	* src/tc.mk (AM_CXXFLAGS): Do it here.

2004-04-05  Akim Demaille  <akim@epita.fr>

	* configure.ac: Bump to 0.70a.

2004-04-05  Akim Demaille  <akim@epita.fr>

	Version 0.70.
	For 2006-tc-4.2.
	* config/studentize (&studentize): Don't studentize TODO which can
	contain unbalanced student marks.
	* configure.ac (AM_INIT_AUTOMAKE): Check-news.

2004-04-02  Akim Demaille  <akim@epita.fr>

	Let tcsh catch up with misc::fail.

	* src/misc/tiger_misc.i: New.
	* src/tiger_common.i: Adjust.
	* src/misc/Makefile.am: Ditto.
	* tcsh/generate-swig-mk: Idem.

	* src/type/type-entry.hxx, src/type/type-entry.hh: Minor changes.

2004-04-02  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.cc (type): Use misc::indent instead of
	adhoc indentation.  This produces better looking error messages
	involving complex types, which are printed using misc::indent.

2004-04-02  Akim Demaille  <akim@epita.fr>

	* src/common.cc, src/common.hh (exit_status, exit_set): Move to...
	* src/misc/fail.hh, src/misc/fail.cc: these new files.
	(exit_on_error): New, throws an exception instead of using exit
	which skips stack unwinding.
	* src/misc/Makefile.am: Adjust.
	* src/tc.cc: Adjust to catch the runtime errors.
	Required for stack unwinding.
	* src/escapes/libescapes.cc, src/overload/tasks.cc,
	* src/parse/tasks.cc, src/parse/parsetiger.yy,
	* src/parse/scantiger.ll, src/task/task.cc,
	* src/task/task-register.cc, src/type/tasks.cc: : Adjust.

	* src/ast/test-ast.cc (program_name, exit_status): No longer
	needed.

2004-04-02  Damien Thivolle  <damien@lrde.epita.fr>

	* src/translate/fragment.cc: Fix.
	* src/tree/node.hxx: Fix.
	* src/misc/test-indent.cc: Replace assert by assertion.

2004-04-02  Akim Demaille  <akim@epita.fr>

	* src/symbol/table.hh (operator<<): Move its definition into...
	* src/symbol/table.hxx: here.
	(print): Use misc::indent.
	* src/type/type-env.cc (TypeEnv::print): Use misc::indent.
	* src/type/types.cc, src/type/type-entry.cc: Fix output layout.

2004-04-01  Damien Thivolle  <damien@lrde.epita.fr>

	* src/translate/fragment.cc: Use indentation functions from
	misc/indent.hh
	* src/tree/call.hh: Likewise.
	* src/tree/eseq.hh: Likewise.
	* src/tree/node.hh: Likewise.
	* src/tree/seq.hh: Likewise.
	* src/tree/node.cc: Likewise.
	* src/tree/node.hxx: Likewise.
	* src/tree/seq.cc: Likewise.
	* src/tree/eseq.cc: Likewise.
	* src/tree/call.cc: Likewise.
	* src/misc/indent.cc: Fill the indentation blank with white spaces.

2004-04-01  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&cut): Add a missing newline.

2004-04-01  Akim Demaille  <akim@epita.fr>

	* src/ast/test-ast.cc: Doxygenation.
	* src/misc/libmisc.hh, src/misc/test-indent.cc: New.
	* src/misc/Makefile.am: Adjust.
	* src/misc/test-deref.cc: Formatting changes.

2004-03-31  Akim Demaille  <akim@epita.fr>

	First pass of T5 cleanup.

	* src/ast/print-visitor.cc: Formatting changes.
	* src/frame/access.cc: Idem.
	* src/frame/access.hh: Be sure to be "using" publicly.
	* src/frame/frame.cc: Formatting changes.
	* src/translate/fragment.hh: Idem.
	* src/translate/level.hxx: Idem.
	* src/translate/fwd.hh (Exp): Add.
	* src/translate/translation.hh (translate/fwd.hh): Use it.
	* src/translate/level-env.hh: Don't be "using" symbol::Symbol.
	* src/translate/level.cc, src/translate/level.hh: Idem.
	* src/translate/level-env.cc, src/translate/level-env.hxx: Idem.
	* src/translate/translate-visitor.hh (translate): New method
	template to work on std::list <T*>.
	* src/translate/translate-visitor.cc: Use it.
	Fix comments referring to the TyV.
	Adjust layout.
	(~TranslateVisitor): Use procedureDec instead of open coding it.
	* src/translate/translation.cc: Complete the includes now that we
	use fwd.hh in the headers.

2004-03-31  Akim Demaille  <akim@epita.fr>

	Really implement the simplification for if-then as syntactic
	sugar.

	* src/ast/ast.xml (IfExp): Include ast/seqexp.hh.
	Let the elseclause member be mandatory.
	Add another ctor for IfExp to fill the missing value.
	* src/ast/print-visitor.cc, src/ast/default-visitor.hxx,
	* src/cppgen/cppgen-visitor.cc, src/parse/parsetiger.yy,
	* src/type/type-visitor.cc: Adjust.
	* src/ast/assignexp.hh, src/ast/ifexp.cc, src/ast/ifexp.hh,
	* src/ast/ifexp.hxx: Regen.

2004-03-31  Akim Demaille  <akim@epita.fr>

	Make sure tc-check does not publish too much of the tests.

	* tests/tc-check.in (&cut): New.
	(&contents): Use it.
	(&report_file): Use it.
	(&file_limit): Remove, unused.
	(&ast_one_check): Pass -u0 to avoid giving away too much of the
	test, and limit the diff output to 4 lines.

2004-03-29  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh: Close a student mark.

2004-03-26  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&escapes_check_one): Check stderr.
	* src/ast/default-visitor.hxx: Remove an embarrassing debugging
	output.

2004-03-26  Akim Demaille  <akim@epita.fr>

	Version 0.69.
	For 2006-tc-4.0.

2004-03-26  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh, src/type/types.hh, src/type/types.cc,
	* src/type/type-visitor.cc: Adjust student marks.
	* src/type/fwd.hh: New.
	* src/type/Makefile.am: Adjust.

2004-03-26  Nicolas Pouillard  <ertai@lrde.epita.fr>

	* tests/tc-check.in: Correct the return value of `run'.

2004-03-26  Akim Demaille  <akim@epita.fr>

	Repair tcsh.

	* src/tc.cc (TC_CC_): Don't define here and no longer include
	modules.hh here, but...
	* src/modules.cc: in this new file, so that tcsh may directly use
	this file to load the tasks.  This is needed because the modules
	include their tasks in their libraries.  This should be fixed in
	the future: libraries ought to be independent of the task system.
	* tcsh/tiger_common.i: Rename as...
	* src/tiger_common.i: this.
	* src/Makefile.am, tcsh/Makefile.am: Adjust.
	* tcsh/generate-swig-mk: Fix modulepath for common which is now in
	src/.
	* tcsh/generate-tc-shared-mk (tc_libs): Define it!!!  Without
	this, no tc code was included in tcsh.
	* tcsh/common.cc: Remove.

	* src/escapes/escapes-visitor.cc (misc/contract.hh): Include.
	* src/misc/timer.cc: Formatting changes.
	* src/canon/libcanon.cc: Idem.
	* src/canon/libcanon.hh: Ditto.

2004-03-26  Akim Demaille  <akim@epita.fr>

	Let the EV accept undeclared arguments again.

	* src/misc/traits.hxx: New.
	* src/misc/traits.hh: New.
	* src/misc/Makefile.am: Adjust.
	* src/symbol/table.hh, src/symbol/table.hxx (get): When the key is
	unknown, return 0 if returning a pointer, otherwise throw a
	range_error.

2004-03-26  Akim Demaille  <akim@epita.fr>

	* tcsh/generate-swig-mk, tcsh/generate-tc-shared-mk: Fix the test
	on present modules.

2004-03-26  Akim Demaille  <akim@epita.fr>

	* src/ast/libast.cc, src/ast/libast.hh, src/codegen/libcodegen.hh,
	* src/translate/libtranslate.cc, src/translate/libtranslate.hh,
	* src/temp/libtemp.cc, src/temp/libtemp.hh, src/ast/libast.hxx
	(print): Return an ostream as per the coding style.

2004-03-26  Akim Demaille  <akim@epita.fr>

	* src/ast/libast.hh (print, operator<<): Accept an Ast, not just
	an Exp, since that can be useful to debug.
	* src/ast/libast.hxx: New, for inline implementations.

2004-03-25  Julien Roussel  <spip@lrde.epita.fr>

	* src/symbol/symbol.hh: Move ostream inclusion...
	* src/symbol/symbol.cc: here.

2004-03-25  Julien Roussel  <spip@lrde.epita.fr>

	* src/type/types.hxx: Use type_set to ensure deletion protection.

2004-03-25  Nicolas Pouillard  <pouill_n@lrde.epita.fr>

	* tests/tc-check.in: Fix $? in `run'.
	Remove `message_add' method and some others little fixes.

2004-03-25  Akim Demaille  <akim@epita.fr>

	* tests/escapes/escapes-for-scope.tig,
	* tests/escapes/escapes-n-recursion.tig,
	* tests/escapes/escapes-scopes.tig: Rename as...
	* tests/escapes/for-scope.tig, tests/escapes/recursion.tig,
	* tests/escapes/scopes.tig: these.
	* tests/escapes/Makefile.am: Adjust.

2004-03-25  Damien Thivolle  <damien@lrde.epita.fr>

	* src/overload/overfun-type-visitor.cc: Factor code.

2004-03-25  Akim Demaille  <akim@epita.fr>

	* src/type/test-type.cc (ASSERT): New.
	Use it.
	* src/type/type-visitor.hh: Remove some `entities' into `exp', to
	save width.
	* src/type/type-visitor.cc: Likewise.
	Reinstall my patch reverted below by Julien Roussel.
	* src/type/types.cc (print): When printing a Named, display what
	it immediately points to, not the end point, let the recursion do
	that.
	(Nil::comparable_to): Check that the *actual* type is a Record,
	not the surface type.

2004-03-24  Julien Roussel  <spip@lrde.epita.fr>

	* src/type/type-visitor.cc: Set type_ to record_type instead
	of record_named_type in RecordExp visit (the test suite is ok
	now).

2004-03-24  Julien Roussel  <spip@lrde.epita.fr>

	* src/symbol/symbol.hh: Include ostream to compile on NetBSD.

2004-03-24  Julien Roussel  <spip@lrde.epita.fr>

	* src/type/type-env.hh, src/type/type-env.cc: Remove dispatch
	parameter in scope_end.
	* src/type/types.hh, src/type/types.cc: Replace is_instance by
	is_singleton and add Named dtor (was missing and caused leaks
	management in type-visitor).
	* src/type/types.hxx (Named::type_set): Add deletion protection.
	* src/type/type-visitor.cc, src/type/type-visitor.hh: Remove dtor
	and leaks_add (no more needed because of Named dtor).

2004-03-24  Julien Roussel  <spip@lrde.epita.fr>

	* src/type/type-visitor.cc: Move TypeVisitor::decs_visit after
	FunctionDecs and TypeDecs visits because of "specialization before
	instantiation" problem with g++-3.2 and g++-3.3 (problem solved
	with g++-3.4).

2004-03-24  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-visitor.hh,
	* src/translate/translate-visitor.cc (EXP_FROM): Replace with...
	(translate): This.
	* src/type/type-visitor.cc: Formatting changes.

2004-03-24  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh, src/type/type-visitor.cc (error): New.
	Use it.
	This one is overloaded and takes only a single message.

2004-03-24  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh, src/type/type-visitor.cc (error): New.
	Use it.
	This dramatically reduces the room taken by error recovery...

2004-03-24  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.cc (type): Even more uses of it.
	There are no `accept' left.

2004-03-24  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh, src/type/type-visitor.cc (type): New.
	Use it to simplify this (*&£$ code.

2004-03-24  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh, src/type/type-visitor.cc
	(visitTypeDecHeader, visitTypeDecBody, visitFunctionDecHeader)
	(visitFunctionDecBody):
	Remove, factored into...
	(decs_visit, visitDecHeader, visitDecBody): These.

2004-03-24  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh (type_mismatch, check_types_comparable)
	(check_types_assignable): Use an Ast node to find the location,
	since that's always how it's used.  This saves several location_get.
	* src/type/type-visitor.cc: Adjust.
	* src/overload/overfun-type-visitor.cc: Likewise.

2004-03-24  Akim Demaille  <akim@epita.fr>

	* src/type/types.hh (print): Change all the implementation to not
	using an additional argument "depth": rather...
	* src/type/types.cc (type_nesting_index): New ostream index, used
	to store the current depth of record.
	* src/type/type-visitor.cc (operator() (RecordExp)): Complain
	about the type name, instead of the type value.
	* src/misc/indent.hh: Formatting changes.
	* src/misc/indent.cc (ostream): Include it.

2004-03-22  Damien Thivolle  <damien@lrde.epita.fr>

	* src/type/types.hh: Fix.

2004-03-22  Julien Roussel  <spip@lrde.epita.fr>

	* NEWS: Add information on T4 leaks.
	* configure.ac: Update to tc 0.68a and automake 1.8.3.

2004-03-20  Damien Thivolle  <damien@lrde.epita.fr>

	* src/misc/indent.hh, src/misc/indent.cc: Fix.
	* src/type/types.hh: Fix.

2004-03-19  Damien Thivolle  <damien@lrde.epita.fr>

	* src/misc/Makefile.am: Add indent.cc and indent.hh to
	libmisc_a_SOURCES.
	* src/type/types.hh: Include indent.hh.
	* src/type/types.cc: New indentation of Record type.
	* src/misc/indent.hh, src/misc/indent.cc: New indentation relative
	functions.

2004-03-19  Julien Roussel  <spip@lrde.epita.fr>

	* src/type/test-type.cc: Fix.

2004-03-19  Julien Roussel  <spip@lrde.epita.fr>

	* tests/tc-check.in: Add --ast-delete in T4 options.

2004-03-19  Julien Roussel  <spip@lrde.epita.fr>

	* src/type/type-entry.hh: Replace references by pointers in ctor.
	* src/type/type-env.hh: Delete builtins in dtor and in scope_end.
	* src/type/type-visitor.hh, src/type/type-visitor.cc: Add dtor and
	delete the non deallocate pointers list.
	* src/type/types.hh, src/type/types.hxx: Add is_instance method to
	know if a class is a singleton.
	* src/type/type-env.cc, src/type/type-entry.hxx: Adjust pointers and
	references.
	* src/type/test-type.cc, src/overload/overfun-type-visitor.cc: Adjust.

2004-03-19  Akim Demaille  <akim@epita.fr>

	Version 0.68.
	For 2006-tc-3.0.
	* Makefile.am, config/stagize: Do not deliver escapes.

2004-03-18  Nicolas Pouillard  <pouill_n@lrde.epita.fr>

	* tcsh/Makefile.am, src/tc.mk: Use AM_CPPFLAGS instead of INCLUDES.
	* argp/testsuite/Makefile.am: Add top source dir to includes.
	* src/task/Makefile.am: Fix.

2004-03-18  Akim Demaille  <akim@epita.fr>

	* src/parse/tasks.cc (parse): Clarify the missing FIXME.

	* src/escapes/escapes-env.hh, src/escapes/escapes-env.hxx,
	* src/escapes/escapes-env.cc: Rename as...
	* src/escapes/definition.hh, src/escapes/definition.hxx,
	* src/escapes/definition.cc: these.
	* src/escapes/Makefile.am: Adjust.
	* src/escapes/tasks.hh: Documentation changes.
	* src/escapes/escapes-visitor.hh: Adjust, and doc changes.
	* src/escapes/libescapes.cc: Doc changes.
	* src/escapes/libescapes.hh: Idem.
	* src/graph/graph.hh: Ditto.
	* src/misc/containers.hxx: Likewise.
	* src/misc/timer.hh: Again.
	* src/misc/select-const.hh: and so forth.

2004-03-17  Nicolas Pouillard  <pouill_n@lrde.epita.fr>

	* configure.ac: Change the --with*-swig option, now
	the default case try tu use swig.
	* src/task/Makefile.am: Use AC_CPPFLAGS instead of INCLUDE.

2004-03-16  Nicolas Pouillard  <pouill_n@lrde.epita.fr>

	* tests/tc-check.in: Timeout handling for older Perl versions.
	'+' are now valid in configuration file.
	Fix a prototype warning.
	Fix a division by zero warning.

2004-03-16  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen: Have the files' brief documentation point
	to the corresponding class.
	* config/ast-visitor-gen: Add Doxygen documentation.

	* src/ast/alldec.hh, src/ast/allexp.hh, src/ast/all.hh,
	* src/ast/allty.hh, src/ast/allvar.hh, src/ast/anydecs.hh,
	* src/ast/anydecs.hxx, src/ast/arrayexp.cc, src/ast/arrayexp.hh,
	* src/ast/arrayexp.hxx, src/ast/arrayty.cc, src/ast/arrayty.hh,
	* src/ast/arrayty.hxx, src/ast/assignexp.cc, src/ast/assignexp.hh,
	* src/ast/assignexp.hxx, src/ast/ast.cc, src/ast/ast.hh,
	* src/ast/ast.hxx, src/ast/breakexp.cc, src/ast/breakexp.hh,
	* src/ast/breakexp.hxx, src/ast/callexp.cc, src/ast/callexp.hh,
	* src/ast/callexp.hxx, src/ast/dec.cc, src/ast/dec.hh,
	* src/ast/dec.hxx, src/ast/exp.cc, src/ast/exp.hh, src/ast/exp.hxx,
	* src/ast/field.cc, src/ast/fieldexp.cc, src/ast/fieldexp.hh,
	* src/ast/fieldexp.hxx, src/ast/field.hh, src/ast/field.hxx,
	* src/ast/fieldvar.cc, src/ast/fieldvar.hh, src/ast/fieldvar.hxx,
	* src/ast/forexp.cc, src/ast/forexp.hh, src/ast/forexp.hxx,
	* src/ast/functiondec.cc, src/ast/functiondec.hh,
	* src/ast/functiondec.hxx, src/ast/ifexp.cc, src/ast/ifexp.hh,
	* src/ast/ifexp.hxx, src/ast/intexp.cc, src/ast/intexp.hh,
	* src/ast/intexp.hxx, src/ast/letexp.cc, src/ast/letexp.hh,
	* src/ast/letexp.hxx, src/ast/location.hh, src/ast/namety.cc,
	* src/ast/namety.hh, src/ast/namety.hxx, src/ast/nilexp.cc,
	* src/ast/nilexp.hh, src/ast/nilexp.hxx, src/ast/opexp.cc,
	* src/ast/opexp.hh, src/ast/opexp.hxx, src/ast/position.hh,
	* src/ast/recordexp.cc, src/ast/recordexp.hh, src/ast/recordexp.hxx,
	* src/ast/recordty.cc, src/ast/recordty.hh, src/ast/recordty.hxx,
	* src/ast/seqexp.cc, src/ast/seqexp.hh, src/ast/seqexp.hxx,
	* src/ast/simplevar.cc, src/ast/simplevar.hh, src/ast/simplevar.hxx,
	* src/ast/stringexp.cc, src/ast/stringexp.hh, src/ast/stringexp.hxx,
	* src/ast/subscriptvar.cc, src/ast/subscriptvar.hh,
	* src/ast/subscriptvar.hxx, src/ast/ty.cc, src/ast/ty.hh,
	* src/ast/ty.hxx, src/ast/typedec.cc, src/ast/typedec.hh,
	* src/ast/typedec.hxx, src/ast/var.cc, src/ast/vardec.cc,
	* src/ast/vardec.hh, src/ast/vardec.hxx, src/ast/var.hh,
	* src/ast/var.hxx, src/ast/visitor.hh, src/ast/whileexp.cc,
	* src/ast/whileexp.hh, src/ast/whileexp.hxx: Regen.

	* src/liveness/tasks.cc, src/overload/liboverload.hh,
	* src/overload/overfun-type-visitor.hh, src/overload/over-table.hh,
	* src/symbol/symbol.cc, src/symbol/symbol.hh, src/symbol/symbol.hxx,
	* src/task/tasks.cc, src/task/task-register.cc: Documentation changes.

2004-03-12  Akim Demaille  <akim@epita.fr>

	* src/ast/ast.xml: Move the attribute "name" from FunctionDec,
	TypeDec, and VarDec into Dec itself.
	* src/ast/dec.cc, src/ast/dec.hh, src/ast/dec.hxx,
	* src/ast/functiondec.cc, src/ast/functiondec.hh,
	* src/ast/functiondec.hxx, src/ast/typedec.cc, src/ast/typedec.hh,
	* src/ast/typedec.hxx, src/ast/vardec.cc, src/ast/vardec.hh,
	* src/ast/vardec.hxx: Regen.
	* config/ast-visitor-gen: Formatting changes.

2004-03-12  Akim Demaille  <akim@epita.fr>

	Introduce a means to write:
	  misc::for_each (container, visitor)
	instead of an explicit iterator over container, plus invocation of
	`accept' for each member.

	* src/misc/containers.hh, src/misc/containers.hxx (for_each): New.
	* src/ast/default-visitor.hxx, src/ast/default-visitor.hh
	(operator() (E *)): New.
	Use for_each.

2004-03-11  Julien Roussel  <spip@lrde.epita.fr>

	* src/escapes/escapes-visitor.hh, src/escapes/escapes-visitor.cc: Add
	memory deallocation in scope_end (to avoid memory leaks).

2004-03-11 Nicolas Pouillard <pouill_n@lrde.epita.fr>

	* tests/tc-check.in: Fix a warning (ARRAY reference undefined).

2004-03-10  Nicolas Pouillard  <pouill_n@lrde.epita.fr>

	* tests/tc-check.in: Add a warnings system, at same level of
	failures, and an option to consider warnings, as failures.
	Add a unit conversion to pretty print bytes in kilo, mega...
	Add a new summary dedicated to memory leaks.
	Revert some changes.

2004-03-09  Akim Demaille  <akim@epita.fr>

	* src/ast/Makefile.am: Make sure location.hh and position.hh are
	available in src/parse.
	* bootstrap: Remove their generation.

2004-03-09  Julien Roussel  <spip@lrde.epita.fr>

	* bootstrap: Modify invocation of "make" according to POSIX
	restrictions.

2004-03-08  Julien Roussel  <spip@lrde.epita.fr>

	* src/Makefile.am: Revert changes, compile src/ast before src/parse.
	* bootstrap: Add src/parse/ files generation.

2004-03-08  Akim Demaille  <akim@epita.fr>

	* src/tc.cc (parse/libparse.hh): No longer to be included.
	* src/parse/parsetiger.yy (the_program): Rename as yyresult, to
	avoid confusion amongst students who have still not understood the
	points of namespaces.
	* src/parse/libparse.cc, src/parse/tasks.hh: Adjust.

2004-03-06  Julien Roussel  <spip@lrde.epita.fr>

	* src/Makefile.am: Compile src/parse before src/ast.

2004-03-06  Nicolas Pouillard  <pouill_n@lrde.epita.fr>

	* tests/tc-check.in: Consider memory leaks as warning in tc-check.

2004-03-04  Akim Demaille  <akim@epita.fr>

	* src/escapes/tasks.cc (parentgraph, callgraph): Be auto_ptr to
	reclaim the memory.
	* src/escapes/libescapes.hh: Formatting changes.

2004-03-04  Akim Demaille  <akim@epita.fr>

	* src/escapes/callgraph-creator.cc: Rename as...
	* src/escapes/callgraph-visitor.cc: this.
	* src/escapes/callgraph-creator.hh: Rename as...
	* src/escapes/callgraph-visitor.hh: this.
	* src/escapes/parentgraph-creator.cc: Rename as...
	* src/escapes/parentgraph-visitor.cc: this.
	* src/escapes/parentgraph-creator.hh: Rename as...
	* src/escapes/parentgraph-visitor.hh: this.
	* src/escapes/Makefile.am: Adjust.

	* src/escapes/tasks.hh, src/escapes/tasks.cc: Formatting/wording
	changes.
	Rename "dump" suffix as "display", for consistency.
	* src/escapes/libescapes.cc: Adjust.
	* src/escapes/fundecgraph.hh, src/escapes/fundecgraph.hxx,
	* src/escapes/escapes-visitor.cc: Use super_type.
	* src/misc/select-const.hh: Formatting changes.

2004-03-03  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&summary): Fix the prototype.
	Because of this, we used to report the number of errors, instead
	of the list of errors.

2004-03-03  Akim Demaille  <akim@epita.fr>

	The DefaultVisitors needs to adjust the iterator type it uses:
	const_ or not.

	* config/ast-visitor-gen, src/ast/visitor.hh: No longer generate
	the select_const mechanism here.
	Move it to...
	* src/misc/select-const.hh: this new file.
	(select_iterator): New.
	* config/ast-visitor-gen: Include and use it.
	* src/ast/default-visitor.hxx: Formatting changes.
	Use select_iterator.
	* config/ast-fwd-gen, src/ast/fwd.hh: Adjust: forward declaration
	const_kind and non_const_kind into misc, not ast.
	* src/misc/Makefile.am: Adjust.


	Coding style issues.

	* src/ast/default-visitor.hh (super_type): Define and use.
	* src/overload/overfun-type-visitor.hh: Extract the OverTable part
	into...
	* src/overload/over-table.hh: this new file.
	* src/overload/overfun-type-visitor.hxx: Rename as...
	* src/overload/over-table.hxx: this.
	* src/overload/Makefile.am: Adjust.
	* src/symbol/table.hxx: Formatting changes.
	* src/task/int-task.cc (end): Initialize to avoid gratuitous
	warnings.


	G++ 3.4 compatibility issues.

	* src/liveness/flowgraph.hh (self_type, super_type): New.
	(print): Import publicly.
	* src/liveness/liveness.hh (super_type): New.
	(print): Import publicly.
	* src/graph/graph.hxx: Use self_type, typename, and this-> where
	appropriate.
	* src/liveness/flowgraph.hxx: Likewise.
	* src/misc/containers.hxx (ostream): Include it.
	* src/misc/set.hxx: Add this-> where appropriate.
	* src/misc/set.cc: Likewise.
	(ostream): Include it.
	* src/overload/overfun-type-visitor.hh: Define super_type and
	import its operator() in a public section.
	* src/overload/overfun-type-visitor.cc (sstream): Include it.
	* src/overload/overfun-type-visitor.hxx: Rename as...
	* src/overload/over-table.hxx: this.
	* src/overload/Makefile.am: Adjust.
	* src/type/type-visitor.hh (operator()): Import in the public
	section, so that the OverfunTypeVisitor may use its ancestors'
	functions.
	* src/misc/ref.hxx <algorithm>: Include it for std::swap.
	* src/temp/factory.hxx (~Factory): Remove the template parameter
	from the destructor name.

2004-03-03  Akim Demaille  <akim@epita.fr>

	* configure.ac: Bump to 0.67a.

2004-03-03  Akim Demaille  <akim@epita.fr>

	Version 0.67.
	For 2006-tc-2.1.

	* src/symbol/symbol.hh: Remove trailing comments.
	(instance): Private.

2004-03-03  Akim Demaille  <akim@epita.fr>

	* src/cppgen/cppgen-visitor.hh, src/cppgen/cppgen-visitor.cc
	(visit_chunk, operator() (decs_type): Remove, unused.

2004-03-03  Akim Demaille  <akim@epita.fr>

	* src/codegen/Makefile.am (EXTRA_DIST): Revert the previous
	change, as the file tiger_runtime.c was already shipped.  Just not
	under version control.
	* config/ast-fwd-gen (decs_type): Remove, unused, and misleading.
	Flag the output as generated.
	* src/codegen/tiger_runtime.c: Rename as...
	* src/codegen/tiger-runtime.c: this.

2004-03-02  Akim Demaille  <akim@epita.fr>

	* src/codegen/tiger-runtime.c: New.
	* src/codegen/Makefile.am: Adjust.

2004-03-02  Nicolas Pouillard  <pouill_n@lrde.epita.fr>

	* src/escapes/libescapes.hh, src/common.hh,
	* src/liveness/libliveness.hh, src/misc/set.hh,
	* src/canon/libcanon.hh: Some fixes for reducing Doxygen warnings.

2004-03-02  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&report_file): Fix the default value for
	$limit so that 0 means "no limit".

2004-03-02  Akim Demaille  <akim@epita.fr>

	Fix the destruction of Cppgen.  With this reverted patch, we go
	from 0% to 17% of passes.

	* src/cppgen/includes/type.hh, src/cppgen/includes/function.hh,
	* src/cppgen/includes/env.hh, src/cppgen/includes/explist.hh,
	* src/cppgen/includes/lvalue.hh, src/cppgen/includes/arrayty.hh,
	* src/cppgen/includes/recordty.hh, src/cppgen/includes/macro.hh,
	* src/cppgen/includes/letinend.hh, src/cppgen/includes/stack.hh,
	* src/cppgen/includes/builtin.hh, src/cppgen/includes/binop.hh,
	* src/cppgen/includes/list.hh, src/cppgen/includes/control.hh:
	Revert the brutal renaming of `foo_t' into `foo_type' as there
	were already some `foo_type'.

2004-03-02  Akim Demaille  <akim@epita.fr>

	* tests/escapes/formal-escapes.tig: Make it output something.
	* tests/escapes/for-lower.tig: New.

2004-02-24  Akim Demaille  <akim@epita.fr>

	* config/studentize (&studentize): Reorder the handling of markup
	to avoid issuing a FIXME for each <<...>> within <<-...->>.

2004-02-23  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in: Don't use version_log with Valgrind, since it
	exits (1) on --version.
	* src/symbol/symbol.cc: Remove stray "inline".

2004-02-23  Akim Demaille  <akim@epita.fr>

	* argp: Update from CVS.

2004-02-23  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/spim-layout.hh (instance): Revert a patch
	killing it.

2004-02-23  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in ($TC): Look for `tc', not `TC'.
	($use_valgrind_p): New.
	Use it.
	($valgrind): Look for it with &env.
	(&version_log): $prereq is optional.

2004-02-23  Akim Demaille  <akim@epita.fr>

	The target set up fails under OS X because of a bad static member
	initialization dependency.  Remove this dependency with a better
	Singleton idiom.

	* src/symbol/symbol.hh, src/symbol/symbol.cc (set_): Remove.
	* src/symbol/symbol.hh, src/symbol/symbol.cc (instance): New.
	* src/symbol/symbol.hxx (Symbol::Symbol, Symbol::map_size): Move to...
	* src/symbol/symbol.cc: here.

2004-02-23  Akim Demaille  <akim@epita.fr>

	* src/type/types.cc: Use fields_type where possible instead of its
	value.
	Remove `inline' from here! (this caused linking failures on OS X).
	* src/types/types.hxx: Use fields_type.

2004-02-23  Akim Demaille  <akim@epita.fr>

	* src/escapes/callgraph-creator.cc, src/escapes/callgraph-creator.hh,
	* src/escapes/parentgraph-creator.cc,
	* src/escapes/parentgraph-creator.hh,
	* src/translate/translate-visitor.cc, src/type/type-visitor.cc:
	Use the super_type to access superclass methods.
	* src/target/cpu.hh (Cpu::Cpu): Move its implementation...
	* src/target/cpu.cc: to here.
	* src/escapes/tasks.hh (escapes-tags-display): Depends on `parse'.

2004-02-23  Akim Demaille  <akim@epita.fr>

	* src/ast/print-visitor.cc: Fix the precedence btw ?: and <<.

2004-02-23  Akim Demaille  <akim@epita.fr>

	* src/assem/fragment.cc, src/assem/layout.hh, src/assem/layout.cc,
	* src/assem/map-visitor.hh, src/assem/map-visitor.hxx,
	* src/assem/visitor.hh, src/codegen/libcodegen.cc,
	* src/codegen/ia32/gas-layout.cc, src/codegen/ia32/gas-layout.hh,
	* src/codegen/mips/spim-layout.cc, src/codegen/mips/spim-layout.hh,
	* src/escapes/escapes-check-visitor.hh,
	* src/escapes/escapes-visitor.hh,
	* src/escapes/escapes-check-visitor.cc,	src/liveness/libliveness.cc
	(visit): Rename as...
	(operator ()): this.

2004-02-23  Akim Demaille  <akim@epita.fr>

	Portability to Mac OS X.

	* argp/argp-help.c: Check that malloc.h exists before including it.
	* argp/Makefile.am (libargp_a_SOURCES): Remove the duplicate
	inclusion of argp-eexst.c.
	* argp/argp-ba.c, argp/argp-pv.c, argp/argp-pvh.c: Initialize the
	variables, otherwise on Darwin linking fails if the user does not
	define these variables.
	* argp/argp-fmtstream.h (putc_unlocked): Define only if not
	defined yet.

2004-02-18  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in ($npass, $ntests, &try_files): Remove.
	(&many_check_files): Merge into...
	(&many_check): this.
	(&interface_check): Use check directly.

2004-02-18  Akim Demaille  <akim@epita.fr>

	* configure.ac: Bump to 0.66a.
	* src/tc.cc (config.h): not needed.
	* tests/tc-check.in: More factoring.
	(&summary): Last arg is an array.
	(&exit_check_one): New.
	(&run_tests): Renane as...
	(&exit_check): this.
	Use &exit_check_one and &many_check.
	Fix all the &*check routines to accept the %summary_ref by $, not
	by \%.

2004-02-18  Akim Demaille  <akim@epita.fr>

	Version 0.66.
	For 2006-tc-2.0.

	* config/studentize (studentize): When backing up, preserve the
	permissions, especially to preserve executables such as
	move_if_change.

2004-02-18  Akim Demaille  <akim@epita.fr>

	Take comments from Claire Calméjane into account.

	Don't include visitor.hh in each ast/*.hh file.

	* config/ast-fwd-gen: Add Visitors forward declarations.
	* config/ast-nodes-gen: include visitor.hh in cc files for accept
	methods.
	Fix `// <<-' into `//<<-'.
	* config/ast.py (Attribute.description): New.
	Use it where appropriate.

	* config/ast-visitor-gen: Flag the output as generated.

	* src/ast/ast.xml (ast.hh): Include ast/fwd.hh, not ast/visitor.hh.
	(Var, RecordTy, SeqExp): Now hidden from students.

	* src/ast/anydecs.hh (decs_): A pointer, not a reference.
	Keep a single constructor with a default value instead of two.
	* src/ast/anydecs.hxx: Adjust.

	* src/ast/arrayexp.hh, src/ast/arrayty.hh, src/ast/assignexp.hh,
	* src/ast/ast.hh, src/ast/breakexp.cc, src/ast/breakexp.hh,
	* src/ast/breakexp.hxx, src/ast/callexp.hh, src/ast/dec.cc,
	* src/ast/dec.hh, src/ast/dec.hxx, src/ast/fwd.hh, src/ast/exp.cc,
	* src/ast/exp.hh, src/ast/exp.hxx, src/ast/field.cc,
	* src/ast/field.hh, src/ast/field.hxx, src/ast/fieldexp.cc,
	* src/ast/fieldexp.hh, src/ast/fieldexp.hxx, src/ast/fieldvar.cc,
	* src/ast/fieldvar.hh, src/ast/fieldvar.hxx, src/ast/forexp.cc,
	* src/ast/forexp.hh, src/ast/forexp.hxx, src/ast/functiondec.cc,
	* src/ast/functiondec.hh, src/ast/functiondec.hxx, src/ast/ifexp.cc,
	* src/ast/ifexp.hh, src/ast/ifexp.hxx, src/ast/intexp.cc,
	* src/ast/intexp.hh, src/ast/intexp.hxx, src/ast/letexp.cc,
	* src/ast/letexp.hh, src/ast/letexp.hxx, src/ast/namety.cc,
	* src/ast/namety.hh, src/ast/namety.hxx, src/ast/nilexp.cc,
	* src/ast/nilexp.hh, src/ast/nilexp.hxx, src/ast/opexp.cc,
	* src/ast/opexp.hh, src/ast/opexp.hxx, src/ast/recordexp.cc,
	* src/ast/recordexp.hh, src/ast/recordexp.hxx, src/ast/recordty.cc,
	* src/ast/recordty.hh, src/ast/recordty.hxx, src/ast/seqexp.cc,
	* src/ast/seqexp.hh, src/ast/seqexp.hxx, src/ast/simplevar.cc,
	* src/ast/simplevar.hh, src/ast/simplevar.hxx, src/ast/stringexp.cc,
	* src/ast/stringexp.hh, src/ast/stringexp.hxx,
	* src/ast/subscriptvar.cc, src/ast/subscriptvar.hh,
	* src/ast/subscriptvar.hxx, src/ast/ty.cc, src/ast/ty.hh,
	* src/ast/ty.hxx, src/ast/typedec.cc, src/ast/typedec.hh,
	* src/ast/typedec.hxx, src/ast/var.cc, src/ast/var.hh,
	* src/ast/var.hxx, src/ast/vardec.cc, src/ast/vardec.hh,
	* src/ast/vardec.hxx, src/ast/visitor.hh, src/ast/whileexp.cc,
	* src/ast/whileexp.hh, src/ast/whileexp.hxx, src/ast/ast.hxx,
	* src/ast/arrayty.hxx, src/ast/arrayexp.hxx, src/ast/assignexp.hxx,
	* src/ast/callexp.cc, src/ast/ast.cc, src/ast/assignexp.cc,
	* src/ast/arrayty.cc, src/ast/arrayexp.cc, src/ast/callexp.hxx:
	Regen.

	* src/misc/test-timer.cc (main): Now longer output on cout, as it
	spoils the "make check" logs.

2004-02-17  Julien Roussel  <spip@lrde.epita.fr>

	* config/ast-nodes-gen, config/ast-visitor-gen,
	* src/ast/breakexp.cc, src/ast/default-visitor.hh,
	* src/ast/field.cc, src/ast/fieldexp.cc, src/ast/fieldvar.cc,
	* src/ast/forexp.cc, src/ast/functiondec.cc, src/ast/ifexp.cc,
	* src/ast/intexp.cc, src/ast/letexp.cc, src/ast/namety.cc,
	* src/ast/nilexp.cc, src/ast/opexp.cc, src/ast/print-visitor.hh,
	* src/ast/recordexp.cc, src/ast/recordty.cc, src/ast/seqexp.cc,
	* src/ast/simplevar.cc, src/ast/stringexp.cc, src/ast/subscriptvar.cc,
	* src/ast/typedec.cc, src/ast/vardec.cc, src/ast/visitor.hh,
	* src/ast/whileexp.cc, src/ast/anydecs.hxx, src/ast/callexp.cc,
	* src/ast/assignexp.cc, src/ast/arrayty.cc, src/ast/arrayexp.cc,
	* src/ast/print-visitor.cc, src/ast/default-visitor.hxx,
	* src/cppgen/cppgen-visitor.hh, src/cppgen/cppgen-visitor.cc,
	* src/escapes/callgraph-creator.cc, src/escapes/callgraph-creator.hh,
	* src/escapes/escapes-check-visitor.hh, src/escapes/escapes-visitor.hh,
	* src/escapes/parentgraph-creator.cc,
	* src/escapes/parentgraph-creator.hh,
	* src/overload/overfun-type-visitor.cc,
	* src/overload/overfun-type-visitor.hh,
	* src/translate/translate-visitor.hh, src/type/type-visitor.hh,
	* src/type/type-visitor.cc, src/escapes/escapes-visitor.cc,
	* src/translate/translate-visitor.cc: Use `operator()' instead of
	`visit' in visitors.

2004-02-17  Akim Demaille  <akim@epita.fr>

	Version 0.65.

	* src/ast/README: Remove.
	* src/ast/ast.xml: Hide StringExp, RecordExp, CallExp, IfExp,
	LetExp, FieldVar.

2004-02-17  Akim Demaille  <akim@epita.fr>

	* configure.ac (version.h): Move its creation from here, to...
	* Makefile.am (version.h): here.

2004-02-17 Akim Demaille <akim@epita.fr>

	* tests/tc-check.in (&many_check_files): Extract from...
	(&many_check): here.
	To prepare the factoring of try_files.

2004-02-17  Julien Roussel  <spip@lrde.epita.fr>

	* src/ast/decs.hh, src/parse/parsetiger.yy,
	* src/ast/print-visitor.cc, src/ast/default-visitor.hxx,
	* config/ast/ast-visitor-gen, src/ast/ast.xml: Remove decs_type.
	* src/ast/default-visitor.hh,
	* src/ast/letexp.cc, src/ast/letexp.hh,
	* src/ast/letexp.hxx, src/ast/visitor.hh: Adjust.
	* src/ast/test-ast.cc: Adjust test.
	* src/cppgen/cppgen-visitor.cc: Fix visitor.

2004-02-17  Akim Demaille  <akim@epita.fr>

	* src/ast/ast.xml, config/ast-nodes-gen: Comments end with a period.

2004-02-16  Julien Roussel  <spip@lrde.epita.fr>

	* src/ast/ast.xml: Add changes from Yakas for T2.
	* src/ast/assignexp.hh, src/ast/breakexp.cc,
	* src/ast/breakexp.hh, src/ast/functiondec.cc,
	* src/ast/functiondec.hh, src/ast/functiondec.hxx,
	* src/ast/typedec.cc, src/ast/typedec.hh,
	* src/ast/typedec.hxx, src/ast/assignexp.hxx,
	* src/ast/assignexp.cc: Adjust (by script).

2004-02-16  Julien Roussel  <spip@lrde.epita.fr>

	* config/ast.py: Add student="hide" tag to Node.
	* config/ast-nodes-gen: Hide a full class (.cc, .hh and .hxx).

2004-02-16  Julien Roussel  <spip@lrde.epita.fr>

	* config/ast-nodes-gen: Correct commas usage.
	* src/ast/field.cc, src/ast/fieldexp.cc,
	* src/ast/fieldvar.cc, src/ast/forexp.cc,
	* src/ast/functiondec.cc, src/ast/ifexp.cc,
	* src/ast/intexp.cc, src/ast/letexp.cc,
	* src/ast/namety.cc, src/ast/opexp.cc,
	* src/ast/recordexp.cc, src/ast/recordty.cc,
	* src/ast/seqexp.cc, src/ast/simplevar.cc,
	* src/ast/stringexp.cc, src/ast/subscriptvar.cc,
	* src/ast/typedec.cc, src/ast/vardec.cc,
	* src/ast/whileexp.cc, src/ast/callexp.cc,
	* src/ast/assignexp.cc, src/ast/arrayty.cc,
	* src/ast/arrayexp.cc: Adjust (by script).

2004-02-16  Julien Roussel  <spip@lrde.epita.fr>

	* config/ast-nodes-gen:  Display  constructors in  implementation
	file (.cc).
	* src/ast/breakexp.cc, src/ast/breakexp.hxx,
	* src/ast/dec.cc, src/ast/dec.hxx,
	* src/ast/exp.cc, src/ast/exp.hxx,
	* src/ast/field.cc, src/ast/field.hxx,
	* src/ast/fieldexp.cc, src/ast/fieldexp.hxx,
	* src/ast/fieldvar.cc, src/ast/fieldvar.hxx,
	* src/ast/forexp.cc, src/ast/forexp.hxx,
	* src/ast/functiondec.cc, src/ast/functiondec.hxx,
	* src/ast/ifexp.cc, src/ast/ifexp.hh,
	* src/ast/ifexp.hxx, src/ast/intexp.cc,
	* src/ast/intexp.hxx, src/ast/letexp.cc,
	* src/ast/letexp.hh, src/ast/letexp.hxx,
	* src/ast/namety.cc, src/ast/namety.hxx,
	* src/ast/nilexp.cc, src/ast/nilexp.hxx,
	* src/ast/opexp.cc, src/ast/opexp.hxx,
	* src/ast/recordexp.cc, src/ast/recordexp.hxx,
	* src/ast/recordty.cc, src/ast/recordty.hxx,
	* src/ast/seqexp.cc, src/ast/seqexp.hh,
	* src/ast/seqexp.hxx, src/ast/simplevar.cc,
	* src/ast/simplevar.hxx, src/ast/stringexp.cc,
	* src/ast/stringexp.hxx, src/ast/subscriptvar.cc,
	* src/ast/subscriptvar.hxx, src/ast/ty.cc,
	* src/ast/ty.hxx, src/ast/typedec.cc,
	* src/ast/typedec.hxx, src/ast/var.cc,
	* src/ast/var.hxx, src/ast/vardec.cc,
	* src/ast/vardec.hxx, src/ast/whileexp.cc,
	* src/ast/whileexp.hxx, src/ast/ast.hxx,
	* src/ast/arrayty.hxx, src/ast/arrayexp.hxx,
	* src/ast/assignexp.hxx, src/ast/callexp.cc,
	* src/ast/ast.cc, src/ast/assignexp.cc,
	* src/ast/arrayty.cc, src/ast/arrayexp.cc,
	* src/ast/callexp.hxx: Adjust (by script).

2004-02-16  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen, src/ast/ast.xml: Formatting changes.

2004-02-16  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen (attribute_init): New.
	(ctor_init): Use it.
	Make sure there is a space before opening parentheses.

2004-02-13  Julien Roussel  <spip@lrde.epita.fr>

	* src/ast/ast.xml: Modify for T2.
	* src/ast/assignexp.hh, src/ast/callexp.hh
	* src/ast/field.hh, src/ast/field.hxx
	* src/ast/functiondec.cc, src/ast/functiondec.hh
	* src/ast/functiondec.hxx, src/ast/ifexp.hh
	* src/ast/ifexp.hxx, src/ast/letexp.hh
	* src/ast/letexp.hxx, src/ast/opexp.hh
	* src/ast/opexp.hxx, src/ast/seqexp.hh
	* src/ast/seqexp.hxx, src/ast/typedec.cc
	* src/ast/typedec.hh, src/ast/typedec.hxx
	* src/ast/vardec.hh, src/ast/vardec.hxx: Adjust (by script).

2004-02-13  Julien Roussel  <spip@lrde.epita.fr>

	* config/ast.py: Support <hide>, </hide> and student="hide".
	* config/ast-nodes-gen: Add unnecessary code hiding.
	* src/ast/ast.xml: Add usage information.
	* src/ast/field.hxx, src/ast/fieldexp.hxx,
	* src/ast/fieldvar.hxx, src/ast/forexp.hxx,
	* src/ast/functiondec.hxx, src/ast/ifexp.hxx,
	* src/ast/intexp.hxx, src/ast/letexp.hxx,
	* src/ast/namety.hxx, src/ast/opexp.hxx,
	* src/ast/recordexp.hxx, src/ast/recordty.hxx,
	* src/ast/seqexp.hxx, src/ast/simplevar.hxx,
	* src/ast/stringexp.hxx, src/ast/subscriptvar.hxx,
	* src/ast/typedec.hxx, src/ast/vardec.hxx,
	* src/ast/whileexp.hxx, src/ast/arrayty.hxx,
	* src/ast/arrayexp.hxx, src/ast/assignexp.hxx,
	* src/ast/callexp.hxx: Adjust (by script).

2004-02-13  Julien Roussel  <spip@lrde.epita.fr>

	* src/parse/parsetiger.yy: Reduce chunks of variable declarations
	to a single variable.

2004-02-13  Akim Demaille  <akim@epita.fr>

	* Makefile.am: Typo.

2004-02-13  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&ia32_check, &ia32_check): Pass a reference
	to @dir to &many_check.

2004-02-13  Akim Demaille  <akim@epita.fr>

	* src/cppgen/Makefile.am,  src/overload/Makefile.am,
	* src/type/Makefile.am (EXTRA_DIST): Ship the Swig interface
	files.
	From Marco Tessari.

2004-02-13  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&escapes_check_one): New, extracted from...
	(&escapes_check): here.
	Use &many_check.
	(&ia32_check, &asm_check): Restore the use of @dir lost in the
	previous patch.

2004-02-13  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&many_check): New.
	(&ast_check, &ir_check, &mipsy_check, &asm_check, &cppgen_check)
	(&ia32_check): Use it.

2004-02-12  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&asm_check, &cppgen_check, &ia32_check)
	(&asm_check_one, &cppgen_check_one, &ia32_check_one): As in the
	previous patch.

2004-02-12  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&ir_check_one, &mipsy_check_one, &ast_check_one):
	Return an error message instead of a Boolean.
	Don't deal with $test, $i, and @failures: let...
	(&ir_one, &mipsy_one, &ast_one): these do.

2004-02-12  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&ast_check_one): New, extracted from...
	(&ast_check): here, to exhibit similarities with other routines.
	(&parse_arguments): Set GLIBCXX_FORCE_NEW and GLIBCPP_FORCE_NEW.

2004-02-12  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in: Formatting changes.

2004-02-12  Akim Demaille  <akim@epita.fr>

	First prototype of using Valgrind to catch memory leaks.

	* tests/tc-check.in ($stdvgd, &contents, &valgrind_leaks): New.
	(&run, &check): Support the 'check-leak' option.
	(&check): Accumulate error messages instead of keeping a single
	one.
	(&ir_check_one): Rename "$tig_file" as "$i" since that's the name
	that's used elsewhere.
	(&ast_check): Pass 'check-leak' to &check.

2004-02-12  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in: Use "&check" instead of "&run".
	Use the error message.

2004-02-12  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in: Use a hash "option" instead of a binary coded
	mask of options.

2004-02-12  Akim Demaille  <akim@epita.fr>

	* src/tc.cc (timer, exit_status, program_name, filename): Move
	these, ...
	* src/task/task-register.cc (argp_program_version)
	(argp_program_bug_address): and these,...
	* src/common.hh (program_version, program_bug_report_address)
	(program_doc, program_args_doc): ... to here.
	* src/common.cc: New.
	Define them.

2004-02-09  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen (print_inline_code): New.
	* ast/ast.xml (inside-header): Rename as...
	(header-inside): this, for consistency.

2004-02-09  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen (class_generate): Extract...
	(print_banner, print_guard_open, print_guards_open)
	(print_guard_close, print_guards_close, print_includes)
	(print_namespace_class_open, print_namespace_class_close)
	(print_ctor_dtor, print_attributes, print_visitor): these.

2004-02-09  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (stage_test): Pass `--ast-delete' to each
	tested invocation of tc.
	* src/ast/tasks.hh (ast-delete): Add '-D' as shortcut.
	Depend on the parse task.
	* src/ast/tasks.cc (ast_display): Precondition: a value for
	`the_program'.

2004-02-09  Akim Demaille  <akim@epita.fr>

	* bootstrap: Make it useful to students.
	* Makefile.am (EXTRA_DIST): Ship it.
	* config/stagize: Use it.
	* tcsh/generate-tc-shared-mk, tcsh/generate-swig-mk: Adjust so
	that it works when there are less modules than the full tarball.

2004-02-09  Akim Demaille  <akim@epita.fr>

	Student tarball creation overhaul: first make sure we can
	distcheck a slice of the tarball with complete modules, but fewer
	modules.

	* Makefile.am (studir): Move the modules removal from here to...
	* config/stagize: this new file.
	Make sure the resulting tarball (well, distdir) is functional.
	* Makefile.am (dist-hook, dist-stagize): New, use it.
	* config/Makefile.am: Adjust.
	* config/studentize ($me): New.

2004-02-06  Akim Demaille  <akim@epita.fr>

	* config/studentize: Use File::Find to walk the hierarchy.
	Use Pod::Usage to document.
	* Makefile.am (studir): Adjust.
	* configure.ac: Bump to 0.64a, and reactivate Swig by default.

2004-02-06  Akim Demaille  <akim@epita.fr>

	Version 0.64.
	For 2006-tc-1.0.

	* config/Makefile.am (dist_noinst_SCRIPTS): Ship bison++.
	* config/ast-makefile-gen: Generate ast.mk, not Makefile.am.
	Rename as...
	* config/ast-nodes-mk-gen: this.
	* bootstrap, src/ast/Makefile.am: Adjust.
	* Makefile.am (studir): Don't ship ast generators.
	* configure.ac: Default the use of Swig to false.
	* src/Makefile.am (BUILT_SOURCES): Add modules.hh.

2004-02-06  Akim Demaille  <akim@epita.fr>

	* src/parse/tasks.cc (parse): Rewrite so that T1 is easier.
	* src/parse/parsetiger.yy: Better student mark comments.
	* src/symbol/symbol.hh, src/symbol/symbol.hxx (Symbol ()):
	Remove this default constructor that makes no sense.
	Adjust student marks.

2004-02-05  Akim Demaille  <akim@epita.fr>

	* configure.ac (MODULES): New AC_SUBST.
	(modules.hh): No longer built here, but...
	* src/Makefile.am (modules.hh): here, directly.
	* src/ast/Makefile.am (EXTRA_DIST): Add tiger_ast.i.
	* tcsh/generate-swig-mk: The generated SWIG code is nodist_.
	(swig_python, swig_built_files): Remove, now useless.
	Directly assign to Automake variables instead of going via other
	variables.
	* tcsh/generate-tc-shared-mk: Likewise.
	* tcsh/Makefile.am: Adjust.

2004-02-05  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy: Pass %locations as it eases T1.

2004-02-05  Akim Demaille  <akim@epita.fr>

	* src/parse/libparse.hh: Add students marks to cut T2 material
	from T1.
	* src/parse/parsetiger.yy: Likewise.
	* swig/: Rename as...
	* tcsh/: this.
	* Makefile.am, bootstrap, configure.ac: Adjust.

2004-02-05  Akim Demaille  <akim@epita.fr>

	* swig/Makefile.am (CLEANFILES): New.
	* swig/generate-tc-shared-mk.sh: Rename as...
	* swig/generate-tc-shared-mk: this.
	Don't set CLEANFILES.
	* swig/generate-swig-mk.sh: Rename as...
	* swig/generate-swig-mk: this.
	Don't set CLEANFILES.
	* src/Makefile.am (SUBDIRS): Add `.' last so that cutting lines is
	valid.
	* src/parse/Makefile.am: Rewording.
	* bootstrap.sh: Rename as...
	* bootstrap: this.

2004-02-05  Akim Demaille  <akim@epita.fr>

	* configure.ac: Fix student marks.
	Add tests/Makefile as config file.
	* Makefile.am (studir): Ship a tests/Makefile.am.
	* config/bison++: New, to save compile time.
	* src/parse/Makefile.am: Revamp the generation of the bison output
	files to save cycles and be safer: use move-if-change and depend
	upon a timestamp to avoid running bison several times.
	Based on an Automake FAQ from Alexandre Duret-Lutz.

2004-02-04  Akim Demaille  <akim@epita.fr>

	* config/studentize: Skip ChangeLog too, since it contains
	unbalanced student marks.

2004-02-04  Akim Demaille  <akim@epita.fr>

	* AUTHORS: Update.
	* Makefile.am (version.h): New BUILT_SOURCES.

	* src/parse/tasks.cc: Support the envvar PARSE and SCAN.
	* src/parse/scantiger.ll: When complaining about an escape, don't
	escape the escape as it issues two backslashes.

	Precedence is misleading: the higher the value of "precedence"
	was, the lower the precedence was...  As a result, the opposite
	result was produced.  Rename as rank.

	* src/temp/identifier.hh, src/temp/identifier.hxx,
	* src/temp/label.hh, src/temp/label.cc, src/temp/temp.hh,
	* src/temp/temp.cc (precedence, precedence_get): Rename as...
	(rank, rank_get): these.
	Be sure to set them so that Symbols are sorted before numbers.

2004-02-03  Akim Demaille  <akim@epita.fr>

	* config/studentize: Remove an embarrassing debugging trace.
	Drop "#id STUDENT" support.
	* src/parse/parsetiger.yy: Provide more skeleton than during the
	last years.
	Provide better comments for code that was removed.
	* src/parse/scantiger.ll: Likewise.
	Rename STATE_STRING and STATE_COMMENT as SC_STRING and SC_COMMENT,
	as they are more conventional (Start Condition) and less
	confusing.
	(misc::escape): Do "using" it: qualify the uses.
	* src/symbol/table.hxx: Better student marks.
	* src/misc/ref.hxx: Studentize all the code, they might have to
	implement it completely.

2004-02-03  Akim Demaille  <akim@epita.fr>

	* config/Makefile.am (SPECIFIC_MACROS, STANDARD_MACROS): Remove,
	Automake 1.8.2 finds them all by itself.
	(SPECIFIC_TOOLS): Inline into EXTRA_DIST.
	* config/studentize: Use "next" instead of $printit to decide
	whether to print a line.
	Receive the files on STDIN instead of @ARGV to cope with argument
	number limitations.
	* Makefile.am (studist): Run studentize on all the files.
	Remove our code generators from the output.
	* config/ast-visitor-gen.py, config/ast-nodes-gen.py,
	* config/ast-makefile-gen.py, config/ast-fwd-gen.py: Rename as...
	* config/ast-visitor-gen, config/ast-nodes-gen,
	* config/ast-makefile-gen, config/ast-fwd-gen: these.

2004-02-03  Akim Demaille  <akim@epita.fr>

	* src/tc.mk: New.
	* configure.ac: Formatting changes.
	* src/Makefile.am, src/assem/Makefile.am, src/ast/Makefile.am,
	* src/canon/Makefile.am, src/codegen/Makefile.am,
	* src/codegen/ia32/Makefile.am, src/codegen/mips/Makefile.am,
	* src/escapes/Makefile.am, src/frame/Makefile.am,
	* src/graph/Makefile.am, src/liveness/Makefile.am,
	* src/misc/Makefile.am, src/overload/Makefile.am,
	* src/parse/Makefile.am, src/regalloc/Makefile.am,
	* src/symbol/Makefile.am, src/target/Makefile.am,
	* src/task/Makefile.am, src/temp/Makefile.am,
	* src/translate/Makefile.am, src/tree/Makefile.am,
	* src/type/Makefile.am: Adjust.

2004-02-02  Akim Demaille  <akim@epita.fr>

	* configure.ac: Autoconf 2.58, Automake 1.8.2.
	Add no-dist-gzip.
	Student out the test snippet.
	(Swig): Reword.

2004-02-02  Akim Demaille  <akim@epita.fr>

	* config/tiger.el: New, from Benoît Perrot.

2003-12-30  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/assem/map-visitor.cc: Remove.
	* src/assem/Makefile.am: Adjust.

2003-12-30  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/assem/map-visitor.hh: Use STL-like functors instead
	of function pointers.
	* src/assem/map-visitor.hxx: Adjust.

	* src/liveness/libliveness.cc, src/liveness/libliveness.hh: New.
	* src/liveness/tasks.cc: Use libliveness functions.
	* src/liveness/tiger_liveness.i: New Swig interface.
	* src/liveness/Makefile.am: Ship new files.

	* swig/tc.py: Adjust.
	* swig/generate-swig-mk.sh: Adjust.
	* swig/test.py: Test new functions.

2003-12-30  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/codegen/libcodegen.cc, src/codegen/libcodegen.hh: Unify the
	naming scheme.
	* src/codegen/tasks.cc: Adjust.
	* swig/test.py: Adjust.

2003-12-30  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/regalloc/tiger_regalloc.i: New.
	* src/regalloc/Makefile.am: Ship it.
	* swig/generate-swig-mk.sh: Adjust.

	* src/temp/libtemp.cc, src/temp/libtemp.hh: New.
	* src/temp/tiger_temp.i: Use libtemp.hh.

	* swig/tc.py: Adjust.
	* swig/test.py: Test new functions.

2003-12-30  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/codegen/libcodegen.hh (target_to_codegen): New.
	(allocate_frames): New.
	(dump_runtime): New.
	(dump_instructions): New.
	* src/codegen/libcodegen.hh: Adjust.
	* src/codegen/tasks.cc: Adjust.
	* src/codegen/tiger_codegen.i: New.
	* src/codegen/Makefile.am: Ship it.

	* src/target/target.hh: Rename print as dump for Swig.
	* src/target/tiger_target.i: New.
	* src/target/Makefile.am: Ship it.

	* src/target/fwd.hh: New.
	* src/temp/tiger_temp.i: New.
	* src/temp/Makefile.am: Ship them.

	* swig/tc.py: Adjust.
	* swig/generate-swig-mk.sh: Adjust.

	* swig/test.py: Test new modules.

2003-12-17  Akim Demaille  <akim@epita.fr>

	* src/canon/traces.hh, src/translate/fragments.hh,
	* src/canon/libcanon.cc, src/translate/fwd.hh,
	* src/translate/fragments.cc, src/translate/libtranslate.hh: Adjust
	to using fwd.hh.

	* swig/README: Emphasize that dash cannot be part of a module
	name.
	Learned the hard way...

	* swig/generate-tc-shared-mk.sh: Don't use dashes in file names.
	* swig/generate-swig-mk.sh: Likewise.

	* src/escapes/tiger-escapes.i: Rename as...
	* src/escapes/tiger_escapes.i: this.
	* src/cppgen/tiger-cppgen.i: Rename as...
	* src/cppgen/tiger_cppgen.i: this.
	* src/translate/tiger-translate.i: Rename as...
	* src/translate/tiger_translate.i: this.
	* src/canon/tiger-canon.i: Rename as...
	* src/canon/tiger_canon.i: this.

	* src/canon/Makefile.am, src/codegen/Makefile.am,
	* src/escapes/Makefile.am, src/parse/Makefile.am,
	* src/translate/Makefile.am, swig/Makefile.am: Adjust.

2003-12-17  Akim Demaille  <akim@epita.fr>

	* src/target/fwd.hh: New.
	* src/symbol/fwd.hh: New.
	* src/frame/fwd.hh: New.
	* src/canon/Makefile.am, src/frame/Makefile.am, src/symbol/Makefile.am,
	* src/target/Makefile.am: Adjust.
	* src/codegen/tasks.hh, src/codegen/codegen.hh,
	* src/overload/liboverload.hh, src/parse/libparse.hh,
	* src/target/cpu.cc, src/temp/factory.hh, src/type/libtype.hh: Use
	these fwd.hh files.

2003-12-17  Akim Demaille  <akim@epita.fr>

	* src/assem/fwd.hh: More fwd decls.
	* src/assem/visitor.hh, src/ast/tasks.hh: More fwd.hh use.

2003-12-17  Akim Demaille  <akim@epita.fr>

	* src/translate/fwd.hh: Extend.
	* src/assem/fwd.hh, src/codegen/fwd.hh: New.
	* src/assem/Makefile.am: Adjust.
	* src/assem/instrs.hh, src/codegen/assembly.hh,
	* src/codegen/libcodegen.hh, src/translate/level.hh,
	* src/translate/libtranslate.hh, src/translate/translate-visitor.hh:
	Use these fwd files instead of local forward declarations.

2003-12-17  Akim Demaille  <akim@epita.fr>

	* bootstrap.sh: More adjustment to file-name.
	* swig/Makefile.am, swig/generate-tc-shared-mk.sh, swig/README: Idem.

2003-12-17  Akim Demaille  <akim@epita.fr>

	Prefer file-name to file_name.

	* swig/generate_swig_mk.sh: Rename as...
	* swig/generate-swig-mk.sh: this.
	* src/escapes/tiger_escapes.i: Rename as...
	* src/escapes/tiger-escapes.i: this.
	* src/cppgen/tiger_cppgen.i: Rename as...
	* src/cppgen/tiger-cppgen.i: this.
	* src/translate/tiger_translate.i: Rename as...
	* src/translate/tiger-translate.i: this.
	* src/canon/tiger_canon.i: Rename as...
	* src/canon/tiger-canon.i: this.
	* src/canon/Makefile.am, src/escapes/Makefile.am, bootstrap.sh,
	* swig/Makefile.am, src/parse/Makefile.am,
	src/translate/Makefile.am: Adjust.

2003-12-17  Akim Demaille  <akim@epita.fr>

	* src/translate/fwd.hh: New.
	* src/translate/Makefile.am: Ship it.
	* src/canon/libcanon.hh: Use it.
	* src/canon/tiger_canon.i: New.
	* src/canon/Makefile.am: Ship it.
	* src/escapes/Makefile.am: Ship tiger_escapes.i.
	* swig/generate_swig_mk.sh, swig/tc.py: Add canon.
	* swig/test.py: Likewise.
	* swig/README: Various.

2003-12-15  Akim Demaille  <akim@epita.fr>

	* src/parse/scantiger.ll (parse): Call yyrestart to allow several
	runs of the scanner (e.g., from the tc shell).
	From Nicolas Burrus.

2003-12-12  Akim Demaille  <akim@epita.fr>

	* src/parse/scantiger.ll (scan_open): Schedule a call to
	yylex_destroy at exit.

2003-12-12  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/translate/tiger_translate.i: New Swig interface.
	* src/translate/libtranslate.cc (print): New function.
	* src/translate/libtranslate.hh: Adjust for swig. Workaround
	auto_ptr difficulties.
	* swig/tc.py, swig/generate_swig_mk.sh: Adjust.

	* swig/test.py: Update.

	* swig/DOC: New.

2003-12-12  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/cppgen/tiger_cppgen.i: New Swig interface.
	* src/cppgen/libcppgen.hh (generate_cpp): Make std::cout the
	default ostr parameter.
	* swig/tc.py, swig/generate_swig_mk.sh: Adjust.

2003-12-12  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/overload/tiger_overload.i: New Swig interface.
	* swig/common.cc, swig/tc.py, swig/generate_tc_shared_mk.sh,
	* swig/generate_swig_mk.sh: Adjust.

2003-12-12  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* swig/tiger_common.i (Ofstream): New class.
	* src/ast/libast.cc (dump): Remove.
	* src/ast/libast.hh: Adjust to make print available for Swig.
	* src/ast/tiger_ast.i: Import useful headers.

2003-12-12  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* configure.ac: Fix variable tests.
	* swig/README: Fix.

2003-12-11  Akim Demaille  <akim@epita.fr>

	* AUTHORS, NEWS, TODO: Update.

2003-12-11  Akim Demaille  <akim@epita.fr>

	* src/canon/Makefile.am: Adjust.
	* src/canon/tasks.cc: Move some code into...
	* src/canon/libcanon.hh, src/canon/libcanon.cc (canonicalize)
	(make_traces): ...these new files.

2003-12-09  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/type/tiger_type.i: New swig interface.
	* swig/tc.py, swig/common.cc, swig/generate_tc_shared_mk.sh,
	* swig/generate_swig_mk.sh: Adjust.

	* swig/Makefile.am: Distribute generate_tc_shared_mk.sh and
	generate_swig_mk.sh.
	* swig/README: Deal with compilation on netbsd.

2003-12-09  Akim Demaille  <akim@epita.fr>

	* src/assem/fragment.cc, src/assem/instr.cc, src/assem/instr.hh,
	* src/assem/instr.hxx, src/assem/move.hh, src/assem/move.hxx,
	* src/assem/oper.hh, src/assem/oper.hxx, src/ast/Makefile.am,
	* src/escapes/escapes-env.hh, src/graph/graph.hh,
	* src/graph/graph.hxx, src/misc/set.hh, src/misc/set.hxx,
	* src/misc/set.cc, src/overload/overfun-type-visitor.hh,
	* src/overload/overfun-type-visitor.hxx, src/symbol/table.hh,
	* src/symbol/table.hxx, src/target/cpu.cc, src/target/cpu.hh,
	* src/target/target.hh, src/temp/tempmap.hh, src/temp/tempmap.cc,
	* src/temp/tempmap.hxx, src/tree/call.hh, src/tree/eseq.hh,
	* src/tree/node.hh, src/tree/seq.hh, src/tree/node.cc,
	* src/tree/node.hxx, src/tree/seq.cc, src/tree/eseq.cc,
	* src/tree/call.cc, src/type/types.cc, src/escapes/escapes-env.cc,
	* src/escapes/escapes-env.hxx, src/translate/level.hxx: Have all the
	print functions return an ostream.

	* bootstrap.sh: Make sure to make Automake files before using them.

2003-12-09  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/escapes/tiger_escapes.i: New swig interface.
	* src/escapes/libescapes.hh: Adjust for swig.
	* src/escapes/Makefile.am, swig/common.cc, swig/tc.py,
	* swig/generate_tc_shared_mk.sh, swig/generate_swig_mk.sh: Adjust.

	* swig/README: New.

2003-12-09  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* swig/generate_tc_shared_mk.sh: Do not use `echo -e'.
	* swig/generate_swig_mk.sh: Likewise.

2003-12-09  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* swig/tc_shared.mk: Remove. Now generated by...
	* swig/generate_tc_shared_mk.sh: ... this new script.
	* swig/swig.mk: Remove. Now generated by...
	* swig/generate_swig_mk.sh: ... this new script.
	* bootstrap.sh: Call these new scripts.

2003-12-09  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* config/swig.m4: Remove header.
	* configure.ac: Change naming scheme.
	(SHARED_LIBRARY_LDFLAGS): Use AC_ARG_VAR.

2003-12-09  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	Move /src/swig into /swig.

	* src/swig/Makefile.am: Move...
	* swig/Makefile.am: ... here.
	* src/swig/common.cc: Move...
	* swig/common.cc: ... here.
	* src/swig/swig.mk: Move...
	* swig/swig.mk: ... here.
	* src/swig/tc_shared.mk: Move...
	* swig/tc_shared.mk: ... here.
	* src/swig/tiger_common.i: Move...
	* swig/tiger_common.i: ... here.
	* src/swig/tc.py: Move...
	* swig/tc.py: ... here.
	* src/swig/test.py: Move...
	* swig/test.py: ... here.
	* src/Makefile.am, Makefile.am, configure.ac: Adjust.

2003-12-09  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/temp/identifier.hh: Remove `enum' before identifier_type
	template parameters.
	(TaggedIdentifier): Factory is a friend template.

	* src/temp/identifier.hxx: Remove `enum' before identifier_type
	template parameters.
	* src/temp/factory.hh: Likewise.
	* src/temp/factory.hxx: Likewise.

2003-12-09  Akim Demaille  <akim@epita.fr>

	* src/parse/Makefile.am (running bison): Comment changes redux.
	From Alexandre Duret-Lutz.

2003-12-09  Akim Demaille  <akim@epita.fr>

	* src/parse/Makefile.am (running bison): Comment changes.
	From Alexandre Duret-Lutz.

2003-12-09  Akim Demaille  <akim@epita.fr>

	* src/parse/Makefile.am (running bison): Don't pass a path that
	might be absolute to bison.
	Reported by Alexandre Duret-Lutz.

2003-12-09  Akim Demaille  <akim@epita.fr>

	Factor temp::Temp and Label.  Also, stop using hand written
	dispatching as this is bad practice: rely on the regular
	mechanism, inheritance.

	* src/temp/identifier.hh (identifier_type): New.
	(Identifier): Rewrite to depend upon this enum type instead of a
	"char *" parameter.
	Make it an abstract class.
	(TaggedIdentifier): New parameterized sub-class.
	Two instantiations, one for unsigned and the other for
	symbol::Symbol, now replace the former faked union: Identifier
	used to have two fields, one of each type, and dispatch by hand.
	Use a traits, identifier_traits, to cope with two issues: the
	label to prepend in some cases (e.g. Temp 12 => t12, not 12), and
	the order between subclasses (sort Symbol first, then unsigned ints).
	* src/temp/identifier.hxx: Adjust.
	* src/temp/label.hh, src/temp/temp.hh: Adjust.
	* src/temp/label.cc, src/temp/temp.cc (identifier_traits):
	Implement the static members.
	* src/temp/factory.hh, src/temp/factory.hxx: Adjust to the new
	parameter type.

	* src/assem/fragment.cc, src/assem/label.hh, src/assem/label.hxx,
	* src/canon/traces.hh, src/canon/traces.cc, src/temp/test-temp.cc,
	* src/liveness/flowgraph.hxx: Adjust to temp::Label that is now
	abstract and must be handled as a pointer.

2003-12-09  Akim Demaille  <akim@epita.fr>

	* src/symbol/symbol.hxx (Symbol::operator<): Really sort
	lexicographically.

2003-12-09  Akim Demaille  <akim@epita.fr>

	* src/symbol/symbol.hxx (Symbol::operator<): Sort
	lexicographically.

2003-12-08  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* configure.ac: Detect python and swig. Handle
	--without-swig. Support shared libraries.
	* src/Makefile.am: Enter into swig directory if swig is enabled.
	* config/swig.m4: New.

	* src/parse/Makefile.am: Prevent double inclusion of parsetiger.o
	into libparse.a.

	* src/ast/tiger_ast.i: New swig interface.
	* src/ast/Makefile.am: Adjust.
	* src/ast/libast.cc (dump): New function.
	* src/ast/libast.hh (dump): New function.
	(print): Hide to swig.

	* src/parse/tiger_parse.i: New swig interface.
	* src/parse/Makefile.am: Adjust.
	* src/parse/libparse.hh: Specify that parse returns a new object
	to swig.

	* src/swig/tiger_common.i: Likewise.

	* src/swig/Makefile.am: New.
	* src/swig/common.cc: New.
	* src/swig/swig.mk: New.
	* src/swig/tc_shared.mk: New.
	* src/swig/tc.py: New.
	* src/swig/test.py: New test.

2003-12-08  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/parse/scantiger.ll (scan_close): Flush the buffer, do not
	destroy it.

2003-12-08  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/misc/containers.hxx: Include algorithm.
	* src/misc/set.hxx: Fix compilation with ICC.
	* src/temp/factory.hxx: Likewise.
	* src/temp/identifier.hxx: Likewise.

2003-12-08  Astrid Wang  <astrid@lrde.epita.fr>

	* src/doc.hh: Typo.

2003-12-04  Akim Demaille  <akim@epita.fr>

	* src/temp/label-list.hh (label_list_type): Just as we make lists
	of Temp *, make lists of Label *.
	* src/assem/instr.cc, src/ast/decs.hh, src/ast/default-visitor.hh,
	* src/canon/traces.cc, src/codegen/ia32/codegen.cc,
	* src/codegen/ia32/gas-assembly.cc, src/codegen/mips/codegen.cc,
	* src/codegen/mips/spim-assembly.cc, src/liveness/test-flowgraph.cc,
	* src/temp/identifier.hh, src/temp/identifier.hxx,
	* src/temp/label.hh, src/tree/cjump.hxx, src/tree/jump.hxx,
	* tests/tc-check.in, src/liveness/flowgraph.hxx,
	* src/temp/label-list.cc: Adjust.

2003-12-04  Akim Demaille  <akim@epita.fr>

	* src/temp/identifier.cc: Remove unused.

2003-12-04  Akim Demaille  <akim@epita.fr>

	* src/Makefile.am (SUBDIRS): Try to be smarter: since parse::
	depends upon ast::, go there first.
	* config/ast-visitor-gen.py: Fix the generated comments.
	* config/ast-nodes-gen.py: Likewise.
	* config/ast-fwd-gen.py: Likewise.
	* src/ast/arrayexp.hh, src/ast/arrayty.hh, src/ast/assignexp.hh,
	* src/ast/ast.hh, src/ast/breakexp.hh, src/ast/callexp.hh,
	* src/ast/dec.hh, src/ast/exp.hh, src/ast/field.hh,
	* src/ast/fieldexp.hh, src/ast/fieldvar.hh, src/ast/forexp.hh,
	* src/ast/functiondec.hh, src/ast/ifexp.hh, src/ast/intexp.hh,
	* src/ast/letexp.hh, src/ast/namety.hh, src/ast/nilexp.hh,
	* src/ast/opexp.hh, src/ast/recordexp.hh, src/ast/recordty.hh,
	* src/ast/seqexp.hh, src/ast/simplevar.hh, src/ast/stringexp.hh,
	* src/ast/subscriptvar.hh, src/ast/ty.hh, src/ast/typedec.hh,
	* src/ast/var.hh, src/ast/vardec.hh, src/ast/visitor.hh,
	* src/ast/whileexp.hh: Regen.

2003-12-04  Akim Demaille  <akim@epita.fr>

	* src/ast/anydecs.hh, src/ast/anydecs.hxx (push_back): New.
	Needed by test-ast.

2003-12-03  Akim Demaille  <akim@epita.fr>

	* src/temp/temp-list.hh: Move inline code into...
	* src/temp/temp-list.hxx: this new file.
	* src/temp/label.hh: Move list code into....
	* src/temp/label-list.hh, src/temp/label-list.cc: this new file.
	* src/temp/Makefile.am: Adjust.
	* src/assem/instr.hh, src/canon/basic-block.hh,
	* src/canon/traces.cc, src/temp/identifier.hh, src/temp/temp.hh,
	* src/tree/cjump.hh, src/tree/jump.hh, src/tree/jump.hxx,
	* src/canon/basic-block.cc: Adjust.
	* src/Makefile.am (tc_LDADD): Be sure to link libtemp after
	libassem.

2003-12-03  Akim Demaille  <akim@epita.fr>

	* src/doc.hh: s/scholarship/curriculum/.

2003-11-20  Akim Demaille  <akim@epita.fr>

	* config/studentize: Simplify.
	Output the number and average size of fixme chunks.

2003-11-18  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/parse/parsetiger.yy:
	Consider chunk as syntactic sugar, building a new LetExp on each
	chunk.
	* src/ast/anydecs.hh, src/ast/anydecs.hxx (push_front):
	Make list constructor match the parser needs.

2003-11-17  Akim Demaille  <akim@epita.fr>

	* configure.ac: Version 0.63.

2003-11-17  Akim Demaille  <akim@epita.fr>

	* src/type/tasks.cc (type): Call ast_delete to avoid having to
	exhibit the definition of the_program (needed by delete).
	* src/overload/tasks.cc (overload): Likewise.

2003-11-14  Akim Demaille  <akim@epita.fr>

	* src/temp/test-temp.cc: Adjust to the Temp Factories.
	Gosh, this style is heavy :(

2003-11-14  Akim Demaille  <akim@epita.fr>

	Escape checks are reporting millions of (false) errors.

	* src/escapes/escapes-check-visitor.cc
	(EscapesCheckVisitor::EscapesCheckVisitor): Be sure to initialize
	all the members...

2003-11-13  Akim Demaille  <akim@epita.fr>

	Fix many problems reported by Julien Noblanc.

	* tests/tc-check.in (File::Copy): Use it.
	Use "&move" instead of "system 'mv'";
	($testdir): Adjust path now that it's no longer a subpackage.
	(&escapes_check): Move $stdout as $stdtig *before* using it, not
	after...
	(&version_split, &version_cmp): New, stolen from
	Automake::Version.pm (which requires Channels...).
	(&log_Version): Rename as...
	(&version_log): this.
	* src/escapes/escapes-visitor.cc: Formatting changes.

2003-11-07  Akim Demaille  <akim@epita.fr>

	* src/canon/canon.hh: Include tree/fwd.hh, not all.hh.
	* src/canon/canon.cc: Include all.hh.
	* src/codegen/codegen.hh: Extract...
	* src/codegen/codegen.hh, src/codegen/codegen.hh: these new files.
	* src/codegen/Makefile.am: Adjust.
	* src/codegen/assembly.hh: Include tree/fwd.hh and tree/binop/hh,
	not tree/all.hh.
	* src/codegen/mips/codegen.cc (target/cpu.hh): Include.

2003-10-31  Akim Demaille  <akim@epita.fr>

	* configure.ac: Use AC_INIT's $4 to set the tarball name.
	From Alexandre Duret-Lutz.

2003-10-29  Akim Demaille  <akim@epita.fr>

	No longer consider the test suite as a subpackage.  First it used
	to confuse the students who see their test directory being
	"removed" between delivered tarballs, and second the test suite
	alone does not make sense, since it is highly dependent upon the
	"reference" compiler, Havm etc.

	* tests/configure.ac: Remove, merged into...
	* configure.ac: here.
	* Makefile.am: Adjust.

2003-10-29  Akim Demaille  <akim@epita.fr>

	Bump to 0.62a.

2003-10-29  Akim Demaille  <akim@epita.fr>

	Version 0.62.
	* tests/configure.ac (HAVM_PREREQ): Bump to 0.21.

2003-10-28  Akim Demaille  <akim@epita.fr>

	* src/translate/access.hh: Don't "using Symbol".
	* src/type/type-visitor.hh: Don't include symbol.hh.

2003-10-28  Akim Demaille  <akim@epita.fr>

	* config/ast-nodes-gen.py (class_generate): Add a banner to avoid
	confusion between generated and hand-written files.
	* src/ast/arrayexp.hh, src/ast/arrayty.hh, src/ast/assignexp.hh,
	* src/ast/ast.hh, src/ast/breakexp.cc, src/ast/breakexp.hh,
	* src/ast/breakexp.hxx, src/ast/callexp.hh, src/ast/dec.cc,
	* src/ast/dec.hh, src/ast/dec.hxx, src/ast/exp.cc, src/ast/exp.hh,
	* src/ast/exp.hxx, src/ast/field.cc, src/ast/field.hh,
	* src/ast/field.hxx, src/ast/fieldexp.cc, src/ast/fieldexp.hh,
	* src/ast/fieldexp.hxx, src/ast/fieldvar.cc, src/ast/fieldvar.hh,
	* src/ast/fieldvar.hxx, src/ast/forexp.cc, src/ast/forexp.hh,
	* src/ast/forexp.hxx, src/ast/functiondec.cc,
	* src/ast/functiondec.hh, src/ast/functiondec.hxx, src/ast/ifexp.cc,
	* src/ast/ifexp.hh, src/ast/ifexp.hxx, src/ast/intexp.cc,
	* src/ast/intexp.hh, src/ast/intexp.hxx, src/ast/letexp.cc,
	* src/ast/letexp.hh, src/ast/letexp.hxx, src/ast/namety.cc,
	* src/ast/namety.hh, src/ast/namety.hxx, src/ast/nilexp.cc,
	* src/ast/nilexp.hh, src/ast/nilexp.hxx, src/ast/opexp.cc,
	* src/ast/opexp.hh, src/ast/opexp.hxx, src/ast/recordexp.cc,
	* src/ast/recordexp.hh, src/ast/recordexp.hxx, src/ast/recordty.cc,
	* src/ast/recordty.hh, src/ast/recordty.hxx, src/ast/seqexp.cc,
	* src/ast/seqexp.hh, src/ast/seqexp.hxx, src/ast/simplevar.cc,
	* src/ast/simplevar.hh, src/ast/simplevar.hxx, src/ast/stringexp.cc,
	* src/ast/stringexp.hh, src/ast/stringexp.hxx,
	* src/ast/subscriptvar.cc, src/ast/subscriptvar.hh,
	* src/ast/subscriptvar.hxx, src/ast/ty.cc, src/ast/ty.hh,
	* src/ast/ty.hxx, src/ast/typedec.cc, src/ast/typedec.hh,
	* src/ast/typedec.hxx, src/ast/var.cc, src/ast/var.hh,
	* src/ast/var.hxx, src/ast/vardec.cc, src/ast/vardec.hh,
	* src/ast/vardec.hxx, src/ast/whileexp.cc, src/ast/whileexp.hh,
	* src/ast/whileexp.hxx, src/ast/ast.hxx, src/ast/arrayty.hxx,
	* src/ast/arrayexp.hxx, src/ast/assignexp.hxx, src/ast/callexp.cc,
	* src/ast/ast.cc, src/ast/assignexp.cc, src/ast/arrayty.cc,
	* src/ast/arrayexp.cc, src/ast/callexp.hxx: Regen.

	* src/ast/all.hh: Don't include "symbol/symbol.hh".

2003-10-28  Akim Demaille  <akim@epita.fr>

	* src/misc/ref.hh: Formatting changes.
	(ref::ref (T*, long*)): New.
	* src/misc/ref.hh (ref::cast, ref::unsafe_cast): Use it to avoid
	useless construction/deletion of a count_ cell.

2003-10-27  Akim Demaille  <akim@epita.fr>

	* src/ast/location.hh (ast): Declare Location in ast::.
	* src/type/type-visitor.cc (type): Adjust.
	* src/overload/overfun-type-visitor.cc (overload): Likewise.

2003-10-27  Akim Demaille  <akim@epita.fr>

	* src/ast/default-visitor.hxx: Include "ast/all.hh".
	* src/escapes/escapes-check-visitor.hh: Don't.
	* src/type/type-visitor.hh: Don't.
	* src/type/type-visitor.cc: Do it.
	* src/escapes/escapes-check-visitor.cc: Do it.
	* src/type/libtype.cc: Do it.

2003-10-27  Akim Demaille  <akim@epita.fr>

	* src/cppgen/cppgen-visitor.cc: New, extracted from...
	* src/cppgen/cppgen-visitor.hh: here.

2003-10-27  Akim Demaille  <akim@epita.fr>

	* src/ast/default-visitor.cc: Don't ast/all.hh.
	* src/ast/print-visitor.cc: Include ast/all.hh.
	* src/translate/translate-visitor.hh: Don't.
	Rename ast/decls.hh as ast/fwd.hh.

	* src/ast/decls.hh: Rename as...
	* src/ast/fwd.hh: this.
	* src/ast/Makefile.am: Adjust.
	* src/ast/all.hh: Regen.
	* src/ast/visitor.hh: Regen.
	* src/translate/translate-visitor.hh: .
	* config/ast-visitor-gen.py: Use fwd, not decls.
	* config/ast-makefile-gen.py: Use fwd..
	* config/ast-decls-gen.py: Rename as...
	* config/ast-fwd-gen.py: this.
	* config/Makefile.am: Adjust.
	* config/ast-decls-gen.py (fwd_hh): Output fwd.hh, not decls.hh.

	* src/assem/instr.hh: Don't include common.hh.
	* src/canon/basic-block.hh: Likewise.
	* src/liveness/interference-graph.cc: Do it.
	* src/liveness/liveness.cc: Idem.
	* src/liveness/flowgraph.hxx: Idem.

2003-10-27  Akim Demaille  <akim@epita.fr>

	* src/cppgen/includes/binop.hh: Formating changes.
	* src/escapes/tasks.cc: Don't include common.hh.
	* src/translate/translate-visitor.hh: Likewise.
	* src/tree/fwd.hh: Cleanb up.

2003-10-27  Akim Demaille  <akim@epita.fr>

	* src/codegen/tasks.cc (assem/layout.hh): Include.

	Reduce the dependency onto tree::.  To this end,
	introduce tree/fwd.hh that forward declares all the classes of
	tree.  Do not "using misc::ref", just qualify the uses properly.
	Remove the typedef of the referenced nodes from the node
	definition classes, just rely on fwd.hh doing it.

	* src/tree/binop.hh, src/tree/call.hh, src/tree/cjump.hh,
	* src/tree/const.hh, src/tree/eseq.hh, src/tree/exp.hh,
	* src/tree/jump.hh, src/tree/label.hh, src/tree/mem.hh,
	* src/tree/move.hh, src/tree/name.hh, src/tree/node.hh,
	* src/tree/seq.hh, src/tree/stm.hh, src/tree/sxp.hh,
	* src/tree/temp.hh: Do that.
	* src/tree/fwd.hh: New.

	* src/canon/basic-block.hh: Include fwd.hh, not all.
	* src/frame/access.hh: Likewise.
	* src/frame/access.cc (tree/all.hh): Include.
	* src/translate/fragment.hxx: Likewise.
	* src/translate/level.cc: Likewise.
	* src/translate/access.hxx: Idem.
	* src/canon/basic-block.hxx (BasicBlock::label_in_get): Move to .
	* src/canon/basic-block.cc: here.
	(tree/all.hh): Include.

2003-10-27  Akim Demaille  <akim@epita.fr>

	* src/codegen/assembly.hh: Avoid useless includes thanks to fwd dcl.
	* src/translate/exp.hh: Formatting changes.

2003-10-27  Akim Demaille  <akim@epita.fr>

	* src/canon/canon.hh, src/canon/canon.cc: Don't use the namespace
	tree.

2003-10-27  Akim Demaille  <akim@epita.fr>

	* src/temp/label.hh (labels_type): Rename as...
	(label_list_type): this.
	* src/assem/instr.cc, src/assem/instr.hh, src/assem/instr.hxx,
	* src/assem/oper.hh, src/assem/oper.hxx, src/canon/traces.cc,
	* src/codegen/ia32/gas-assembly.cc,
	* src/codegen/mips/spim-assembly.cc, src/liveness/test-flowgraph.cc,
	* src/tree/cjump.hxx, src/liveness/flowgraph.hxx: Adjust.

2003-10-27  Akim Demaille  <akim@epita.fr>

	* src/temp/temps.cc (temps_type): Rename as...
	* src/temp/temp-list.cc (temp_list_type): this.
	* src/temp/temps.hh (temps_type): Rename as...
	* src/temp/temp-list.hh (temp_list_type): this.
	* src/assem/instr.cc, src/assem/instr.hh, src/assem/instr.hxx,
	* src/assem/oper.hh, src/assem/oper.hxx, src/codegen/assembly.hh,
	* src/codegen/ia32/codegen.cc, src/codegen/ia32/gas-assembly.cc,
	* src/codegen/ia32/gas-assembly.hh, src/codegen/mips/codegen.cc,
	* src/codegen/mips/spim-assembly.cc,
	* src/codegen/mips/spim-assembly.hh,
	* src/codegen/mips/test-rw_prg.cc,
	* src/liveness/interference-graph.cc,
	* src/liveness/test-flowgraph.cc, src/regalloc/test-regalloc.cc,
	* src/target/cpu.cc, src/target/cpu.hh, src/target/mips-cpu.cc,
	* src/temp/Makefile.am, src/temp/tempmap.hh, src/temp/tempmap.cc,
	* src/temp/temp-set.cc, src/regalloc/color.cc: Adjust.

2003-10-27  Akim Demaille  <akim@epita.fr>

	* src/canon/basic-block.hh, src/canon/canon.hh,
	* src/canon/canon.cc, src/canon/traces.hh, src/canon/traces.cc,
	* src/codegen/ia32/codegen.cc, src/codegen/mips/codegen.cc,
	* src/tree/node.hh, src/tree/seq.hh, src/tree/stm.hh,
	* src/tree/node.cc, src/tree/node.hxx, src/tree/iterator.hxx,
	* src/tree/seq.cc, src/tree/call.cc, src/tree/seq.hxx,
	* src/canon/basic-block.hxx, src/canon/basic-block.cc (nodes_type):
	Rename as...
	(node_list_type): this.

2003-10-27  Akim Demaille  <akim@epita.fr>

	* src/canon/traces.cc (label_to_p): New.
	(label_p, block_frontier_p, jump_name_p): Be functors.

2003-10-27  Akim Demaille  <akim@epita.fr>

	* src/misc/set.cc, src/misc/set.hxx (SET, SET_TEMPLATE): Remove.
	Dubious, and Doxygen fails to parse them.

2003-10-24  Akim Demaille  <akim@epita.fr>

	Introduce temp::Identifier which is a template class used to
	factor temp::Temp and temp::Label.  More is needed to really clean
	up, but I have to go...

	* AUTHORS, NEWS: Update.
	* src/temp/identifier.hh: New.
	* src/temp/identifier.hxx: New.
	* src/temp/identifier.cc: New.
	* src/temp/label.hxx: Remove.
	* src/temp/temp.hxx: Remove.
	* src/temp/Makefile.am: Adjust.
	* src/temp/label.hh, src/temp/label.cc, src/temp/temp.hh,
	* src/temp/temp.cc: Implement using Identifier.

2003-10-22  Akim Demaille  <akim@epita.fr>

	* config/rebox.el: New.
	* config/Makefile.am, configure.ac: Adjust.

2003-10-21  Benoît Perrot  <benoit@lrde.epita.fr>

	* bootstrap.sh: Add a file that launches the generator of
	src/ast/Makefile.am, then autoreconf.

2003-10-21  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/escapes/callgraph-creator.cc:
	Do not search for builtin functions in environment.

2003-10-21  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/ast/ast.xml: Add XML description of the AST.
	* config/tools.py,
	* config/ast.py,
	* config/ast-visitor-gen.py,
	* config/ast-nodes-gen.py,
	* config/ast-makefile-gen.py,
	* config/ast-decls-gen.py,
	* config/Makefile.am
	* src/ast/Makefile.am:
	Add AST files generators.

2003-10-21  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/ast/arrayexp.hh, src/ast/arrayty.hh, src/ast/assignexp.hh,
	* src/ast/ast.hh, src/ast/breakexp.cc, src/ast/breakexp.hh,
	* src/ast/callexp.hh, src/ast/dec.hh, src/ast/decls.hh,
	* src/ast/decs.hh, src/ast/exp.hh, src/ast/field.hh,
	* src/ast/fieldexp.hh, src/ast/fieldvar.hh, src/ast/forexp.hh,
	* src/ast/functiondec.hh, src/ast/ifexp.hh, src/ast/intexp.hh,
	* src/ast/letexp.hh, src/ast/namety.hh, src/ast/nilexp.hh,
	* src/ast/opexp.hh, src/ast/recordexp.hh, src/ast/recordty.hh,
	* src/ast/seqexp.hh, src/ast/simplevar.hh, src/ast/stringexp.hh,
	* src/ast/subscriptvar.hh, src/ast/ty.hh,
	* src/ast/typedec.hh, src/ast/var.hh, src/ast/vardec.hh,
	* src/ast/visitor.hh, src/ast/whileexp.hh, src/ast/decs.hxx,
	* src/ast/ast.hxx, src/ast/arrayty.hxx, src/ast/arrayexp.hxx,
	* src/ast/assignexp.hxx, src/ast/callexp.cc, src/ast/ast.cc,
	* src/ast/assignexp.cc, src/ast/arrayty.cc, src/ast/arrayexp.cc
	* src/ast/callexp.hxx:
	Use pointers instead of references for attributes.
	* src/ast/breakexp.hxx,
	* src/ast/dec.cc, src/ast/dec.hxx,
	* src/ast/decs.cc,
	* src/ast/exp.cc, src/ast/exp.hxx,
	* src/ast/field.cc, src/ast/field.hxx,
	* src/ast/fieldexp.cc, src/ast/fieldexp.hxx,
	* src/ast/fieldvar.cc, src/ast/fieldvar.hxx,
	* src/ast/forexp.cc, src/ast/forexp.hxx,
	* src/ast/functiondec.cc, src/ast/functiondec.hxx,
	* src/ast/ifexp.cc, src/ast/ifexp.hxx,
	* src/ast/intexp.cc, src/ast/intexp.hxx,
	* src/ast/letexp.cc, src/ast/letexp.hxx,
	* src/ast/namety.cc, src/ast/namety.hxx,
	* src/ast/nilexp.cc, src/ast/nilexp.hxx,
	* src/ast/opexp.cc, src/ast/opexp.hxx,
	* src/ast/recordexp.cc, src/ast/recordexp.hxx,
	* src/ast/recordty.cc, src/ast/recordty.hxx,
	* src/ast/seqexp.cc, src/ast/seqexp.hxx,
	* src/ast/simplevar.cc, src/ast/simplevar.hxx,
	* src/ast/stringexp.cc, src/ast/stringexp.hxx,
	* src/ast/subscriptvar.cc, src/ast/subscriptvar.hxx,
	* src/ast/ty.cc, src/ast/ty.hxx,
	* src/ast/typedec.cc, src/ast/typedec.hxx,
	* src/ast/var.cc, src/ast/var.hxx,
	* src/ast/vardec.cc, src/ast/vardec.hxx,
	* src/ast/whileexp.cc, src/ast/whileexp.hxx:
	New files providing implementation of corresponding interface.
	* src/ast/Makefile.am: Distribute new files.
	* src/parse/parsetiger.yy, src/ast/test-ast.cc:
	Do not dereference fresh-allocated object.
	* src/escapes/escapes-env.hxx: Use a convenient accessor.

2003-10-21  Akim Demaille  <akim@epita.fr>

	* src/type/types.hh: Don't "use" symbol::Symbol.
	Adjust dependencies.
	* src/type/test-type.cc: Fix headers.
	* src/type/type-entry.hh: Don't include types.hh, use
	forward declarations.
	* src/type/type-env.cc, src/type/type-entry.cc: Do it.
	Don't use symbol::Symbol in the name space either.
	* src/type/types.cc, src/type/types.hxx, src/type/type-entry.hxx:
	Formatting changes.

2003-10-17  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/codegen.cc (free_callee_save): Make sure the
	temps are saved and restored in the same order.  More tests need
	to be performed to see whether LIFO or FIFO is preferred by the
	allocator.
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/codegen.cc
	(free_callee_save): New, as in Mips.
	* src/temp/temp.cc (operator<): Beware that operator< on Symbol
	performs a pointer comparison, hence it is "human-meaningless".
	* src/temp/label.cc (operator<): Likewise.
	* src/temp/temp.hh, src/temp/temp.hxx: Name adjustments.

2003-10-17  Akim Demaille  <akim@epita.fr>

	* src/misc/set.hxx, src/misc/set.cc: New.
	* src/misc/set.hh: Adjust.

2003-10-16  Akim Demaille  <akim@epita.fr>

	* src/translate/level-env.cc (translate): s/not_/_not/.

2003-10-15  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/symbol/table.hh, src/symbol/table.hxx:
	Change design of symbol tables.
	* src/translate/level-entry.hh
	* src/type/type-entry.hh, src/type/type-entry.hxx
	* src/type/type-entry.cc:
	Permit and define copy operators needed by new table design.

2003-10-14  Akim Demaille  <akim@epita.fr>

	* src/misc/test-timer.cc (iostream): Include.
	* src/symbol/test-symbol.cc: Adjust to the current interface.

2003-10-13  Akim Demaille  <akim@epita.fr>

	Private and protected members should be "member_", not "_member".

	* src/assem/fragment.hh, src/assem/fragment.hxx,
	* src/assem/fragment.cc, src/assem/instr.cc, src/assem/instr.hh,
	* src/assem/instr.hxx, src/assem/label.hh, src/assem/label.hxx,
	* src/assem/layout.hh, src/assem/layout.hxx, src/assem/layout.cc,
	* src/assem/move.hxx, src/ast/anydecs.hh, src/ast/arrayexp.hh,
	* src/ast/arrayty.hh, src/ast/assignexp.hh, src/ast/ast.hh,
	* src/ast/callexp.hh, src/ast/field.hh, src/ast/fieldexp.hh,
	* src/ast/fieldvar.hh, src/ast/forexp.hh, src/ast/functiondec.hh,
	* src/ast/ifexp.hh, src/ast/intexp.hh, src/ast/letexp.hh,
	* src/ast/namety.hh, src/ast/opexp.hh, src/ast/print-visitor.hh,
	* src/ast/recordexp.hh, src/ast/recordty.hh, src/ast/seqexp.hh,
	* src/ast/simplevar.hh, src/ast/stringexp.hh,
	* src/ast/subscriptvar.hh, src/ast/typedec.hh, src/ast/vardec.hh,
	* src/ast/whileexp.hh, src/ast/ast.hxx, src/ast/arrayty.hxx,
	* src/ast/arrayexp.hxx, src/ast/anydecs.hxx, src/ast/assignexp.hxx,
	* src/ast/callexp.cc, src/ast/assignexp.cc, src/ast/arrayty.cc,
	* src/ast/arrayexp.cc, src/ast/callexp.hxx,
	* src/ast/print-visitor.cc, src/canon/basic-block.hh,
	* src/canon/canon.hh, src/canon/canon.cc, src/canon/traces.hh,
	* src/canon/traces.cc, src/codegen/assembly.hh,
	* src/codegen/codegen.hh, src/codegen/ia32/codegen.cc,
	* src/codegen/ia32/gas-layout.cc, src/codegen/mips/codegen.cc,
	* src/codegen/mips/spim-layout.cc, src/codegen/mips/test-rw_prg.cc,
	* src/cppgen/cppgen-visitor.hh, src/cppgen/includes/arrayty.hh,
	* src/cppgen/includes/builtin.hh, src/cppgen/includes/env.hh,
	* src/cppgen/includes/function.hh, src/cppgen/includes/list.hh,
	* src/cppgen/includes/recordty.hh, src/cppgen/includes/type.hh,
	* src/escapes/escapes-check-visitor.hh, src/escapes/escapes-env.hh,
	* src/escapes/escapes-visitor.hh, src/frame/access.cc,
	* src/frame/access.hh, src/frame/frame.cc, src/frame/frame.hh,
	* src/liveness/interference-graph.cc,
	* src/liveness/interference-graph.hh, src/misc/deref.cc,
	* src/misc/deref.hh, src/misc/deref.hxx, src/misc/escape.cc,
	* src/misc/escape.hh, src/misc/escape.hxx, src/misc/timer.cc,
	* src/misc/timer.hh, src/overload/overfun-type-visitor.cc,
	* src/overload/overfun-type-visitor.hh,
	* src/overload/overfun-type-visitor.hxx, src/regalloc/color.hh,
	* src/regalloc/libregalloc.cc, src/regalloc/regallocator.hh,
	* src/symbol/symbol.cc, src/symbol/symbol.hh, src/symbol/symbol.hxx,
	* src/symbol/table.hh, src/symbol/table.hxx, src/target/cpu.cc,
	* src/target/cpu.hh, src/target/mips-cpu.cc, src/target/target.hh,
	* src/task/task.hh, src/task/task.hxx, src/task/task.cc,
	* src/task/boolean-task.hh, src/task/boolean-task.hxx,
	* src/task/boolean-task.cc, src/task/function-task.hh,
	* src/task/function-task.hxx, src/task/function-task.cc,
	* src/task/int-task.hh, src/task/int-task.hxx, src/task/int-task.cc,
	* src/task/task-register.cc, src/task/task-register.hh,
	* src/temp/label.hh, src/temp/label.hxx, src/temp/label.cc,
	* src/temp/factory.hh, src/temp/factory.hxx, src/temp/temp.hh,
	* src/temp/temp.hxx, src/temp/temp.cc, src/temp/tempmap.hh,
	* src/temp/tempmap.cc, src/temp/tempmap.hxx,
	* src/translate/access.hh, src/translate/exp.hh,
	* src/translate/fragment.hh, src/translate/fragment.hxx,
	* src/translate/fragment.cc, src/translate/level-entry.hh,
	* src/translate/level-env.hh, src/translate/level.cc,
	* src/translate/level.hh, src/translate/translate-visitor.hh,
	* src/tree/cjump.hh, src/tree/const.hh, src/tree/iterator.hh,
	* src/tree/label.hh, src/tree/name.hh, src/tree/node.hh,
	* src/tree/temp.hh, src/tree/node.cc, src/tree/name.cc,
	* src/tree/label.cc, src/tree/const.cc, src/tree/cjump.cc,
	* src/tree/node.hxx, src/tree/name.hxx, src/tree/label.hxx,
	* src/tree/iterator.hxx, src/tree/const.hxx, src/tree/cjump.hxx,
	* src/tree/temp.cc, src/tree/seq.cc, src/tree/eseq.cc,
	* src/tree/call.cc, src/tree/temp.hxx, src/type/type-entry.hh,
	* src/type/type-env.hh, src/type/type-visitor.hh, src/type/types.hh,
	* src/type/types.cc, src/type/types.hxx, src/type/type-env.cc,
	* src/type/type-entry.cc, src/type/type-entry.hxx,
	* src/type/type-visitor.cc, src/escapes/escapes-visitor.cc,
	* src/escapes/escapes-check-visitor.cc, src/escapes/escapes-env.hxx,
	* src/frame/access.hxx, src/translate/exp.hxx,
	* src/translate/access.hxx, src/translate/exp.cc,
	* src/translate/level.hxx, src/translate/level-env.hxx,
	* src/translate/translate-visitor.cc, src/translate/level-env.cc,
	* src/canon/basic-block.hxx, src/canon/basic-block.cc,
	* src/regalloc/regallocator.cc, src/regalloc/color.cc,
	* src/target/ia32-cpu.cc
	(_a, _access, _active_moves, _alias, _arg, _argname, _arg_offset)
	(_args, _argument_registers, _asm_proc_frag, _assem, _assembly, _b)
	(_base_type, _body, _callee_save_registers, _caller_save_registers)
	(_check_necessary, _check_sufficient, _children, _clean_)
	(_clocks_per_sec, _close, _co, _coalesced_moves, _coalesced_nodes)
	(_coalesce_p, _codegen, _color, _colored_nodes, _commute_p, _cond)
	(_constrained_moves, _counter, _cpu, _d_, _data, _data_frag)
	(_debug, _dec, _dec_endl, _decs, _def, _degree, _dependencies)
	(_depth, _desc, _do, _elseclause, _endl, _entry, _env, _equal_)
	(_error_number, _escape, _escapes_display_p, _escapes_p)
	(_escapes_sl_display_p, _escapes_tags_display_p, _escape_tag)
	(_excessive_escapes, _execute, _exp, _exp_eval, _exps, _exp_type)
	(_field, _fields, _flag, _force, _formals, _fragments, _frame)
	(_freeze_work_list, _frozen_moves, _ftable, _func, _func_num)
	(_func_table, _fundecs, _generate_const_str, _get, _head, _hi)
	(_hir_naive_p, _home, _id, _iffalse, _iftrue, _ig, _inc, _inc_endl)
	(_index, _init, _initial, _in_loop, _instance, _instrs, _jumps)
	(_key, _kind, _label, _last_type, _layout, _left, _level, _list)
	(_location, _loop_end_label, _max, _min, _missing_escapes)
	(_module_name, _move_list, _moves, _n_, _name, _nb_regs, _next)
	(_nodes, _not, _not_, _number, _offset, _old, _op, _open, _oper)
	(_ostr, _out, _outer_level, _overftable, _oversymtab, _params)
	(_parent, _postr, _precolored, _ptempmap, _ptr, _put)
	(_registers_map, _relop, _result, _right, _save_fp, _sc_clk_tck)
	(_scope_begin, _scope_end, _select_stack, _set)
	(_simplify_work_list, _size, _sl_compute_p, _sl_escapes_p)
	(_sl_needed_p, _special_registers, _spilled_nodes)
	(_spill_work_list, _static_list, _stm, _str, _strictness, _symtab)
	(_tab, _table, _tail, _tailhd, _tailt, _target, _task_keys)
	(_task_list, _task_order, _temp, _tempmap, _temps_priority, _test)
	(_the, _thenclause, _trace, _trace_p, _ts, _ttable, _ty, _type)
	(_type_name, _type_num, _type_table, _uncx, _unex, _unnx, _use, _v)
	(_value, _var, _vardec, _var_num, _var_table, _vtable)
	(_work_list_moves, _writable):
	Rename as...
	(access_, active_moves_, alias_, arg_, argname_, arg_offset_)
	(args_, argument_registers_, asm_proc_frag_, assem_, assembly_)
	(base_type_, body_, callee_save_registers_, caller_save_registers_)
	(check_necessary_, check_sufficient_, children_, _clean_, clean__)
	(clocks_per_sec_, close_, co_, coalesced_moves_, coalesced_nodes_)
	(coalesce_p_, codegen_, color_, colored_nodes_, commute_p_, cond_)
	(constrained_moves_, counter_, cpu_, _d_, d__, data_, data_frag_)
	(debug_, dec_, dec_endl_, decs_, def_, definevars_, degree_)
	(dependencies_, depth_, desc_, do_, elseclause_, endl_, entry_)
	(env_, _equal_, equal__, error_number_, escape_)
	(escapes_display_p_, escapes_p_, escapes_sl_display_p_)
	(escapes_tags_display_p_, escape_tag_, excessive_escapes_)
	(execute_, exp_, exp_eval_, exps_, exp_type_, field_, fields_)
	(flag_, force_, formals_, fragments_, frame_, freeze_work_list_)
	(frozen_moves_, ftable_, func_, func_num_, func_table_, fundecs_)
	(generate_const_str_, get_, getchar_, head_, hi_, hir_naive_p_)
	(home_, id_, iffalse_, iftrue_, ig_, inc_, inc_endl_, index_)
	(init_, initial_, in_loop_, instance_, instrs_, jumps_, key_)
	(kind_, label_, last_type_, layout_, left_, level_, list_)
	(listequal_, location_, loop_end_label_, max_, min_)
	(missing_escapes_, module_name_, move_list_, moves_, _n_, n__)
	(name_, nb_regs_, next_, nodes_, _not_, not_, not__, number_)
	(offset_, old_, op_, open_, oper_, ostr_, out_, outer_level_)
	(overftable_, oversymtab_, params_, parent_, postr_, precolored_)
	(printint_, ptempmap_, ptr_, put_, registers_map_, relop_, result_)
	(right_, save_fp_, scope_begin_, scope_end_, select_stack_, set_)
	(simplify_work_list_, size_, sl_compute_p_, sl_escapes_p_)
	(sl_needed_p_, special_registers_, spilled_nodes_)
	(spill_work_list_, static_list_, stm_, str_, strictness_, symtab_)
	(tab_, table_, tail_, tailhd_, tailt_, target_, task_keys_)
	(task_list_, task_order_, tc_, temp_, tempmap_, temps_priority_)
	(test_, the_, thenclause_, trace_, trace_p_, ts_, ttable_, ty_)
	(type_, type_name_, type_num_, type_table_, uncx_, unex_, unnx_)
	(use_, value_, var_, vardec_, var_num_, var_table_, vtable_)
	(work_list_moves_, writable_):
	these.

2003-10-13  Akim Demaille  <akim@epita.fr>

	Typedefs should be foo_type, not foo_t.

	* src/parse/parsetiger.yy (decs_t, exps_t, fieldexps_t, fields_t):
	Rename as...
	(decs_type, exps_type, fieldexps_type, fields_type): these.

2003-10-13  Akim Demaille  <akim@epita.fr>

	Typedefs should be foo_type, not foo_t.

	* src/common.hh, src/tc.cc, src/assem/instr.cc,
	* src/assem/instr.hh, src/assem/instr.hxx, src/assem/instrs.cc,
	* src/assem/instrs.hh, src/assem/map-visitor.hh,
	* src/assem/map-visitor.hxx, src/assem/move.hh, src/assem/oper.hh,
	* src/assem/oper.hxx, src/ast/callexp.hh, src/ast/decls.hh,
	* src/ast/decs.hh, src/ast/default-visitor.hh, src/ast/exp.hh,
	* src/ast/field.hh, src/ast/fieldexp.hh, src/ast/functiondec.hh,
	* src/ast/letexp.hh, src/ast/print-visitor.hh, src/ast/recordexp.hh,
	* src/ast/recordty.hh, src/ast/seqexp.hh, src/ast/test-ast.cc,
	* src/ast/visitor.hh, src/ast/callexp.cc, src/ast/callexp.hxx,
	* src/ast/print-visitor.cc, src/ast/default-visitor.hxx,
	* src/canon/basic-block.hh, src/canon/canon.hh, src/canon/canon.cc,
	* src/canon/traces.hh, src/canon/traces.cc, src/codegen/assembly.hh,
	* src/codegen/codegen.hh, src/codegen/ia32/codegen.cc,
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/gas-assembly.cc,
	* src/codegen/ia32/gas-assembly.hh, src/codegen/mips/codegen.cc,
	* src/codegen/mips/codegen.hh, src/codegen/mips/spim-assembly.cc,
	* src/codegen/mips/spim-assembly.hh,
	* src/codegen/mips/test-rw_prg.cc, src/cppgen/cppgen-visitor.hh,
	* src/cppgen/includes/arrayty.hh, src/cppgen/includes/binop.hh,
	* src/cppgen/includes/builtin.hh, src/cppgen/includes/control.hh,
	* src/cppgen/includes/env.hh, src/cppgen/includes/explist.hh,
	* src/cppgen/includes/function.hh, src/cppgen/includes/letinend.hh,
	* src/cppgen/includes/list.hh, src/cppgen/includes/lvalue.hh,
	* src/cppgen/includes/macro.hh, src/cppgen/includes/recordty.hh,
	* src/cppgen/includes/stack.hh, src/cppgen/includes/type.hh,
	* src/escapes/escapes-check-visitor.hh,
	* src/escapes/escapes-visitor.hh, src/escapes/fundecgraph.hh,
	* src/escapes/fundecgraph.hxx, src/escapes/libescapes.cc,
	* src/frame/frame.cc, src/frame/frame.hh, src/graph/graph.hh,
	* src/graph/graph.hxx, src/graph/handler.hh, src/graph/iterator.hh,
	* src/graph/test-graph.cc, src/liveness/flowgraph.hh,
	* src/liveness/interference-graph.cc,
	* src/liveness/interference-graph.hh, src/liveness/liveness.cc,
	* src/liveness/liveness.hh, src/liveness/test-flowgraph.cc,
	* src/misc/containers.hxx, src/misc/set.hh, src/misc/timer.cc,
	* src/misc/timer.hh, src/overload/overfun-type-visitor.cc,
	* src/overload/overfun-type-visitor.hh,
	* src/overload/overfun-type-visitor.hxx, src/regalloc/color.hh,
	* src/regalloc/test-regalloc.cc, src/symbol/table.hh,
	* src/symbol/table.hxx, src/target/cpu.cc, src/target/cpu.hh,
	* src/target/mips-cpu.cc, src/task/task.hh, src/task/task.hxx,
	* src/task/task.cc, src/task/task-register.cc,
	* src/task/task-register.hh, src/temp/label.hh, src/temp/label.cc,
	* src/temp/tempmap.hh, src/temp/temps.cc, src/temp/temps.hh,
	* src/temp/tempmap.cc, src/temp/tempmap.hxx, src/temp/temp-set.hh,
	* src/temp/temp-set.cc, src/translate/exp.hh,
	* src/translate/fragment.cc, src/translate/level-env.hh,
	* src/translate/level.cc, src/translate/level.hh,
	* src/translate/translate-visitor.hh, src/tree/binop.hh,
	* src/tree/call.hh, src/tree/cjump.hh, src/tree/const.hh,
	* src/tree/eseq.hh, src/tree/jump.hh, src/tree/label.hh,
	* src/tree/mem.hh, src/tree/move.hh, src/tree/name.hh,
	* src/tree/node.hh, src/tree/seq.hh, src/tree/stm.hh,
	* src/tree/sxp.hh, src/tree/temp.hh, src/tree/node.cc,
	* src/tree/name.cc, src/tree/mem.cc, src/tree/label.cc,
	* src/tree/const.cc, src/tree/cjump.cc, src/tree/binop.cc,
	* src/tree/node.hxx, src/tree/iterator.hxx, src/tree/cjump.hxx,
	* src/tree/temp.cc, src/tree/sxp.cc, src/tree/seq.cc,
	* src/tree/move.cc, src/tree/jump.cc, src/tree/eseq.cc,
	* src/tree/call.cc, src/tree/seq.hxx, src/type/type-env.hh,
	* src/type/type-visitor.hh, src/type/types.hh, src/type/type-env.cc,
	* src/type/type-visitor.cc, src/escapes/escapes-visitor.cc,
	* src/escapes/escapes-check-visitor.cc, src/translate/exp.cc,
	* src/translate/level.hxx, src/translate/level-env.hxx,
	* src/translate/translate-visitor.cc, src/canon/basic-block.hxx,
	* src/canon/basic-block.cc, src/liveness/flowgraph.hxx,
	* src/regalloc/color.cc, src/target/ia32-cpu.cc,
	* src/misc/test-ref.cc (accesses_t, access_list_t, alias_map_t)
	(bool_list_t, color_map_t, const_moves_t, decorated_edge_label_t)
	(decorated_node_label_t, decs_t, deps_t, edge_label_t)
	(edges_of_node_t, edges_set_t, exit_t, exps_t, fieldexps_t)
	(fields_t, field_t, flowgraph_t, formals_t, ftable_t, graph_t)
	(head_t, hedge_t, hfundecs_t, hnode_t, indexed_modules_t, instrs_t)
	(iter_t, kind_node_t, label_map_t, labels_t, _last_t, livemap_t)
	(map_t, mmap_t, move_list_map_t, move_set_t, moves_t, move_t)
	(neighbors_of_node_t, node_label_t, node_list_t, node_set_t)
	(nodes_set_t, nodes_t, node_t, op_t, outer_t, oversymtab_t)
	(program_t, range_t, rA_t, rB_t, record_t, self_t, set_t, size_t)
	(strictness_t, strings_t, super_t, symtab_t, T_array_t, task_map_t)
	(tasks_by_key_t, tasks_by_name_t, T_cond_t, tempmap_t, temp_set_t)
	(temps_t, T_eval_t, T_exp_t, tlist_t, T_lval_t, T_lvalue_t)
	(tprogram_t, T_record_t, ttable_t, T_t, _t, _type_name value_t)
	(var_t, visit_data_frag_t, visit_proc_frag_t, vtable_t):
	Rename as...
	(accesses_type, access_list_type, alias_map_type, bool_list_type)
	(color_map_type, const_moves_type, decorated_edge_label_type)
	(decorated_node_label_type, decs_type, deps_type, edge_label_type)
	(edges_of_node_type, edges_set_type, exit_type, exps_type)
	(fieldexps_type, fields_type, field_type, flowgraph_type)
	(formals_type, ftable_type, graph_type, head_type, hedge_type)
	(hfundecs_type, hnode_type, indexed_modules_type, instrs_type)
	(iter_type, kind_node_type, label_map_type, labels_type)
	(_last_type, livemap_type, map_type, mmap_type, move_list_map_type)
	(move_set_type, moves_type, move_type, neighbors_of_node_type)
	(node_label_type, node_list_type, node_set_type, nodes_set_type)
	(nodes_type, node_type, op_type, outer_type, oversymtab_type)
	(program_type, range_type, rA_type, rB_type, record_type)
	(self_type, set_type, size_type, strictness_type, strings_type)
	(super_type, symtab_type, T_array_type, task_map_type)
	(tasks_by_key_type, tasks_by_name_type, T_cond_type, tempmap_type)
	(temp_set_type, temps_type, T_eval_type, T_exp_type, tlist_type)
	(T_lval_type, T_lvalue_type, tprogram_type, T_record_type)
	(ttable_type, T_type, _type, _type_name, value_type, var_type)
	(visit_data_frag_type, visit_proc_frag_type, vtable_type):
	these.

2003-10-10  Akim Demaille  <akim@epita.fr>

	Except in AST, don't "new" the Symbols, just use them by copy.
	This does save a number of "new" and does diminish our memory
	footprint, since Symbol are already as wide as pointers.

	* src/symbol/symbol.hh, src/symbol/symbol.hxx: Add a default ctor.
	* src/assem/fragment.cc: Adjust.
	* src/overload/overfun-type-visitor.cc,
	* src/overload/overfun-type-visitor.hh (mangle): Return a Symbol
	instead of a string.
	Adjust all callers.
	* src/temp/temp.hh, src/temp/temp.hxx, src/temp/temp.cc (_name):
	Be a Symbol, not a pointer to Symbol.
	Hence, use number == -1 to discriminate numbered from named.
	* src/temp/label.hh, src/temp/label.hxx, src/temp/label.cc: Make
	it more like Temp.

2003-10-10  Akim Demaille  <akim@epita.fr>

	* src/overload/overfun-type-visitor.cc (overload): Return a
	Symbol.

2003-10-10  Akim Demaille  <akim@epita.fr>

	* doc/Doxyfile.in: Upgrade to Doxygen 1.3.4.

	* src/doc.hh, src/assem/fragments.cc, src/assem/instr.hxx,
	src/assem/instrs.hh, src/ast/callexp.cc, src/canon/canon.hh,
	src/frame/frame.cc, src/frame/frame.hh,
	src/liveness/interference-graph.hh, src/misc/containers.hxx,
	src/regalloc/libregalloc.cc, src/regalloc/libregalloc.hh,
	src/temp/factory.hh, src/temp/factory.hxx,
	src/translate/fragments.cc, src/translate/level-env.hh: Fix typos
	in Doxygen comments.
	* src/assem/instr.hh, src/assem/instrs.hh: Don't have twice the
	contents in the file, once should be enough for most compilers.

2003-10-09  Akim Demaille  <akim@epita.fr>

	* src/ast/functiondec.hh (~FunctionDec): Don't forget to reclaim
	the memory of the fields.

2003-10-09  Akim Demaille  <akim@epita.fr>

	* src/translate/level-env.hh, src/translate/level-env.hxx: Store
	Entries, not pointers to Entries.  Same benefits as immediately
	below.

2003-10-09  Akim Demaille  <akim@epita.fr>

	* src/symbol/table.hxx (Table::put): Pay special attention not to
	use map::operator[] as it requires a default ctor, which is wrong
	here.
	(print): Don't dereference something that might not be a pointer.
	* src/type/type-entry.hh, src/type/type-entry.hxx: Formatting
	changes.
	* src/type/type-env.hh, src/type/type-env.cc (ttable_t, ftable_t)
	(vtable_t): New.
	Store Entries, not pointers to Entries.
	Remove the now usless "new", and err... well, don't remove the
	missing, but now useless, deletes.
	Use "find" to lookup in the map.

2003-10-09  Akim Demaille  <akim@epita.fr>

	Start converting the interface of symbol::Table to something more
	STL-like.

	* src/symbol/table.hh, src/symbol/table.hxx (map_t): Actually
	contains data of the parameter type, not pointers to this data
	type.
	(iterator, const_iterator, begin, end, find): New, const and non
	const.

	* src/cppgen/cppgen-visitor.hh, src/escapes/callgraph-creator.cc,
	* src/escapes/callgraph-creator.hh, src/escapes/escapes-visitor.hh,
	* src/translate/level-env.hh, src/type/type-env.hh,
	* src/type/type-env.cc, src/escapes/escapes-visitor.cc,
	* src/translate/level-env.hxx: Adjust: When needed pass a pointer
	parameter, and strip now useless dereferences.

2003-10-08  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-visitor.cc (visit (ForExp)): Another
	useless allocation for a local Symbol.

2003-10-08  Akim Demaille  <akim@epita.fr>

	* src/ast/functiondec.hh (name_set): Don't forget to free the
	previous name.
	* src/ast/callexp.hxx (func_set): Likewise.
	* src/translate/fragment.hh (_name): Have your own copy instead of
	aliasing another.
	* src/translate/level.cc, src/translate/level.hh: Likewise.
	* src/translate/translate-visitor.cc: Don't new symbols that are
	not going to be freed.

2003-10-08  Akim Demaille  <akim@epita.fr>

	Clarify the interface of T5, the translation to HIR.

	* src/translate/translation.hh, src/translate/translation.cc
	(procedureDec, functionDec): Return a fragment, not an
	expression.
	Don't have an argument only to return this fragment as a side
	effect.
	* src/translate/translate-visitor.hh,
	* src/translate/translate-visitor.cc (fragments_get): New.
	(TranslateVisitor::~TranslateVisitor): No longer return the
	result by side effect on a reference.
	(TranslateVisitor::TranslateVisitor): Hence don't take such a
	reference: create _fragments locally.
	(_outer_level): You're const.
	* src/translate/level-env.hh, src/translate/level-env.cc: constify.
	* src/translate/libtranslate.cc: Adjust.

2003-10-08  Akim Demaille  <akim@epita.fr>

	* src/type/tasks.cc (types_check): Don't be stupid: return with
	error if there is an error, not conversely.

2003-10-08  Akim Demaille  <akim@epita.fr>

	* src/assem/instr.hh, src/assem/instrs.hh, src/assem/layout.hh,
	* src/ast/libast.hh, src/ast/test-ast.cc, src/canon/basic-block.hh,
	* src/canon/tasks.cc, src/canon/canon.cc, src/canon/traces.cc,
	* src/codegen/tasks.cc, src/codegen/codegen.hh,
	* src/codegen/mips/codegen.cc, src/cppgen/libcppgen.hh,
	* src/cppgen/includes/common.hh, src/escapes/tasks.cc,
	* src/escapes/libescapes.hh, src/frame/access.hh,
	* src/frame/frame.hh, src/graph/graph.hh,
	* src/liveness/interference-graph.cc, src/liveness/liveness.cc,
	* src/liveness/test-flowgraph.cc, src/misc/deref.hh,
	* src/misc/escape.hh, src/misc/containers.hh, src/misc/set.hh,
	* src/misc/timer.cc, src/misc/timer.hh, src/parse/tasks.cc,
	* src/regalloc/test-regalloc.cc, src/symbol/symbol.hh,
	* src/symbol/table.hh, src/symbol/test-symbol.cc,
	* src/target/tasks.cc, src/task/tasks.cc, src/temp/label.hh,
	* src/temp/tasks.cc, src/temp/temp.hh, src/temp/temp.hxx,
	* src/temp/temps.cc, src/temp/tempmap.cc, src/temp/temp-set.cc,
	* src/translate/access.hh, src/translate/exp.hh,
	* src/translate/fragment.hh, src/translate/level.cc,
	* src/translate/level.hh, src/translate/tasks.cc, src/tree/binop.hh,
	* src/tree/call.hh, src/tree/cjump.hh, src/tree/const.hh,
	* src/tree/eseq.hh, src/tree/jump.hh, src/tree/label.hh,
	* src/tree/mem.hh, src/tree/move.hh, src/tree/name.hh,
	* src/tree/node.hh, src/tree/seq.hh, src/tree/sxp.hh,
	* src/tree/temp.hh, src/tree/node.cc, src/tree/name.cc,
	* src/tree/mem.cc, src/tree/label.cc, src/tree/const.cc,
	* src/tree/cjump.cc, src/tree/binop.cc, src/tree/sxp.cc,
	* src/tree/seq.cc, src/tree/move.cc, src/tree/jump.cc,
	* src/tree/eseq.cc, src/tree/call.cc, src/type/types.cc,
	* src/type/type-env.cc, src/type/type-entry.cc,
	* src/translate/exp.cc, src/canon/basic-block.cc,
	* src/regalloc/regallocator.cc, src/regalloc/color.cc,
	* src/misc/ref.hxx: Adjust headers, especially use iosfwd or ostream
	where more appropriate than iostream.

2003-10-08  Akim Demaille  <akim@epita.fr>

	* src/escapes/escapes-check-visitor.hh (super_t, _missing_escapes)
	(_excessive_escapes, missing_escapes_get, excessive_escapes_get): New.
	* src/escapes/escapes-check-visitor.cc: Use them to no longer have
	side effects on the exit status.
	* src/ast/print-visitor.hh, src/ast/print-visitor.cc,
	* src/escapes/escapes-visitor.hh, src/escapes/libescapes.cc,
	* src/translate/translate-visitor.hh,
	* src/escapes/escapes-visitor.cc, src/translate/translate-visitor.cc
	(super_t): New.
	Use it.
	* src/type/type-visitor.hh, src/type/type-visitor.cc
	(error_number_get): Is const.

2003-10-08  Akim Demaille  <akim@epita.fr>

	Avoid side effects in visitors, rather provide methods to query
	the visitor.

	* src/type/type-visitor.hh, src/type/type-visitor.cc: Don't change
	the exit_status directly.
	(_error_number, error_number_get): New.
	* src/type/libtype.cc, src/type/libtype.hh (type_check): Return a
	Boolean instead of having side effects.
	* src/type/tasks.cc: Adjust.

2003-10-08  Akim Demaille  <akim@epita.fr>

	Use the temp::Factory for Labels too, so that Label's be
	deallocated properly.

	* src/temp/label.hxx: New.
	* src/temp/label.hh, src/temp/label.cc: Adjust a Factory.
	Make the ctors private.

	* src/canon/traces.hh, src/canon/traces.cc,
	* src/codegen/ia32/gas-layout.cc, src/temp/temp.hh,
	* src/temp/temp.hxx, src/translate/exp.hh, src/translate/level.cc,
	* src/translate/libtranslate.cc, src/translate/translate-visitor.hh,
	* src/translate/translation.hh, src/tree/cjump.hh,
	* src/tree/cjump.hxx, src/translate/exp.hxx, src/translate/exp.cc,
	* src/translate/translation.cc, src/translate/translate-visitor.cc,
	* src/translate/level-env.cc: Adjust: spread const where
	* appropriate, and invoke the factory to get a Label.

2003-10-08  Akim Demaille  <akim@epita.fr>

	* src/temp/Makefile.am: Adjust.
	* src/temp/factory.hh: New.
	* src/temp/temp-factory.hh, src/temp/temp-factory.hxx: Rename as...
	* src/temp/factory.hh, src/temp/factory.hxx: these.
	Make it template.
	* src/temp/temp.hh: Adjust.
	* src/canon/canon.cc, src/codegen/ia32/codegen.cc,
	* src/codegen/mips/codegen.cc, src/frame/access.cc,
	* src/target/cpu.cc, src/target/mips-cpu.cc,
	* src/translate/fragment.hxx, src/frame/access.hxx,
	* src/translate/exp.cc, src/translate/translation.cc,
	* src/target/ia32-cpu.cc: Adjust: include temp.hh not temp-factory.hh.

2003-10-08  Akim Demaille  <akim@epita.fr>

	Since the Temp's management is performed by the TempFactory,
	they ought to be const outside.

	* src/temp/temp-factory.hh, src/temp/temp-factory.hxx (create):
	Return const Temp.
	* src/canon/canon.cc, src/codegen/ia32/codegen.cc,
	* src/codegen/mips/codegen.cc, src/frame/access.hh,
	* src/target/cpu.cc, src/target/mips-cpu.cc,
	* src/translate/fragment.hh, src/frame/access.hxx,
	* src/translate/exp.cc, src/translate/translation.cc,
	* src/target/ia32-cpu.cc: Adjust: add const where appropriate.

2003-10-08  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/temp/temp-factory.hh, src/temp/temp-factory.cc: Populate.

2003-10-06  Akim Demaille  <akim@epita.fr>

	Introduce a TempFactory, in charge of deleting the temporaries at
	the end.

	* src/temp/temp-factory.hh, src/temp/temp-factory.cc: New.
	* src/canon/canon.cc,
	* src/codegen/ia32/codegen.cc, src/codegen/mips/codegen.cc,
	* src/codegen/mips/test-rw_prg.cc,
	* src/frame/access.cc, src/frame/access.hxx,
	* src/regalloc/test-regalloc.cc,
	* src/temp/Makefile.am, src/temp/temp.hh,
	* src/target/ia32-cpu.cc,
	* src/translate/fragment.hh, src/translate/fragment.hxx
	* src/translate/exp.cc, src/translate/translation.cc: Use it.
	* src/target/cpu.cc (~Cpu): Do not delete the Temps, since now
	that's the job of the factory.

	* src/codegen/mips/codegen.cc (codegen): Do not heap allocate
	the list of temps.

2003-10-06  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.cc, src/type/type-visitor.hh:
	Formatting changes.
	Adjust header inclusions.

2003-10-06  Akim Demaille  <akim@epita.fr>

	* src/codegen/ia32/gas-assembly.cc: Do not allocate heap memory
	for lists of labels since anyway a copy is used by
	assem::Instr::Instr ().
	* src/codegen/mips/spim-assembly.cc: Likewise.

2003-10-06  Akim Demaille  <akim@epita.fr>

	* src/misc/ref.hxx (ref::cast, ref::unsafe_cast): Be sure to
	deallocate the newly allocated count_ member.

2003-10-06  Akim Demaille  <akim@epita.fr>

	* src/misc/ref.hxx: Formatting changes.
	Use "res", not "ret".
	Remove useless header inclusions.

2003-10-06  Akim Demaille  <akim@epita.fr>

	* src/canon/traces.cc (make_traces): Deallocate the blocks.

2003-10-06  Akim Demaille  <akim@epita.fr>

	Free the Instructions.

	* src/codegen/mips/codegen.cc: Replace all the uses of `insert
	(..., foo.front ())' with `splice (...)' because using "front"
	allows to get a pointer, but the pointee will be automatically
	destroyed when the list itself is destroyed.  Therefore extracting
	the pointer from the list is mandatory, which is precisely what
	splice does.
	* src/assem/fragment.hh (instrs_set): Get the value by reference.
	* src/assem/fragment.cc (instrs_set): Exchange the old value with
	the new value.
	* src/assem/instrs.cc (~Instrs): Free the pointees.

2003-10-06  Akim Demaille  <akim@epita.fr>

	Don't allocate lists of temps and return them as references.

	* src/temp/temps.hh (L): Change all the instances to return by
	copy instead of by reference.
	Use stack allocation, not the heap.
	* src/assem/label.hh: The list of labels is by aggregation, not by
	reference.
	* src/assem/oper.hh: The lists are aggregated, not referenced.
	* src/codegen/ia32/gas-assembly.cc: Don't "duplicate" arguments
	handled by copy.
	* src/codegen/mips/spim-assembly.cc: Likewise.

	Instroduce Instrs instead of list <Instr *>.

	* src/assem/instr.hxx: New.
	* src/assem/instrs.hh: New.
	* src/assem/instrs.cc: New.
	* src/assem/fragment.hh: Use Instrs.
	* src/assem/fragment.hxx: Likewise.
	* src/assem/fragment.cc: Likewise.
	* src/assem/instr.hh: Add members and (non virtual) accessors for
	_def, _use, and _jump.
	* src/assem/instr.cc: Remove instrs_t related code.
	* src/assem/label.hh: Adjust to the new Instr.
	* src/assem/label.cc: Rename as...
	* src/assem/label.hxx: this.
	* src/assem/move.hh: Adjust to the new Instr.
	* src/assem/move.hxx: Likewise.
	* src/assem/oper.hh: Idem.
	* src/assem/oper.cc: Rename as...
	* src/assem/oper.hxx: this.
	* src/assem/Makefile.am: Adjust.
	* src/codegen/assembly.hh: Use Instrs.
	* src/codegen/codegen.hh: Likewise.
	* src/codegen/ia32/codegen.cc: Likewise.
	* src/codegen/ia32/gas-assembly.cc: Likewise.
	* src/codegen/ia32/gas-assembly.hh: Likewise.
	* src/codegen/ia32/gas-layout.cc: Likewise.
	* src/codegen/mips/codegen.cc: Likewise.
	* src/codegen/mips/spim-assembly.cc: Likewise.
	* src/codegen/mips/spim-assembly.hh: Likewise.
	* src/codegen/mips/spim-layout.cc: Likewise.
	* src/liveness/flowgraph.hh: Likewise.
	* src/liveness/flowgraph.hxx: Likewise.
	* src/assem/move.cc: Remove.

2003-10-06  Akim Demaille  <akim@epita.fr>

	* src/doc.hh: Update the links.
	* src/misc/list.hh, src/misc/list.hxx: Merge into...
	* src/misc/containers.hh, src/misc/containers.hxx: here.

2003-10-03  Akim Demaille  <akim@epita.fr>

	* src/assem/instr.hh (operator<<): Is not inline.
	* src/regalloc/libregalloc.cc (UselessMove::operator()): Delete
	those that are indeed useless.

2003-10-03  Akim Demaille  <akim@epita.fr>

	Use functors instead of Boolean function members.

	* src/canon/canon.hh (is_nop, commute_p, _commute_p): Remove.
	* src/canon/canon.cc: Make them functors.
	Adjust the code.

2003-10-03  Akim Demaille  <akim@epita.fr>

	* src/tree/name.hh (_label): This is a const ref to a uniquely
	allocate temp::Label.  Otherwise, we have a copy that share the
	Symbol, and therefore a double destruction of it.

2003-10-03  Akim Demaille  <akim@epita.fr>

	Introduce translate::Fragments instead of using std::list
	directly, and free the memory.  Use auto_ptr.

	* src/translate/fragment.hh (fragments_t): Remove.
	* src/translate/fragment.hh: Adjust and fix includes.
	* src/translate/fragment.cc: Idem.
	* src/translate/fragments.hh, src/translate/fragments.cc: New.
	* src/translate/Makefile.am: Adjust.
	* src/assem/fragment.cc: Fix includes.
	* src/codegen/libcodegen.cc: Adjust and fix includes.
	* src/codegen/libcodegen.hh: Lower the number of includes.
	* src/codegen/ia32/gas-assembly.cc: Fix includes.
	* src/codegen/ia32/gas-layout.cc: Ditto.
	* src/codegen/mips/spim-assembly.cc: Ditto.
	* src/codegen/mips/spim-layout.cc: Idem.
	* src/translate/access.hh: Do not qualify with the currently
	opened name space, as then it refers to yet another namespace
	translate::translate...
	I do not know how it used to compile...
	* src/translate/exp.hh: Ditto.
	* src/translate/level.hh: Ditto.
	* src/translate/libtranslate.hh: Adjust.
	* src/translate/libtranslate.cc: Adjust.
	* src/translate/translate-visitor.hh: Adjust.
	* src/translate/translate-visitor.cc: Idem.
	* src/translate/exp.hxx: Remove incorrect namespace qualifiers.
	* src/translate/access.hxx: Idem.
	* src/translate/level.hxx: Idem.
	* src/translate/tasks.cc (fragment): Now an auto_ptr.
	* src/translate/tasks.hh: Adjust.
	* src/canon/tasks.cc: Adjust.
	* src/codegen/tasks.cc: Adjust.

2003-10-03  Akim Demaille  <akim@epita.fr>

	Free the assembly code.

	* src/assem/fragment.hh (Fragment::instrs_get, Fragment::instrs_set)
	(Fragment::_instrs): In general, there is no use for instructions
	here, so move these into...
	(ProcFrag::instrs_get, ProcFrag::instrs_set, ProcFrag::_instrs): here.
	* src/assem/fragment.cc (ProcFrag::~ProcFrag): Deep clear _instr.
	* src/assem/fragment.hxx: Adjust.
	* src/codegen/mips/codegen.cc: Formatting changes.

2003-10-03  Akim Demaille  <akim@epita.fr>

	* src/misc/has.hh: Rename as...
	* src/misc/containers.hh: this.
	* src/misc/containers.hxx: New.
	* src/misc/Makefile.am: Adjust.
	* src/assem/fragments.cc (Delete): Remove, use deep_clear.
	* src/target/cpu.cc: Likewise.
	* src/graph/graph.hxx: Adjust to the renaming.
	* src/liveness/interference-graph.cc, src/task/task-register.cc,
	* src/tree/node.cc, src/regalloc/color.cc: Likewise.

2003-10-03  Akim Demaille  <akim@epita.fr>

	* src/assem/visitor.cc: New.
	* src/assem/fragment.cc, src/assem/fragment.hxx: Adjust.
	And formatting changes.

2003-10-03  Akim Demaille  <akim@epita.fr>

	Have a type assem::Fragments instead of std::list <Fragment *>,
	and use this class to deallocate the memory.

	* src/assem/fragments.hh: New.
	* src/assem/fragments.cc: New.
	* src/assem/Makefile.am: Adjust.

	* src/assem/fragment.hh (fragments_t): Remove.
	* src/assem/fragment.cc (asm_print): Remove.
	* src/assem/fragment.hxx: Adjust.
	* src/assem/libassem.hh (fragments.hh): Include.
	* src/assem/layout.hh: s/fragments_t/Fragments/.
	* src/assem/map-visitor.hh: Idem.
	* src/assem/visitor.hh: Likewise.
	* src/codegen/tasks.cc: Adjust.
	* src/codegen/tasks.hh: Similarly.
	* src/codegen/libcodegen.cc: Ditto.
	* src/codegen/libcodegen.hh: Reditto.
	* src/codegen/ia32/gas-layout.cc: Again.
	* src/codegen/ia32/gas-layout.hh: And again.
	* src/codegen/mips/spim-layout.cc: Etc.
	* src/codegen/mips/spim-layout.hh: Etc.
	* src/liveness/tasks.cc: Guess what.
	* src/regalloc/libregalloc.cc: Yeah, right.
	* src/regalloc/libregalloc.hh: Bla blah.
	* src/assem/map-visitor.hxx: Foo bar.
	* src/assem/layout.cc: Same as above.

2003-10-02  Akim Demaille  <akim@epita.fr>

	* src/target/cpu.cc (Delete): New.
	(~Cpu): Delete the argument, callee save, and caller save
	registers.
	Do not free special registers since some are statically allocated.
	* src/target/tasks.cc (target): Be an auto_ptr, so that we don't
	have to delete at the end of the program.
	(target_mips, target_ia32): Adjust.
	* src/target/tasks.hh: Adjust.
	* src/temp/temp.cc (~Temp): No need to "if" a delete.

2003-10-02  Akim Demaille  <akim@epita.fr>

	Handle memory leaks from the translation process: free the
	translate::Exps when used.

	* src/translate/exp.hh, src/translate/exp.cc, src/translate/exp.hxx
	(unCx, unEx, unNx): For the four classes (Nx, Cx, Ex, Ix), rename
	them as....
	(_unCx, _unEx, _unNx): this.
	(Exp::unCx, Exp::unEx, Exp::unNx): New, after calling the
	corresponding _unXX, calls delete to free the memory.
	(Cx::_unEx): No longer redirect to unCx, but to _unCx.
	* src/translate/translation.cc (translate): Introduce "indice" to
	store the result of a single unXx call on indice_exp.
	Do not use assignExp to translate the increment, since that would
	require to duplicate indice_exp, which is not possible.
	So to remain linear, inline the call to assignExp.

2003-10-02  Akim Demaille  <akim@epita.fr>

	* src/misc/ref.hh: Formatting changes.

2003-10-02  Akim Demaille  <akim@epita.fr>

	* src/misc/escape.cc (Escape::_escape): No longer use the locale
	to please Valgrind.

2003-10-01  Raphaël Poss  <raph@lrde.epita.fr>

	* Merge the following changes:

	2003-10-01  Raphaël Poss  <raph@lrde.epita.fr>

	* src/translate/translation.cc: Fix bug where reference to
	temporaries were stored in the heap.

	* src/canon/basic-block.cc: Fix bug where dynamic_cast was checked
	for correctness too early.

	2003-09-30  Raphaël Poss  <raph@lrde.epita.fr>

	* Synchronize with main project.

	2003-09-30  Raphaël Poss  <raph@lrde.epita.fr>

	* src/codegen/mips/test-rw_prg.cc: Attempt to fix.

	* src/codegen/mips/Makefile.am: Remove test-rw_prg temporarily
	since it does not compile any more.

	2003-09-30  Raphaël Poss  <raph@lrde.epita.fr>

	* src/codegen/libcodegen.cc, src/codegen/codegen.hh: Update for
	counted references.

	2003-09-30  Raphaël Poss  <raph@lrde.epita.fr>

	* src/codegen/ia32/codegen.cc, src/codegen/ia32/codegen.hh,
	* src/codegen/ia32/gas-layout.cc: Update for counted references.

	2003-09-30  Raphaël Poss  <raph@lrde.epita.fr>

	* src/canon/traces.cc, src/canon/canon.cc: Remove unneeded
	assertions, replace cast() by unsafe_cast() wherever needed.

	2003-09-30  Raphaël Poss  <raph@lrde.epita.fr>

	* src/tree/cjump.hxx, src/tree/jump.hxx, src/tree/eseq.hxx: Remove
	unneeded assertions.

	* src/misc/ref.hh, src/misc/ref.hxx: Add new unsafe_cast() method.
	* src/misc/test-ref.cc: Test it.

	2003-09-30  Raphaël Poss  <raph@lrde.epita.fr>

	* src/codegen/mips/codegen.cc: Remove DOWN_CAST again since it is
	now uneeded.

	2003-09-30  Raphaël Poss  <raph@lrde.epita.fr>

	* src/misc/ref.hxx: Make method cast() throw an exception on bad
	casts.

	* src/misc/ref.hh: Document accordingly.
	* src/misc/test-ref.cc: Update accordingly.

	2003-09-29  Raphaël Poss  <raph@lrde.epita.fr>

	* src/codegen/mips/codegen.cc, src/codegen/mips/codegen.hh,
	* src/codegen/mips/spim-layout.cc: Use counted references instead
	of pointers for tree::Nodes.

	2003-09-29  Raphaël Poss  <raph@lrde.epita.fr>

	* src/assem/fragment.cc, src/assem/fragment.hxx: Use counted
	references instead of pointers for tree::Nodes.

	2003-09-29  Raphaël Poss  <raph@lrde.epita.fr>

	* src/canon/basic-block.hh src/canon/tasks.cc, src/canon/canon.cc,
	* src/canon/traces.cc, src/canon/basic-block.hxx,
	* src/canon/basic-block.cc, src/canon/canon.hh, src/canon/traces.hh: Use
	counted references instead of pointers for tree::Nodes.

	2003-09-29  Raphaël Poss  <raph@lrde.epita.fr>

	* src/translate/access.hh, src/translate/exp.hh,
	* src/translate/fragment.hh src/translate/level.cc,
	* src/translate/level.hh src/translate/exp.hxx,
	* src/translate/access.hxx src/translate/exp.cc,
	* src/translate/translation.cc src/translate/fragment.hxx,
	* src/translate/fragment.cc src/translate/translate-visitor.cc: Use
	counted references instead of pointers for tree::Nodes.

	2003-09-29  Raphaël Poss  <raph@lrde.epita.fr>

	* src/frame/access.hh, src/frame/acces.cc, src/frame/frame.hh,
	* src/frame/frame.cc: Use counted references instead of pointers for
	tree::Nodes.

	2003-09-29  Raphaël Poss  <raph@lrde.epita.fr>

	* Merge the following changes:

		2003-09-03  Raphaël Poss  <raph@lrde.epita.fr>

	* src/tree/binop.hh, src/tree/call.hh, src/tree/cjump.hh,
	* src/tree/const.hh, src/tree/eseq.hh, src/tree/exp.hh,
	* src/tree/iterator.hh, src/tree/jump.hh, src/tree/mem.hh,
	* src/tree/move.hh, src/tree/name.hh, src/tree/node.hh,
	* src/tree/seq.hh, src/tree/stm.hh, src/tree/sxp.hh,
	* src/tree/node.cc, src/tree/node.hxx, src/tree/mem.hxx,
	* src/tree/iterator.hxx, src/tree/cjump.hxx, src/tree/binop.hxx,
	* src/tree/eseq.cc, src/tree/call.cc, src/tree/sxp.hxx,
	* src/tree/seq.hxx, src/tree/move.hxx, src/tree/jump.hxx,
	* src/tree/eseq.hxx: Use counted references instead of pointers for
	inter-node references.

	2003-09-29  Raphaël Poss  <raph@lrde.epita.fr>

	* src/misc/ref.hh, src/misc/ref.hxx: Add is_a(), operator bool()
	and swap() methods.
	* src/misc/test-ref.cc: Test them.

	* Merge the following changes:

		2003-09-03  Raphaël Poss  <raph@lrde.epita.fr>

	* src/misc/ref.hh, src/misc/ref.hxx: Add cast() method. Add
	missing copy constructor and assignment operators. Add missing
	difference operators. Fix operator-> ().

	* src/misc/test-ref.cc: Update accordingly.

		2003-09-03  Raphaël Poss  <raph@lrde.epita.fr>

	* src/misc/ref.hh, src/misc/ref.hxx: New class for counted
	references.

	* src/misc/test-ref.cc: Test code for counted references.

	* src/misc/Makefile.am: Mention the new files.

2003-09-26  Akim Demaille  <akim@epita.fr>

	* src/assem/layout.cc (Layout::visit): Do use the visitor to print
	the instructions...

2003-09-26  Akim Demaille  <akim@epita.fr>

	* src/target/ia32-cpu.hh (instance): Remove.
	(Ia32Cpu): Public.
	* src/target/mips-cpu.cc (MipsCpu::MipsCpu): Take callee_max, and
	caller_max as argument.
	Use them.
	* src/target/mips-cpu.hh: Adjust.
	(instance): Remove.
	* src/target/target.hh: Members are pointers, not references.
	(~Target): Delete them.
	Adjust accessors.
	* src/target/ia32-target.hh: Adjust.
	* src/target/mips-target.hh: Adjust.
	* src/target/tasks.cc: Use caller_save and callee_save.

2003-09-26  Akim Demaille  <akim@epita.fr>

	Support command line options with integers in a range.

	* src/task/tasks.cc: Include task-register.hh.
	* src/task/task.hh (check, argname_set, argname_get, _argname)
	(arg_set, arg_get, _arg): New.
	* src/task/task.hxx: Adjust.
	* src/task/task.cc: Adjust.
	* src/task/boolean-task.hh, src/task/boolean-task.hxx,
	* src/task/boolean-task.cc, src/task/function-task.hh,
	* src/task/function-task.cc: Add a check method that does nothing
	but agreeing.
	* src/task/task-register.cc, src/task/task-register.hh: Use
	argname and arg.
	* src/misc/ref.hxx: Comment changes.
	* src/task/int-task.hh: New.
	* src/task/int-task.hxx: New.
	* src/task/int-task.cc: New.
	* src/task/Makefile.am: Adjust.
	* src/task/libtask.hh: Don't include "task-register", useless.
	Include int-task.hh.
	(INT_TASK_DECLARE): New.
	* src/target/tasks.cc: No need to protect delete from 0.
	* src/target/tasks.hh: Add "--callee-save" and "--caller-save".

2003-09-25  Akim Demaille  <akim@epita.fr>

	* src/temp/temp.hh (temp_compare): Derives from binary_function.
	Rename as...
	(temp_ptr_less): this.
	* src/task/task-register.cc (lt_str): Likewise.
	Rename as...
	(char_ptr_less): this.
	* src/liveness/interference-graph.hh, src/temp/temp-set.hh
	* src/temp/tempmap.hh, src/temp/temp.hxx: Adjust.

2003-09-24  Akim Demaille  <akim@epita.fr>

	* src/misc/list.hh, src/misc/list.hxx (print_with_separator): New.
	* src/misc/Makefile.am: Adjust.
	* src/translate/fragment.cc, src/assem/layout.cc,
	* src/regalloc/color.cc: Use it.

2003-09-22  Akim Demaille  <akim@epita.fr>

	* src/translate/exp.hh: Comment changes.
	* src/translate/level-env.hh: Use consistently `hir_navei@, not
	`hir_uses_ix'.
	* src/translate/libtranslate.cc, src/translate/tasks.cc,
	* src/translate/translate-visitor.hh: Likewise.
	* src/translate/translate-visitor.cc: likewise.
	* src/translate/level-env.cc (BULITIN_PUT): New.
	Use it.

2003-09-22  Akim Demaille  <akim@epita.fr>

	* src/type/types.hh (Record::fields_t, Record::const_iterator):
	(Record::begin, Record::end): New.
	(Record::_fields): Be a list of Field, not a list of pointers.
	Adjust all dependencies.
	As a consequence, there are no memory leaks for Fields now (just
	for Records).
	* src/type/type-visitor.cc: Use them.
	* src/overload/overfun-type-visitor.cc (overload): Likewise.

2003-09-22  Akim Demaille  <akim@epita.fr>

	* src/task/task-register.cc (parse_arg): Don't new when not needed.
	* src/parse/scantiger.ll (yylex_destroy): New, if needed.
	(scan_close): Use it to delete the current Flex buffer.

2003-09-22  Akim Demaille  <akim@epita.fr>

	* src/temp/temp.hh, src/temp/temp.cc (~Temp): New.
	* src/temp/label.hh, src/temp/label.cc (~Label): New.
	* src/misc/timer.cc (~Timer): Delete the TimeVar we new'd.

2003-09-19  Akim Demaille  <akim@epita.fr>

	* src/task/task.hh, src/task/task.hxx, src/task/task.cc: Move the
	non Task definitions to the following files.
	* src/task/boolean-task.hh: New.
	* src/task/boolean-task.hxx: New.
	* src/task/boolean-task.cc: New.
	* src/task/function-task.hh: New.
	* src/task/function-task.hxx: New.
	* src/task/function-task.cc: New.
	* src/task/libtask.hh: New.
	* src/task/task_register.cc: Rename as...
	* src/task/task-register.cc: this.
	* src/task/task_register.hh: Rename as...
	* src/task/task-register.hh: this.
	* src/tc.cc, src/ast/tasks.hh, src/canon/tasks.hh,
	* src/codegen/tasks.hh, src/cppgen/tasks.hh, src/escapes/tasks.hh,
	* src/liveness/tasks.hh, src/overload/tasks.hh, src/parse/tasks.hh,
	* src/regalloc/tasks.hh, src/target/tasks.hh, src/task/Makefile.am,
	* src/task/tasks.hh, src/temp/tasks.hh, src/translate/tasks.hh,
	* src/type/tasks.hh: Adjust.

2003-09-19  Akim Demaille  <akim@epita.fr>

	* config/reheader: New, based on work from Vaucanson.
	* config/Makefile.am: Cleanup.

2003-09-19  Akim Demaille  <akim@epita.fr>

	Let foo/foo-tasks be simply foo/tasks.

	* src/ast/ast-tasks.cc: Rename as...
	* src/ast/tasks.cc: this.
	* src/ast/ast-tasks.hh: Rename as...
	* src/ast/tasks.hh: this.
	* src/canon/canon-tasks.cc: Rename as...
	* src/canon/tasks.cc: this.
	* src/canon/canon-tasks.hh: Rename as...
	* src/canon/tasks.hh: this.
	* src/codegen/codegen-tasks.cc: Rename as...
	* src/codegen/tasks.cc: this.
	* src/codegen/codegen-tasks.hh: Rename as...
	* src/codegen/tasks.hh: this.
	* src/cppgen/cppgen-tasks.cc: Rename as...
	* src/cppgen/tasks.cc: this.
	* src/cppgen/cppgen-tasks.hh: Rename as...
	* src/cppgen/tasks.hh: this.
	* src/escapes/escapes-tasks.cc: Rename as...
	* src/escapes/tasks.cc: this.
	* src/escapes/escapes-tasks.hh: Rename as...
	* src/escapes/tasks.hh: this.
	* src/liveness/liveness-tasks.cc: Rename as...
	* src/liveness/tasks.cc: this.
	* src/liveness/liveness-tasks.hh: Rename as...
	* src/liveness/tasks.hh: this.
	* src/overload/overload-tasks.cc: Rename as...
	* src/overload/tasks.cc: this.
	* src/overload/overload-tasks.hh: Rename as...
	* src/overload/tasks.hh: this.
	* src/parse/parse-tasks.cc: Rename as...
	* src/parse/tasks.cc: this.
	* src/parse/parse-tasks.hh: Rename as...
	* src/parse/tasks.hh: this.
	* src/regalloc/regalloc-tasks.cc: Rename as...
	* src/regalloc/tasks.cc: this.
	* src/regalloc/regalloc-tasks.hh: Rename as...
	* src/regalloc/tasks.hh: this.
	* src/target/target-tasks.cc: Rename as...
	* src/target/tasks.cc: this.
	* src/target/target-tasks.hh: Rename as...
	* src/target/tasks.hh: this.
	* src/task/task-tasks.cc: Rename as...
	* src/task/tasks.cc: this.
	* src/task/task-tasks.hh: Rename as...
	* src/task/tasks.hh: this.
	* src/temp/temp-tasks.cc: Rename as...
	* src/temp/tasks.cc: this.
	* src/temp/temp-tasks.hh: Rename as...
	* src/temp/tasks.hh: this.
	* src/translate/translate-tasks.cc: Rename as...
	* src/translate/tasks.cc: this.
	* src/translate/translate-tasks.hh: Rename as...
	* src/translate/tasks.hh: this.
	* src/type/type-tasks.cc: Rename as...
	* src/type/tasks.cc: this.
	* src/type/type-tasks.hh: Rename as...
	* src/type/tasks.hh: this.
	* configure.ac (src/modules.hh): Adjust.
	* src/ast/Makefile.am, src/canon/Makefile.am,
	* src/codegen/Makefile.am, src/cppgen/Makefile.am,
	* src/escapes/Makefile.am, src/liveness/Makefile.am,
	* src/overload/Makefile.am, src/parse/Makefile.am,
	* src/regalloc/Makefile.am, src/target/Makefile.am,
	* src/task/Makefile.am, src/temp/Makefile.am,
	* src/translate/Makefile.am, src/type/Makefile.am: Adjust.

2003-09-19  Akim Demaille  <akim@epita.fr>

	Implement BooleanTask that only sets a Boolean variable to true
	when called.  This simplifies places where we create a function
	just to this end.

	* src/task/task.cc, src/task/task.hh, src/task/task.hxx
	(BooleanTask, BOOLEAN_TASK_DECLARE): New.
	* src/canon/canon-tasks.cc, src/canon/canon-tasks.hh,
	* src/codegen/codegen-tasks.cc, src/codegen/codegen-tasks.hh,
	* src/escapes/escapes-tasks.cc, src/escapes/escapes-tasks.hh,
	* src/parse/parse-tasks.cc, src/parse/parse-tasks.hh,
	* src/regalloc/regalloc-tasks.cc, src/regalloc/regalloc-tasks.hh,
	* src/translate/translate-tasks.cc,
	* src/translate/translate-tasks.hh: Use them.
	* src/ast/libast.hh: Formatting changes.

2003-09-18  Akim Demaille  <akim@epita.fr>

	* src/doc.hh: Fix.

2003-09-16  Akim Demaille  <akim@epita.fr>

	* src/assem/libassem.cc: Remove.
	* src/assem/libassem.hh: Adjust.
	* src/assem/Makefile.am: Adjust.
	* src/assem/instr.cc (print): Move the print for instrs_t here.
	(operator<<): Use it.
	* src/assem/instr.hh: Adjust.
	* src/codegen/ia32/gas-layout.cc: Adjust to `print' swapping of
	arguments.
	* src/codegen/mips/spim-layout.cc: Likewise.
	* src/liveness/liveness.cc: Comment changes.
	* src/regalloc/color.hh: Likewise.
	* src/temp/temp-tasks.hh: Ditto.

2003-09-16  Akim Demaille  <akim@epita.fr>

	Purify the interface of temp: the global TempMap is now passed
	from hand to hand.

	* src/temp/libtemp.cc: Remove.
	* src/temp/libtemp.hh: Remove.
	* src/temp/temp-tasks.cc (tempmap): New.
	* src/temp/temp-tasks.hh: Adjust.
	* src/temp/temp.cc (Temp::_counter): Define it here.
	* src/temp/Makefile.am: Adjust.

	* src/assem/fragment.hh (Fragment::print): Provide a default value
	for the tempmap argument, for operator<<.
	* src/assem/fragment.hxx: Adjust.
	* src/assem/instr.hh (Instr::print): Likewise.
	* src/codegen/codegen-tasks.cc: Find the global tempmap in
	temp::tasks.
	* src/liveness/interference-graph.cc: The ctor wants a tempmap for
	the Liveness.
	* src/liveness/interference-graph.hh: Adjust.
	* src/liveness/liveness.cc: The ctor wants a tempmap argument.
	* src/liveness/liveness.hh: Adjust.
	* src/liveness/liveness-tasks.cc: Adjust.
	* src/regalloc/color.hh: The ctor wants a tempmap argument for the
	RegisterAllocator.
	* src/regalloc/color.cc: Adjust.
	* src/regalloc/regallocator.cc (operator ()): Take a tempmap as
	argument, to give to Color.
	* src/regalloc/regallocator.hh: Adjust.
	* src/regalloc/regalloc-tasks.cc (coalesce_enable_p): Rename as...
	(coalesce_disable_p): this.
	* src/translate/fragment.hh (print): Provide a default value
	for the tempmap argument, for operator<<.
	* src/translate/fragment.hxx: Adjust.
	* src/regalloc/libregalloc.cc (allocate_registers): Add a tempmap
	argument.
	* src/regalloc/libregalloc.hh: Adjust.

2003-09-15  Akim Demaille  <akim@epita.fr>

	Purify the interface of regalloc.

	* src/regalloc/libregalloc.hh (coalesce_enable_p)
	(regalloc_trace_p, trace_flowgraph_p): Remove.
	(allocate_registers): Take coalesce_enable_p and regalloc_trace_p
	as arguments.
	* src/regalloc/libregalloc.cc: Adjust.
	* src/regalloc/regalloc-tasks.cc (coalesce_enable_p)
	(regalloc_trace_p, trace_flowgraph_p): New.

2003-09-15  Akim Demaille  <akim@epita.fr>

	Purify the interface of canon.  To make this easier, the Canon and
	Traces class are created as wrappers around the canonicalization
	and construction of the traces processes.

	* src/canon/canon-tasks.cc (canon_trace_p, trace_trace_p): New.
	(canonicalize, make_traces): Adjust to calling the corresponding
	objects.
	* src/canon/canon.hh: New.
	* src/canon/canon.cc: Adjust to transform functions in methods.
	* src/canon/traces.hh: New.
	* src/canon/traces.cc: Adjust to transform functions in methods.
	* src/canon/libcanon.hh: Remove.
	* src/canon/Makefile.am: Adjust.

2003-09-15  Akim Demaille  <akim@epita.fr>

	Purify the interface of codegen.  I wish I could have gone
	further, but because we cannot forward declare a typedef, we still
	have to exhibit the definition of assem::fragments_t in the
	codegen tasks, hence we have to include assem/fragment.h.

	* src/codegen/libcodegen.cc (fragments): Remove.
	(lir_to_assem): Return the allocated result instead of assigning
	the result to one of the input arguments.
	* src/codegen/libcodegen.hh: Adjust.
	* src/codegen/assembly.hh: Remove the argument names to pacify the
	"not used" warnings.
	Of course work is still needed here.
	* src/codegen/codegen-tasks.cc (fragments): New.
	Adjust to lir_to_assem changes.
	Adjust to fragments being a pointer now.
	* src/codegen/codegen-tasks.hh: Adjust.
	* src/liveness/liveness-tasks.cc: Adjust to `fragments' being a
	pointer in codegen::tasks.
	* src/regalloc/regalloc-tasks.cc: Likewise.

2003-09-15  Akim Demaille  <akim@epita.fr>

	Kill the warnings about "function without return" when we end with
	die.

	* src/misc/contract.hh (ATTRIBUTION): New.
	Use it on __Terminate and __FailedCondition.

2003-09-14  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/overload/Makefile.am (INCLUDES): Include build directory.
	* src/translate/Makefile.am (INCLUDES): Likewise.
	* src/type/Makefile.am (INCLUDES): Likewise.

2003-09-14  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/canon/canon-tasks.cc: fragments_t is still in translate::.

2003-09-12  Akim Demaille  <akim@epita.fr>

	* src/canon/canon-tasks.cc, src/codegen/codegen-tasks.cc,
	* src/codegen/libcodegen.cc: translate::fragments are now in
	translate::tasks.

2003-09-12  Akim Demaille  <akim@epita.fr>

	Use `///' instead of `/// \brief'.

	* src/ast/default-visitor.hh, src/misc/timer.hh,
	* src/temp/libtemp.hh, src/translate/translate-tasks.cc,
	* src/translate/translate-tasks.hh: Comment changes.

2003-09-12  Akim Demaille  <akim@epita.fr>

	Purify the interface of translate/.

	* src/translate/libtranslate.cc,
	* src/translate/libtranslate.hh  (hir_use_ifexp_p, fragments):
	Move to...
	* src/translate/translate-tasks.cc: here.
	* src/translate/translate-visitor.hh,
	* src/translate/translate-visitor.cc (TranslateVisitor): Accept
	hir_use_ifexp_p as additional argument, for the new _hir_use_ix_p
	member.

2003-09-12  Akim Demaille  <akim@epita.fr>

	Purify the interface of escapes/.

	* src/escapes/libescapes.cc, src/escapes/libescapes.hh
	(escapes_sl_display_p, escapes_tags_display_p): Move to...
	* src/escapes/escapes-tasks.cc: here.

2003-09-12  Akim Demaille  <akim@epita.fr>

	Purify the interface of parse/.

	* src/parse/libparse.cc (filename, scan_trace_p, parse_trace_p):
	Remove.
	(parse): Takes scan_trace_p, parse_trace_p as arguments.
	* src/parse/libparse.hh: Adjust.
	* src/tc.cc, src/common.hh (filename): Move it here.
	* src/parse/parse-tasks.cc (scan_trace_p, parse_trace_p): New
	locals.
	Adjust calls to parse ().
	* src/parse/scantiger.ll (scan_open): Takes scan_trace_p as
	argument.

2003-09-12  Akim Demaille  <akim@epita.fr>

	Use `/// ...' instead of `/** ... */'.

	* src/ast/arrayexp.hh, src/ast/default-visitor.hh,
	* src/ast/seqexp.hh, src/ast/subscriptvar.hh,
	* src/codegen/codegen.hh, src/codegen/ia32/gas-assembly.hh,
	* src/codegen/mips/spim-assembly.hh, src/escapes/escapes-tasks.hh,
	* src/regalloc/color.hh: Comment changes.

2003-09-12  Akim Demaille  <akim@epita.fr>

	* src/ast/libast.cc, src/ast/libast.hh (the_program): Move to...
	* src/ast/ast-tasks.cc, src/ast/ast-tasks.hh: here.
	* src/ast/libast.hh (escapes_sl_display_p, escapes_tags_display_p)
	(escapes_sufficient_check_p, escapes_necessary_check_p): Remove.
	* src/escapes/escapes-tasks.cc: Reorder, comment.
	* src/escapes/escapes-tasks.hh: Likewise..
	* src/parse/parsetiger.yy (the_program): New.

	* src/misc/timer.cc (unistd.h): Include to provide sysconf.

	* src/overload/overload-tasks.cc, src/parse/parse-tasks.cc
	* src/parse/parsetiger.yy, src/translate/translate-tasks.cc
	* src/type/type-tasks.cc: Adjust.

2003-09-11  Akim Demaille  <akim@epita.fr>

	* src/misc/timer.cc (unistd.h): Include to provide sysconf.

2003-09-11  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.cc, src/type/type-env.cc: Remove trailing
	comments.

2003-09-11  Akim Demaille  <akim@epita.fr>

	Use `/// ...' instead of `/** ... */'.

	* src/common.hh, src/tc.cc, src/assem/instr.hh,
	* src/canon/canon.cc, src/canon/traces.cc,
	* src/escapes/escapes-check-visitor.hh, src/escapes/libescapes.cc,
	* src/liveness/interference-graph.hh, src/misc/set.hh,
	* src/regalloc/color.hh, src/regalloc/test-regalloc.cc,
	* src/task/task_register.hh, src/temp/label.hh,
	* src/temp/temp-set.hh, src/temp/temp.hh, src/temp/temps.hh,
	* src/translate/exp.hh:
	perl -pi -e 's,/\*\* ([^\\].*) \*/$,/// $1,g' **/*.{hh,hxx,cc}

	* src/escapes/parentgraph-creator.hh: Fix the Doxygen header.
	* src/frame/access.hxx: Likewise.
	* src/translate/translation.cc: Ditto.

2003-09-11  Akim Demaille  <akim@epita.fr>

	* configure.ac: Automake 1.7.7 is out!

	Use `/// ...' instead of `/** \brief ... */'.

	* src/common.hh, src/assem/fragment.hh, src/assem/layout.hh,
	* src/assem/map-visitor.hh, src/assem/visitor.hh,
	* src/ast/anydecs.hh, src/ast/arrayexp.hh, src/ast/arrayty.hh,
	* src/ast/assignexp.hh, src/ast/ast-tasks.hh, src/ast/ast.hh,
	* src/ast/breakexp.hh, src/ast/callexp.hh, src/ast/dec.hh,
	* src/ast/decs.hh, src/ast/default-visitor.hh, src/ast/exp.hh,
	* src/ast/field.hh, src/ast/fieldexp.hh, src/ast/fieldvar.hh,
	* src/ast/forexp.hh, src/ast/functiondec.hh, src/ast/ifexp.hh,
	* src/ast/intexp.hh, src/ast/letexp.hh, src/ast/libast.hh,
	* src/ast/namety.hh, src/ast/nilexp.hh, src/ast/opexp.hh,
	* src/ast/recordexp.hh, src/ast/recordty.hh, src/ast/seqexp.hh,
	* src/ast/simplevar.hh, src/ast/stringexp.hh,
	* src/ast/subscriptvar.hh, src/ast/ty.hh, src/ast/typedec.hh,
	* src/ast/var.hh, src/ast/vardec.hh, src/ast/visitor.hh,
	* src/ast/whileexp.hh, src/canon/traces.cc, src/codegen/assembly.hh,
	* src/codegen/codegen-tasks.hh, src/codegen/codegen.hh,
	* src/codegen/libcodegen.hh, src/codegen/ia32/codegen.cc,
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/gas-assembly.hh,
	* src/codegen/ia32/gas-layout.hh, src/codegen/mips/codegen.cc,
	* src/codegen/mips/codegen.hh, src/codegen/mips/spim-assembly.hh,
	* src/codegen/mips/spim-layout.hh, src/escapes/callgraph-creator.hh,
	* src/escapes/escapes-env.hh, src/escapes/escapes-tasks.hh,
	* src/escapes/escapes-visitor.hh, src/escapes/libescapes.hh,
	* src/escapes/parentgraph-creator.hh, src/frame/access.hh,
	* src/frame/frame.cc, src/frame/frame.hh,
	* src/liveness/interference-graph.hh,
	* src/liveness/liveness-tasks.hh,
	* src/overload/overfun-type-visitor.hh,
	* src/overload/overload-tasks.hh, src/parse/libparse.hh,
	* src/parse/parse-tasks.hh, src/parse/parse.hh,
	* src/regalloc/color.hh, src/regalloc/libregalloc.hh,
	* src/regalloc/regallocator.hh, src/symbol/symbol.hh,
	* src/target/cpu.hh, src/target/ia32-cpu.hh,
	* src/target/ia32-target.hh, src/target/mips-cpu.cc,
	* src/target/mips-cpu.hh, src/target/mips-target.hh,
	* src/target/target-tasks.hh, src/target/target.hh,
	* src/task/task-tasks.hh, src/task/task.cc, src/task/task.hh,
	* src/task/task_register.cc, src/task/task_register.hh,
	* src/type/type-entry.hh, src/type/type-env.hh,
	* src/type/type-tasks.hh, src/type/types.hh, src/type/types.cc:
	perl -pi -e 's,/\*\* \brief (.*) \*/$,/// $1,g'.

2003-09-10  Akim Demaille  <akim@epita.fr>

	* src/tc.cc, src/assem/fragment.cc, src/assem/fragment.hh,
	* src/assem/layout.hh, src/assem/libassem.cc, src/ast/arrayexp.hh,
	* src/ast/breakexp.hh, src/ast/callexp.hh, src/ast/field.hh,
	* src/ast/fieldexp.hh, src/ast/forexp.hh, src/ast/functiondec.hh,
	* src/ast/ifexp.hh, src/ast/letexp.hh, src/ast/recordty.hh,
	* src/ast/seqexp.hh, src/ast/subscriptvar.hh, src/ast/test-ast.cc,
	* src/ast/typedec.hh, src/ast/vardec.hh, src/ast/whileexp.hh,
	* src/ast/arrayexp.hxx, src/ast/anydecs.hxx, src/ast/callexp.cc,
	* src/ast/callexp.hxx, src/ast/print-visitor.cc,
	* src/ast/default-visitor.hxx, src/codegen/ia32/codegen.cc,
	* src/codegen/ia32/gas-assembly.cc,
	* src/codegen/ia32/gas-assembly.hh,
	* src/codegen/mips/spim-assembly.hh,
	* src/codegen/mips/spim-layout.cc, src/codegen/mips/test-rw_prg.cc,
	* src/cppgen/includes/arrayty.hh, src/cppgen/includes/binop.hh,
	* src/cppgen/includes/builtin.hh, src/cppgen/includes/control.hh,
	* src/cppgen/includes/env.hh, src/cppgen/includes/explist.hh,
	* src/cppgen/includes/function.hh, src/cppgen/includes/letinend.hh,
	* src/cppgen/includes/list.hh, src/cppgen/includes/lvalue.hh,
	* src/cppgen/includes/macro.hh, src/cppgen/includes/recordty.hh,
	* src/cppgen/includes/stack.hh, src/cppgen/includes/type.hh,
	* src/escapes/callgraph-creator.cc,
	* src/escapes/callgraph-creator.hh, src/escapes/escapes-env.hh,
	* src/escapes/escapes-tasks.cc, src/escapes/escapes-visitor.hh,
	* src/escapes/fundecgraph.hh, src/escapes/fundecgraph.hxx,
	* src/escapes/libescapes.cc, src/escapes/libescapes.hh,
	* src/escapes/parentgraph-creator.cc,
	* src/escapes/parentgraph-creator.hh, src/frame/frame.cc,
	* src/frame/frame.hh, src/graph/handler.hh, src/graph/iterator.hh,
	* src/graph/iterator.hxx, src/graph/test-graph.cc,
	* src/misc/contract.hh, src/misc/escape.hh, src/misc/timer.cc,
	* src/misc/timer.hh, src/misc/test-deref.cc, src/misc/escape.hxx,
	* src/misc/escape.cc, src/misc/test-escape.cc, src/misc/deref.cc,
	* src/misc/contract.cc, src/misc/deref.hxx,
	* src/regalloc/libregalloc.cc, src/symbol/symbol.hh,
	* src/symbol/symbol.hxx, src/symbol/table.hxx,
	* src/target/ia32-target.hh, src/target/mips-target.hh,
	* src/target/target-tasks.cc, src/target/target.hh,
	* src/task/task.cc, src/task/task.hh, src/task/task_register.cc,
	* src/task/task_register.hh, src/temp/tempmap.hh,
	* src/temp/tempmap.cc, src/translate/exp.hh, src/tree/binop.hh,
	* src/tree/eseq.hh, src/tree/exp.hh, src/tree/jump.hh,
	* src/tree/move.hh, src/tree/node.hh, src/tree/node.cc,
	* src/tree/mem.hxx, src/tree/iterator.hxx, src/tree/binop.hxx,
	* src/tree/sxp.hxx, src/tree/move.hxx, src/tree/jump.hxx,
	* src/tree/eseq.hxx, src/type/type-entry.hh,
	* src/type/type-visitor.hh, src/type/types.hh, src/type/types.cc,
	* src/type/types.hxx, src/type/type-env.cc, src/type/type-entry.hxx,
	* src/type/type-visitor.cc, src/escapes/escapes-visitor.cc,
	* src/escapes/escapes-env.hxx, src/frame/access.hxx,
	* src/translate/translation.cc, src/translate/fragment.cc,
	* src/translate/translate-visitor.cc, src/assem/fragment.hxx,
	* src/assem/layout.cc, src/misc/test-ref.cc, src/misc/ref.hxx,
	* src/misc/ref.hh, src/ast/arrayexp.hh: There is a space before
	parentheses for functions.
	* src/misc/timer.hh: Adjust Doxygen directive style.

2003-09-09  Raphaël Poss  <raph@lrde.epita.fr>

	* src/type/type-visitor.cc: Fix bug in printing the error message
	for invalid ArrayExp.

2003-09-09  Akim Demaille  <akim@epita.fr>

	* src/canon/canon-tasks.cc: Use dynamic_cast on reference where
	better than pointers.
	* src/canon/canon.cc: Likewise.
	* src/codegen/ia32/codegen.cc: Likewise.
	(DOWN_CAST): Remove.
	* src/codegen/mips/codegen.cc: Ditto.

2003-09-09  Akim Demaille  <akim@epita.fr>

	* tests/good/many-functions.tig: New.
	From Cédric Bail.

2003-09-05  Raphaël Poss  <raph@lrde.epita.fr>

	* src/misc/escape.hh, src/misc/escape.hxx, src/misc/escape.cc,
	* src/misc/deref.hh, src/misc/deref.hxx, src/misc/deref.cc:
	Beautify.

2003-09-05  Benoît Perrot  <benoit@lrde.epita.fr>

	* AUTHORS: Update.
	* src/escapes/escapes-visitor.hh, src/escapes/escapes-visitor.cc:
	Document and simplify escaping static link computation.

2003-09-05  Raphaël Poss  <raph@lrde.epita.fr>

	* AUTHORS: Update.

2003-09-05  Raphaël Poss  <raph@lrde.epita.fr>

	* src/ast/print-visitor.cc (ast): Use accept () more often for
	NameTy.

	* src/type/type-visitor.hh (type): Remove check_type_exists ().
	* src/type/type-visitor.cc: Update accordingly.

	* NEWS: Update.

2003-09-05  Raphaël Poss  <raph@lrde.epita.fr>

	* src/graph/graph.hxx (graph): Typo fix.
	* src/target/ia32-cpu.cc (target): Likewise.

2003-09-05  Raphaël Poss  <raph@lrde.epita.fr>

	* src/misc/contract.hh: Typo fix.
	* src/misc/contract.cc (__Terminate): Use the arguments.

2003-09-05  Raphaël Poss  <raph@lrde.epita.fr>

	* src/misc/contract.hh, src/misc/contract.cc: Add new macros die()
	and unreached().

	* src/assem/instr.cc src/codegen/assembly.hh,
	* src/codegen/ia32/codegen.cc, src/codegen/ia32/gas-assembly.cc,
	* src/codegen/mips/codegen.cc, src/codegen/mips/spim-assembly.cc,
	* src/cppgen/cppgen-visitor.hh, src/frame/Makefile.am,
	* src/graph/graph.hxx, src/temp/tempmap.cc, src/tree/seq.cc,
	* src/tree/eseq.cc, src/tree/call.cc, src/type/type-visitor.cc,
	* src/translate/exp.cc, src/translate/translation.cc,
	* src/translate/translate-visitor.cc, src/target/ia32-cpu.cc: Use
	them.

2003-09-04  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/frame/Makefile.am: Distribute access.hxx.

2003-09-04  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/overload/overfun-type-visitor.cc
	* src/overload/overfun-type-visitor.hxx:
	Populate new files.

2003-09-03  Raphaël Poss  <raph@lrde.epita.fr>

	* src/ast/arrayexp.hh, src/ast/arrayexp.hxx,
	* src/ast/print-visitor.cc, src/ast/default-visitor.hxx,
	* src/cppgen/cppgen-visitor.hh, src/parse/parsetiger.yy,
	* src/type/type-visitor.cc: Use NameTy instead of Symbol for naming
	base type of ArrayExp.

2003-09-03  Raphaël Poss  <raph@lrde.epita.fr>

	* TODO: Update according to last changes.

2003-09-03  Raphaël Poss  <raph@lrde.epita.fr>

	* src/cppgen/cppgen-visitor.hh: Simplify yet more as allowed by
	previous change.

2003-09-02  Raphaël Poss  <raph@lrde.epita.fr>

	* src/ast/arrayty.hh, src/ast/field.hh, src/ast/recordexp.hh,
	* src/ast/arrayty.hxx, src/ast/print-visitor.cc,
	* src/ast/default-visitor.hxx, src/cppgen/cppgen-visitor.hh,
	* src/parse/parsetiger.yy, src/type/type-visitor.hh,
	* src/type/type-visitor.cc: Use NameTy instead of Symbol for naming
	* types in RecordExp, ArrayTy and Field.

2003-09-02  Raphaël Poss  <raph@lrde.epita.fr>

	* src/translate/exp.hxx, src/translate/level.hxx: Fix preprocessor
	tags.

2003-09-02  Raphaël Poss  <raph@lrde.epita.fr>

	* src/cppgen/cppgen-visitor.hh, src/cppgen/includes/arrayty.hh,
	* src/cppgen/includes/binop.hh, src/cppgen/includes/builtin.hh,
	* src/cppgen/includes/control.hh, src/cppgen/includes/dec.hh,
	* src/cppgen/includes/env.hh, src/cppgen/includes/explist.hh,
	* src/cppgen/includes/function.hh, src/cppgen/includes/letinend.hh,
	* src/cppgen/includes/list.hh, src/cppgen/includes/lvalue.hh,
	* src/cppgen/includes/macro.hh, src/cppgen/includes/recordty.hh,
	* src/cppgen/includes/type.hh, src/escapes/escapes-env.hh,
	* src/graph/graph.hh, src/graph/graph.hxx, src/graph/handler.hh,
	* src/graph/handler.hxx, src/graph/iterator.hh,
	* src/graph/iterator.hxx, src/liveness/flowgraph.hh,
	* src/misc/has.hh, src/misc/set.hh,
	* src/overload/overfun-type-visitor.hh, src/symbol/table.hh: Unify
	template syntax.

2003-09-02  Raphaël Poss  <raph@lrde.epita.fr>

	* src/overload/overfun-type-visitor.hh: Move inline methods and
	template implementations to...
	* src/overload/overfun-type-visitor.hxx: ... this new file.

	* src/overload/overfun-type-visitor.hh: Move implementations to...
	* src/overload/overfun-type-visitor.cc: ... this new file.

	* src/overload/Makefile.am: Mention new files.

2003-09-02  Raphaël Poss  <raph@lrde.epita.fr>

	* src/target/cpu.hh: Move more implementations to ...
	* src/target/cpu.cc: ... this file.

	* src/target/mips-cpu.hh, src/target/mips-cpu.cc: Likewise.

	* src/target/ia32-cpu.hh, src/target/ia32-cpu.cc: Likewise.

	* src/target/Makefile.am: Mention new files.

2003-09-02  Raphaël Poss  <raph@lrde.epita.fr>

	* src/regalloc/regallocator.hh, src/regalloc/color.hh: Move
	implementations to...
	* src/regalloc/regallocator.cc, src/regalloc/color.cc: ... these
	new files.

	* src/regalloc/Makefile.am: Mention new files.

2003-09-02  Raphaël Poss  <raph@lrde.epita.fr>

	* src/liveness/flowgraph.hh: Move implementations to...
	* src/liveness/flowgraph.hxx: ... this new file.

	* src/liveness/Makefile.am: Mention new file.

2003-09-02  Raphaël Poss  <raph@lrde.epita.fr>

	* src/assem/visitor.hh: Move destructor to...
	* src/assem/fragment.cc: ... this file.

	* src/assem/oper.hh, src/assem/label.hh: Move implementations to...
	* src/assem/oper.cc, src/assem/label.cc: ... these new files.

	* src/assem/instr.hh: Move implementation of ~Instr to...
	* src/assem/instr.cc: ... this file.

	* src/assem/fragment.hh, src/assem/move.hh,
	* src/assem/map-visitor.hh, src/assem/layout.hh: Move inline
	methods to...

	* src/assem/fragment.hxx, src/assem/move.hxx,
	* src/assem/map-visitor.hxx, src/assem/layout.hxx: ... these new
	files.

	* src/assem/fragment.hh, src/assem/move.hh,
	* src/assem/map-visitor.hh, src/assem/layout.hh: Move
	implementations to...

	* src/assem/fragment.cc, src/assem/move.cc,
	* src/assem/map-visitor.cc, src/assem/layout.cc: ... these new
	files.

	* src/assem/Makefile.am: Mention new files.

2003-09-01  Raphaël Poss  <raph@lrde.epita.fr>

	* src/canon/basic-block.hh: Move inline methods to...
	* src/canon/basic-block.hxx: ... this new file.
	* src/canon/basic-block.hh: Move implementation to...
	* src/canon/basic-block.cc: ... this new file.

	* src/canon/Makefile.am: Mention new files.

2003-09-01  Raphaël Poss  <raph@lrde.epita.fr>

	* src/translate/access.hh, src/translate/exp.hh,
	* src/translate/fragment.hh, sec/level/level.hh,
	* src/level/level-env.hh: Move inline methods to...

	* src/translate/access.hxx, src/translate/exp.hxx,
	* src/translate/fragment.hxx, sec/level/level.hxx,
	* src/level/level-env.hxx: ... these new files.

	* src/translate/access.hh, src/translate/exp.hh,
	* src/translate/translation.hh, src/translate/fragment.hh,
	* src/translate/level.hh, src/translate/level-env.hh,
	* src/translate/translate-visitor.hh: Move implementations to...

	* src/translate/access.cc, src/translate/exp.cc,
	* src/translate/translation.cc, src/translate/fragment.cc,
	* src/translate/level.cc, src/translate/level-env.cc,
	* src/translate/translate-visitor.cc: ... these new files.

	* src/translate/Makefile.am: Mention new files.

2003-09-01  Raphaël Poss  <raph@lrde.epita.fr>

	* src/frame/access.hh: Move inline methods to...
	* src/frame/access.hxx: ... this new file.
	* src/frame/access.hh: Move more implementations to...
	* src/frame/access.cc: ... this file.

	* src/frame/Makefile.am: Mention new files.

2003-09-01  Raphaël Poss  <raph@lrde.epita.fr>

	* src/assem/fragment.cc, src/assem/fragment.hh,
	* src/assem/instr.cc, src/assem/instr.hh, src/assem/layout.hh,
	* src/assem/libassem.cc, src/assem/move.hh, src/ast/fieldvar.hh,
	* src/ast/functiondec.hh, src/ast/ifexp.hh, src/ast/letexp.hh,
	* src/ast/opexp.hh, src/ast/print-visitor.hh, src/ast/recordexp.hh,
	* src/ast/recordty.hh, src/ast/seqexp.hh, src/ast/callexp.hxx,
	* src/codegen/ia32/codegen.cc, src/codegen/mips/codegen.cc,
	* src/codegen/mips/test-rw_prg.cc, src/cppgen/cppgen-visitor.hh,
	* src/frame/frame.cc, src/graph/graph.hxx,
	* src/liveness/interference-graph.cc, src/liveness/liveness.cc,
	* src/overload/overfun-type-visitor.hh, src/parse/parse-tasks.cc,
	* src/regalloc/libregalloc.cc, src/translate/level-env.hh: Replace
	'assert' by 'assertion', 'precondition' and 'invariant' where
	appropriate. Add missing include "misc/contract.hh" when needed.

2003-09-01  Raphaël Poss  <raph@lrde.epita.fr>

	* src/assem/fragment.hh,
	* src/cppgen/cppgen-visitor.hh,
	* src/overload/overfun-type-visitor.hh,
	* src/translate/exp.hh,
	* src/translate/translate-visitor.hh,
	* src/translate/translation.hh: Fix namespaces.

2003-09-01  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/ia32/gas-layout.cc: Use correct x86 directive for
	null-terminated ascii strings.

2003-09-01  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/liveness/interference-graph.hh:
	Be sure to compare the content of temporaries, not their addresses.

2003-09-01  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/frame/frame.cc, src/frame/frame.hh,
	* src/translate/level.hh:
	Do not use static links when they are not needed.

2003-09-01  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/tc-check.in: Test escaping static link computation.

2003-09-01  Raphaël Poss  <raph@lrde.epita.fr>

	* src/liveness/flowgraph.hh,
	* src/liveness/interference-graph.cc,
	* src/liveness/liveness.cc,
	* src/regalloc/color.hh,
	* src/regalloc/libregalloc.cc: More detailed task names.

	* src/misc/timer.hh, src/misc/timer.hxx,
	* src/misc/timer.cc: Compute and use _clocks_per_sec. Compute
	cumulated times. Dump cumulated times.

2003-09-01  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/escapes/escapes-visitor.hh, src/escapes/escapes-visitor.cc,
	* src/escapes/libescapes.hh, src/escapes/libescapes.cc:
	Implement static link escaping.
	* src/escapes/escapes-tasks.hh, src/escapes/escapes-tasks.cc:
	Declare and define escapes-sl-compute and escapes-sl-display tasks.

2003-09-01  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/escapes/parentgraph-creator.hh,
	* src/escapes/parentgraph-creator.cc:
	Add ParentGraph creator.
	* src/escapes/libescapes.hh, src/escapes/libescapes.cc:
	Grant access to ParentGraph creation.
	* src/escapes/escapes-tasks.hh, src/escapes/escapes-tasks.cc:
	Declare and define parentgraph-build and parentgraph-dump tasks.
	* src/escapes/Makefile.am:
	Distribute new files.

2003-09-01  Raphaël Poss  <raph@lrde.epita.fr>

	* src/escapes/fundecgraph.hxx: Typo fix.

2003-09-01  Raphaël Poss  <raph@lrde.epita.fr>

	* src/escapes/fundecgraph.hh: Add missing include.

2003-09-01  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/escapes/callgraph-creator.hh: Do not include .hxx.

2003-09-01  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/ast/functiondec.hh: Add a print operator.
	* src/escapes/callgraph.hh: Move to...
	* src/escapes/fundecgraph.hh: ... this new file.
	* src/escapes/fundecgraph.hxx: Define inline methods of FundecGraph.
	* src/escapes/callgraph-builder.cc: Move to...
	* src/escapes/callgraph-creator.cc, ... this new file.
	* src/escapes/callgraph-builder.hh: Move to...
	* src/escapes/callgraph-creator.hh, ... this new file.
	* src/escapes/callgraph-builder.hxx: Remove.
	* src/escapes/Makefile.am: Propagate files renaming.
	* src/escapes/libescapes.cc, src/escapes/libescapes.hh,
	* src/escapes/escapes-tasks.cc:
	Re-declare callgraph-dump and callgraph-build tasks.

2003-09-01  Raphaël Poss  <raph@lrde.epita.fr>

	* src/overload/overfun-type-visitor.hh: Add missing "ast::".

	* src/type/type-visitor.hh: Move implementations to...
	* src/type/type-visitor.cc: ... this new file.

	* src/type/type-entry.hh: Move inline methods to...
	* src/type/type-entry.hxx: ... this new file.
	* src/type/type-entry.hh: Move implementations to...
	* src/type/type-entry.cc: ... this new file.

	* src/type/Makefile.am: Mention new files.

2003-09-01  Raphaël Poss  <raph@lrde.epita.fr>

	* src/type/types.hh: Move inline methods to...
	* src/type/types.hxx: ... this new file.
	* src/type/types.hh: Move implementations to...
	* src/type/types.cc: ... this new file.

	* src/type/Makefile.am: Mention new files.

2003-09-01  Raphaël Poss  <raph@lrde.epita.fr>

	* src/doc.hh, src/ast/anydecs.hxx, src/tree/node.hxx,
	* src/tree/name.hxx, src/tree/cjump.hxx: Preprocessor tags tweaks.

2003-09-01  Raphaël Poss  <raph@lrde.epita.fr>

	* src/ast/vardec.hh: Replace 'assert' by 'precondition'. Add
	missing include of 'misc/contract.hh'.

	* src/escapes/callgraph-builder.hh,
	* src/escapes/escapes-env.hh: Move inline methods to...
	* src/escapes/callgraph-builder.hxx,
	* src/escapes/escapes-env.hxx: ... these new files.

	* src/escapes/escapes-env.hh,
	* src/escapes/callgraph-builder.hh,
	* src/escapes/escapes-visitor.hh,
	* src/escapes/escapes-check-visitor.hh: Move implementation to...
	* src/escapes/escapes-env.cc,
	* src/escapes/callgraph-builder.cc,
	* src/escapes/escapes-visitor.cc,
	* src/escapes/escapes-check-visitor.cc: ... these new files.

	* src/escapes/Makefile.am: Mention new files.

2003-08-31  Raphaël Poss  <raph@lrde.epita.fr>

	* src/ast/default-visitor.hh,
	* src/ast/visitor.hh: Typo rearrangements.

	* src/ast/default-visitor.hh: Move implementation to...
	* src/ast/default-visitor.hxx: ... this new file.

	* src/ast/print-visitor.hh: Move implementation to...
	* src/ast/print-visitor.cc: ... this new file.

	* src/ast/Makefile.am: Mention new files.

2003-08-31  Raphaël Poss  <raph@lrde.epita.fr>

	* src/canon/basic-block.hh, src/canon/canon.cc,
	* src/canon/traces.cc, src/tree/call.hh, src/tree/cjump.hh,
	* src/tree/eseq.hh, src/tree/iterator.hh, src/tree/jump.hh,
	* src/tree/node.hh, src/tree/seq.hh: Replace 'assert' by 'assertion'
	and 'precondition'.

	* src/tree/node.hh, src/tree/cjump.hh, src/tree/label.hh,
	* src/tree/name.hh, src/tree/binop.hh, src/tree/const.hh,
	* src/tree/mem.hh, src/tree/sxp.hh, src/tree/eseq.hh,
	* src/tree/jump.hh, src/tree/move.hh, src/tree/seq.hh,
	* src/tree/temp.hh, src/tree/iterator.hh: Move inline methods to...

	* src/tree/node.hxx, src/tree/cjump.hxx, src/tree/label.hxx,
	* src/tree/name.hxx, src/tree/binop.hxx, src/tree/const.hxx,
	* src/tree/mem.hxx, src/tree/sxp.hxx, src/tree/eseq.hxx,
	* src/tree/jump.hxx, src/tree/move.hxx, src/tree/seq.hxx,
	* src/tree/temp.hxx, src/tree/iterator.hxx: ... these new files.

	* src/tree/node.hh, src/tree/cjump.hh, src/tree/label.hh,
	* src/tree/name.hh, src/tree/binop.hh, src/tree/const.hh,
	* src/tree/mem.hh, src/tree/sxp.hh, src/tree/eseq.hh,
	* src/tree/jump.hh, src/tree/move.hh, src/tree/seq.hh,
	* src/tree/temp.hh, src/tree/call.hh: Move implementations to...

	* src/tree/node.cc, src/tree/cjump.cc, src/tree/label.cc,
	* src/tree/name.cc, src/tree/binop.cc, src/tree/const.cc,
	* src/tree/mem.cc, src/tree/sxp.cc, src/tree/eseq.cc,
	* src/tree/jump.cc, src/tree/move.cc, src/tree/seq.cc,
	* src/tree/temp.cc, src/tree/call.cc: ... these new files.

	* src/tree/expstm.cc: New.

	* src/tree/Makefile.am: Create new target 'libtree.a'. Mention new
	files.

	* src/Makefile.am (tc_LDADD),
	* src/codegen/mips/Makefile.am (test_rw_prg_LDADD): Mention
	missing dependency to tree/libtree.a.

2003-08-26  Raphaël Poss  <raph@lrde.epita.fr>

	* src/Makefile.am: Re-order libraries.
	* src/ast/callexp.cc,
	* src/ast/breakexp.cc,
	* src/ast/ast.cc,
	* src/ast/assignexp.cc,
	* src/ast/arrayty.cc,
	* src/ast/arrayexp.cc,
	* src/ast/callexp.hxx: Actually add the files.

2003-08-26  Raphaël Poss  <raph@lrde.epita.fr>

	* src/ast/callexp.hh: Move inline methods to...
	* src/ast/callexp.hxx: ... this new file.
	* src/ast/callexp.hh: Move static implementations to...
	* src/ast/callexp.cc: ... this new file.

	* src/ast/breakexp.hh: Move static implementations to...
	* src/ast/breakexp.cc: ... this new file.

	* src/ast/assignexp.hh: Replace 'assertion' by 'precondition'.

	* src/ast/assignexp.hh: Move inline methods to...
	* src/ast/assignexp.hxx: ... this new file.
	* src/ast/assignexp.hh: Move static implementations to...
	* src/ast/assignexp.cc: ... this new file.

	* src/ast/Makefile.am: Mention new files.

2003-08-26  Raphaël Poss  <raph@lrde.epita.fr>

	* src/ast/ast.hh: Move inline methods to...
	* src/ast/ast.hxx: ... this new file.
	* src/ast/ast.hh: Move static implementations to...
	* src/ast/ast.cc: ... this new file.

	* src/ast/decs.hh: Move inline methods to...
	* src/ast/decs.hxx: ... this new file.

	* src/ast/anydecs.hh: Move implementation to...
	* src/ast/anydecs.hxx: ... this new file.

	* src/ast/arrayexp.hh: Move inline methods to...
	* src/ast/arrayexp.hxx: ... this new file.
	* src/ast/arrayexp.hh: Move static implementations to...
	* src/ast/arrayexp.cc: ... this new file.

	* src/ast/arrayty.hh: Move inline methods to...
	* src/ast/arrayty.hxx: ... this new file.
	* src/ast/arrayty.hh: Move static implementations to...
	* src/ast/arrayty.cc: ... this new file.

	* src/ast/Makefile.am: Mention new files.

2003-08-26  Raphaël Poss  <raph@lrde.epita.fr>

	* reheader.pl: Add.

	* src/common.hh, src/doc.hh, src/assem/instr.hh, src/assem/label.hh,
	* src/assem/move.hh, src/assem/oper.hh, src/ast/alldec.hh,
	* src/ast/allexp.hh, src/ast/allty.hh, src/ast/ast-tasks.hh,
	* src/ast/default-visitor.hh, src/ast/intexp.hh, src/ast/libast.hh,
	* src/ast/location.hh, src/ast/position.hh,
	* src/canon/basic-block.hh, src/canon/canon-tasks.hh,
	* src/canon/libcanon.hh, src/codegen/codegen-tasks.hh,
	* src/cppgen/cppgen-tasks.hh, src/cppgen/cppgen-visitor.hh,
	* src/cppgen/libcppgen.hh, src/cppgen/includes/arrayty.hh,
	* src/cppgen/includes/binop.hh, src/cppgen/includes/builtin.hh,
	* src/cppgen/includes/common.hh, src/cppgen/includes/control.hh,
	* src/cppgen/includes/cppgen_all.hh, src/cppgen/includes/dec.hh,
	* src/cppgen/includes/env.hh, src/cppgen/includes/explist.hh,
	* src/cppgen/includes/function.hh, src/cppgen/includes/letinend.hh,
	* src/cppgen/includes/list.hh, src/cppgen/includes/lvalue.hh,
	* src/cppgen/includes/macro.hh, src/cppgen/includes/recordty.hh,
	* src/cppgen/includes/stack.hh, src/cppgen/includes/type.hh,
	* src/escapes/callgraph-builder.hh, src/escapes/escapes-env.hh,
	* src/escapes/escapes-tasks.hh, src/escapes/escapes-visitor.hh,
	* src/escapes/libescapes.hh, src/frame/access.hh,
	* src/graph/graph.hh, src/graph/graph.hxx,
	* src/liveness/liveness-tasks.hh, src/misc/contract.hh,
	* src/misc/escape.hh, src/misc/set.hh, src/misc/timer.hh,
	* src/overload/overload-tasks.hh, src/parse/libparse.hh,
	* src/parse/parse-tasks.hh, src/parse/parse.hh,
	* src/regalloc/libregalloc.hh, src/regalloc/regalloc-tasks.hh,
	* src/symbol/table.hh, src/target/target-tasks.hh,
	* src/task/task-tasks.hh, src/task/task.hh,
	* src/task/task_register.hh, src/temp/label.hh, src/temp/libtemp.hh,
	* src/temp/temp-tasks.hh, src/temp/tempmap.hh,
	* src/translate/access.hh, src/translate/exp.hh,
	* src/translate/fragment.hh, src/translate/level-entry.hh,
	* src/translate/level-env.hh, src/translate/level.hh,
	* src/translate/translate-visitor.hh, src/translate/translation.hh,
	* src/tree/all.hh, src/tree/binop.hh, src/tree/call.hh,
	* src/tree/cjump.hh, src/tree/const.hh, src/tree/eseq.hh,
	* src/tree/exp.hh, src/tree/iterator.hh, src/tree/jump.hh,
	* src/tree/label.hh, src/tree/mem.hh, src/tree/move.hh,
	* src/tree/name.hh, src/tree/node.hh, src/tree/seq.hh,
	* src/tree/stm.hh, src/tree/sxp.hh, src/tree/temp.hh,
	* src/type/type-env.hh, src/type/type-tasks.hh, src/type/types.hh,
	* src/temp/tempmap.hxx, src/misc/timer.hxx, src/symbol/table.hxx,
	* src/task/task.hxx: Cleanup preprocessor tags.

2003-08-26  Raphaël Poss  <raph@lrde.epita.fr>

	* src/task/task-tasks.cc: Typo fix.

	* src/task/task_register.hh: Move private constructor
	implementation to...
	* src/task/task_register.cc: ... this file.

	* src/task/task.hh: Move inline methods to...
	* src/task/task.hxx: ... this new file.
	* src/task/task.hh: Move static code to...
	* src/task/task.cc: ... this file.

	* src/task/Makefile.am: Mention task.hxx.


2003-08-26  Raphaël Poss  <raph@lrde.epita.fr>

	* src/ast/print-visitor.hh,
	* src/cppgen/cppgen-visitor.hh,
	* src/misc/deref.hh,
	* src/misc/escape.hh,
	* src/misc/timer.hh,
	* src/symbol/symbol.hh,
	* src/symbol/table.hh,
	* src/task/task-tasks.hh,
	* src/temp/label.hh,
	* src/temp/libtemp.hh,
	* src/temp/temp-set.hh,
	* src/temp/temp-tasks.hh,
	* src/temp/temp.hh,
	* src/temp/tempmap.hh,
	* src/temp/temps.hh,
	* src/translate/fragment.hh,
	* src/graph/graph.hxx,
	* src/misc/deref.hxx,
	* src/misc/escape.hxx,
	* src/misc/timer.hxx,
	* src/symbol/symbol.hxx,
	* src/symbol/table.hxx,
	* src/temp/temp.hxx,
	* src/temp/tempmap.hxx: Revert to legacy include policy.

2003-08-26  Akim Demaille  <akim@epita.fr>

	* src/assem/fragment.cc, src/ast/print-visitor.hh,
	* src/codegen/ia32/gas-layout.cc, src/codegen/mips/spim-layout.cc,
	* src/codegen/mips/test-rw_prg.cc, src/cppgen/cppgen-visitor.hh,
	* src/graph/graph.hxx, src/misc/deref.hh, src/misc/escape.hh,
	* src/misc/timer.cc, src/misc/timer.hh, src/parse/scantiger.ll,
	* src/symbol/symbol.hh, src/symbol/symbol.hxx, src/symbol/table.hh,
	* src/symbol/test-symbol.cc, src/task/task-tasks.cc,
	* src/task/task-tasks.hh, src/temp/label.cc, src/temp/label.hh,
	* src/temp/libtemp.cc, src/temp/libtemp.hh, src/temp/temp-set.hh,
	* src/temp/temp-tasks.cc, src/temp/temp-tasks.hh, src/temp/temp.hh,
	* src/temp/tempmap.hh, src/temp/temps.cc, src/temp/temps.hh,
	* src/temp/test-temp.cc, src/translate/fragment.hh,
	* src/type/test-type.cc, src/misc/test-timer.cc,
	* src/misc/test-deref.cc, src/misc/escape.hxx, src/misc/escape.cc,
	* src/misc/test-escape.cc, src/temp/temp.cc, src/temp/temp.hxx,
	* src/temp/tempmap.cc, src/temp/tempmap.hxx, src/temp/temp-set.cc,
	* src/misc/deref.cc, src/misc/contract.cc, src/misc/timer.hxx,
	* src/misc/deref.hxx, src/symbol/table.hxx:
	sed -i -e '/^#.*include.*\//s/[<>]/"/g' **/*.{cc,hh,hxx,yy,ll}.

2003-08-26  Akim Demaille  <akim@epita.fr>

	Merge the following clean up changes from Raphaël Poss.

2003-08-26  Raphaël Poss  <raph@lrde.epita.fr>

	* src/symbol/table.hxx: Actually add file.

	2003-08-25  Raphaël Poss  <raph@lrde.epita.fr>

	* src/frame/frame.hh: Fix bug involving erroneous "inline"
	specification.

	* src/task/task-tasks.cc: Change include policy.
	* src/task/task-tasks.hh: Likewise.

	2003-08-25  Raphaël Poss  <raph@lrde.epita.fr>

	* src/Makefile.am (SUBDIRS): Reorder.

	* src/ast/Makefile.am: Fix library paths.
	* src/type/Makefile.am, src/graph/Makefile.am,
	* src/codegen/mips/Makefile.am: Likewise.

	* src/codegen/ia32/gas-layout.cc: Typo fix.
	* src/assem/instr.hh: Add missing include.

	2003-08-25  Raphaël Poss  <raph@lrde.epita.fr>

	* src/temp/test-temp.cc, src/temp/tempmap.hh, src/temp/temps.hh,
	* src/temp/temps.cc, src/temp/temp.hh, src/temp/temp-tasks.hh,
	* src/temp/temp-tasks.cc, src/temp/temp-set.hh, src/temp/libtemp.cc,
	* src/temp/libtemp.hh, src/temp/label.hh, src/temp/label.cc: Change
	include policy.

	* src/temp/temp.hh: Move inline methods to...
	* src/temp/temp.hxx: ... this new file.
	* src/temp/temp.hh: Move static implementation to...
	* src/temp/temp.cc: ... this new file.

	* src/temp/tempmap.hh: Move inline methods to...
	* src/temp/tempmap.hxx: ... this new file.
	* src/temp/tempmap.hh: Move static implementation to...
	* src/temp/tempmap.cc: ... this new file.

	* src/temp/temp-set.hh: Move static implementation to...
	* src/temp/temp-set.cc: ... this new file.

	* src/temp/Makefile.am: Mention temp-set.cc, tempmap.cc,
	tempmap.hxx, temp.cc and temp.hxx.

	* src/misc/contract.cc: Actually create the file.
	* src/misc/timer.hxx: Likewise.
	* src/misc/deref.hxx: Likewise.

	2003-08-25  Raphaël Poss  <raph@lrde.epita.fr>

	* src/translate/fragment.hh, src/parse/scantiger.ll,
	* src/cppgen/cppgen-visitor.hh, src/codegen/mips/spim-layout.cc,
	* src/ast/print-visitor.hh, src/codegen/ia32/gas-layout.cc,
	* src/assem/fragment.cc: Update for new "escape" mechanism.

	* src/codegen/ia32/gas-layout.cc (codegen): Fix potential bug due
	to faulty ".asciiz" spelling.

	2003-08-25  Raphaël Poss  <raph@lrde.epita.fr>

	* src/misc/deref.hh, src/misc/deref.hxx: Add 'const' where appropriate.

	* src/misc/escape.hh: Change the escape system to resemble
	"Deref".

	* src/misc/escape.hh: Move inline methods to...
	* src/misc/escape.hxx: ... this new file.
	* src/misc/escape.hh: Move static code to...
	* src/misc/escape.cc: ... this new file.
	* src/misc/test-escape.cc: Add.
	* src/misc/Makefile.am: Mention test-escape.cc, escape.cc and
	escape.hxx.

	* src/misc/deref.hh, src/misc/deref.hxx, src/misc/escape.hh,
	* src/misc/escape.hxx: Replace 'class' by 'typename'.

	2003-08-25  Raphaël Poss  <raph@lrde.epita.fr>

	* src/codegen/mips/test-rw_prg.cc: "deref" update.
	* src/graph/graph.hxx: Likewise.

	2003-08-25  Raphaël Poss  <raph@lrde.epita.fr>

	* src/misc/deref.hh: Remove ugly global 'deref' macro. Replace
	'assertion' calls by 'precondition'.

	* src/misc/deref.hh: Move inline methods to...
	* src/misc/deref.hxx: ... this new file.
	* src/misc/deref.hh: Move static code to...
	* src/misc/deref.cc: ... this new file.
	* src/misc/test-deref.cc: Add.
	* src/misc/Makefile.am: Mention test-deref.c, deref.cc and
	deref.hxx.

	* src/misc/set.hh: Replace 'class' by 'typename'. Move operators
	to the appropriate namespace since Koenig lookup now works.

	2003-08-25  Raphaël Poss  <raph@lrde.epita.fr>

	* src/misc/timer.hh: Move inline methods to...
	* src/misc/timer.hxx: ... this new file.

	* src/misc/timer.cc: Move test code to...
	* src/misc/test-timer.cc: ... this new file.

	* src/misc/Makefile.am: Mention test-timer.cc and timer.hxx.

	* src/misc/timer.hh, src/misc/timer.hxx, src/misc/timer.cc: Change
	include policy.

	* src/misc/timer.cc, src/misc/timer.hxx: Replace assert() calls by
	precondition().

	2003-08-25  Raphaël Poss  <raph@lrde.epita.fr>

	* src/symbol/symbol.hh,
	src/symbol/symbol.hxx: Simplify unicity mechanism.

	* src/symbol/table.hh: Move implementations to...
	* src/symbol/table.hxx: ... this new file.

	* src/symbol/symbol.hh: Change include policy.
	* src/symbol/symbol.hxx, src/symbol/table.hh,
	* src/symbol/table.hxx, src/misc/contract.hh: Likewise.

	* src/misc/contract.cc: Add.
	* src/misc/Makefile.am (libmisc_a_SOURCES): Mention contract.cc.
	* src/misc/Makefile.am: Add INCLUDES.

2003-08-22  Akim Demaille  <akim@epita.fr>

	* src/canon/traces.cc, src/canon/canon.cc: Documentation changes.

2003-08-22  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/escapes/callgraph.hh, src/escapes/callgraph-builder.hh:
	New.
	* src/escapes/escapes-env.hh: New.
	* src/escapes/Makefile.am: Distribute them.
	* src/escapes/escapes-tasks.cc, src/escapes/escapes-tasks.hh,
	* src/escapes/escapes-visitor.hh,
	* src/escapes/libescapes.cc, src/escapes/libescapes.hh:
	Add callgraph build and dump tasks.

2003-08-20  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/codegen.cc: Recognize "move (temp, const)" to
	use li directly.  This save a lot of useless work in our compiler
	that used to introduce a temp for the li, and them a move for the
	real destination.  Needless moves, needless coalescing etc. etc.
	Remove the $zero dedicated code, it seems useless, and
	adds complexity to the code that _needs_ to depend on _cpu to be a
	MipsCpu (to get $zero)...
	(munchBinop): Handle right being a literal.
	(munchCjump): New.
	* src/codegen/assembly.hh (cjump_build): New for (Reg, Int) arguments.
	* src/codegen/mips/codegen.hh: Adjust.
	* src/codegen/mips/spim-assembly.cc (binop_inst, cjump_inst): New.
	Adjust to support literal for binops and cjumps.
	* src/codegen/mips/spim-assembly.hh: Adjust.

2003-08-14  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/color.hh: Do not coalesce when coalesce_p is false.

2003-08-14  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/tiger-runtime.c,
	* src/codegen/mips/runtime.s:
	Normalize runtime error messages.

2003-08-14  Akim Demaille  <akim@epita.fr>

	* tests/configure.ac: Require Havm 0.20.

2003-08-14  Akim Demaille  <akim@epita.fr>

	* tests/mk-Makefile-am: Ship the sta files.
	* tests/good/chr-256.tig, tests/good/chr-minus-1.tig,
	* tests/good/exit-51.tig: New.

2003-08-14  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&check): New, eved from...
	(&try_files): here.
	(&env): Simplify invocations.
	(cc, cxx): Log them, and spread their use.

2003-08-14  Akim Demaille  <akim@epita.fr>

	2005-tc-9.2.
	Version 0.61.

	* tests/configure.ac: Require Havm 0.19 and Mipsy 0.4.
	* src/codegen/tiger-runtime.c: Express expectations, not
	invalid situations.
	* src/codegen/ia32/codegen.cc: Adjust student marks.

2003-08-14  Akim Demaille  <akim@epita.fr>

	Be sure that distcheck runs the test suite!

	* configure.ac: Add the missing $srcdir to AUTHORS and tests/.

2003-08-14  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&stages_extract): Don't use $stage before
	checking that it is defined.

2003-08-14  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&log_version): New.
	Factor the checking of tc, mipsy, and havm.

2003-08-14  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&stages_extract): Run as many tests as
	possible.
	(&grade_output): Use "defined" when checking whether $stage is
	defined.

2003-08-13  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/mk-Makefile.am: Log exit codes in .sta files.
	* tests/escapes/Makefile.am, tests/good/Makefile.am,
	* tests/overload/Makefile.am:
	Propagate it.
	* tests/tc-check.in: Compare expected and obtained exit codes.

2003-08-13  Akim Demaille  <akim@epita.fr>

	* src/codegen/tiger-runtime.c (EXIT_RUNTIME_FAILURE): New.
	(concat, substring): Use it.
	(substring): n must be positive.
	* src/codegen/mips/runtime.s: Likewise.

2003-08-13  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/good/substring-copy-all.tig,
	* tests/good/substring-copy-nothing.tig,
	* tests/good/substring-too-high-sum.tig,
	* tests/good/substring-too-low-first.tig,
	* tests/good/substring-too-low-length.tig:
	New.

2003-08-12  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in: Formatting changes.

2003-08-12  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in: More changes to get correct summary including
	when using stages numbered 100+.
	(&cppgen_check_one, &ia32_check_one): Use return, not next, to
	exit a routine.
	Normalize error messages.

2003-08-12  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&stage_test): Properly label the additional
	tests with a stage number.
	Using $me in `die's.
	(&grade_output): Be more robust by accepting wider forms of stage
	names.

2003-08-12  Akim Demaille  <akim@epita.fr>

	* src/cppgen/cppgen-visitor.hh: Formatting changes.
	Use 0, not NULL.

2003-08-12  Akim Demaille  <akim@epita.fr>

	* Makefile.am (studir): Move the default removed modules from here
	to...
	(2005): here, so that install-doc documents cppgen, ia32 etc.

2003-08-05  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/ia32/runtime.s: Respect new calling conventions
	(Pascal-like).

2003-08-05  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/tc-check.in: Test ia32 assembly code generation.

2003-08-05  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/target/ia32-cpu.hh: Forbid use of inexistent return register.
	* src/codegen/ia32/gas-assembly.cc: Use two-address instructions
	efficiently.
	* src/codegen/ia32/codegen.cc: Normalize calling conventions.

2003-08-05  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/good/big-exp.s: New (related to register allocation).

2003-07-29  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/tc-check.in: Specify --unlimited-regs to mipsy
	on T7 check.

2003-07-24  Akim Demaille  <akim@epita.fr>

	* src/tree/all.hh, src/tree/binop.hh, src/tree/call.hh,
	* src/tree/cjump.hh, src/tree/const.hh, src/tree/eseq.hh,
	* src/tree/exp.hh, src/tree/iterator.hh, src/tree/jump.hh,
	* src/tree/label.hh, src/tree/mem.hh, src/tree/move.hh,
	* src/tree/name.hh, src/tree/node.hh, src/tree/seq.hh,
	* src/tree/stm.hh, src/tree/sxp.hh, src/tree/temp.hh: Fix the
	Doxygen documentation.
	* src/doc.hh: New.

2003-07-24  Akim Demaille  <akim@epita.fr>

	2005-tc-9.1.

	* src/codegen/mips/Makefile.am (test_rw_prg_LDADD): Adjust the
	order of libraries, since now libframe depends upon libtarget.
	* src/graph/test-graph.cc (consistency): Rename a var to avoid
	name clashes.

2003-07-24  Akim Demaille  <akim@epita.fr>

	* src/misc/escape.hh, src/misc/contract.hh, src/misc/deref.hh,
	* src/ast/print-visitor.hh, src/tree/all.hh, src/tree/binop.hh,
	* src/tree/call.hh, src/tree/cjump.hh, src/tree/const.hh,
	* src/tree/eseq.hh, src/tree/exp.hh, src/tree/iterator.hh,
	* src/tree/jump.hh, src/tree/label.hh, src/tree/mem.hh,
	* src/tree/move.hh, src/tree/name.hh, src/tree/node.hh,
	* src/tree/seq.hh, src/tree/stm.hh, src/tree/sxp.hh,
	* src/tree/temp.hh: Doxygen comments.


2003-07-24  Akim Demaille  <akim@epita.fr>

	Get rid of _color_registers: all the registers participate in
	register allocation.

	* src/target/cpu.hh (_color_registers, color_regs): Remove.
	(nb_regs): Virtual, but not pure.
	* src/target/mips-cpu.cc (nb_regs): Move from here, to...
	* src/target/cpu.cc (nb_regs): ... here.
	* src/target/mips-cpu.cc, src/target/ia32-cpu.hh: Adjust.

2003-07-24  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh (regalloc): Let ok_colors be a list rather
	than a set, so that we can express some preferences such as: use
	the callee fisrt, then callers, then args, and finally the special
	regs.
	* src/target/mips-cpu.hh (nb_regs): Take all the declared
	registers into account.

2003-07-24  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&test_files): New.
	Use it everywhere instead of hard coded calls to glob.
	Factor out the loops over the directories where possible.
	(&mipsy_check_one): Do not output our runtime, it is up to the
	students to provided one.
	(&asm_check): Factor the loops into a single one.
	Instead, provide a default value for the list of directories.
	* src/codegen/codegen-tasks.cc: Formatting changes.
	* tests/mips-runtime.s: Remove.
	* configure.ac: Adjust.

2003-07-24  Akim Demaille  <akim@epita.fr>

	* src/frame/frame.hxx: Merge into...
	* src/frame/frame.cc: here.
	(Frame::frame_pointer_get, Frame::return_value_get): Use the
	current target's Cpu's information.
	* src/target/mips-cpu.hh (fp_reg, result_reg): Do not rely on the
	definitions of the Frame module, rather restore the Mips'
	definitions.
	* src/frame/access.cc, src/frame/access.hh, src/frame/frame.hh,
	* src/frame/frame.cc: Comment changes.

2003-07-24  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (log_open): Report Mipsy version in the logs.
	(project_untar): Verbosely display the contents of the tarball.

2003-07-23  Akim Demaille  <akim@epita.fr>

	* src/misc/set.hh (operator-=, operator-, operator+=, operator+):
	Add missing const.
	* src/regalloc/color.hh: Add some missing const.
	(assign_color): List the available colors.
	(coalesce_george_p): Use adjacent.

2003-07-23  Akim Demaille  <akim@epita.fr>

	Do not take the risk to lie: the number of registers is the size
	of _color_registers.

	* src/target/mips-cpu.hh (MipsCpu::MipsCpu): Move to...
	* src/target/mips-cpu.cc: here.
	* src/target/mips-cpu.hh (nb_regs): Use _color_registers instead
	of hard coding.

2003-07-23  Akim Demaille  <akim@epita.fr>

	* src/temp/tempmap.hh (operator()(temps_t)): New.
	* src/liveness/liveness.cc (liveness): Use it.
	Extend the documentation.

2003-07-23  Akim Demaille  <akim@epita.fr>

	* src/liveness/flowgraph.hh (FlowGraph): Fix a huge bug that
	caused a branching instruction to be pointing onto the next
	instruction including if it could never reach it (e.g., a jump).
	This resulted in fake control flow path, hence extended temporary
	liveness, therefore incorrect additional conflicts, thus poorer
	register allocation.

2003-07-23  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh (adjacent): Actually, since I'm no longer
	sure this is truly needed, make it an assertion.
	Remove stray debugging code.

2003-07-23  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh (adjacent): New.
	Tests the adjacency according to the _current_ state of the
	graph, not the original state.
	(coalesce): Use it.
	(print (node_t)): Report its color if it has one.
	(trace (node_t)): Use print.
	(trace (move_t)): New.
	Use them through out this class.

2003-07-23  Akim Demaille  <akim@epita.fr>

	* doc/Doxyfile.in (GENERATE_TREEVIEW, PDF_HYPERLINKS)
	(USE_PDFLATEX, LATEX_BATCHMODE): Set.

2003-07-22  Akim Demaille  <akim@epita.fr>

	* doc/Doxyfile.in: Enable more features, especially the various
	graphs, and the index.
	* src/regalloc/color.hh: Be more Doxygen compliant.
	* src/misc/timer.cc: Fix doc.

2003-07-22  Akim Demaille  <akim@epita.fr>

	* configure.ac, tests/configure.ac: Bump to 0.61.
	Require Havm 0.18, and Mipsy 0.3.
	And Automake 1.7.6.

2003-07-22  Akim Demaille  <akim@epita.fr>

	Version 0.60.
	2005-tc-9.0.

2003-07-22  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh (tempmap_get): That's really what I
	thought originally: there is no need to initial the result with
	the CPU's hard registers, since they are part of the colored nodes
	anyway.  There was something broken in my dependencies.

2003-07-22  Akim Demaille  <akim@epita.fr>

	* src/regalloc/libregalloc.cc, src/regalloc/color.hh: Student
	marks.
	More documentation.
	* Makefile.am (studir): Run seq up to 10, not 9.

2003-07-22  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh (tempmap_get): Be sure to include the
	CPU's register map.
	* src/regalloc/regallocator.hh (operator ()): Don't be so
	stupid...  Be sure to define res before reading it...

2003-07-22  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/codegen.cc (append_sink): s/cpu/_cpu/.
	Apparently I have been working with improperly compiled sources,
	and tc currently severely fails...

2003-07-22  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/test-rw_prg.cc, src/common.hh, src/tc.cc,
	* src/frame/frame.hxx: Document changes.

2003-07-22  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh (regalloc): Doesn't need a TempMap as
	argument.
	(apply): Rename as...
	(operator ()): this.
	Return true on success.
	* src/regalloc/regallocator.hh (Regalloc): Likewise.
	* src/regalloc/libregalloc.cc (regalloc): Adjust.

2003-07-22  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/codegen.cc (append_sink): Use the special_regs.
	* src/target/cpu.hh (special_reg): Document.
	(special_reg (Temp)): New
	* src/target/mips-cpu.hh (MipsCpu): Register all the special
	registers.

2003-07-22  Akim Demaille  <akim@epita.fr>

	* src/frame/frame.hh, src/frame/frame.hxx: Fix Doxygen tags.

2003-07-22  Akim Demaille  <akim@epita.fr>

	* src/liveness/interference-graph.hh: Fix doc.
	* src/regalloc/color.hh: More documentation.
	Remove dead using.
	Fix Doxygen groups.

2003-07-22  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh: More documentation.
	(print (move_t)): New.

2003-07-22  Akim Demaille  <akim@epita.fr>

	Taylor the InterferenceGraph to our register allocator.

	* src/liveness/interference-graph.hh (hnode_t, temp2hnode_t)
	(temp2node): Rename as...
	(node_t, temp2node_t, temp2node): these.
	(move_t): New.
	(move_map_t, _move_map, move_map_get): Replace this mapping from
	node to nodes with...
	(move_set_t, _moves, moves_get): this list of moves.
	(get_node_from_data, is_move_related, is_in_move_list): Remove.
	(has): New, as a replacement for get_node_from_data with a clearer
	semantics.
	* src/liveness/interference-graph.cc: Adjust.
	* src/regalloc/color.hh (node_t, node_set_t, node_list_t, move_t)
	(move_set_t): Import from InterferenceGraph.
	(Color::Color): Initialize _work_list_moves with the list of moves
	from the InterferenceGraph.
	(import_moves): Adjust.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/codegen.cc (munchCall): The argument registers
	are trashed across a call, so declare them as def of a call.
	Note that I have seen no mention of this fact in Appel.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/codegen.cc, src/codegen/mips/codegen.hh
	(append_sink, view_shift, free_callee_save): New.
	(build_fragment_entry_exit): Adjust.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/codegen.cc (codegen): Comment changes.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh (decrement_degree): Don't be too strict on
	the checks.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh (degree_compute): Precolored have infinite
	degree.
	This kills a significant number of errors where precolored nodes
	were duplicated into other node sets: their degree was becoming
	insignificant.
	(adjacent): New.
	Use it where appropriate.

2003-07-21  Akim Demaille  <akim@epita.fr>

	The current register allocator is confused by registers having two
	different names.  This modification might be temporary or
	permanent, this is still unclear to me.  But at least it helps me
	proceed.  Maybe later, keeping two sets of names for RV and FP
	will be restored.

	* src/frame/frame.hxx (frame_pointer_get): Its name is "$fp", not
	"fp".
	(return_value_get): Its name is "$v0", not "rv".
	* src/target/mips-cpu.hh (fp_reg, result_reg): Use them so that a
	single Temp designate each register.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/misc/set.hh (operator-=, operator-): Make sure the element
	was part of the set.
	This is a very significant help for development.
	(operator+=, operator+): When adding an element, make sure it was
	not already part of the set.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh (tempmap_get): When traced, display it.
	(print): Don't print the hnode number of the temps, just the temp
	name itself.
	Report the interference graph name in the traces, to help finding
	out the function being studied.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/codegen/ia32/codegen.cc, src/codegen/mips/codegen.cc
	(rewrite_program, build_fragment_entry_exit): Use "ins" as a
	convenient variable.

2003-07-21  Akim Demaille  <akim@epita.fr>

	For the time being, tc no longer works when there are user
	functions.

	* src/target/cpu.hh (_non_coalescable_registers)
	(non_coleasceable_regs): Rename as...
	(_special_registers, special_registers): these.
	(special_reg): New.
	* src/target/cpu.cc (print): Adjust.
	* src/target/mips-cpu.hh: Adjust.
	Do not prevent argument registers from being coalesced.
	* src/liveness/interference-graph.cc: Simplify includes.
	* src/liveness/interference-graph.hh (hnodes_t): Rename as...
	(node_set_t): this.
	* src/regalloc/color.hh: Complete rewrite.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/regalloc/regallocator.hh: Alpha conversion of some
	variables.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/misc/set.hh (operator-, operator-=, operator%, operator&)
	(operator&=, operator|, operator|=): New.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/liveness/interference-graph.cc (interfere): Remove, wrong:
	if two nodes are related by a move, they are not in interference.
	* src/regalloc/color.hh: Adjust: use ig_edge_exist directly.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/assem/instr.cc (print): Be sure to output the debugging
	information passed through the tempmap.
	* src/target/mips-cpu.hh, src/target/ia32-cpu.hh: Formatting changes.
	* tests/escapes/sl-propagation-1.tig: Formatting changes.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/ast/ast-tasks.cc: Fix comment.
	* src/codegen/codegen-tasks.hh, src/codegen/codegen-tasks.hh
	(instructions_debug_p, instructions_debug): New
	(inst-debug): New task.
	* src/assem/layout.hh (_debug, debug_set): New.
	* src/codegen/ia32/spim-layout.cc, src/codegen/ia32/gas-layout.cc
	(visit (ProcFrag)): Pass _debug to assem::print.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/codegen/ia32/gas-layout.cc, src/codegen/mips/spim-layout.cc:
	White space changes.
	Simplify the code.
	Exhibit precondition components.
	* src/codegen/ia32/gas-layout.h, src/codegen/mips/spim-layout.hh:
	White space changes.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/assem/oper.hh, src/assem/move.hh (print): Output the missing
	tab.
	* src/assem/instr.cc (print): Dereference the temp*.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/assem/instr.cc, src/assem/instr.hh (format): Remove,
	useless.
	(print): Rewrite, including what used to be format's job.
	* src/temp/label.hh (string_get, operator<, operator==, operator<<):
	Move to..
	* src/temp/label.cc: this new file.
	(operator<< (labels_t)): New.
	* src/temp/libtemp.cc (Label::_counter): Move to...
	* src/temp/label.cc: here.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/temp/tempmap.hh: Document.
	(size): New.
	* src/temp/temps.hh, src/temp/temps.cc (operator<<): New.
	* src/target/target-tasks.hh, src/target/target-tasks.cc
	(target_display): New.
	* src/target/cpu.hh, src/target/cpu.cc (print): New.
	(registers_t): Remove, unused.

2003-07-21  Akim Demaille  <akim@epita.fr>

	* src/liveness/Makefile.am (test_flowgraph_LDADD): Add libassem.a.
	* src/cppgen/includes/Makefile.am: Remove: unused, useless and
	wrong anyway.
	* tests/Makefile.am (EXTRA_DIST): Ship mips-runtime.s.
	* src/cppgen/Makefile.am (noinst_HEADERS): Be sure to ship the
	includes/ files.

2003-07-18  Akim Demaille  <akim@epita.fr>

	* tests/mk-Makefile-am: Remove the directory that is about to be
	created instead of trying to change its rights, since the latter
	depends on its existence.

2003-07-16  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh: Remove glue code no longer needed now
	that there is a single temp_set_t type.

2003-07-16  Akim Demaille  <akim@epita.fr>

	* src/temp/temp-set.hh (temp_set_t): Remove.
	(temp_set2_t): Rename as...
	(temp_set_t): this.
	* src/codegen/codegen.hh, src/codegen/ia32/codegen.cc,
	* src/codegen/ia32/codegen.hh, src/codegen/mips/codegen.hh,
	* src/codegen/mips/codegen.cc, src/target/cpu.hh,
	* src/target/mips-cpu.hh, src/liveness/liveness.cc,
	* src/liveness/liveness.hh, src/regalloc/color.hh,
	* src/target/ia32-cpu.hh: Adjust.

2003-07-16  Akim Demaille  <akim@epita.fr>

	* src/temp/temp.hh (operator<<): Use string_get.
	* src/liveness/liveness.hh, src/liveness/liveness.cc: Use
	temp_set2_t, not temp_set_t.

2003-07-16  Akim Demaille  <akim@epita.fr>

	* src/misc/set.hh (set_difference, set_union, set_intersection):
	Specify the Key_compare to use for the resulting set.
	(operator-, operator+): Use set_difference and set_union.

2003-07-16  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/configure.ac, tests/mk-Makefile.am,
	Add overload directory.
	* tests/type/{overload-builtin.tig, overload-function-record-arg.tig,
	* overload-function.tig, overload-nil-diambiguated.tig}:
	Move to tests/overload/.
	* test/tc-check.in:
	Pass directories to asm_check().

2003-07-16  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/cppgen/includes/builtin.hh: Fix getc() implementation.
	* src/cppgen/includes/control.hh: Handle break.
	* src/cppgen/includes/type.hh: Use a reference in cast.
	* src/cppgen/includes/binop.hh:	Typo.

2003-07-16  Akim Demaille  <akim@epita.fr>

	* src/assem/instr.hh (Instr::format): Move its implementation to...
	* src/assem/instr.cc: this new file, to save compilation cycles.

2003-07-16  Akim Demaille  <akim@epita.fr>

	* src/codegen/codegen-tasks.cc: Comment changes.
	* src/liveness/interference-graph.cc: Be independent of
	liveout_get return value type.

2003-07-16  Akim Demaille  <akim@epita.fr>

	* src/target/ia32-cpu.hh, src/target/mips-cpu.hh
	(_registers_map, registers_map_get): Move to...
	* src/target/cpu.hh: here.

2003-07-16  Akim Demaille  <akim@epita.fr>

	Caller and callee save registers have no reason to be lists.

	* src/target/cpu.hh (_callee_save_registers, _caller_save_registers):
	Be temp_set2_t, not temps_t.
	Adjust dependencies.
	* src/codegen/ia32/codegen.cc, src/target/mips-cpu.hh: Adjust.
	* src/codegen/mips/codegen.cc: Comment changes.

2003-07-16  Akim Demaille  <akim@epita.fr>

	* src/target/mips-cpu.hh (arg_regs, callee_save_regs)
	(caller_save_regs, non_coleasceable_regs, _color_registers)
	(_callee_save_registers, _caller_save_registers)
	(_argument_registers, _non_coalescable_registers): Move to...
	* src/target/cpu.hh: here.
	* src/target/ia32-cpu.hh: Likewise.
	* src/target/cpu.hh (arg_reg, caller_save_reg, callee_save_reg):
	New.
	* src/target/mips-cpu.hh: Use them.

2003-07-11  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh (regalloc): Let unused_colors be
	temp_set2_t.
	This changes the names of the allocated registers, but that only
	an alpha-conversion.

2003-07-10  Akim Demaille  <akim@epita.fr>

	* src/assem/instr.hh: Formating changes.
	* src/assem/map-visitor.hh: New.
	* src/liveness/liveness-tasks.cc: Use it.

2003-07-10  Akim Demaille  <akim@epita.fr>

	* src/temp/label.hh (operator==, operator<): Move as part of the
	class Label instead of freelance operators.
	* src/temp/temp.hh, src/temp/temps.hh, src/temp/temp-set.hh:
	Comment changes.

2003-07-09  Akim Demaille  <akim@epita.fr>

	* src/target/cpu.hh (non_coleasceable_regs, color_regs): Return
	temp_set_2_t, not temp_set_t.
	* src/target/mips-cpu.hh, src/target/ia32-cpu.hh: Adjust.

2003-07-09  Akim Demaille  <akim@epita.fr>

	* src/temp/temp-set.hh: Remove accidental duplicate of the
	sources.
	(operator<< (temp_set2_t)): New.
	* src/regalloc/color.hh: Remove debugging code.

2003-07-09  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh (trace): Produce a more detailed
	message.
	(push): New argument: why it was pushed.

2003-07-09  Akim Demaille  <akim@epita.fr>

	* src/temp/temps.hh (temp_set_t): Move to...
	* src/temp/temp-set.hh: this new file.
	* src/target/cpu.hh: Adjust.
	* src/liveness/liveness.hh: Ditto.

2003-07-09  Akim Demaille  <akim@epita.fr>

	* src/misc/set.hh (set): Template for any kind of Iterator.
	From Raphaël Poss.
	* src/temp/temp.hh (Temp::operator<, Temp::operator==): New.

2003-07-09  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/tc-check.in: Search mips-runtime.s in "$testdir/".

2003-07-09  Akim Demaille  <akim@epita.fr>

	* src/codegen/ia32/codegen.cc (rewrite_program): Fix the handling
	of def spills.
	Remove useless variables.

2003-07-09  Akim Demaille  <akim@epita.fr>

	* src/codegen/codegen.hh (rewrite_program): Take a temp_set_t, not
	a temps_t.
	* src/codegen/ia32/codegen.cc (rewrite_program): Adjust, and use
	misc::set::has..
	* src/codegen/ia32/codegen.hh, src/codegen/mips/codegen.hh,
	* src/codegen/mips/codegen.cc: Likewise.
	* src/regalloc/color.hh: Adjust.
	(regalloc): New.
	* src/regalloc/regallocator.hh: Adjust.
	* src/codegen/mips/test-rw_prg.cc (test_rewrite_program): Adjust.

2003-07-09  Akim Demaille  <akim@epita.fr>

	* src/temp/temp.hh (temps_t, temp_set_t): Move to...
	* src/temp/temps.hh: this new file.
	* src/codegen/assembly.hh (L): Move to...
	* src/temp/temps.hh: here.
	* src/target/cpu.hh, src/codegen/ia32/gas-assembly.cc,
	* src/codegen/mips/spim-assembly.cc: Adjust.

2003-07-08  Akim Demaille  <akim@epita.fr>

	* src/temp/temp.hh (temp_compare): New.
	(operator<< (temp_set_t)): Use it to ensure a consistent order of
	output temp_set_ts.
	* src/temp/tempmap.hh (operator<< (TempMap)): Likewise.

2003-07-08  Akim Demaille  <akim@epita.fr>

	* src/regalloc/color.hh: Use temp_set_t.

2003-07-08  Akim Demaille  <akim@epita.fr>

	* TODO: Update.
	* src/ast/ast-tasks.cc: Document.
	* src/target/cpu.hh: Use temp::temp_set_t.
	* src/target/mips-cpu.hh, src/target/ia32-cpu.hh: Likewise.
	* src/temp/temp.hh: Document.

2003-07-08  Akim Demaille  <akim@epita.fr>

	* src/assem/oper.hh, src/assem/move.hh, src/assem/label.hh,
	* src/assem/instr.hh, src/assem/libassem.cc, src/assem/libassem.hh,
	* src/assem/fragment.hh, src/parse/parse-tasks.cc,
	* src/translate/level-entry.hh, src/translate/level-env.hh,
	* src/temp/test-temp.cc, src/regalloc/test-regalloc.cc: Comment
	changes.

2003-07-07  Akim Demaille  <akim@epita.fr>

	* src/escapes/escapes-tasks.cc,
	* src/escapes/escapes-check-visitor.hh, src/escapes/libescapes.cc,
	* src/canon/basic-block.hh, src/canon/canon-tasks.hh,
	* src/canon/canon.cc, src/canon/traces.cc, src/canon/libcanon.hh,
	* src/type/type-visitor.hh, src/overload/overload-tasks.cc,
	* src/overload/overfun-type-visitor.hh, src/overload/liboverload.cc:
	Comment changes.

2003-07-07  Akim Demaille  <akim@epita.fr>

	* src/common.hh, src/tc.cc, src/misc/has.hh, src/misc/timer.cc,
	* src/misc/timer.hh, src/misc/set.hh, src/graph/graph.hxx,
	* src/graph/handler.hh, src/graph/handler.hxx,
	* src/graph/iterator.hh, src/graph/iterator.hxx,
	* src/graph/test-graph.cc, src/graph/graph.hh,
	* src/type/type-tasks.cc, src/symbol/symbol.hxx,
	* src/symbol/table.hh, src/symbol/test-symbol.cc,
	* src/translate/level-entry.hh, src/translate/level-env.hh,
	* src/translate/libtranslate.cc, src/translate/libtranslate.hh,
	* src/translate/translate-tasks.cc,
	* src/translate/translate-tasks.hh, src/translate/level.hh,
	* src/translate/access.hh, src/translate/exp.hh,
	* src/translate/fragment.hh, src/translate/translation.hh,
	* src/temp/libtemp.hh, src/temp/libtemp.cc, src/temp/label.hh,
	* src/temp/temp.hh, src/temp/tempmap.hh, src/temp/test-temp.cc,
	* src/liveness/flowgraph.hh, src/liveness/interference-graph.cc,
	* src/liveness/interference-graph.hh, src/liveness/liveness.cc,
	* src/liveness/liveness.hh, src/regalloc/color.hh: White space
	and comment changes.

2003-07-07  Akim Demaille  <akim@epita.fr>

	Version 0.59.

2003-07-07  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&escapes_check): Don't pipe the result of a
	TC, since that hide failures and therefore the reports of the
	failures.

2003-07-06  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/configure.ac, tests/tc-check.in:
	Check the existence of and use exclusively Mipsy as MIPS emulator.
	* tests/mips-runtime.s:
	Update runtime.

2003-07-07  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&ir_check_one): Use return, not next: there are
	no loops here.

2003-07-07  Akim Demaille  <akim@epita.fr>

	* src/codegen/tiger-runtime.c: New.

2003-07-06  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/good/getchar-no-static-string:
	Check that getchar does not update a static string but uses one of the
	constant strings defined at runtime.

2003-07-06  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/mips/runtime.s: Make getchar return one of
	the constant strings.

2003-07-04  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/task/task_register.cc:
	Fix initialization of argp structure.

2003-07-03  Benoît Perrot  <benoit@lrde.epita.fr>

	* configure.ac: Copy runtime.s into tests/mips-runtime at configure
	time.

2003-07-03  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/tc-check.in: Adjust --help.

2003-07-03  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/tc-check.in: Use mipsy to check T7 output.
	* tests/mips-runtime.s: Use a standard MIPS runtime to run mipsy.

2003-07-02  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/codegen.hh,
	* src/codegen/mips/codegen.hh, src/codegen/mips/codegen.cc
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/codegen.cc:
	Rename "allocate_frame" as "build_fragment_entry_exit".
	* src/codegen/codegen-tasks.cc, src/codegen/codegen-tasks.hh:
	Add task to display MIPSy compatible fragments.

2003-07-02  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/tc-check.in: Fix a perl prototype.
	From Alexandre Duret-Lutz.

2003-07-02  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/tc-check.in: Test C++ code generation.
	* src/cppgen/includes/type.hh, src/cppgen/includes/stack.hh,
	* src/cppgen/includes/recordty.hh, src/cppgen/includes/macro.hh,
	* src/cppgen/includes/lvalue.hh, src/cppgen/includes/list.hh,
	* src/cppgen/includes/letinend.hh, src/cppgen/includes/function.hh,
	* src/cppgen/includes/explist.hh, src/cppgen/includes/env.hh,
	* src/cppgen/includes/dec.hh, src/cppgen/includes/cppgen_all.hh,
	* src/cppgen/includes/control.hh, src/cppgen/includes/common.hh,
	* src/cppgen/includes/builtin.hh, src/cppgen/includes/binop.hh,
	* src/cppgen/includes/arrayty.hh, src/cppgen/includes/Makefile.am:
	Add cppgen static machinery.
	* src/cppgen/cppgen-visitor.hh: Rename "includes/metasmousse_all.h"
	into "includes/cppgen_all.hh"

2003-07-02  Akim Demaille  <akim@epita.fr>

	* src/codegen/libcodegen.cc, src/codegen/mips/codegen.cc,
	* src/graph/graph.hxx, src/graph/graph.hh: More comments, adjust
	student marks.

2003-07-01  Akim Demaille  <akim@epita.fr>

	* src/assem/fragment.hh, src/assem/fragment.cc,
	* src/codegen/codegen-tasks.cc, src/codegen/ia32/codegen.cc,
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/gas-assembly.cc,
	* src/codegen/ia32/gas-assembly.hh,
	* src/codegen/ia32/gas-layout.cc, src/codegen/ia32/gas-layout.hh:
	Reformatting and comment changes.

2003-06-30  Akim Demaille  <akim@epita.fr>

	* src/codegen/codegen.hh, src/codegen/codegen-tasks.cc,
	* src/codegen/ia32/codegen.cc, src/codegen/ia32/codegen.hh,
	* src/codegen/mips/spim-assembly.cc, src/codegen/mips/spim-layout.cc,
	* src/codegen/mips/spim-layout.hh, src/codegen/mips/codegen.hh,
	* src/codegen/mips/codegen.cc: Formatting and comment changes.

2003-06-30  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&ir_check_one): $Main::timeout, not $timeout.

2003-06-30  Akim Demaille  <akim@epita.fr>

	* src/Makefile.am (modules.hh): New target.
	(nodist_tc_SOURCES): Add it.

2003-06-27  Akim Demaille  <akim@epita.fr>

	* config/warning.m4 (TC_COMPILER_OPTION_IF): Catch some of GCC's
	cc1plus warnings.
	Be sure to restore the FLAGS before the user action, so that...
	she can modify the FLAGS.
	Use AC_CACHE_CHECK.
	(TC_CXX_WARNINGS): Accept an m4-list of  options as $1.
	* configure.ac: Adjust.

2003-06-26  Akim Demaille  <akim@epita.fr>

	* Makefile.am (install-doc): New.

2003-06-26  Akim Demaille  <akim@epita.fr>

	Bump to 0.59.

2003-06-26  Akim Demaille  <akim@epita.fr>

	Version 0.58.
	* tests/tc-check.in (&tarball_test_wrapper): s/tiger/tc/.
	From Stéphane Molina.
	* configure.ac (WARNINGS_CLAGS): Add ICC warnings 111, 279, 444,
	810 and 1418.

2003-06-25  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/type/types.hh, src/frame/frame.hh:
	Force function inlining.
	* src/cppgen/cppgen-tasks.cc:
	De-nest file inclusion.

2003-06-25  Akim Demaille  <akim@epita.fr>

	* src/graph/graph.hxx, src/graph/graph.hh, src/liveness/flowgraph.hh
	* src/liveness/interference-graph.cc,src/liveness/liveness.cc:
	Formatting changes.

2003-06-25  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/misc/has.hh,
	* src/cppgen/cppgen-visitor.hh, src/cppgen/libcppgen.cc
	* src/graph/graph.hh
	* src/canon/basic-block.hh, src/canon/canon.cc
	* src/temp/libtemp.hh, src/temp/libtemp.cc
	* src/task/task.hh:
	Forward declare all static functions.

2003-06-25  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/misc/timer.cc, src/misc/timer.hh
	* src/assem/oper.hh, src/assem/move.hh
	* src/ast/libast.cc, src/ast/print-visitor.hh
	* src/codegen/libcodegen.cc, src/codegen/mips/codegen.cc
	* src/translate/translate-visitor.hh
	* src/liveness/liveness.cc
	* src/regalloc/color.hh
	* src/task/task.hh:
	Rename shadowing variables.

2003-06-25  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/ast/default-visitor.hh,
	* src/cppgen/cppgen-visitor.hh,
	* src/escapes/escapes-visitor.hh:
	Add virtual destructor to derivated classes.

2003-06-25  Akim Demaille  <akim@epita.fr>

	* configure.ac: Add -wd193,383 to WARNING_CXXFLAGS.
	* src/regalloc/regalloc-tasks.hh: Add a missing semicolon.
	* src/task/task.hh: Remove spurious semicolon.

2003-06-25  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/assem/label.hh, src/assem/fragment.cc
	* src/ast/default-visitor.hh, src/ast/print-visitor.hh,
	* src/codegen/ia32/codegen.cc, src/codegen/ia32/gas-assembly.cc ,
	* src/cppgen/cppgen-visitor.hh
	* src/frame/access.cc
	* src/translate/translate-visitor.hh, src/translate/exp.hh,
	* src/translate/fragment.hh
	* src/type/types.hh, src/type/type-visitor.hh,
	* src/tree/call.hh, src/tree/eseq.hh, src/tree/seq.hh:
	Fix "unused parameter" warnings.

2003-06-25  Akim Demaille  <akim@epita.fr>

	* config/warning.m4: Make a single grep invocation, not four.

2003-06-25  Akim Demaille  <akim@epita.fr>

	* configure.ac: Neutralize ICC warning 981.
	* config/warning.m4 (TC_COMPILER_OPTION_IF): Pass -e to grep where
	needed.

2003-06-25  Akim Demaille  <akim@epita.fr>

	* config/warning.m4 (TC_COMPILER_FLAGS_NAME)
	(TC_COMPILER_OPTION_IF): New.
	(TC_CXX_WARNINGS): Use the latter.

2003-06-24  Akim Demaille  <akim@epita.fr>

	* config/warning.m4: New.
	* configure.ac: Use it.

2003-06-24  Akim Demaille  <akim@epita.fr>

	* src/liveness/test-flowgraph.cc (main): Invoke the flowgraph ctor
	properly.
	* src/codegen/ia32/Makefile.am, src/codegen/mips/Makefile.am: Use
	the newly discovered nodist_..._SOURCES to avoid shipping
	runtime.cc.
	(INCLUDES): Since runtime.cc is now compiled (not included), we no
	longer need to go into builddir.
	* src/codegen/mips/spim-assembly.cc (codegen): Fix "res"
	conflicts.
	* config/studentize: Don't understand "<<-" as a "<<" comment with
	a synopsis equal to "-".
	* tests/tc-check.in (&ir_check_one): s/4/10/ seconds of timeout.

2003-06-24  Akim Demaille  <akim@epita.fr>

	* src/codegen/ia32/gas-assembly.cc,
	* src/codegen/mips/spim-assembly.cc: Use consistently "res" for
	the variable holding the result of a function.
	* src/codegen/mips/spim-assembly.cc (codegen): Move the student
	marks to ease compilation from stock.

2003-06-24  Akim Demaille  <akim@epita.fr>

	* src/canon/canon.cc (canon_default): More comments.
	Make the "if" cascade more readable, and hopefully more understandable.

2003-06-24  Akim Demaille  <akim@epita.fr>

	* tests/good/concurrent-arguments.tig: New.

2003-06-23  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/mips/runtime.s, src/type/type-visitor.hh:
	Remove over-comments.

2003-06-23  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/mips/runtime.s: Add comments and prefer native
	instructions to pseudo.
	* src/codegen/mips/spim-assembly.cc: Use Jump to register native
	instruction.

2003-06-23  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/type/type-visitor.hh: Add comments.

2003-06-23  Akim Demaille  <akim@epita.fr>

	* src/misc/escape.hh (operator<<): Support \v.
	Suggested by Matthieu Louis-Ferdinand.

2003-06-20  Akim Demaille  <akim@epita.fr>

	* src/target/cpu.hh, src/target/mips-cpu.hh,
	* src/target/ia32-cpu.hh (constant_regs): Remove all the support
	for this.
	* src/codegen/ia32/codegen.cc, src/codegen/mips/codegen.cc:
	Adjust.
	(DOWN_CAST): New.
	Use it to simplify the introduction of downcasts.
	Remove the useless "temp::" as this namespace is used.

2003-06-20  Akim Demaille  <akim@epita.fr>

	* TODO: Update.
	* src/codegen/ia32/codegen.cc, src/codegen/mips/codegen.cc: Update
	comments.
	* src/target/cpu.hh: Remove misleading comments.

2003-06-20  Akim Demaille  <akim@epita.fr>

	* tests/good/side-effects.tig: New.

2003-06-19  Akim Demaille  <akim@epita.fr>

	* src/ast/field.hh (ast): Hide the escape_tag management from
	students.

2003-06-18  Akim Demaille  <akim@epita.fr>

	* src/liveness/interference-graph.cc (liveness): Student marks.

2003-06-18  Akim Demaille  <akim@epita.fr>

	* src/regalloc/regallocator.hh (operator ()): Make the notations
	more consistent.
	* src/liveness/liveness-tasks.cc (interference_dump): New.
	* src/liveness/liveness-tasks.hh: Fix comments and guards.
	(interference-dump): New task.
	* src/canon/canon.cc, src/canon/traces.cc: Comment changes.
	* src/liveness/flowgraph.hh, src/liveness/flowgraph.cc,
	* src/liveness/liveness.hh, src/liveness/liveness.hh: Add "name"
	as argument to the ctor.
	Fix CPP guards.

2003-06-16  Akim Demaille  <akim@epita.fr>

	* Makefile.am (studir): Skip "overload".

2003-06-16  Akim Demaille  <akim@epita.fr>

	* Makefile.am (studir): Adjust to liveness, not flowgraph.

2003-06-16  Akim Demaille  <akim@epita.fr>

	* src/translate/translation.hh (forExp): Hide the signature from
	students.

	* src/flowgraph/flowgraph.hh: Rename as...
	* src/liveness/flowgraph.hh: this.
	* src/regalloc/interference_graph.cc: Rename as...
	* src/liveness/interference-graph.cc: this.
	* src/regalloc/interference_graph.hh: Rename as...
	* src/liveness/interference-graph.hh: this.
	* src/flowgraph/liveness.cc: Rename as...
	* src/liveness/liveness.cc: this.
	* src/flowgraph/liveness.hh: Rename as...
	* src/liveness/liveness.hh: this.
	* src/flowgraph/flowgraph-tasks.cc: Rename as...
	* src/liveness/liveness-tasks.cc: this.
	* src/flowgraph/flowgraph-tasks.hh: Rename as...
	* src/liveness/liveness-tasks.hh: this.
	* src/flowgraph/Makefile.am: Rename as...
	* src/liveness/Makefile.am: this.
	* src/flowgraph/test-flowgraph.cc: Rename as...
	* src/liveness/test-flowgraph.cc: this.
	* configure.ac, src/Makefile.am,
	* src/regalloc/Makefile.am, src/regalloc/color.hh: Adjust.

2003-06-12  Akim Demaille  <akim@epita.fr>

	* tests/good/test05.tig: Rename as...
	* tests/good/forward-fun-and-type-decl.tig: this.

2003-06-12  Akim Demaille  <akim@epita.fr>

	* src/codegen/ia32/codegen.cc (muchExp): Allocate temp::Temp only
	when needed.
	Return the Temp allocated by munchCall.
	(munchCall): Studentize the code for frame resident arguments.
	* src/codegen/mips/codegen.cc: Likewise.
	Suggested by Cédric Bail.

2003-06-04  Akim Demaille  <akim@epita.fr>

	* src/tree/seq.hh (left_set, letf_get, right_get, right_set):
	Remove.
	* src/tree/README (Seq): Fix.

2003-06-04  Akim Demaille  <akim@epita.fr>

	* src/overload/Makefile.am (liboverload_a_SOURCES): Fix the name
	of overfun-type-visitor.hh.

2003-06-03  Benoît Perrot  <benoit@lrde.epita.fr>

	* configure.ac, src/Makefile.am:
	Use new module "overload".
	* src/overload/overload-tasks.{hh,cc}:
	New: overload related tasks (--overfun-types-check).
	* src/overload/overfun-type-visitor.hh:
	New: type-checker visitor that allows function overloading
	* src/overload/liboverload.{hh,cc}:
	New: define and declare type-check with overload interface.
	* src/overload/Makefile.am:
	New: liboverload build instructions.

2003-06-03  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/ast/callexp.hh, src/ast/functiondex.hh:
	Allow symbols name and func (respectively) to be dynamically reset.
	* src/type/types.hh:
	Force operator==(Type, Type) inlining.
	* src/type/type-visitor:
	Abstract scope manipulation.

2003-06-03  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/type/overload-builtin.tig,
	* tests/type/overload-function.tig,
	* tests/type/overload-function-redefinition.tig,
	* tests/type/overload-function-record-arg.tig,
	* tests/type/overload-nil-ambiguity.tig,
	* tests/type/overload-nil-diambiguated.tig: New.

2003-06-02  Akim Demaille  <akim@epita.fr>

	* config/studentize: Support comments in student marks.
	* src/codegen/mips/codegen.cc: Use it.

2003-06-02  Akim Demaille  <akim@epita.fr>

	* src/misc/has.hh (find): Specify std:: where appropriate.
	(algorithm): Include.
	(has): Fix the clash reported by ICC.

2003-06-02  Akim Demaille  <akim@epita.fr>

	* src/frame/frame.hxx: New, extracted from...
	* src/frame/frame.hh: here.

2003-06-02  Akim Demaille  <akim@epita.fr>

	* README: New.
	* NEWS: Readme.
	* config/studentize: Output the number of removed lines.
	Modernize (Basename, IO::File, etc.).
	* Makefile.am (studir): Reorder from esiest and widest removals to
	longest.

2003-06-02  Akim Demaille  <akim@epita.fr>

	Don't mix Temp and hnode_t during colorization.

	* src/regalloc/interference_graph.hh (livemap_t, _livemap):
	Remove, unused.
	(hnodes_t): New.
	(move_map_t): Use it instead of temp::temp_set_t.
	(_moves_map, moves_map_get): Rename as...
	(_move_map, move_map_get): these.
	(is_in_move_list): Work on hnode_t.
	(merge): New, extracted from...
	* src/regalloc/color.hh (coalesce): here.
	Adjust to the new move_map_t.
	(degree_compute): New.
	* src/regalloc/interference_graph.cc: Adjust.

2003-06-02  Akim Demaille  <akim@epita.fr>

	* src/regalloc/regallocator.hh (Color): Extract to...
	* src/regalloc/color.hh: here.
	* src/misc/set.hh (has): New.
	* src/misc/has.hh: New.
	* src/task/task_register.cc, src/regalloc/interference_graph.cc,
	* src/flowgraph/liveness.cc, src/graph/test-graph.cc,
	* src/graph/graph.hxx, src/graph/graph.hh,
	* src/graph/iterator.hh, src/tree/node.hh: Use them.
	* src/misc/timer.hh: Ditto.

2003-06-02  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/codegen.cc:	Use it.
	In particular, remove a stupid assert that was responsible for the
	allocation of unused slots in the frames.
	* src/codegen/ia32/codegen.cc: Ditto.
	Also, comment out the allocation of a slot for ra, as it is not used.
	* src/codegen/codegen.hh: Space changes.
	* src/frame/frame.hh (frame_alloc): New.

2003-06-02  Akim Demaille  <akim@epita.fr>

	* src/task/task.hh (deps_t): New.
	* src/task/task_register.cc (print_task_graph): Also report tasks
	with no dependencies.

2003-06-02  Akim Demaille  <akim@epita.fr>

	* src/regalloc/regallocator.hh (get_node_from_data, is_move_related)
	(interfere, node_of, temp2hnode_t, is_in_movelist): Move to...
	* src/regalloc/interference_graph.hh,
	* src/regalloc/interference_graph.cc: here.
	(temp2hnode): New.
	(node_of, is_move_related): Use it to cache the results instead of
	recomputing repeatedly.

2003-05-28  Akim Demaille  <akim@epita.fr>

	Versions 2004-tc-8.0 and 2005-tc-6.1.

2003-05-28  Akim Demaille  <akim@epita.fr>

	* src/escapes/escapes-tasks.cc, src/graph/graph.hxx,
	* src/canon/basic-block.hh, src/canon/canon.cc,
	* src/translate/translate-visitor.hh, src/flowgraph/flowgraph.hh,
	* src/flowgraph/liveness.cc: Student marks.

2003-05-27  Akim Demaille  <akim@epita.fr>

	* src/assem/label.hh, src/assem/instr.hh,
	* src/assem/libassem.cc, src/assem/libassem.hh,
	* src/assem/fragment.hh, src/assem/fragment.cc,
	* src/regalloc/interference_graph.cc (print): Support an extra
	argument for debugging.

2003-05-27  Akim Demaille  <akim@epita.fr>

	* src/regalloc/regalloc-tasks.hh: Group 9, not 8.
	* tests/tc-check.in (stage_test): Implement T8 evaluation.

2003-05-27  Akim Demaille  <akim@epita.fr>

	* src/temp/temp.hh (temp_set_t, operator<< (temp_set_t)): New.
	* src/flowgraph/liveness.hh (temp_set_toperator<< (temp_set_t))):
	Remove.
	Adjust.
	* src/flowgraph/liveness.cc: Adjust.
	* src/regalloc/interference_graph.cc: Ditto.
	* src/regalloc/interference_graph.hh, src/regalloc/regallocator.hh:
	(moves_map_t): Rename as...
	(move_map_t): this.
	(temps_set_t): Remove, use temp::temp_set_t instead.

2003-05-27  Akim Demaille  <akim@epita.fr>

	* src/ast/ast-tasks.hh, src/codegen/codegen-tasks.hh,
	* src/cppgen/cppgen-tasks.hh, src/escapes/escapes-tasks.hh,
	* src/parse/parse-tasks.hh, src/type/type-tasks.hh,
	* src/canon/canon-tasks.hh, src/translate/translate-tasks.hh,
	* src/target/target-tasks.hh, src/temp/temp-tasks.hh,
	* src/regalloc/regalloc-tasks.hh, src/task/task-tasks.hh:
	perl -000 -pi.bak -e 's(^# ifdef TC[^"]+("[^"]+")[^#]+#\s*endif\s+)
			       (TASK_GROUP ($1);\n\n)gm'.

2003-05-27  Akim Demaille  <akim@epita.fr>

	* src/symbol/table.hh (cassert): Include.
	* src/symbol/test-symbol.cc: Strengthen.
	* src/translate/translation.hh: Use std:: for strings, not using.
	* src/temp/label.hh, src/temp/temp.hh: Likewise.
	* src/flowgraph/flowgraph-tasks.hh: Fix tasks descriptions.
	Use TASK_GROUP.
	* src/flowgraph/liveness.cc: Use timer.
	* src/regalloc/interference_graph.cc: Fix output file name.

2003-05-27  Akim Demaille  <akim@epita.fr>

	* src/misc/set.hh: Be generic wrt Compare and Alloc too.

2003-05-27  Akim Demaille  <akim@epita.fr>

	* src/task/task.hh (TASK_GROUP): New.

2003-05-27  Akim Demaille  <akim@epita.fr>

	* src/graph/test-graph.cc: Remove debugging code.
	* src/graph/graph.hh (print): Make all the overloaded methods
	virtual.
	* src/flowgraph/test-flowgraph.cc: Remove stdout output.
	* src/flowgraph/flowgraph-tasks.hh (liveness-dump): New.
	* src/flowgraph/flowgraph-tasks.cc: (liveness_dump): New.
	* src/flowgraph/flowgraph.hh: Add the using clause for overloaded
	virtual methods.
	* src/flowgraph/liveness.cc, src/flowgraph/liveness.hh: New
	* src/regalloc/interference_graph.cc,
	* src/regalloc/interference_graph.hh: Adjust to use Liveness.
	* src/flowgraph/Makefile.am: Adjust.

2003-05-27  Akim Demaille  <akim@epita.fr>

	* src/graph/test-graph.cc: Augment the number of edges.
	Dump the graph before the removal too.
	Stop displaying it on stdout, it is useless and annoying.
	* src/graph/graph.hh, src/graph/graph.hxx (edge_decorator::label):
	New accessors (const and non const).
	(operator<< (ostream, empty): New.
	(print): Add missing quote.
	Actual, re-merge the oriented and undirected versions.
	Report the edge labels too.
	* src/misc/set.hh (operator<<): Move from the misc namespace, to
	the top level.

2003-05-26  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in: Remove stray debugging code.

	* src/flowgraph/flowgraph.hh: Make it an actual class.
	Actually, a class template.
	Make "make_flowgraph" be simply the ctor.
	* src/flowgraph/flowgraph-tasks.cc: Adjust.
	* src/flowgraph/libflowgraph.hh, src/flowgraph/libflowgraph.cc:
	Remove.
	* src/regalloc/interference_graph.hh,
	* src/regalloc/interference_graph.cc: Adjust.

	* src/flowgraph/Makefile.am (check_TESTS): Reactivate.
	* src/flowgraph/test-flowgraph.cc: Update the includes.
	(timer): New.
	Adjust to FlowGraph.

2003-05-26  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in: When the order of the stage is specified via
	the command line, run the test in that order, and compute the
	grades according to it.
	(&stage_test): New.
	(&tarball_test): Use it.
	(%stage): Rename as...
	(@stage): this.
	(&stages_extract): Adjust.

2003-05-26  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&tarball_parse): Be sure not to have $date =
	undef.

2003-05-25  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/escapes/escapes-tasks.cc: Fix sufficient- and necessary-
	escaping.

2003-05-23  Akim Demaille  <akim@epita.fr>

	Bump to 0.58.

2003-05-23  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&escapes_check): Don't pass --escapes-check.

2003-05-23  Akim Demaille  <akim@epita.fr>

	tc-check does not check the escapes since the change of the task
	system.

	* src/escapes/escapes-tasks.hh (escapes-necessary-check)
	(escapes-sufficient-check): Have them really perform the test, not
	merely setting a variable that is not used properly.
	Remove useless prototypes.
	(escapes_necessary_check_p, escapes_sufficient_check_p): Remove.
	* tests/tc-check.in (escapes_check): Don't pass --escape-compute
	to TC, as it is enabled by --escapes-*-check.
	* tests/mk-Makefile-am (ext): Don't ask for hpr and lpr, as we
	don't use them.
	* tests/good/for-high-escapes.tig: Rename as...
	* tests/escapes/for-upper.tig: this.

2003-05-23  Akim Demaille  <akim@epita.fr>

	Fix the incorrect handling of the for, reported by Fabrice Hesling
	and diagnosed by Sébsatien Broussaud.

	* src/translate/translate-visitor.hh (visit (ForExp)): Address the
	upper bound before introducing a new scope, to avoid capturing the
	index in the environment in which the upper bound is evaluated.
	* src/type/type-visitor.hh: Likewise.
	* src/type/escapes-visitor.hh: Likewise.
	* tests/good/for-high-same-name-as-index.tig:
	* tests/good/for-high-escapes.tig:
	* tests/type/unknown-return-type.tig,
	* tests/type/for-index-in-higher-bound.tig:
	New.

2003-05-19  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy, src/parse/scantiger.ll:
	Clean up white spaces.

2003-05-19  Akim Demaille  <akim@epita.fr>

	* src/frame/frame.hh, tests/escapes/redeclaration.tig,
	* tests/escapes/rhs-of-a-vardec.tig,
	* tests/escapes/local-escapes.tig,
	* tests/escapes/escapes-n-recursion.tig, tests/good/concat.tig,
	* tests/good/donald.tig, tests/good/evalexp.tig,
	* tests/good/for-in-let.tig, tests/good/fractions-underloaded.tig,
	* tests/good/if-and-if.tig, tests/good/if.tig,
	* tests/good/letexp-eseq.tig, tests/good/let-in-for-init.tig,
	* tests/good/many-vars.tig, tests/good/merge.tig,
	* tests/good/mutually-recursive-functions.tig,
	* tests/good/print-tree.tig, tests/good/queens.tig,
	* tests/good/shadowing-functions.tig,
	* tests/good/so-many-args-in-rec-func.tig, tests/good/test05.tig,
	* tests/good/test27.tig, tests/good/test44.tig,
	* tests/syntax/multi-vars.tig, tests/syntax/multi-types.tig,
	* tests/syntax/multi-functions.tig, tests/syntax/vehicle.tig,
	* tests/syntax/syntax-vs-type-1.tig,
	* tests/type/break-in-vardec-in-while.tig,
	* tests/type/field-in-not-record.tig,
	* tests/type/fractions-overloaded.tig, tests/type/test21.tig,
	* tests/type/test22.tig, tests/type/test23.tig,
	* tests/type/test24.tig, tests/type/test31.tig,
	* tests/type/test40.tig, tests/type/types-endless-recursion.tig,
	* tests/type/unconstrained-nil.tig, tests/good/many-args.tig:
	Clean up white spaces.

2003-05-19  Akim Demaille  <akim@epita.fr>

	* TODO, src/misc/contract.hh, src/ast/anydecs.hh,
	* src/ast/arrayty.hh, src/ast/callexp.hh, src/ast/decs.hh,
	* src/ast/exp.hh, src/ast/fieldexp.hh, src/ast/field.hh,
	* src/ast/forexp.hh, src/ast/functiondec.hh, src/ast/ifexp.hh,
	* src/ast/letexp.hh, src/ast/namety.hh, src/ast/nilexp.hh,
	* src/ast/opexp.hh, src/ast/print-visitor.hh, src/ast/recordexp.hh,
	* src/ast/seqexp.hh, src/ast/simplevar.hh, src/ast/subscriptvar.hh,
	* src/ast/typedec.hh, src/ast/vardec.hh, src/ast/visitor.hh,
	* src/ast/whileexp.hh, src/codegen/codegen-tasks.hh,
	* src/graph/handler.hh, src/graph/handler.hxx,
	* src/graph/iterator.hh, src/canon/traces.cc, src/frame/frame.hh,
	* src/parse/parse.hh, src/symbol/table.hh, src/type/type-entry.hh,
	* src/type/type-env.hh, src/type/types.hh, src/target/cpu.hh,
	* src/target/target-tasks.cc, src/tree/node.hh,
	* src/regalloc/test-regalloc.cc, src/task/task-tasks.cc,
	* tests/tc-check.in, src/codegen/ia32/gas-assembly.cc,
	* src/frame/frame.cc: Clean up white spaces.

2003-05-19  Akim Demaille  <akim@epita.fr>

	* src/target/mips-cpu.hh, src/target/ia32-cpu.hh: Formatting
	changes.
	* src/regalloc/regallocator.hh (trace): Reformat the trace
	message.

2003-05-19  Akim Demaille  <akim@epita.fr>

	* src/assem/libassem.cc: Add it for real.

2003-05-19  Akim Demaille  <akim@epita.fr>

	* src/regalloc/interference_graph.cc (temp2hnode_t,_node_of)
	(node_of): New.
	(compute_liveness): Don't insert interference from one temp to
	itself.
	Don't insert "t1 <- t1" in _moves_map.

2003-05-19  Akim Demaille  <akim@epita.fr>

	* src/graph/graph.hh, src/graph/graph.hxx (print): Make a
	different implementations for oriented and undirected graphs.
	(~Graph): New.
	(self_t): New for subclasses.
	* src/regalloc/interference_graph.hh: Remove unused ctor.

2003-05-19  Akim Demaille  <akim@epita.fr>

	* src/regalloc/interference_graph.cc (topological_sort)
	(topological_sort_rec): Move to...
	* src/graph/graph.hh, src/graph/graph.hxx (OrientedGraph): here.
	(dump): Rename as...
	(print): this.
	Make it a method.
	Adjust callers.

2003-05-19  Akim Demaille  <akim@epita.fr>

	* src/graph/graph.hxx (print): Rewrite the output so that we
	number the nodes, and provide their labels, instead of leaving
	dotty dealing with nodes named with their labels, which can be
	equal for different nodes.  This gave incorrect rendering of
	correct graphs.
	Don't specify too much material (e.g., the color etc.).
	Use the graph name when possible.
	Don't issue a "size" parameter, specially with an incorrect
	content (designates the BBox...).

2003-05-19  Akim Demaille  <akim@epita.fr>

	* src/codegen/libcodegen.cc (lir_to_assem): Simplify.

2003-05-19  Akim Demaille  <akim@epita.fr>

	* src/assem/libassem.cc, src/assem/libassem.hh (print): New.
	* src/assem/instr.hh (format): Use `+=' where more elegant than
	append.
	Also report the jumps.
	* src/assem/layout.hh (visit): Provide a valid implementation to
	visit fragments.
	* src/codegen/mips/spim-layout.cc, src/codegen/ia32/gas-layout.cc:
	Use them to factor.
	* src/codegen/codegen-tasks.cc: Use variables to factor the code.

2003-05-19  Akim Demaille  <akim@epita.fr>

	* src/Makefile.am, src/ast/libast.cc, src/ast/libast.hh,
	* src/cppgen/cppgen-tasks.cc, src/translate/translate-tasks.cc,
	* src/type/type-tasks.cc, src/escapes/escapes-tasks.cc,
	* src/parse/parse-tasks.cc (the_program): Move into ast::.

2003-05-19  Akim Demaille  <akim@epita.fr>

	* src/parse/scantiger.ll: Use misc/escape to quote the bad
	characters.
	Use `string +=' instead of `append' where nicer.
	* tests/good/four-hex-backslash.tig: Output something.

2003-05-16  Akim Demaille  <akim@epita.fr>

	* tests/good/test05.tig: New.
	From Richad Idris.
	* tests/good/so-many-args-in-rec-func.tig: New.

2003-05-16  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/test-rw_prg.cc: Adjust to recent changes.
	* src/codegen/mips/Makefile.am: Be sure to use libassem.a.

2003-05-16  Akim Demaille  <akim@epita.fr>

	* src/regalloc/interference_graph.cc,
	* src/regalloc/interference_graph.hh (dump_flowgraph): Remove def
	and use.

2003-05-16  Akim Demaille  <akim@epita.fr>

	* src/Makefile.am, src/assem/Makefile.am, src/assem/instr.hh,
	* src/assem/libassem.hh, src/assem/fragment.hh,
	* src/assem/fragment.cc, src/assem/layout.hh, src/assem/visitor.hh,
	* src/codegen/libcodegen.hh, src/codegen/libcodegen.cc,
	* src/codegen/codegen.hh, src/codegen/Makefile.am,
	* src/codegen/codegen-tasks.cc, src/codegen/assembly.hh,
	* src/codegen/mips/spim-layout.cc, src/codegen/mips/spim-layout.hh,
	* src/codegen/mips/test-rw_prg.cc, src/codegen/mips/codegen.hh,
	* src/codegen/mips/codegen.cc, src/flowgraph/flowgraph-tasks.cc,
	* src/flowgraph/libflowgraph.cc,
	* src/regalloc/interference_graph.cc,
	* src/regalloc/interference_graph.hh, src/regalloc/libregalloc.cc,
	* src/regalloc/libregalloc.hh, src/regalloc/regallocator.hh,
	* src/regalloc/regalloc-tasks.cc, src/codegen/ia32/codegen.hh,
	* src/codegen/ia32/codegen.cc, src/codegen/ia32/gas-layout.hh,
	* src/codegen/ia32/gas-layout.cc: Move all the Assem fragment
	material from codegen into assem/.
	Remove the useless "Asm" or "asm_" prefixes.
	Move assem/all.hh as assem/libassem.hh.

2003-05-16  Akim Demaille  <akim@epita.fr>

	* src/graph/graph.hxx (graph): Shape is box, not rectangle, and
	size 12, not 14.
	* src/translate/translate-visitor.hh: Rename the "Main Program" as
	a simple "Main" to avoid producing white spaces in file names,
	since they confuse dotty.
	* src/flowgraph/flowgraph-tasks.cc: Use the label of the proc
	frags, so that two different routines with the same name do not
	share the same output file name.

2003-05-16  Akim Demaille  <akim@epita.fr>

	* src/ast/ast-tasks.hh: Fix comments.
	* src/flowgraph/flowgraph-tasks.hh,
	* src/flowgraph/flowgraph-tasks.cc: New.
	* src/flowgraph/Makefile.am: Adjust.

2003-05-16  Akim Demaille  <akim@epita.fr>

	* src/canon/traces.cc (make_trace): Move the normalization of the
	cjump as a postprocessing stage, once all the blocks put into a
	single trace, to make sure that even the last CJUMP is properly
	normalized.
	Fixes the failures observed since Ix is enabled by default.

2003-05-16  Akim Demaille  <akim@epita.fr>

	* src/canon/libcanon.cc: Rename as...
	* src/canon/traces.cc: this.

2003-05-16  Akim Demaille  <akim@epita.fr>

	* src/canon/canon.hh: Rename as...
	* src/canon/canon.cc: this.
	* src/canon/libcanon.cc (canonicalize): Move to...
	* src/canon/canon.cc: here.
	* src/canon/libcanon.cc (canon): Adjust.

2003-05-15  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/spim-assembly.hh, src/ast/print-visitor.hh,
	* src/cppgen/cppgen-visitor.hh, src/ast/default-visitor.hh: Typo.

2003-05-15  Akim Demaille  <akim@epita.fr>

	* src/regalloc/set.hh (Set): Rename as...
	* src/misc/set.hh (set): this.
	Adjust dependencies.
	* src/regalloc/regallocator.hh (limits.h): Don't include it.

2003-05-15  Akim Demaille  <akim@epita.fr>

	* config/studentize: No longer display the count of removed lines.

2003-05-12  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/spim-layout.cc (codegen): Remove spurious end
	of lines.
	Output them only when actually separating fragments.
	This improves the quality of the generated documents.
	* src/translate/fragment.hh (translate): Likewise.

2003-05-12  Akim Demaille  <akim@epita.fr>

	Restore the old code with inefficient "if" handling, as it is
	useful to generate material for lectures.  But make it disabled by
	default.

	* configure.ac, tests/configure.ac: Bump to 0.57.
	* src/translate/libtranslate.hh, src/translate/libtranslate.cc
	(hir_use_ifexp_p): Welcome back.
	* src/translate/translate-tasks.cc, src/translate/translate-tasks.hh
	(hir_naive): New.
	* src/translate/translation.hh (ifExpNonVoid, ifExpVoid): Restore
	* src/translate/translate-visitor.hh: Use them.

2003-05-12  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&run): Adjust the prototype to the recent
	changes, and adjust calls.

2003-05-07  Akim Demaille  <akim@epita.fr>

	* src/translate/exp.hh (translate): Adjust the comments: Ix are
	now mandatory.
	* src/translate/translation.hh (ifExpNonVoid, ifExpVoid): Remove.
	* src/translate/translate-visitor.hh (translate): Adjust.
	* src/translate/libtranslate.hh,
	* src/translate/libtranslate.cc (hir_use_ifexp_p): Remove.
	* src/translate/translate-task.hh,
	* src/translate/translate-task.cc: Remove the corresponding task
	and routine.
	* src/translate/level-env.hh: Remove student marks: give all the
	code.
	* src/canon/libcanon.cc (canon_trace_p, trace_trace_p): They are
	Booleans.
	Adjust student marks.
	* tests/tc-check.in (tarball_test): Adjust: --hir-use-ix no longer
	exists.

2003-05-07  Akim Demaille  <akim@epita.fr>

	* Makefile.am (%.diff): New.
	(studir): "target" is now in T7.
	* src/canon/canon-tasks.cc (canon): Formatting and comment changes.
	* src/translate/translate-visitor.hh (EXP_FROM): New.
	Use it.

2003-05-07  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/frame/frame.hh, src/frame/frame.cc, src/frame/Makefile.am:
	Make word_size a global.
	* src/codegen/mips/codegen.cc, src/translate/translation.hh:
	Use it.
	* src/target/target-tasks.cc:
	Update it.

2003-05-07  Akim Demaille  <akim@epita.fr>

	* Makefile.am (200%): Support version numbers with minor.

2003-05-07  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/frame/mips: Remove.

2003-05-07  Akim Demaille  <akim@epita.fr>

	* Makefile.am (200%): New.
	* config/studentize: When cutting code, count the number of lines
	cut.

2003-05-07  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/ia32/codegen.cc:
	Do not save manually the return address.
	* src/codegen/ia32/gas-assembly.cc, src/codegen/ia32/gas-layout.cc:
	Fix assembly syntax.

2003-05-07  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/translate/libtranslate.cc: Remove "translate-tasks.hh" inclusion.
	* src/task/task_register.cc, src/task/task_register.hh:
	Add task graph's dump.
	* src/task/task-tasks.cc, src/task/task-tasks.hh:
	Make graph's dump accessible through "--task-graph" option.

2003-05-05  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in: Use long option names with GNU Tar, since -j
	on Debian GNU/Linux is -y on NetBSD.
	Fix the banner and log name.
	From Stéphane Molina.

2003-04-30  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/spim-assembly.hh,
	* src/codegen/ia32/gas-assembly.hh: Import overloaded methods.
	* src/codegen/ia32/codegen.hh: Comment changes.
	* src/codegen/mips/codegen.hh, src/codegen/mips/codegen.cc,
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/codegen.cc: Remove
	useless "inline".

2003-04-30  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/frame/frame.hh,
	* src/codegen/mips/codegen.cc, src/codegen/ia32/codegen.cc:
	Use a separate offset to store arguments in frame.
	* tests/good/many-args.tig: Test arguments storage.

	* src/codegen/mips/spim-assembly.cc: Add student marks.

2003-04-30  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/codegen.hh,
	* src/codegen/mips/codegen.hh,
	* src/codegen/ia32/codegen.hh:
	Codegen IS NOT a MunchCodegen by default.

2003-04-30  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/codegen.hh: Remove dead code.
	* src/codegen/assembly.hh: Abstract builder's methods.
	* src/codegen/mips/codegen.cc: Cosmetics.
	* src/codegen/ia32/codegen.cc: Use Assembly builder.
	* src/codegen/ia32/gas-assembly.hh, src/codegen/ia32/gas-assembly.cc:
	Implement GasAssembly.

2003-04-30  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/assembly.hh: Extend Assembly builder's interface.
	* src/codegen/mips/spim-assembly.hh: Propagate it.
	* src/codegen/mips/codegen.hh: Remove dead code.
	* src/codegen/mips/codegen.cc: Use Assembly builder.
	* src/codegen/mips/spim-assembly.hh: Implement SpimAssembly.
	* src/codegen/Makefile.am: Distribute it.

2003-04-28  Benoît Perrot  <benoit@lrde.epita.fr>

	* configure.ac, src/codegen/Makefile.am:
	Add src/codegen/ia32/.
	* src/codegen/ia32/Makefile.am,
	* src/codegen/ia32/codegen.hh, src/codegen/ia32/codegen.cc,
	* src/codegen/ia32/gas-assembly.hh, src/codegen/ia32/gas-assembly.cc,
	* src/codegen/ia32/runtime.s,
	* src/codegen/ia32/gas-layout.hh, src/codegen/ia32/gas-layout.cc:
	New.
	* src/target/ia32-target.hh:
	Ia32Target use Ia32 code generator and assembly language.

2003-04-28  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/assembly.hh: Extend Assembly interface.

2003-04-28  Akim Demaille  <akim@epita.fr>

	* configure.ac, tests/configure.ac: Bump to 0.56.
	(AM_INIT_AUTOMAKE): Version 1.7.4 is out.
	* src/task/task.hh (TASK_DECLARE): Fix the definition to really
	use the task name 8-)=).
	(FunctionTask::FunctionTask): Remove useless ctors.
	* src/ast/ast-tasks.hh, src/codegen/codegen-tasks.hh,
	* src/cppgen/cppgen-tasks.hh, src/escapes/escapes-tasks.hh,
	* src/type/type-tasks.hh, src/canon/canon-tasks.hh,
	* src/translate/translate-tasks.hh: Fix the incorrect attribution
	of short option names into the description.

2003-04-28  Akim Demaille  <akim@epita.fr>

	* src/task/task.hh (Task::Task): Move implementation to...
	* src/task/task.cc (Task::Task): this new file.
	Support names such as "h|help" a la Perl's GetOpt.
	* src/task/task.hh (TASK_DECLARE): New.
	* src/task/task-tasks.hh (task): Use it.
	* src/regalloc/regalloc-tasks.hh: Ditto.
	* src/ast/ast-tasks.hh, src/codegen/codegen-tasks.hh,
	* src/cppgen/cppgen-tasks.hh, src/escapes/escapes-tasks.hh,
	* src/parse/parse-tasks.hh, src/type/type-tasks.hh,
	* src/canon/canon-tasks.hh, src/translate/translate-tasks.hh,
	* src/target/target-tasks.hh, src/temp/temp-tasks.hh,
	* src/regalloc/regalloc-tasks.hh, src/task/task-tasks.hh:
	Run "perl -000 -pi.bak /tmp/foo.pl **/*-tasks.hh", with
	"foo.pl" being:

	# Short option and deps.
	s/FunctionTask[^(]*\( # Object name
	&?(\w+)                 # 1 Function name
	,\s*group_name        # Group name
	,\s*\"([^\"]+)\"      # 2 Help string without "
	,\s*\"([^\"]+)\"      # 3 Task name
	,\s*\'([^\']+)\'      # 4 Short option without '
	,\s*\"([^\"]+)\"      # 5 Dependencies
	\)/TASK_DECLARE ("$4|$3", "$2",
			  $1, "$5")/smgx;

	# short opt no deps.
	s/FunctionTask[^(]*\( # Object name
	&?(\w+)                 # 1 Function name
	,\s*group_name        # Group name
	,\s*\"([^\"]+)\"      # 2 Help string without "
	,\s*\"([^\"]+)\"      # 3 Task name
	,\s*\'([^\']+)\'      # 4 Short option without '
	\)/TASK_DECLARE ("$4|$3", "$2",
			  $1, "")/smgx;

	# No option and deps.
	s/FunctionTask[^(]*\( # Object name
	&?(\w+)                 # 1 Function name
	,\s*group_name        # Group name
	,\s*\"([^\"]+)\"      # 2 Help string without "
	,\s*\"([^\"]+)\"      # 3 Task name
	,\s*\"([^\"]+)\"      # 4 Dependencies
	\)/TASK_DECLARE ("$3", "$2",
			  $1, "$4")/smgx;

	# No opt no deps.
	s/FunctionTask[^(]*\( # Object name
	&?(\w+)                 # 1 Function name
	,\s*group_name        # Group name
	,\s*\"([^\"]+)\"      # 2 Help string without "
	,\s*\"([^\"]+)\"      # 3 Task name
	\)/TASK_DECLARE ("$3", "$2",
			  $1, "")/smgx;

2003-04-24  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (&help): Augment.

2003-04-24  Akim Demaille  <akim@epita.fr>

	Compute correct scores, even if some Ts are skipped.

	* tests/tc-check.in (&grade_output): Eved out from...
	(&tarball_test): here.

2003-04-23  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (tarball_test_wrapper): Pass -f to bzip2.

2003-04-23  Akim Demaille  <akim@epita.fr>

	* tests/good/fractions-underloaded.tig,
	* tests/type/fractions-overloaded.tig: New.
	From Valentin David.

2003-04-23  Akim Demaille  <akim@epita.fr>

	Support long tarball names with upload time stamps, such as:
	LOGIN-tc-2-rendu1-1047612643.tar.bz2.

	* tests/tc-check.in (&tarball_parse, &tarball_base): New.
	Use them instead of calls to fileparse.

2003-04-22  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in: Error messages should be properly formatted:
	starting with the file name.
	(NO_CONTROL, CHECK_STDOUT, CHECK_STDERR, DISPLAY_STDOUT)
	(DISPLAY_STDERR): New.
	(&run, &run_tests): Use it.

	* src/parse/scantiger.ll (parse): Fix the error message: display
	the program name.

2003-04-17  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/target/ia32-cpu.hh, src/target/ia32-target.hh: New.
	* src/target/Makefile.am: Distribute them.
	* src/target/target-tasks.hh, src/target/target-tasks.cc:
	Add "--target-ia32".

2003-04-10  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/misc/deref.hh: New.
	* src/misc/Makefile.am: Distribute deref.hh
	* src/graph/graph.hxx (print): Use deref.

	* src/codegen/mips/Makefile.am, src/codegen/mips/test-rw_prg.cc:
	Adapt mips's test to new back-end.
	* tests/tc-check.in: run fails with 0, and there is not a T8 stage.

2003-04-10  Benoît Perrot  <benoit@lrde.epita.fr>

	* tests/tc-check.in: Fix make's failure.

2003-04-10  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/assembly.hh, src/codegen/codegen.hh:
	Prepare assembly builder interface.

2003-04-10  Akim Demaille  <akim@epita.fr>

	* src/codegen/libcodegen.hh, src/codegen/libcodegen.cc,
	* src/codegen/codegen.hh, src/codegen/mips/test-rw_prg.cc,
	* src/codegen/mips/codegen.hh, src/target/target.hh: Finish the
	previous patch: Rename DefaultCodegen as Codegen.

2003-04-10  Akim Demaille  <akim@epita.fr>

	* src/codegen/libcodegen.hh, src/codegen/codegen.hh,
	* src/codegen/Makefile.am, src/codegen/mips/codegen.hh,
	* src/target/target.hh: Rename DefaultCodegen as Codegen.

2003-04-10  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (env, load_configuration): New.
	Use it to load a configuration file, and use its values for TC,
	havm, etc.

2003-04-10  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/target/target.hh, src/target/mips-target.hh:
	Use references, clean non const accessors.

2003-04-10  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/default-codegen.hh,
	* codegen/mips/codegen.cc, src/codegen/mips/codegen.hh:
	Cpu becomes a pointer.
	* src/codegen/codegen-tasks.cc:
	Link cpu to codegen dynamically.

2003-04-10  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/Makefile.am (runtime.cc): Fix the include.
	* src/codegen/assembly.hh: Use qualified includes.

2003-04-10  Akim Demaille  <akim@epita.fr>

	* src/codegen/asm_fragment.hh, src/codegen/asm_fragment.cc: Rename
	as...
	* src/codegen/asm-fragment.hh, src/codegen/asm-fragment.cc: these
	for consistency.
	* src/codegen/libcodegen.hh, src/codegen/default-codegen.hh,
	* src/codegen/Makefile.am, src/codegen/mips/spim-layout.cc:
	Adjust.

2003-04-10  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (tarball_test): Bump to 10s of timeout because
	of the slowness of --parse-trace.
	* src/codegen/mips/spim-layout.hh: Add the missing namespace mips.
	* src/codegen/mips/Makefile.am (runtime.cc): Output a qualified
	include.

2003-04-10  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/libcodegen.hh: Do not include "runtime.hh" anymore,
	but "spim-assembly.hh".
	* src/codegen/mips/asm_fragment.cc, src/codegen/mips/asm_fragment.hh:
	Remove unused files.
	* src/codegen/asm_fragment.hh: Constify AsmVisitor, add const
	accessors.
	* src/codegen/asm-layout.hh: New.
	* src/codegen/Makefile.am: Distribute "asm-layout.hh"
	* src/codegen/assembly.hh: An assembly IS NOT an AsmLayout but
	aggregates one.
	* src/codegen/mips/spim-layout.hh, src/codegen/mips/spim-layout.cc:
	New (fragments's layout).
	* src/codegen/mips/Makefile.am: Distribute spim-layout.{cc,hh}
	* src/codegen/mips/spim-assembly.hh: Use SpimLayout.
	* src/codegen/codegen-tasks.cc: Use target's assembly layout to display
	fragments.
	* src/Makefile.am: Sort librairies to fix dependency problem.

2003-04-10  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/asm-visitor.hh: Include std::list !

	* src/codegen/assembly.hh: New.
	* src/codegen/Makefile.am: Distribute "assembly.hh".
	* src/codegen/mips/spim-assembly.hh: New.
	* src/codegen/mips/Makefile.am: Distribute "spim-assembly.hh",
	generate "runtime.cc" used by SpimAssembly.
	* src/target/target.hh, src/target/mips-target.hh:
	A target uses its own assembly language.
	* src/codegen/codegen-tasks.cc (display_runtime): Use target's
	assembly's runtime.

2003-04-10  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/asm-visitor.hh: New.
	* src/codegen/Makefile.am: Distribute "asm-visitor.hh".
	* src/codegen/asm_fragment.hh: Add visitor's entry point to fragments.

2003-04-09  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/mips/codegen.cc (munchLoad, munchStore): Simplify.

2003-04-08  Akim Demaille  <akim@epita.fr>

	* src/common.hh: Do not include config.h.
	* src/task/task_register.cc: Do it.
	* configure.ac, tests/configure.ac: Bump to 0.55.

2003-04-08  Akim Demaille  <akim@epita.fr>

	* src/task/task_register.cc (argp_program_version): Use
	PACKAGE_AUTHORS.
	* configure.ac (PACKAGE_TIMESTAMP): Fix the oversimplification
	that resulted in PRCS rekeying configure.ac.
	(authors.h): Replace with...
	(version.h): this.
	Put PACKAGE_TIMESTAMP in here to avoid massive recompilation via
	config.h.
	* tests/configure.ac (HAVM_PREREQ): New.
	* tests/tc-check.in (havm_version): New.
	Check it against HAVM_PREREQ.

2003-04-08  Akim Demaille  <akim@epita.fr>

	* Makefile.am (studir-check, studir): Support MODULES that allows
	to add other modules to ignore (e.g., escapes).

2003-04-06  Akim Demaille  <akim@epita.fr>

	* configure.ac (authors.h): New.
	* AUTHORS: Update.
	* Makefile.am (DISTCLEANFILES): New.
	* src/task/task_register.cc (authors.h): Include it.
	(argp_program_version): Use PACKAGE_AUTHORS so that this file is
	no longer to be changed by students.

2003-04-06  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/Makefile.am, src/codegen/mips/Makefile.am:
	Do not use mips/asm_fragment.hh nor compile mips/asm_fragment.cc .
	* src/codegen/asm_fragment.cc, src/codegen/asm_fragment.cc:
	Move the code from codegen/mips/asm_fragment.* to codegen/.
	* src/codegen/libcodegen.cc, src/codegen/default-codegen.hh,
	* src/codegen/mips/codegen.hh, src/codegen/mips/codegen.cc,
	* src/regalloc/interference_graph.hh, src/regalloc/libregalloc.cc,
	* src/regalloc/regallocator.hh:
	Use codegen::'s Asm{Proc,Data}Frag instead of mips::'s.

2003-04-05  Akim Demaille  <akim@epita.fr>

	* Makefile.am (studir): Update for target, and other Ts.

2003-04-05  Akim Demaille  <akim@epita.fr>

	* src/common.hh (exit_t): Hide the exit status that the student
	won't need (those related to checking the escapes).
	* src/tc.cc, src/common.hh (time_report_p): Remove.
	(main): No longer try to remove the AST, that's a job for
	--ast-delete.
	* src/misc/timer.hh (task_map_t): New.
	(iter): Remove.
	(pop): Be public.
	(dump_on_destruction, dump_stream): New.
	(Timer::~Timer): New.
	* src/misc/timer.cc:Clean up.
	(TimerVar::is_zero): New.
	(main): Don't "new" when useless.
	* src/task/task-tasks.cc (tasks_time_report): Use dump_on_destruction.

2003-04-05  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/target/mips-cpu.hh: Inline init_registers.

2003-04-05  Akim Demaille  <akim@epita.fr>

	* src/canon/canon-tasks.hh, src/regalloc/regalloc-tasks.hh,
	* src/codegen/codegen-tasks.hh: Fix group names.

2003-04-05  Akim Demaille  <akim@epita.fr>

	* src/target/mips-cpu.hh: Simplify a few constructor calls.

2003-04-05  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/target: New.
	* src/target/cpu.hh, src/target/mips-cpu.hh: New.
	* src/target/target.hh, src/target/mips-target.hh: New.
	* src/target/target-tasks.cc, src/target/target-tasks.hh: New.

	* src/frame/frame.hh: Restore old Frame, making it more
	achitecure independant.
	* src/frame/Makefile.am: Disable src/frame/mips.

	* configure.ac: Generate src/target/Makefile, skip src/frame/mips.
	* src/Makefile.am (SUBDIRS): Add target
	* src/Makefile.am (tc_LDADD): Add libtarget.a

	* src/codegen/default-codegen.hh: A DefaultCodegen aggregates a Cpu.
	* src/codegen/codegen-tasks.cc (instruction_selection): Use the
	global target to get a Codegen.
	* src/codegen/mips/codegen.hh: mips::Codegen aggregates a MipsCpu.
	* src/codegen/mips/codegen.cc: Use the aggregated Cpu to access
	target's registers.

	* src/regalloc/libregalloc.cc, src/regalloc/libregalloc.cc
	(allocate_registers): Target's dependant.
	* src/regalloc/regallocator.hh: Color need a Cpu for target's
	registers's description and RegisterAllocator need a Codegen for
	rewriting program when spilling.
	* src/regalloc/regalloc-tasks.cc: The task asm_compute must use
	global Target for calling allocate_registers.

2003-04-05  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/regallocator (select): Do not access to unallocated
	vector _is_coalesced when coalesce_enable is not set.

2003-04-04  Akim Demaille  <akim@epita.fr>

	* configure.ac (AC_PACKAGE_TARNAME): Removing an unwanted output.

2003-04-04  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/codegen.cc (munchMove): Split into three, based
	on the dst kind.
	* src/translate/fragment.hh: Comment changes.

2003-04-04  Akim Demaille  <akim@epita.fr>

	* src/codegen/codegen-tasks.cc (instructions_display): Use ASM
	comments, not C++ comments.
	src/codegen/mips/asm_fragment.cc (asm_print_header): Remove.
	(asm_print): Move to...
	* src/codegen/asm_fragment.cc: here, new.

2003-04-04  Akim Demaille  <akim@epita.fr>

	* src/codegen/fragment.hh,, src/codegen/mips/fragment.hh: Remove.
	* src/codegen/libcodegen.hh, src/codegen/libcodegen.cc: Adjust.
	* src/codegen/Makefile.am, src/codegen/mips/Makefile.am: Adjust.
	* src/codegen/mips/asm_fragment.hh: Namespace is codegen::mips.
	(asm_fragments_t): Move it, and the related code, into...
	* src/codegen/asm_fragment.hh: here.
	* src/codegen/default-codegen.hh,
	* src/codegen/codegen-tasks.cc: Adjust.
	* src/codegen/mips/asm_fragment.cc: Namespace is codegen::mips.
	* src/codegen/mips/codegen.hh: Likewise.
	* src/codegen/mips/codegen.cc: Likewise.
	* src/regalloc/interference_graph.hh: Exhibit the dependency on
	mips.
	* src/regalloc/libregalloc.cc, src/regalloc/libregalloc.hh,
	* src/regalloc/regallocator.hh, src/regalloc/regalloc-tasks.cc:
	Likewise.

2003-04-04  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/misc, src/misc/Makefile.am: New.
	* configure.ac, src/Makefile.am:
	Add misc directory and libmisc.a to tc.
	* src/contract.hh, src/escape.hh, src/timer.cc, src/timer.hh:
	Move to src/misc.
	* src/common.hh, src/ast/print-visitor.hh, src/codegen/libcodegen.cc,
	* src/codegen/default-codegen.hh, src/codegen/mips/asm_fragment.cc,
	* src/graph/graph.hxx, src/translate/fragment.hh,
	* src/flowgraph/libflowgraph.cc:
	Change inclusion of {contract,escape,timer}.hh to
	misc/{contract,escape,timer}.hh

2003-04-04  Akim Demaille  <akim@epita.fr>

	* src/codegen/libcodegen.hh (code/mips/runtime.hh): Include.
	* src/codegen/codegen-tasks.cc (runtime_display_p): Remove.
	(instructions_display): Adjust to asm_print changes.
	* src/codegen/mips/asm_fragment.cc (asm_print): Don't display the
	runtime, hence, don't accept a "runtime_display" argument.
	* src/codegen/mips/asm_fragment.hh: Adjust.
	* src/regalloc/regalloc-tasks.cc, src/regalloc/regalloc-tasks.hh
	(asm_display): Replace with...
	(asm_dummy): this, as...
	(task_asm_display): Do it only via dependencies.

2003-04-04  Akim Demaille  <akim@epita.fr>

	* src/task/task.hh (Task::Task): find returns a position, and
	substr wants a length.

2003-04-04  Akim Demaille  <akim@epita.fr>

	* src/task/task_register.cc: Comment changes.
	* src/task/task.hh: Simplify some error messages.

2003-04-03  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/mips/asm_fragment.cc, src/codegen/mips/asm_fragment.hh:
	Add a flag to asm_print() that control the display of runtime library.
	* src/codegen/codegen-tasks.cc, src/codegen/codegen-tasks.hh:
	Add task "runtime-display".

2003-04-03  Akim Demaille  <akim@epita.fr>

	Read the fucking diff...  This would have a stupid s/_data//.

	* src/codegen/mips/Makefile.am (dist_noinst): Rename as...
	(dist_noinst_DATA): this...

2003-04-03  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/runtime_data.s, src/codegen/mips/runtime_data.hh:
	Rename as...
	* src/codegen/mips/runtime.s, src/codegen/mips/runtime.hh: these.
	* src/codegen/mips/Makefile.am (runtime.hh): Fix the guard name.

2003-04-03  Akim Demaille  <akim@epita.fr>

	* config/studentize: Support the `#' comments in addition to `//'.
	* Makefile.am (studir): Adjust to handle .s files.
	* src/codegen/mips/runtime_data.s: Add student marks.
	Comment changes.
	* src/codegen/mips/Makefile.am (runtime_data.hh): Skip student marks.

2003-04-03  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/codegen.cc: Simplify some notations
	(s/temp_//).
	(munchMove): That's a nice place for student marks.
	(allocate_frame, rewrite_program): Comment out, as anyway that's
	T9.
	* src/codegen/libcodegen.cc: Formatting changes.

2003-04-03  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in: Support --valgrind.
	* src/ast/ast-tasks.hh (ast_delete, task_ast_delete): New.
	* src/parse/parse-tasks.hh: Adjust group name.

2003-04-03  Akim Demaille  <akim@epita.fr>

	* src/codegen/default-codegen.hh (L): Many new overloaded versions
	of this function, to allocate temps_t.
	* src/codegen/mips/codegen.cc: Use them instead of the previous,
	memory leaking, version.

2003-04-03  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/codegen.cc (munchBinop): Simplify.
	* Makefile.am (studir): When making T(n), the stuff from T(n+1)
	and higher must be removed, not from T(n).
	The Type modules is "type", not "types".
	* src/temp/libtemp.hh: Fix comments.
	* src/codegen/mips/codegen.hh (_temp_op_instr, _temp_relop_map):
	Rename as...
	(_op_instr, _relop_instr): these.
	Don't include the tab, let the callers do it.

2003-04-03  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/mips.hh: Remove.
	* src/codegen/mips/Makefile.am: Adjust.

2003-04-03  Akim Demaille  <akim@epita.fr>

	Simplify the handling of targets and make easier to move to a
	dynamic choice: stop using cascades of conditional includes.

	* src/codegen/libcodegen.hh (mips/codegen.hh): Include.
	* src/codegen/default-codegen.hh (allocate_frame)
	(rewrite_program): New const pure virtuals.
	* src/codegen/mips/codegen.hh, src/codegen/mips/codegen.cc:
	Adjust, as these used to be static methods.
	Simplify argument names.
	Don't let "using namespace" escape!
	* src/codegen/mips/runtime_data.s: Space changes.
	* src/codegen/target.hh: Remove.
	* src/codegen/Makefile.am: Adjust.
	* src/codegen/codegen-tasks.cc: Adjust.
	* src/regalloc/regalloc-tasks.hh: Comment changes.
	* src/regalloc/regalloc-tasks.cc: Adjust to allocate_registers now
	wanting a codegen.
	* src/regalloc/libregalloc.hh, src/regalloc/libregalloc.cc
	(allocate_registers): Now take a codegen to allocate the frame,
	and rewrite the code upon spills.
	* src/regalloc/regallocator.hh: Take a codegen, to be able to
	rewrite spills.

2003-04-02  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/libcodegen.hh, src/codegen/libcodegen.cc:
	Treat code-generator as an argument of lir_to_assem.
	* src/codegen/default-codegen.hh, src/codegen/mips/codegen.hh:=20
	Move build_fragment_context() from mips/Codegen to DefaultCodegen.
	* src/codegen/codegen-tasks.cc: Build architecture-dependent=20
	code-generator in instruction_selection() and pass it to lir_to_assem.
	The aim is to provide the possibility to choose dynamicaly the=20
	code-generator (i.e. the target).

2003-04-02  Akim Demaille  <akim@epita.fr>

	* Makefile.am: Be sure to rename the directory, not to store it
	into the possibly existing previous one.

2003-04-02  Akim Demaille  <akim@epita.fr>

	* src/tc.cc (tempmap): Remove.

2003-04-02  Akim Demaille  <akim@epita.fr>

	* Makefile.am (studir): Support "make studir T=t".
	* src/Makefile.am (SUBDIRS): Reorder so that it works cleanly.

2003-04-02  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/mips/asm_fragment.cc, src/codegen/mips/asm_fragment.cc:
	AsmProcFrag is not a translate::ProcFrag but aggregates one;
	AsmDataFrag is not a translate::DataFrag but aggregates one.

2003-04-02  Akim Demaille  <akim@epita.fr>

	* tests/good/many-vars.tig: New.

2003-04-02  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/codegen/libcodegen.hh, src/codegen/libcodegen.cc:
	Remove some useless includes, move asm_fragments to codegen namespace.
	* src/regalloc/regalloc-tasks.cc: Propagate the use of
	asm_fragments::codegen.
	* src/codegen/default-codegen.hh: Add doxygen comments and
	protect some accessors.
	* src/codegen/fragments.hh, src/codegen/mips/fragment.hh: Cosmetics.

	* TODO: asm_fragments should be declared/defined in lib, not in task.

2003-04-02  Akim Demaille  <akim@epita.fr>

	* Makefile.am (studir): Handle AUTHORS.
	* src/escapes/escapes-tasks.hh, src/type/type-tasks.hh,
	* src/translate/translate-tasks.hh: Fix task group numbers.

2003-04-02  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/libregalloc.hh: Host flag of regalloc.hh.
	* src/regalloc/regalloc.hh: Unused so disabled.
	* src/assem/instr.hh: Do not need regalloc.hh.
	* src/regalloc/colorgraph.hh: Unused so disabled.
	* src/regalloc/Makefile.am: Do not distribute disabled files.

2003-04-02  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/interference_graph.hh: Doxygen comments added.

2003-04-02  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/regallocator.hh: Doxygen comments added.

2003-04-02  Akim Demaille  <akim@epita.fr>

	* src/temp/tempmap.hh: Be "using" clean.
	(TempMap::tempmap_t): Be private.
	* src/temp/label.hh, src/temp/temp.hh, src/temp/tempmap.hh:
	Remove useless namespace qualifiers.

2003-04-02  Akim Demaille  <akim@epita.fr>

	* src/regalloc/libregalloc.hh, src/regalloc/libregalloc.cc,
	(regalloc::tempmap): Move to...
	* src/temp/libtemp.cc (temp::tempmap): here.
	* src/temp/temp-tasks.hh, src/temp/temp-tasks.cc,
	* src/temp/libtemp.hh: New.
	* src/temp/tempmap.hh (TempMap::print, operator << (TempMap)): New.
	* src/temp/Makefile.am: Adjust.
	* src/assem/instr.hh: Use the global tempmap to print instr.
	* src/codegen/asm_fragment.hh: Likewise.
	* src/codegen/mips/asm_fragment.hh: Likewise.
	* src/translate/fragment.hh: Likewise.
	* src/regalloc/regallocator.hh: Likewise.
	* src/regalloc/regalloc-tasks.cc: Adjust.

2003-04-02  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/libregalloc.cc: Call register allocation with
	coalesce and trace flags.
	* src/regalloc/regallocator.hh (Color, RegisterAllocator::()):
	Propagate coalesce and trace flags.

	* src/regalloc/libregalloc.hh (dump_livemap): Print instruction
	list with liveness informations.
	* src/regalloc/regallocator.hh: Improve trace.

2003-04-02  Akim Demaille  <akim@epita.fr>

	* src/assem/oper.hh: Cosmetics.
	* src/assem/label.hh (print (ostr)): Remove.
	* src/assem/instr.hh (format ()): Remove.
	(format (TempMap)): The tempmap is const ref.
	(print (ostr)): Remove.
	(operator <<): Use an empty TempMap.
	* src/codegen/asm_fragment.hh: Likewise.
	* src/codegen/mips/asm_fragment.cc (print): Keep only the version
	using a const ref to TempMap.
	* src/codegen/mips/asm_fragment.hh: Adjust.
	* src/temp/tempmap.hh (strictness, _strictness, operator [] const):
	New.
	(operator ()): Adjust to handle the strictness.

2003-04-02  Akim Demaille  <akim@epita.fr>

	* src/regalloc/regallocator.hh (regalloc): Spread "const" where it
	belongs.
	* src/regalloc/colorgraph.hh, src/regalloc/libregalloc.cc:
	Cosmetic changes.
	(fstream, cstdlib): Don't include them, useless.

2003-04-01  Akim Demaille  <akim@epita.fr>

	* src/graph/test-graph.cc: Fix (partially).
	* src/graph/graph.hxx: s/string/std::&/.

2003-04-01  Akim Demaille  <akim@epita.fr>

	* src/regalloc/regallocator.hh (operator ()): Remove the spurious
	2nd argument.
	* src/frame/mips/frame.hh, src/regalloc/libregalloc.cc,
	* src/regalloc/regallocator.hh: Use temp::temps_t when possible.

2003-04-01  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/regallocator.hh: Use a vector insted of a map
	to store coalesce informations.

2003-04-01  Akim Demaille  <akim@epita.fr>

	* src/regalloc/regalloc-tasks.hh (task_asm_flowgraph_trace): New.
	* src/regalloc/regalloc-tasks.hh, src/regalloc/regalloc-tasks.cc
	(asm_flowgraph_trace): New.
	* src/regalloc/libregalloc.hh, src/regalloc/libregalloc.cc
	(trace_flowgraph_p): New.
	* src/codegen/mips/asm_fragment.cc (AsmProcFrag::print): Add the
	missing std::endl;
	* src/codegen/mips/codegen.cc (mips): Remove all the spurious "\n"
	in the emitted instructions.
	* src/graph/graph.hh (dump): Its argument string is not optional,
	and is not passed by ref, but by copy.
	* src/graph/graph.hxx (dump): Append the ".dot" extension.
	* src/graph/graph.hh, src/graph/graph.hxx (name_, name_get, name_set):
	New.
	* src/assem/instr.hh (operator<< (Instr*)): Remove, pointers are
	not to be printed specially.
	* src/regalloc/colorgraph.hh (display_body): Reactivate the code.

2003-04-01  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/interference_graph.hh, src/regalloc/regallocator.hh:
	Color is not an InterferenceGraph but aggregates one.
	Some cosmetics.

2003-04-01  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-visitor.hh: Make the "using" of
	overloaded functions public.
	* src/canon/libcanon.cc (make_traces): Move the tracing (in the
	sense of debugging) code here, instead of...
	(make_basic_blocks): Here.
	(useless_jump_p): Make sure not to use a destroyed temporary.

2003-04-01  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/Makefile.am: parse module must be compiled before ast, because
	it generates some headers used by ast.

2003-04-01  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-visitor.hh: Make the "using" of
	overloaded functions public.
	* src/canon/libcanon.cc (make_traces): Move the tracing (in the
	sense of debugging) code here, instead of...
	(make_basic_blocks): Here.
	(useless_jump_p): Make sure not to use a destroyed temporary.

2003-04-01  Akim Demaille  <akim@epita.fr>

	* src/regalloc/regallocator.hh: Use const_iterator where
	appropriate.
	* src/codegen/mips/codegen.hh, src/tree/binop.hh: Remove useless
	qualifiers.
	* src/frame/access.hh: Make sure overloaded methods are
	"using"'ed in sub classes.
	Suggested by icc.

2003-04-01  Akim Demaille  <akim@epita.fr>

	* src/assem/instr.hh (operator<< (Instr *)): Remove.
	Pointers are pointers.
	* src/graph/graph.hh, src/graph/graph.hxx (name_, name_get)
	(name_set): New.

2003-04-01  Akim Demaille  <akim@epita.fr>

	* src/temp/tempmap.hh (TempMap::insert): Take a TempMap as arg,
	instead of iterators.
	* src/regalloc/libregalloc.cc: Simplify a couple of useless
	namespace qualifiers.
	* src/regalloc/regallocator.hh (Color::_colored_nodes) Does not
	need to be a reference.

2003-04-01  Akim Demaille  <akim@epita.fr>

	* src/regalloc/regallocator.hh (get_optimized_color): Remove,
	perfectly useless.

2003-04-01  Akim Demaille  <akim@epita.fr>

	* src/temp/tempmap.hh: New.
	Will be used to introduce the TempMapId temp maps.
	* src/tc.cc, src/assem/label.hh, src/assem/instr.hh,
	* src/codegen/asm_fragment.hh, src/codegen/mips/asm_fragment.cc,
	* src/codegen/mips/asm_fragment.hh, src/frame/mips/frame.hh,
	* src/temp/Makefile.am, src/regalloc/libregalloc.hh,
	* src/regalloc/libregalloc.cc, src/regalloc/regalloc.hh,
	* src/regalloc/colorgraph.hh, src/regalloc/regallocator.hh:
	Replace regalloc.hh uses by temp::TempMap uses.

2003-04-01  Akim Demaille  <akim@epita.fr>

	* src/assem/README: New.

2003-03-26  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/regallocator.hh: Inline some tiny functions.
	Propagate use of Appel's interface.

2003-03-26  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/regallocator.hh: Use a vector instead of a map for
	simplified state. Propagate use of Appel's interface.
	* src/flowgraph/Makefile.am, src/regalloc/Makefile.am: Disable
	tests that indirectly use a "timer" without having declared it.
	Must be fixed.

2003-03-26  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/regallocator.hh: Use a vector instead of a map for
	degrees storage. Propagate use of Appel's interface.

2003-03-26  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/regallocator.hh: Progressive use of Appel's interface
	for register allocation.
	* src/regalloc/libregalloc.cc: Use RegisterAllocator instead of
	ColorGraph.
	* src/regalloc/Makefile.am: Distribute regallocator.hh.

2003-03-26  Akim Demaille  <akim@epita.fr>

	* src/flowgraph/libflowgraph.cc (flowgraph): Install the time var
	"flow graph generation".
	* src/regalloc/libregalloc.cc (regalloc): Use the time var
	"register allocation".
	* src/regalloc/interference_graph.hh: Remove dead comments.
	* src/regalloc/interference_graph.cc: Install the timer "liveness
	analysis".
	* src/regalloc/colorgraph.hh: Install the timer "rewriting from
	spill".

2003-03-26  Akim Demaille  <akim@epita.fr>

	* src/timer.hh, src/timer.cc: Update from upstream.
	* src/common.hh, src/tc.cc (time_report_p): New.
	* src/tc.cc (main): Display the time report on demand.
	* src/task/task_register.cc (execute): Pop timer with the name of
	the task.
	* src/task/task-tasks.hh (task_tasks_time_report): New.
	* src/task/task-tasks.cc (tasks_time_report): New.

2003-03-25  Akim Demaille  <akim@epita.fr>

	* tests/good/stupid-array-type.tig: New.
	* src/type/types.hh: Fix some misleading comments.

2003-03-24  Akim Demaille  <akim@epita.fr>

	* src/timer.hh, src/timer.cc: Update from upstream.

2003-03-24  Akim Demaille  <akim@epita.fr>

	* Makefile.am: Remove generated files to avoid useless conflicts
	in patches.

2003-03-20  Akim Demaille  <akim@epita.fr>

	* src/escapes/escapes-tasks.hh: Move the tasks into the tasks
	namespaces.

2003-03-20  Akim Demaille  <akim@epita.fr>

	* config/studentize: Make it stricter so that it becomes apparent
	that...
	($printit): needs to be initialized, otherwise the first line is
	skipped.
	Alexis Brouard.

2003-03-20  Akim Demaille  <akim@epita.fr>

	* src/translate/exp.hh (IfThenElseExp): Rename as
	(Ix): this.
	* src/translate/translate-tasks.cc,
	* src/translate/translate-tasks.hh,
	* src/translate/libtranslate.cc,
	* src/translate/libtranslate.hh,
	* src/translate/translate-visitor.hh,
	* src/translate/translation.hh: Adjust.

2003-03-20  Akim Demaille  <akim@epita.fr>

	* src/task/task_register.hh (TASK_ACTIVATE): Remove, unused.
	* src/ast/ast-tasks.hh, src/parse/parse-tasks.hh,
	* src/type/type-tasks.hh: Move the tasks into the tasks
	namespaces.
	* tests/tc-check.in (tarball_test): Adjust to --hir-use-ifexp
	being now --hir-use-ix.

2003-03-20  Akim Demaille  <akim@epita.fr>

	* src/codegen/codegen-tasks.hh: Move the task objects into the
	codegen::tasks namespace.
	Use '-i' and '-I' as shortcuts.
	* src/regalloc/regalloc-tasks.hh (regalloc): Likewise.
	Use '-s' and '-S' as shortcuts, not '-r' and '-R'.

2003-03-20  Akim Demaille  <akim@epita.fr>

	* configure.ac (src/modules.hh): Having a libfoo.hh is no longer
	accepted.
	* src/cppgen/libcppgen.hh, src/cppgen/libcppgen.cc:
	Move tasks handling to...
	* src/cppgen/cppgen-tasks.hh, src/cppgen/cppgen-tasks.cc:
	these new files.

2003-03-20  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-tasks.hh: Move the tasks into the
	translate::tasks namespace.
	* src/canon/libcanon.hh, src/canon/libcanon.cc:
	Move tasks handling to...
	* src/canon/canon-tasks.hh, src/canon/canon-tasks.cc:
	these new files.

2003-03-20  Akim Demaille  <akim@epita.fr>

	* src/common.hh, src/tc.cc (tempmap): Move to...
	* src/regalloc/libregalloc.hh, src/regalloc/libregalloc.cc: here.
	Move tasks handling to...
	* src/regalloc/regalloc-tasks.hh, src/regalloc/regalloc-tasks.cc:
	these new files.
	* src/task/task_register.cc (register_task): Display the short
	option name when complaining about duplicates.

2003-03-20  Akim Demaille  <akim@epita.fr>

	* src/tc.cc (parse/libparse.hh): Include.
	* src/common.hh, src/tc.cc (fragments): Move to...
	* src/translate/libtranslate.hh, src/translate/libtranslate.cc:
	Here.
	Move tasks handling to...
	* src/translate/translate-tasks.hh,
	* src/translate/translate-tasks.cc: here.
	* src/canon/libcanon.hh, src/codegen/codegen-tasks.cc: Adjust.

2003-03-20  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/type/libtype.hh, src/type/type-env.hh, src/type/types.hh:
	Doxygen comments added.
	* src/task/task_register.cc:
	Correct memory leaks of singleton model and argp options table
	generation.

2003-03-19  Akim Demaille  <akim@epita.fr>

	* tests/good/test01.tig, tests/good/test02.tig,
	* tests/good/test03.tig, tests/good/test08.tig,
	* tests/good/test12.tig: Rename as...
	* tests/good/array.tig, tests/good/array-of-alias.tig,
	* tests/good/record.tig, tests/good/if.tig,
	* tests/good/for-in-let.tig: these.

2003-03-19  Akim Demaille  <akim@epita.fr>

	* src/type/types.hh (operator==, assignable_to, comparable_to):
	Embed the necessary "actual ()" dereferencing, so that callers to
	these functions/methods do not have to worry about "actual ()".
	Work on references instead of pointers.
	(Named::comparable_to, Named::assignable_to): New, now required as
	the callers do not invoke "actual ()", so that treatment for Named
	is different.
	* src/type/type-visitor.hh (check_types_equal)
	(check_types_comparable, check_types_assignable, visit (OpExp)):
	Remove now useless "actual" invocations.
	(visit (RecordExp)): Remove a useless duplicate "actual" invocation.

2003-03-19  Akim Demaille  <akim@epita.fr>

	* tests/configure.ac, configure.ac: Bump to 0.53.
	* src/task/task_register.cc (parse_arg): Be sure to initialize all
	the members of the tc_options struct.
	Suggested by Valgrind.

2003-03-19  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh (type): No transitive "using".
	* src/translate/translate-visitor.hh (translate): Likewise.

2003-03-18  Akim Demaille  <akim@epita.fr>

	* configure.ac (CXXFLAGS): Don't pass -ggdb, as it bugs NetBSD's
	linker.

2003-03-17  Akim Demaille  <akim@epita.fr>

	* src/ast/ast-tasks.hh (task_ast_display): Support '-A'.
	* src/tc.cc (main): For the time being, don't dump the timing.

2003-03-17  Akim Demaille  <akim@epita.fr>

	* src/timer.cc, src/timer.hh: New.
	* src/common.hh (timer.hh): Include.
	* src/common.hh, src/tc.cc (timer): New.
	* src/tc.cc (main): Use it.
	* src/task/task_register.cc (execute): Time each task.

2003-03-17  Akim Demaille  <akim@epita.fr>

	* configure.ac, tests/configure.ac: Version 0.52.

2003-03-13  Akim Demaille  <akim@epita.fr>

	* configure.ac: Remove the "set +x".
	* src/ast/recordty.hh: Fix a student mark.
	* src/type/types.hh (Named::name_get): Remove, as the name of a Type
	should never be known (except for error messages, handled by <<
	anyway).
	* src/symbol/symbol.cc, src/symbol/symbol.hh: Qualify the includes.

2003-03-12  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/interference_graph.hh,
	* src/regalloc/interference_graph.cc:
	Use map structure intensively to speed up register allocation.

2003-03-11  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/graph/graph.hh, src/graph/graph.hxx: Split the graph file for
	lisibility.
	* src/graph/handler.hh, src/graph/handler.hxx,
	* src/graph/iterator.hh, src/graph/iterator.hxx: New.
	* src/graph/Makefile.am: Propagate the split by distributing the new
	files.

2003-03-10  Akim Demaille  <akim@epita.fr>

	* configure.ac (PACKAGE_TIMESTAMP): New.
	* src/task/task_register.cc (argp_program_version): Use it.

2003-03-06  Akim Demaille  <akim@epita.fr>

	* src/graph/Makefile.am (CLEANFILES): Add the test outputs.
	* src/Makefile.am (SUBDIRS): Going into assem once is better.

2003-03-06  Akim Demaille  <akim@epita.fr>

	* src/Makefile.am (tc_SOURCES): Add contract.hh.

2003-03-06  Akim Demaille  <akim@epita.fr>

	* src/codegen/asm_fragment.hh (print_label_framesize): Remove.
	* src/frame/mips/frame.hh (label_framesize_get): Remove.
	* src/codegen/mips/asm_fragment.cc (AsmProcFrag::print):
	Don't use it.

2003-03-06  Akim Demaille  <akim@epita.fr>

	* src/type/test-type.cc (cassert): Include.
	* src/codegen/mips/asm_fragment.cc (AsmDataFrag::print): Use
	"escape" to output strings.
	* configure.ac (modules.hh): Don't avoid regalloc.

2003-03-05  Benoît Perrot  <benoit@lrde.epita.fr>

	* configure.ac, src/Makefile.am:
	Re-enable register allocation.

	* src/flowgraph/test-flowgraph.cc: test new register allocation.

	* src/regalloc/libregalloc.hh, src/codegen/codegen-tasks.hh:
	redefine register allocation tasks.
	* src/task/task_register.cc: fix error messages.

2003-03-05  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/regalloc/libregalloc.cc,
	* src/regalloc/interference_graph.hh,
	* src/regalloc/interference_graph.cc,
	* src/regalloc/colorgraph.hh:
	Use new graph class.

2003-03-05  Akim Demaille  <akim@epita.fr>

	* tests/good/substring.tig: No need to over quote now.
	* src/flowgraph/test-flowgraph.cc (assem/all.hh): Include.
	* src/graph/graph.hxx (cassert): Include.

2003-03-05  Akim Demaille  <akim@epita.fr>

	* configure.ac, src/Makefile.am: Comment and formatting changes to
	sync with the slides of the lecture.
	* tests/escapes/escapes-n-recursion.tig: The whole body of "one"
	depends on input > 0.

2003-03-03  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/flowgraph/libflowgraph.cc: Adapt flowgraph creation algorithm
	to new graph class.
	* src/flowgraph/flowgraph.hh: Include only "assem/instr.hh"
	instead of "assem/instr.hh".

2003-03-03  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/graph/graph.hh, src/graph/graph.hxx:
	Fix some oriented graph's features.

2003-03-01  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/graph/graph.hh, src/graph/graph.hxx:
	Add graph print and dump.
	* src/graph/test-graph.hh: Test dump.

2003-02-28  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/graph/graph.hh, src/graph/graph.hxx: Add brutal predecessors
	computation, correct some typo mistakes.
	* src/graph/test-graph.hh: Test the predecessors.

2003-02-28  Akim Demaille  <akim@epita.fr>

	Tasks for instruction selection.

	* src/codegen/libcodegen.hh: Move the declaration of the Tasks
	to...
	* src/codegen/codegen-tasks.cc, src/codegen/codegen-tasks.hh:
	these new files, using FunctionTasks.
	Number as 7, to match with T numbers.

	Move global vars into their module.

	* src/tc.cc, src/common.hh (asm_fragment): Move to...
	* src/codegen/libcodegen.cc,src/codegen/libcodegen.hh: here.

	Some T7 checks.

	* tests/good/getchar.tig: Disabled, for the time being.
	* tests/tc-check.in (tarball_test): Have a minimal check for
	--instructions-display.

2003-02-28  Akim Demaille  <akim@epita.fr>

	* src/task/libtask.hh: Remove.
	* src/task/task-tasks.cc, src/task/task-tasks.hh: New, using
	FunctionTasks.
	Number from 0, to match with T numbers.

2003-02-28  Akim Demaille  <akim@epita.fr>

	* src/parse/parse-tasks.hh, src/ast/ast-tasks.hh: Comment changes.

2003-02-28  Benoît Perrot  <benoit@lrde.epita.fr>

	Some graph's functionnalities should be checked or (re-)implemented.

	* configure.ac, src/Makefile.am: Enable flowgraph, codegen and assem.
	* src/type/type-tasks.cc, src/type/type-tasks.hh: New task desing.

	* src/graph/graph.hh, src/graph/graph.hxx:
	Add graph orientation. Use aggregation instead of mixin class
	for hedge and hnode(for the moment).
	* src/flowgraph/flowgraph.hh,
	* src/flowgraph/libflowgraph.hh, src/flowgraph/libflowgraph.cc:
	Use new graphs.

	* src/codegen/mips/runtime_data.s: Comment getchar

2003-02-28  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/codegen.cc (munchCall): Remove a loop remaining
	from a patch incorrectly applied.

2003-02-28  Akim Demaille  <akim@epita.fr>

	* src/translate/fragment.hh (ProcFrag::frame_get const): New.

	Import the following patch:
	2003-01-27  Daniel Gazard  <gazard_d@epita.fr>

	* src/frame/mips/frame.hh (arg_add): New. Resize the frame (if
	needed) to make slots for arguments passed on the stack.
	(get_current_frame_size): Adjust. Now the frame size is '_offset +
	_arg_offset'.

	* src/codegen/mips/codegen.cc (munchCall): Adjust to handle
	correctly function call which have more than 4 arguments.
	(build_fragment_context): Adjust to move arguments passed on the
	stack to their dedicated locations.

	* src/codegen/mips/asm_fragment.cc (print): Call
	'print_label_framesize' before displaying the fragment asm output.

	* src/codegen/mips/asm_fragment.hh (print_label_framesize): New.

	* src/codegen/libcodegen.cc (lir_to_assem): Adjust the 'codegen'
	method call.

	* src/codegen/default-codegen.hh (codegen): Add a new parameter
	'frame::Frame&'. The frame is needed to get the name of the label
	which hold the frame size of the current fragment.

2003-02-28  Yann Régis-Gianas  <yann@lrde.epita.fr>

	* src/graph/graph.hh: Re-design the Graph class.
	* src/graph/graph.hxx: Implement it.
	* src/graph/test-graph.cc: New.
	* src/graph/node.hh: Remove.
	* src/contract.hh: New.
	* src/graph/Makefile.am: Add test-graph.

2003-02-28  Akim Demaille  <akim@epita.fr>

	* src/escape.hh (operator<<): Make it inline.
	* src/translate/fragment.hh: Escape strings fragments.
	* tests/good/getchar.tig: Use double quotes, not simple quotes.
	* tests/good/string-escapes.tig, tests/good/string-octal.tig
	* tests/good/string-backslash.tig: Rename as...
	* tests/good/string-backslash-tortured.tig,
	* tests/good/string-backslash-octal.tig,
	* tests/good/string-backslash-char.tig: these.
	Use call print to check the runtime result.

2003-02-28  Akim Demaille  <akim@epita.fr>

	* tests/good/getchar.in, tests/good/getchar.tig: New.

2003-02-28  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (ir_check_one): Admit an additional argument
	for the input to provide, as now it is not necessarily at the same
	place as the Tiger file (e.g., when compiling an unparsed file).

2003-02-27  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in ($stdtig): New.
	(&ast_check): Run 'tc -A', 'tc -A | tc -A' and compare the
	outputs.
	Check that this output gives the same result at runtime than the
	original file, using the reference compiler and havm.
	No longer compare against a reference AST.
	Prototype it, as it is used before being defined.
	* tests/mk-Makefile-am: Remove '*.ast' targets.

2003-02-27  Yann Régis-Gianas  <yann@lrde.epita.fr>

	* configure.ac: Disable codegen, flowgraph, regalloc modules.
	* src/Makefile.am: Likewise.

2003-02-27  Akim Demaille  <akim@epita.fr>

	* config/studentize: Be sure to remove the original file.
	Add Emacs style comments.
	* Makefile.am (studir): Remove existing files.

2003-02-26  Akim Demaille  <akim@epita.fr>

	* src/ast/libast.hh: Really include all.hh: too many modules use
	*the_program, and therefore need some understanding of Ast classes.
	* src/escapes/libescapes.hh: Include libast.hh.

2003-02-26  Akim Demaille  <akim@epita.fr>

	Rename task-foo as foo-tasks.

	* parse/task-parse.hh, ast/task-ast.hh, escapes/task-escapes.hh,
	* parse/task-parse.cc, ast/task-ast.cc, escapes/task-escapes.cc:
	Rename as...
	* parse/parse-tasks.hh, ast/ast-tasks.hh, escapes/escapes-tasks.hh,
	* parse/parse-tasks.cc, ast/ast-tasks.cc, escapes/escapes-tasks.cc:
	These.

	Adjust modules.hh.

	* configure.ac (modules.hh): Adjust to prefer foo-tasks files over
	libfoo.hh.
	* src/tc.cc: Adjust.

	Fix include dependency issues.

	* src/ast/decls.hh: Complete.
	* src/ast/all.hh: Include it to have it checked.
	* src/ast/libast.hh: Include decls.hh which is simpler than
	all.hh, and enough in most cases, except...
	* src/parse/parsetiger.yy: Include all.hh.
	* src/cppgen/libcppgen.hh: Include libast.hh to get the_program.

2003-02-26  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/tc.cc: Move global variables' definition to
	corresponding modules.

	For each task, use a FunctionTask object instead of
	derivating and instanciating a new class.

	* src/task/task.hh: Add class FunctionTask.
	* src/parse/libparse.hh, src/parse/libparse.cc,
	* src/parse/task-parse.hh, src/parse/task-parse.cc:
	Move 'parse' related tasks from libparse to dedicated files.
	* src/ast/libast.hh, src/ast/libast.cc,
	* src/ast/task-ast.hh, src/ast/task-ast.cc:
	Move 'ast' related tasks from libparse to dedicated files.
	* src/escapes/libescapes.hh, src/escapes/libescapes.cc,
	* src/escapes/task-escapes.hh, src/escapes/task-escapes.cc:
	Move 'escapes' related tasks from libescapes to dedicated files.

2003-02-25  Akim Demaille  <akim@epita.fr>

	* src/ast/arrayexp.hh, src/ast/assignexp.hh, src/ast/breakexp.hh,
	* src/ast/fieldvar.hh, src/ast/intexp.hh, src/ast/stringexp.hh:
	Add student marks.
	* tests/tc-check.in: Extend timeouts.
	Add style comments.

2003-02-25  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in: Adjust $timeout uses to 4s and 10s.
	src/ast/Makefile.am (libast_a_SOURCES): Remove escapes and cppgen
	files.

2003-02-25  Akim Demaille  <akim@epita.fr>

	* src/canon/libcanon.hh (class TaskLIRDisplay): Activate it.
	* src/codegen/libcodegen.hh: Use TASK_ACTIVATE.

2003-02-25  Akim Demaille  <akim@epita.fr>

	Remains of the previous patch.

	* src/ast/escapes-check-visitor.hh (ast): Adjust "using" uses.

	Student marks.

	* src/ast/print-visitor.hh: Widely extend the student marks:
	remove the whole content of PrintVisitor...
	* config/studentize: Modernize.
	* Makefile.am (studir): Adjust.

	Escapes module.

	* src/ast/libast.cc (escapes_sl_display_p, escapes_tags_display_p)
	(escapes_sufficient_check_p, escapes_necessary_check_p, escapes_find)
	(escapes_check): Move to...
	* src/escapes/libescapes.hh: this new file.
	* src/ast/libast.hh (TaskEscapesCheck, TaskEscapesCompute)
	(TaskEscapesDisplay, TaskEscapesNecessaryCheck)
	(TaskEscapesSlDisplay, TaskEscapesSufficientCheck)
	(TaskEscapesTagsDisplay): Move to...
	* src/escapes/libescapes.cc: this new file.
	* src/ast/escapes-check-visitor.hh, src/ast/escapes-visitor.hh:
	Move to...
	* src/escapes/escapes-check-visitor.hh,
	* src/escapes/escapes-visitor.hh: here.


	C++ gen module.

	* src/ast/libast.cc (generate_cpp): Move to...
	* src/cppgen/libcppgen.cc: this new file.
	* src/ast/libast.hh (TaskCppGen): Move to...
	* src/cppgen/libcppgen.hh: this new file.
	* src/ast/cppgen-visitor.hh: Move to...
	* src/cppgen/cppgen-visitor.hh: here.

	Various.

	* src/canon/libcanon.hh: Use TASK_ACTIVATE.

2003-02-25  Akim Demaille  <akim@epita.fr>

	* src/regalloc/libregalloc.hh (class TaskAsmTrace): Fix helping
	string.
	* src/parse/libparse.hh: Use TASK_ACTIVATE.
	* src/parse/Makefile.am (FROM_PARSETIGER_YY): Add position.hh.

2003-02-25  Akim Demaille  <akim@epita.fr>

	* src/ast/default-visitor.hh, src/ast/print-visitor.hh,
	* src/ast/escapes-visitor.hh: Don't "using" overloaded methods
	from grand parents, just parents.

2003-02-20  Akim Demaille  <akim@epita.fr>

	Use the location as in the latest CVS Bison version instead of our
	own.

	* src/ast/position.hh (Position): Define as yy::Position.
	* src/ast/location.hh (Location): Define as yy::Location.
	* src/parse/parsetiger.yy (location_type): Remove.
	* src/parse/scantiger.ll: Adjust to the new Location method names:
	lines instead of line, and columns instead of column.

2003-02-19  Akim Demaille  <akim@epita.fr>

	* src/ast/location.hh: Simplification, to prepare integration into
	upstream Bison.
	* src/parse/parsetiger.yy (Parser::error_): Call exit_set instead
	of using errors.
	* src/parse/libparse.hh, src/parse/libparse.cc (errors): Remove,
	now useless.
	* src/parse/parsetiger.yy: Adjust students marks.
	* src/parse/scantiger.ll: Use exit_set.
	* src/task/task.hh (class Task): This class is abstract, no need
	for a private default ctor.

2003-02-07  Benoît Perrot  <benoit@lrde.epita.fr>

	* ast/cppgen-visitor.hh, ast/libast.hh, ast/libast.cc: Add
	Tree As Type generation, provided by Francis Maes.
	* ast/: Comment visitors and remove some header inclusions.

2003-02-07  Benoît Perrot  <benoit@lrde.epita.fr>

	* ast/: Add last doxygen comments to Ast hierarchy.

2003-02-05  Benoît Perrot  <benoit@lrde.epita.fr>

	* ast/: Add doxygen comments.

2003-02-05  Akim Demaille  <akim@epita.fr>

	* src/escape.hh (operator<<): Be sure to set the width to 2, so
	that "0" be printed "00".

2003-02-05  Akim Demaille  <akim@epita.fr>

	Make sure the strings with weird characters are properly escaped
	in the displayed AST.

	* src/escape.hh (operator<<): New.
	* tests/cannot-reparse/merge.in, tests/cannot-reparse/merge.tig,
	* tests/cannot-reparse/nul-character.tig,
	* tests/cannot-reparse/substring.tig,
	* tests/cannot-reparse/string-backslash.tig: Move to...
	* tests/good/merge.in, tests/good/merge.tig,
	* tests/good/nul-character.tig, tests/good/substring.tig,
	* tests/good/string-backslash.tig: here.
	* tests/cannot-reparse: Remove.
	* tests/configure.ac, tests/Makefile.am, tests/tc-check.in: Adjust.

2003-02-05  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (tarball_test): Be sure to pass --parse when
	no action is selected.
	* src/parse/libparse.hh (TaskScanTrace::TaskScanTrace)
	(TaskParseTrace::TaskParseTrace): Do not depend upon "parse" as it
	results in running the parser before setting the option.

2003-02-05  Akim Demaille  <akim@epita.fr>

	* configure.ac: Quote properly.
	* src/Makefile.am: Make it fit on a slide.
	* src/parse/parsetiger.yy (biglvalue): Define it with a single
	lhs.
	Minor reformatting changes.

2003-02-05  Akim Demaille  <akim@epita.fr>

	* argp/argp-parse.c (parser_parse_next): Add a missing exchange
	invocation that cause trailing options to be considered as
	arguments.
	From Niels Möller.
	* argp/argp-help.c (uparam_names): Complete its initialization to
	avoid warnings.
	* argp/argp-parse.c (argp_default_options, argp_version_options):
	Likewise.
	* argp/argp-test.c (sub_options, sub_argp, options, argp_children)
	(argp): Likewise.

2003-02-04  Akim Demaille  <akim@epita.fr>

	* src/parse/scantiger.ll (active_str): Remove, useless (the point
	was merely efficiency: winning an indirection per string
	manipulation.  That's weak).

2003-02-03  Benoît Perrot  <benoit@lrde.epita.fr>

	* parse/: Add doxygen comments.
	* ast/: Add doxygen comments.

2003-02-03  Akim Demaille  <akim@epita.fr>

	* tests/type/type-nil.tig: Remove, duplicate with
	unconstrained-nil.tig.
	* TODO: Update.

2003-02-03  Akim Demaille  <akim@epita.fr>

	* src/canon/test-canon.cc: Remove, useless.

2003-02-03  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (interface_check): Exit status is 64 for
	unknown option.

2003-02-03  Akim Demaille  <akim@epita.fr>

	* src/regalloc/libregalloc.hh: Some efforts for Doxygen.
	* src/regalloc/libregalloc.cc: Likewise.
	(regalloc::RemovePred): Rename as...
	(rename::UselessMove): this.
	Adjust for the tempmap to be const.
	* src/task/task.hh: Comment change.

2003-02-03  Akim Demaille  <akim@epita.fr>

	Wrong file...

	* tests/cannot-reparse/builtins.in, tests/cannot-reparse/builtins.tig:
	Move to...
	* tests/good/builtins.in, tests/good/builtins.tig: here.
	* tests/good/substring.tig: Move to...
	* tests/cannot-reparse/substring.tig: here.

2003-02-03  Akim Demaille  <akim@epita.fr>

	* tests/good/builtins.in, tests/good/builtins.tig: Move to...
	* tests/cannot-reparse/builtins.in, tests/cannot-reparse/builtins.tig:
	here.

2003-02-03  Akim Demaille  <akim@epita.fr>

	* tests/tc-check.in (tarball_test): Be sure to pass
	--escapes-compute early enough (i.e., before -H, -S etc.).
	(&run): Specify the timeout value when it's over.

2003-02-03  Akim Demaille  <akim@epita.fr>

	* src/graph/node.hh: Formatting changes.
	(goes_to): Simplify the code.
	(come_from): Likewise.
	Rename as...
	(comes_from): this.
	* src/regalloc/colorgraph.hh: Formatting/comment changes.

2003-02-03  Akim Demaille  <akim@epita.fr>

	* tests/good/fact.tig: Display the result.
	* tests/mk-Makefile-am: Make the Makefile.am read only.
	Be sure to pass --escapes-compute before -H/-L.
	Format the output so that we fit in 80cols.
	Have the output files depend upon Makefile.am.

2003-01-31  Akim Demaille  <akim@epita.fr>

	* Makefile.am (studir): Add .hxx.
	* src/parse/Makefile.am (MAINTAINERCLEANFILES): New.
	* src/symbol/symbol.hxx (symbol): Add student marks.

2003-01-31  Akim Demaille  <akim@epita.fr>

	* tests/escapes/escapes-n-recursion.tig: New.
	* src/ast/test-ast.cc (exit_status): Is exit_t.
	* src/codegen/mips/test-rw_prg.cc (program_name): Is const.

2003-01-31  Akim Demaille  <akim@epita.fr>

	* src/tc.cc (exit_set): Move it back to...
	* src/common.hh (exit_set): here, so that test files can use it.
	* configure.ac (CXXFLAGS): Set them instead of extending them.
	* src/ast/test-ast.cc (program_name): Is const.
	* src/task/task_register.cc (parse_opt): Let the switch be the
	outer most instruction to match argp usage.
	* src/ast/libast.hh, src/canon/libcanon.hh, src/parse/libparse.hh,
	* src/translate/libtranslate.hh, src/type/libtype.hh,
	* src/regalloc/libregalloc.hh, src/codegen/libcodegen.hh,
	* src/task/libtask.hh: Remove the useless inclusions of
	task_register.hh.

2003-01-30  Akim Demaille  <akim@epita.fr>

	* src/common.hh, src/tc.cc (program_name): Be const.
	Be initialized before main is called.
	* src/common.hh (exit_set): Declare it here, and move the
	definition into..
	* src/tc.cc: here.
	* src/regalloc/libregalloc.cc, src/regalloc/interference_graph.cc:
	Comment changes.
	* tests/tc-check.in: Invoke G++ 3.2, not 3.0.
	* src/task/libtask.hh (TaskPrintTaskOrder::TaskPrintTaskOrder):
	Don't register yourself, as it's already done in the parent ctor.

2003-01-30  Akim Demaille  <akim@epita.fr>

	* src/regalloc/set.hh (regalloc): Fix CPP guard name.
	* src/graph/node.hh, src/flowgraph/libflowgraph.hh,
	* src/regalloc/set.hh, src/assem/move.hh, src/assem/label.hh:
	Remove RCS keywords.

2003-01-29  Akim Demaille  <akim@epita.fr>

	Register in Task.
	Suggested by Nicolas Tisserand.

	* src/task/task_register.hh: Don't include task.hh.
	(class Task): New forward declaration.
	* src/task/task_register.cc: Include task.hh.
	* src/task/task.hh (Task::Task): Register the task once
	instantiated.
	* src/ast/libast.hh, src/canon/libcanon.hh, src/parse/libparse.hh,
	* src/translate/libtranslate.hh, src/type/libtype.hh,
	* src/regalloc/libregalloc.hh, src/codegen/libcodegen.hh,
	* src/task/libtask.hh: Don't register the task in the ctors, as
	it's done in Task.

	Portability to NetBSD.

	* src/codegen/mips/asm_fragment.cc (mips): Don't display the
	time.
	* src/task/Makefile.am (INCLUDES): Don't forget to -I argp/.

2003-01-27  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/task/task_register.hh,
	* src/task/task_register.cc: Need argp only in .cc,
	other files that include task_register.hh do not need
	"argp.h" any more.

2003-01-29  Akim Demaille  <akim@epita.fr>

	* configure.ac, tests/configure.ac: Bump to 0.51.
	* src/ast/Makefile.am, src/canon/Makefile.am,
	* src/frame/Makefile.am, src/parse/Makefile.am,
	* src/type/Makefile.am, src/symbol/Makefile.am,
	* src/temp/Makefile.am, src/translate/Makefile.am,
	* src/flowgraph/Makefile.am, src/regalloc/Makefile.am,
	* src/assem/Makefile.am, src/codegen/Makefile.am,
	(INCLUDES): Add -I $(top_srcdir)/argp.
	* src/task/task_register.hh (struct argp_state): Remove.
	Include argp.h.

2003-01-29  Akim Demaille  <akim@epita.fr>

	* src/task/task_register.cc (argp_program_version): Use
	PACKAGE_STRING.
	(argp_program_bug_address): New.
	* src/task/libtask.hh (TASK_ACTIVATE): Use it.
	* src/task/task_register.hh: Don't actually include argp.h,
	just...
	(struct argp_state): Forward declare.
	Now, we need -I argp/ only in task/.
	* Makefile.am (SUBDIRS): Don't forget to go into argp/...

2003-01-29  Akim Demaille  <akim@epita.fr>

	We don't need getopt, so we no longer need lib/.

	* configure.ac: Adjust, and remove the checks for a C compiler.
	* src/Makefile.am (tc_LDADD): Remove lib.a.
	* lib/Makefile.am, lib/getopt1.c, lib/getopt.c, lib/getopt.h: Remove.

2003-01-29  Akim Demaille  <akim@epita.fr>

	* src/task/Makefile.am (INCLUDES): Look into argp/.
	* src/task/task.hh: Don't include getopt.h, as we no longer use
	it.

2003-01-29  Akim Demaille  <akim@epita.fr>

	Import argp-standalone-1.1, plus some modifications.

	* argp/Makefile.am, argp/configure.in, argp/mempcpy.c,
	* argp/strchrnul.c, argp/strndup.c, argp/argp-ba.c,
	* argp/argp-eexst.c, argp/argp-fmtstream.c, argp/argp-help.c,
	* argp/argp-parse.c, argp/argp-pv.c, argp/argp-pvh.c,
	* argp/argp-test.c, argp/argp.h, argp/argp-fmtstream.h,
	* argp/argp-namefrob.h, argp/Versions: New.
	* configure.ac: Adjust.
	* src/Makefile.am (tc_LDADD): Adjust.

2003-01-29  Akim Demaille  <akim@epita.fr>

	* src/ast/libast.hh, src/canon/libcanon.hh, src/parse/libparse.hh,
	* src/translate/libtranslate.hh, src/type/libtype.hh,
	* src/regalloc/libregalloc.hh, src/codegen/libcodegen.hh
	* src/task/libtask.hh: s/(\d)>/$1./, i.e., use `1. title' instead
	of `1> title'.

2003-01-29  Akim Demaille  <akim@epita.fr>

	* src/ast/libast.hh (class TaskEscapesNecessaryCheck)
	(class TaskEscapesSufficientCheck): Remove useless --help
	information.
	Use TASK_ACTIVATE instead of hard coded instantiations.

2003-01-29  Akim Demaille  <akim@epita.fr>

	Implement --asm-trace and --asm-coalesce-disable.

	* src/task/task_register.hh (TASK_ACTIVATE): New.
	* src/common.hh, src/tc.cc (coalesce_enable_p, regalloc_trace_p):
	Move to...
	* src/regalloc/regalloc.hh, src/regalloc/libregalloc.cc: here.
	Let them be bool now that we no longer use getopt.
	Enable coalescence by default!
	* src/regalloc/libregalloc.hh (class TaskAsmTrace)
	(class TaskCoalesceDisable): New.

2003-01-29  Akim Demaille  <akim@epita.fr>

	* src/ast/libast.cc (print): Don't issue an ending newline.

2003-01-28  Akim Demaille  <akim@epita.fr>

	distcheck passes again.

	* src/Makefile.am (DISTCLEANFILES): New.
	* src/codegen/mips/Makefile.am (CLEANFILES): New.

2003-01-28  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/Makefile.am: Be sure to distribute runtime_data.s.
	(INCLUDES): Be sure to look for it there.
	* tests/tc-check.in: Remove all the references to `-l' as
	`--locations-display' as it's dead now.
	* configure.ac (PACKAGE_TARNAME): Rename as...
	(AC_PACKAGE_TARNAME): this.

2003-01-28  Akim Demaille  <akim@epita.fr>

	* src/translate/libtranslate.hh (class TaskHIRUseIfExp): It does
	*not* depend upon hir-compute, since that means that the HIR will
	be computed *before* that we decide to use the IfThenElseExp.

2003-01-28  Akim Demaille  <akim@epita.fr>

	* src/options/liboptions.hh: Rename as...
	* src/task/libtask.hh: this.
	Remove dead comments.
	Adjust the CPP guard.
	* src/options: Remove this directory.

2003-01-28  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/Makefile.am (noinst_DATA): Don't forget to ship
	runtime_data.s.
	* src/tc.cc, src/ast/location.hh, src/ast/test-ast.cc
	(locations_display_p): Remove.
	* src/options/liboptions.hh (TaskLocations): Remove.

2003-01-28  Akim Demaille  <akim@epita.fr>

	* src/options/Makefile.am (EXTRA_DIST): There is no README.
	(noinst_LIBRARIES): There is no liboptions.a to build, as there is
	no code in it.
	Reported by Nicolas Tisserand.
	* src/Makefile.am (tc_LDADD): Adjust.

2003-01-28  Akim Demaille  <akim@epita.fr>

	* src/task/task.hh (Task::Task): Fix the documentation.
	* doc/Makefile.am, doc/Doxyfile.in: New.
	* configure.ac: Have a better package name.

2003-01-28  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in: Move to...
	* tests/tc-check.in: here.
	Die if you can't find the test files.
	* config/Makefile.am, tests/Makefile.am (bin_SCRIPTS): Adjust.
	* tests/configure.ac, configure.ac: Adjust.
	Rename the packages as `tc' and `tc-tests'.

2003-01-27  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/task/task_register.cc,
	* src/task/task_register.hh: Use argp instead of getopt.
	* src/task/task.hh: Define argp compliant interface.
	* src/ast/libast.hh,
	* src/canon/libcanon.hh,
	* src/codegen/libcodegen.hh,
	* src/options/liboptions.hh,
	* src/parse/libparse.hh,
	* src/regalloc/libregalloc.hh,
	* src/translate/libtranslate.hh,
	* src/type/libtype.hh: Use new interface of Task class.

2003-01-27  Akim Demaille  <akim@epita.fr>

	* src/type/libtype.hh (TaskTypesCheck): Does depend upon parse.

2003-01-27  Akim Demaille  <akim@epita.fr>

	* src/type/libtype.hh (class TaskTypesCheck): Does *not* depend
	upon escapes-compute.

2003-01-24  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/runtime_data.s: Remove what was related to the
	fact that this file was embedded into a C++ string, i.e., replace
	\" with ".
	* src/codegen/mips/Makefile.am (runtime_data.hh): Escape / and ".

2003-01-24  Akim Demaille  <akim@epita.fr>

	* tests/good/evalexp.tig, tests/good/evalexp.in: New.

2003-01-24  Akim Demaille  <akim@epita.fr>

	* tests/good/chr.tig, tests/good/concat.tig,
	* tests/good/substring.tig: New.
	* src/codegen/mips/runtime_data.s (substring, concat): Make sure
	to allocate strlen + 5 bytes: 4 for the length of the string, and
	1 byte to let `print' put the ending `0' is requires.  This is
	because we rely on a C-string print service.
	(substring): Fix many bugs.  In particular, be sure to store the
	correct length of the string.
	(alloc): New.
	Make sure we always allocate multiples of 4, otherwise we might
	create non aligned memory, which guarantees failures (for instance
	when accessing the size of a string).
	Make sure no one use the sbrk call, but only this alloc.

2003-01-24  Benoît Perrot  <benoit@lrde.epita.fr>

	* src/task/task.hh,
	* src/task/task_register.cc,
	* src/task/task_register.hh: Add doxygen comments.

2003-01-23  Akim Demaille  <akim@epita.fr>

	* src/translate/level-env.hh (translate): Don't use "not" as label
	name, since that clashes with the MIPS assembly `not' instruction.
	* src/codegen/mips/runtime_data.s (_not): Rename as...
	(not): this.
	* tests/good/builtins.tig: Really fix this test.

2003-01-23  Akim Demaille  <akim@epita.fr>

	* src/codegen/mips/runtime_data.s (strcmp): Reimplement
	completely: the code was just comparing whether two strings are
	equal.
	(getchar): Return the empty string on EOF.
	* src/translate/translation.hh (translate): Fix a huge bug that
	caused all the ordering of the strings to be reversed.
	Note that HAVM had it wrong too, so the results were correct!

2003-01-23  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (tarball_test): Be really nice on the timeout
	when generating the asm.
	* src/codegen/mips/Makefile.am (runtime_data.hh): New target,
	built from runtime_data.s.
	* src/codegen/mips/runtime_data.s: New, from the former
	runtime_data.hh.
	(exit): New.
	* tests/good/builtins.tig (my_int): Be smaller, so that the
	substring called be valid.
	* src/codegen/mips/codegen.cc (Codegen::munchCall): Fix the
	counting of the number of arguments passed to the functions.
	* tests/good/big-lvalue.tig, tests/good/field-of-field.tig: Fix:
	make sure we don't dereference `nil'.

2003-01-19  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in ($spim, &asm_check, &asm_check_one): New.
	* src/ast/test-ast.cc (program_name): New.
	* src/codegen/mips/test-rw_prg.cc: Comments changes.

2003-01-19  Akim Demaille  <akim@epita.fr>

	* configure.ac (CXXFLAGS): Fix a typo that caused its definition
	to be skipped.
	* tests/Makefile.am (EXTRA_DIST): Add mk-Makefile-am.

2003-01-19  Akim Demaille  <akim@epita.fr>

	Finish the integration of the code from Daniel Gazard & Co.
	Warning: The previous checkin was broken.

	* src/graph/Makefile.am, src/graph/node.hh, src/graph/graph.hh:
	New.

	* src/flowgraph/test-flowgraph.cc, src/flowgraph/libflowgraph.hh,
	* src/flowgraph/libflowgraph.cc, src/flowgraph/flowgraph.hh,
	* src/flowgraph/Makefile.am: New.

	* src/regalloc/test-regalloc.cc, src/regalloc/libregalloc.hh,
	* src/regalloc/libregalloc.cc, src/regalloc/regalloc.hh,
	* src/regalloc/interference_graph.hh,
	* src/regalloc/interference_graph.cc, src/regalloc/colorgraph.hh,
	* src/regalloc/Makefile.am, src/regalloc/set.hh: New.

	* src/assem/Makefile.am, src/assem/oper.hh, src/assem/move.hh,
	* src/assem/label.hh, src/assem/instr.hh, src/assem/all.hh: New.

	* src/codegen/libcodegen.hh, src/codegen/libcodegen.cc,
	* src/codegen/default-codegen.hh, src/codegen/Makefile.am,
	* src/codegen/asm_fragment.hh, src/codegen/fragment.hh,
	* src/codegen/target.hh: New.

	* src/codegen/mips/test-rw_prg.cc,
	src/codegen/mips/asm_fragment.cc,
	* src/codegen/mips/asm_fragment.hh, src/codegen/mips/codegen.hh,
	* src/codegen/mips/codegen.cc, src/codegen/mips/Makefile.am,
	* src/codegen/mips/fragment.hh, src/codegen/mips/runtime_data.hh,
	* src/codegen/mips/mips.hh: New.

	* configure.ac (CFLAGS, CXXFLAGS): Pass -pipe.
	Adjust to the new directories.
	Bump to version 0.50.

2003-01-19  Akim Demaille  <akim@epita.fr>

	* src/translate/level.hh (frame_get, frame_size_get): New.
	* src/translate/fragment.hh (DataFrag::label_get,
	DataFrag::data_get)
	(ProcFrag::label_get, ProcFrag::name_get, ProcFrag::frame_get):
	New.
	* src/translate/translation.hh (procedureDec, functionDec): The
	frame argument is no longer const.
	* src/translate/libtranslate.hh, src/translate/libtranslate.cc
	(translate): Takes an ast::Exp, not an ast::Ast.

2003-01-19  Akim Demaille  <akim@epita.fr>

	* src/canon/libcanon.hh, src/parse/libparse.hh: Cleanup.

2003-01-19  Akim Demaille  <akim@epita.fr>

	* src/frame/access.hh (temp_get): New.
	* src/temp/label.hh (string_get, labels_t): New.
	* src/temp/temp.hh (string_get, temps_t): New.
	* src/frame/frame.hh: Move most of its body into..
	* src/frame/mips/frame.hh: here.
	(return_value_get, register_nb_get, asm_zero_get,
	(asm_frame_pointer_get, asm_stack_pointer_get,
	(asm_return_value_get, asm_return_address_get, word_size_get)
	(get_current_frame_size, callee_save_registers_get)
	(caller_save_registers_get, argument_registers_get)
	(registers_map_get, color_registers_set_get)
	(argument_registers_list_get, non_coleasceable_reg_get)
	(argument_registers_size_get): New.

2003-01-19  Akim Demaille  <akim@epita.fr>

	Equip Tree with a quick means to detect the kind of the nodes.

	* src/tree/node.hh: (kind_note_t): New.
	* src/tree/binop.hh, src/tree/call.hh, src/tree/cjump.hh,
	* src/tree/const.hh, src/tree/eseq.hh, src/tree/jump.hh,
	* src/tree/label.hh, src/tree/mem.hh, src/tree/move.hh,
	* src/tree/name.hh, src/tree/seq.hh, src/tree/sxp.hh,
	* src/tree/temp.hh (kind_get): New.
	* src/tree/binop.hh (oper_get): New.
	* src/tree/cjump.hh (relop_get): New.
	Use `const' and `&' appropriately.
	* src/tree/temp.hh (temp_get): New.

2003-01-19  Akim Demaille  <akim@epita.fr>

	* src/task/task_register.cc (register_task, build_options_struct)
	(add_task_to_execute, resolve_dependency): Try to provide
	informative messages instead of dummy abort.
	More is needed.

2003-01-17  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in ($timeout): Bump to 4.
	* src/tc.cc: Include common.hh, but not options/liboptions.hh.
	Condition the declaration of the_program and fragments with the
	inclusion of the appropriate modules.
	* src/ast/libast.hh: Fix the name of the guard.
	* tests/good/print-tree.tig: Do output something!
	* src/options/liboptions.hh: Include common.hh.

2003-01-15  Akim Demaille  <akim@epita.fr>

	* src/tc.cc (escapes_compute_p, escapes_display_p): Remove, dead.
	(escapes_sl_display_p, escapes_tags_display_p)
	(escapes_sufficient_check_p, escapes_necessary_check_p): Move to...
	* src/ast/libast.cc, src/ast/libast.hh: here.
	* src/tc.cc (hir_use_ifexp_p): Move to...
	* src/translate/libtranslate.hh, src/translate/libtranslate.cc: here.
	* src/common.hh: Adjust: remove dead declarations.

2003-01-15  Akim Demaille  <akim@epita.fr>

	* src/tc.cc (types_check_p, hir_compute_p, hir_display_p)
	(lir_compute_p, canon_display_p, lir_display_pint, ast_display_p):
	Remove, dead.
	(scan_trace_p, parse_trace_p): Move to...
	* src/parse/libparse.h, src/parse/libparse.cc: here.
	Move global functions into the `parse' namespace.
	Adjust dependencies.
	* src/parse/parsetiger.yy: Include libparse.hh.
	Don't declare the_program and errors.
	* src/options/liboptions.hh: Formatting changes.

2003-01-13  Akim Demaille  <akim@epita.fr>

	* src/ast/print-visitor.hh (PrintVisitor::print (const StringExp):
	Likewise.
	* src/translate/fragment.hh (DataFrag::print): Don't forget to
	include the quotes when outputing strings.

2003-01-10  Akim Demaille  <akim@epita.fr>

	Version 0.20.

	* configure.ac (modules.hh): Don't include src/ in the paths.
	Don't use `tempdir' which is not portable (to NetBSD for instance).

2003-01-10  Akim Demaille  <akim@epita.fr>

	Remove the uses of quotearg which is too demanding for a simple
	C++ project (it requires xmalloc, mbrtowc, error, gettext etc.).

	* m4/Makefile.am, m4/c-bs-a.m4, m4/malloc.m4, m4/mbrtowc.m4
	* m4/mbstate_t.m4, m4/prereq.m4, m4/realloc.m4, m4: Remove.
	* configure.ac, Makefile.am: Adjust.
	* configure.ac (modules.hh): Fix the location of move-if-change.
	Do not include "src/" in the header location.
	Make sure "src/" exists (this is not the case when src != build).
	Don't hard code the list of possible modules.
	Don't rely on src = build when looking for libfoo.hh.
	(jm_PREREQ_QUOTEARG, jm_FUNC_MALLOC, jm_FUNC_REALLOC): Remove
	invocations.
	Require Autoconf 2.57.
	* lib/quotearg.h, lib/quotearg.c, lib/xalloc.h, lib/xmalloc.c:
	Remove.
	* lib/Makefile.am, src/ast/print-visitor.hh,
	* src/translate/fragment.hh: Adjust.
	* config/Makefile.am (spy-macro): Remove.

2003-01-09  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in ($timeout): Bump to 3.

2003-01-09  Akim Demaille  <akim@epita.fr>

	* tests/mk-Makefile-am (RUN_TC): --display-locations is dead, use
	-l.
	* tests/tests.mk (Makefile.am): New target.

2002-11-14  Yann Régis-Gianas  <yann@lrde.epita.fr>

	* config/on_need_mv: Renamed to move-if-change.
	* config/Makefile.am: Modified in consequence.
	* configure.ac: Use it.

2002-11-14  Yann Régis-Gianas  <yann@lrde.epita.fr>

	* configure.ac:
		Add 'modules.hh' generation.
		Fix a './configure' test warning.
	* config/on_need_mv: New.
	* config/Makefile.am: Add 'on_need_mv' to SPECIFIC_TOOLS.
	* src/tc.cc: Use the generated 'modules.hh'.

2002-11-06  Quôc Peyrot  <chojin@lrde.epita.fr>

	* src/task/task_register.cc: add short options support.
	(usage): remove exit call
	* src/task/task_register.cc, src/task/task_register.hh
	(get_nb_of_task_to_execute): new function.

	* config/tc-check.in (escapes_check): revert options order and
	remove duplicated option --escapes-compute.
	* src/tc.cc (main): add task parse by default when no task to
	execute was given.
	* src/ast/Makefile.am: link with libtask.a.
	* src/options/liboptions.hh (TaskLocations): change short option
	'L' to 'l'.

2002-11-06  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy (%pure-parser): Remove, makes no sense
	for C++.
	(%error-verbose): Use it, it's cleaner that YYERROR_VERBOSE.

2002-10-30  Akim Demaille  <akim@epita.fr>

	* src/task/task_register.cc (usage): exit 0 on --help, not 1.
	(usage): New: mod_task_t, mod_tasks_t.

2002-10-29  Quôc Peyrot  <chojin@lrde.epita.fr>

	* src/tc.cc: Remove useless include.
	* ast/libast.hh: Put tasks for this module.
	* parse/libparse.hh: Likewise.
	* type/libtype.hh: Likewise.
	* translate/libtranslate.hh: Likewise.
	* canon/libcanon.hh: Likewise.
	* options/liboptions.hh: Likewise.

	* src/options/task_help.hh, src/options/task_help.cc,
	* src/options/task_printtaskorder.hh,
	* src/options/task_printtaskorder.cc,
	* src/options/task_printtasklist.hh,
	* src/options/task_printtasklist.cc, src/options/task_version.hh,
	* src/options/task_version.cc, src/options/task_locations.hh,
	* src/options/task_locations.cc, src/type/task_typescheck.hh,
	* src/type/task_typescheck.cc, src/translate/task_hiruseifexp.hh,
	* src/translate/task_hiruseifexp.cc,
	* src/translate/task_hirdisplay.hh,
	* src/translate/task_hirdisplay.cc,
	* src/translate/task_hircompute.hh,
	* src/translate/task_hircompute.cc, src/parse/task_parsetrace.hh,
	* src/parse/task_parsetrace.cc, src/parse/task_scantrace.hh,
	* src/parse/task_scantrace.cc, src/parse/task_parse.cc,
	* src/parse/task_parse.hh, src/canon/task_tracetrace.hh,
	* src/canon/task_canontrace.hh, src/canon/task_tracetrace.cc,
	* src/canon/task_lirdisplay.hh, src/canon/task_lirdisplay.cc,
	* src/canon/task_canontrace.cc, src/canon/task_maketraces.hh,
	* src/canon/task_maketraces.cc, src/canon/task_canondisplay.hh,
	* src/canon/task_canondisplay.cc, src/canon/task_canonicalize.hh,
	* src/canon/task_canonicalize.cc, src/canon/task_lircompute.hh,
	* src/canon/task_lircompute.cc,
	* src/ast/task_escapesnecessarycheck.hh,
	* src/ast/task_escapesnecessarycheck.cc,
	* src/ast/task_escapessufficientcheck.cc,
	* src/ast/task_escapessufficientcheck.hh,
	* src/ast/task_escapestagsdisplay.hh,
	* src/ast/task_escapestagsdisplay.cc, src/ast/task_escapescheck.hh,
	* src/ast/task_escapescompute.hh, src/ast/task_escapescompute.cc,
	* src/ast/task_escapescheck.cc, src/ast/task_escapesdisplay.hh,
	* src/ast/task_escapesdisplay.cc, src/ast/task_escapessldisplay.hh,
	* src/ast/task_astdisplay.cc, src/ast/task_astdisplay.hh,
	* src/ast/task_escapessldisplay.cc: Remove.

2002-10-29  Akim Demaille  <akim@epita.fr>

	* src/task/task_register.cc: Include `algorithm' so that the code
	compiles.

2002-10-29  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (ast_check): Replace a trailing
	`location-display' with -l.
	(&log_open, &log_close): Receive the $log_name instead of
	computing it.
	(&tarball_test_wrapper): Adjust, compute band use $log_name.

2002-10-29  Quôc Peyrot  <chojin@lrde.epita.fr>

	* src/tc.cc: Remove useless function usage().

2002-10-29  Quôc Peyrot  <chojin@lrde.epita.fr>

	* Task system for command line options (see src/task/README):
	* src/options/task_help.hh: New.
	* src/options/task_help.cc: Likewise.
	* src/options/task_printtaskorder.hh: Likewise.
	* src/options/task_printtaskorder.cc: Likewise.
	* src/options/task_printtasklist.hh: Likewise.
	* src/options/task_printtasklist.cc: Likewise.
	* src/options/liboptions.hh: Likewise.
	* src/options/task_version.hh: Likewise.
	* src/options/task_version.cc: Likewise.
	* src/options/task_locations.hh: Likewise.
	* src/options/task_locations.cc: Likewise.
	* src/options/Makefile.am: Likewise.
	* src/task/README: Likewise.
	* src/task/Makefile.am: Likewise.
	* src/task/task_register.cc: Likewise.
	* src/task/task_register.hh: Likewise.
	* src/task/task.hh: Likewise.
	* src/type/task_typescheck.hh: Likewise.
	* src/type/task_typescheck.cc: Likewise.
	* src/translate/task_hiruseifexp.hh: Likewise.
	* src/translate/task_hiruseifexp.cc: Likewise.
	* src/translate/task_hirdisplay.hh: Likewise.
	* src/translate/task_hirdisplay.cc: Likewise.
	* src/translate/task_hircompute.hh: Likewise.
	* src/translate/task_hircompute.cc: Likewise.
	* src/parse/task_parsetrace.hh: Likewise.
	* src/parse/task_parsetrace.cc: Likewise.
	* src/parse/task_scantrace.hh: Likewise.
	* src/parse/task_scantrace.cc: Likewise.
	* src/parse/task_parse.cc: Likewise.
	* src/parse/task_parse.hh: Likewise.
	* src/canon/task_tracetrace.hh: Likewise.
	* src/canon/task_canontrace.hh: Likewise.
	* src/canon/task_tracetrace.cc: Likewise.
	* src/canon/task_lirdisplay.hh: Likewise.
	* src/canon/task_lirdisplay.cc: Likewise.
	* src/canon/task_canontrace.cc: Likewise.
	* src/canon/task_maketraces.hh: Likewise.
	* src/canon/task_maketraces.cc: Likewise.
	* src/canon/task_canondisplay.hh: Likewise.
	* src/canon/task_canondisplay.cc: Likewise.
	* src/canon/task_canonicalize.hh: Likewise.
	* src/canon/task_canonicalize.cc: Likewise.
	* src/canon/task_lircompute.hh: Likewise.
	* src/canon/task_lircompute.cc: Likewise.
	* src/ast/task_escapesnecessarycheck.hh: Likewise.
	* src/ast/task_escapesnecessarycheck.cc: Likewise.
	* src/ast/task_escapessufficientcheck.cc: Likewise.
	* src/ast/task_escapessufficientcheck.hh: Likewise.
	* src/ast/task_escapestagsdisplay.hh: Likewise.
	* src/ast/task_escapestagsdisplay.cc: Likewise.
	* src/ast/task_escapescheck.hh: Likewise.
	* src/ast/task_escapescompute.hh: Likewise.
	* src/ast/task_escapescompute.cc: Likewise.
	* src/ast/task_escapescheck.cc: Likewise.
	* src/ast/task_escapesdisplay.hh: Likewise.
	* src/ast/task_escapesdisplay.cc: Likewise.
	* src/ast/task_escapessldisplay.hh: Likewise.
	* src/ast/task_astdisplay.cc: Likewise.
	* src/ast/task_astdisplay.hh: Likewise.
	* src/ast/task_escapessldisplay.cc: Likewise.
	* src/common.hh: Add some external declarations.
	* src/tc.cc: Now use task system.
	* ast/libast.hh: Add task instantiations
	* parse/libparse.hh: Likewise.
	* type/libtype.hh: Likewise.
	* translate/libtranslate.hh: Likewise.
	* canon/libcanon.hh: Likewise.
	* AUTHORS: Add Quôc Peyrot.

2002-10-24  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy (ltype): Rename as `location_type'.
	Reported by Quoc.

2002-10-22  Akim Demaille  <akim@epita.fr>

	* configure.ac: Autoconf 2.54 and Automake 1.7.1.
	(tc-check): Make it readonly so that I stop editing it instead of
	tc-check.in :(.
	* src/tc.cc (main): Remove dead options.
	* config/logeval-to-csv ($debug): New.
	(@files): Catch .log.bz2.
	Adjust the main loop.
	* config/tc-check.in: Adjust to new options.
	Use `-l' for --locations-print.
	Comment out the optional parts checking.

2002-10-04  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in: Simplify the syntax.

2002-10-04  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (&test_failure): New.
	Use it.

2002-10-04  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in: Put `sort' before all `keys'.
	Use consistenly `@failures' and `%summary', no mixes such as
	`@summary'.
	Display the file names first in error messages.
	Create the log files in /tmp instead of the current directory.
	(&summary): The list of failures in a... list, not a string.
	(&run): Strip the path to tests.
	(@res): Remove.
	(&try_files): Return the list of failures.
	Have a different error message for wrong exit status and signals.
	No Longer try to classify failures.
	(&run_tests): It takes a list of dirs, not a hash!

2002-09-06  Akim Demaille  <akim@epita.fr>

	* config/logeval-to-csv, config/tc-check.in: Many changes to make
	the handling of the various stages more uniform.

2002-07-30  Nicolas Burrus  <burrus_n@lrde.epita.fr>

	* src/ast/anydecs.hh: Add missing typename.

2002-07-29  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (&summary): New.
	Use it everywhere instead of adhoc schemes.
	(&try_dir): Remove.
	(&run_tests): Now that each run_tests invocation has a single
	expected exit status, take a list of directories as argument,
	instead of a hash.
	Adjust all invocations.
	* src/canon/basic-block.hh: Fix the nodes_t ctor invocation.

2002-07-29  Akim Demaille  <akim@epita.fr>

	* configure.ac: Adjust to using other C++ compilers than G++.
	* src/ast/escapes-check-visitor.hh, src/ast/print-visitor.hh,
	* src/translate/translate-visitor.hh, src/type/type-visitor.hh
	[!__COMO__]: Do not import methods from grand parents, just
	immediate parents.

2002-07-25  Nicolas Tisserand  <tisser_n@lrde.epita.fr>

	* tools/toc.php: Support new canonicalization options.

2002-07-25  Akim Demaille  <akim@epita.fr>

	* src/common.hh (lir_trace_p): Remove.
	* src/canon/libcanon.cc (canon_trace_p, trace_trace_p): New,
	replace
	(lir_trace_p): this.
	Adjust dependencies.
	* src/canon/canon.hh: Include libcanon.hh.
	* src/tc.cc (canon_display_p): New.
	Remove --lir-trace support.
	Implement -C, --canon-display, --canon-trace, --trace-trace
	support.
	(hir_to_lir): Replace with...
	(canonicalize, make_traces): these.

2002-07-24  Akim Demaille  <akim@epita.fr>

	* tests/type/order-arrays.tig: New.
	* config/logeval-to-csv: Accept .log.gz files.
	* config/tc-check.in (ast_check): Don't create .ast files...
	* tests/mk-Makefile-am: do it.
	* tests/good/for-up-to-32bits.tig: Don't exit != 0, since that
	looks like HAVM is rejecting the file.

2002-07-17  Akim Demaille  <akim@epita.fr>

	* tests/good/queens.tig (N): From 6 to 5: the timeout is sometimes
	trigerred too violently.
	* config/tc-check.in (&run): Better timeout message.

2002-07-17  Akim Demaille  <akim@epita.fr>

	* tests/good/scopes-protect-types.tig: New.
	* src/parse/Makefile.am (parsetiger.cc): Use -ra instead of -v.

2002-07-16  Raphaël Poss  <raph@lrde.epita.fr>

	* src/parse/scantiger.ll: Beat me hard. There was no memory
	leak, and "EOF in string" errors happen only once. Now nearly
	back to normal.

2002-07-16  Akim Demaille  <akim@epita.fr>

	* m4/Makefile.am, m4/c-bs-a.m4, m4/malloc.m4, m4/mbrtowc.m4,
	* m4/mbstate_t.m4, m4/prereq.m4, m4/realloc.m4, lib/quotearg.h,
	* lib/quotearg.c, lib/xalloc.h, lib/xmalloc.c: New.
	* configure.ac, Makefile.am, lib/Makefile.am, src/Makefile.am: Adjust.

	* src/ast/print-visitor.hh, src/translate/fragment.hh: Use
	quotearg, not out_string.

	* config/tc-check.in: Use a better regex to check a tarball
	content.

	* src/parse/parse.hh: Include parsetiger.hh.
	* src/parse/parsetiger.yy: Include parse.hh *after* yystype was
	defined.

2002-07-16  Raphaël Poss  <raph@lrde.epita.fr>

	* src/parse/scantiger.ll: Fix a memory leak occuring when
	many "EOF in string" errors happen.

2002-07-15  Raphaël Poss  <raph@lrde.epita.fr>

	Make distcheck works again.

	* src/parse/parsetiger.cc,
	* src/parse/parsetiger.hh,
	* src/parse/stack.hh,
	* src/parse/location.hh: Add, because a special non-public bison
	version is needed to generate these.

2002-07-15  Raphaël Poss  <raph@lrde.epita.fr>

	* src/Makefile.am,
	* src/ast/print-visitor.hh,
	* src/translate/fragment.hh,
	* src/out_string.hh: Factorize string output. Escape special
	characters ('\n', dquote)
	* config/tc-check.in: Look for havm in environment variable.
	Improper havm behaviour no longer aborts the testsuite (the
	testsuite can still be run with a bogus havm wrapper).

2002-07-11  Raphaël Poss  <raph@lrde.epita.fr>

	* src/ast/print-visitor.hh,
	* src/ast/libast.cc: Enhance the AST pretty-printer.
	* TODO: Update.

2002-07-11  Raphaël Poss  <raph@lrde.epita.fr>

	* src/ast/default-visitor.hh,
	* src/ast/escapes-visitor.hh,
	* src/ast/escapes-check-visitor.hh,
	* src/ast/print-visitor.hh,
	* src/translate/translate-visitor.hh,
	* src/type/type-visitor.hh: Tweak to compile with gcc 2.95 again.
	* src/canon/canon.hh: Fix a missing 'const' cast warned by gcc
	2.95.
	* src/parse/Makefile.am: Make the parsetiger.yy relative to
	$(srcdir) (fix make distcheck). Use lalr1.cc instead of bison.c++
	as the bison skeleton file.
	* src/parse/parsetiger.yy: Fix to compile with recent bison 1.49b.

2002-07-11  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (parse_arguments): More wrapping.

2002-07-11  Akim Demaille  <akim@epita.fr>

	* src/tc.cc: Support standard short options.

2002-07-11  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (tarball_test): Make better summaries.

2002-07-11  Akim Demaille  <akim@epita.fr>1

	`Main' does not need a static link.
	Version 0.18.

	* src/translate/level.hh, src/translate/level.cc (Level::Level):
	Remove the naive constructor: one must specify if a sl is needed
	and whether it escapes for all the functions.
	* src/translate/translate-visitor.hh
	(TranslateVisitor::TranslateVisitor): `Main' does not need a
	static link.
	* src/translate/fragment.hh (translate): Don't ``allocate'' a
	frame when not needed.

2002-07-11  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (&escapes_check): Split into two invocations:
	one for default escapes, another for computed escapes.

2002-07-11  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (&run): Return $?.
	(&interface_check, &log_open, &log_close): New.
	* tests/escapes/redeclaration.tig: Output something.
	* tests/escapes/rhs-of-a-vardec.tig: New.

2002-07-10  Akim Demaille  <akim@epita.fr>

	* tests/good/assign-and-array-instantiation.tig,
	* tests/good/two-functions-with-the-same-name.tig: New.

2002-07-10  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (&run): $display_stdout, $display_stderr are
	arguments.
	Return a boolean as success value.
	(&try): Rename as...
	(&try_dir): this.
	(&try_files): New, extracted from the above.
	(&run_tests): $display_stdout, $display_stderr are arguments...
	(&run): they have default values.
	(&option_check): New.

2002-07-09  Nicolas Tisserand  <tisser_n@lrde.epita.fr>

	* src/canon/libcanon.cc: Removed check.hh include.

2002-07-09  Akim Demaille  <akim@epita.fr>

	* tests/good/for-up-to-32bits.tig, tests/good/strcmp.tig: New.
	* src/parse/Makefile.am: Formatting changes.

2002-07-04  Akim Demaille  <akim@epita.fr>

	* tests/escapes/sl-propagation-2.tig,
	* tests/escapes/variable-inside-for-body.tig,
	* tests/escapes/sl-propagation-1.tig: New.
	* config/tc-check.in: Cleanup error messages.
	(&ir_check): Don't pass --escapes-compute.
	(&tarball_test): Do it.

2002-07-03  Nicolas Tisserand  <tisser_n@lrde.epita.fr>

	* tools/toc.php: New file (Tiger Online Compiler)

2002-07-03  Akim Demaille  <akim@epita.fr>

	* src/canon/libcanon.cc (strip_useless_jumps): New.

2002-07-03  Akim Demaille  <akim@epita.fr>

	* src/canon/check.hh: Remove, that's HAVM's job now.

2002-07-03  Nicolas Tisserand  <tisser_n@lrde.epita.fr>

	* src/parse/scantiger.ll: enabled scan-trace feature.
	* src/common.hh: Likewise.

2002-07-01  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in: Adjust to HAVM 0.4.
	* src/canon/canon.hh (valid_call): New.
	MOVE (MEM, CALL) is invalid.
	* tests/good/redefine-print.tig: Define :)

2002-06-28  Nicolas Tisserand  <tisser_n@lrde.epita.fr>

	* tests/mk-Makefile-am: Fix.

2002-06-28  Nicolas Tisserand  <tisser_n@lrde.epita.fr>

	* tests/good/Makefile.am: Fix.
	* tests/cannot-reparse/Makefile.am: Fix.

2002-06-28  Akim Demaille  <akim@epita.fr>

	* tests/good/queens.tig: Use N.

2002-06-28  Akim Demaille  <akim@epita.fr>

	* tests/good/print-chr-ord.tig, tests/good/nine.tig: New.
	* src/canon/canon.hh (canon): Fix.

2002-06-28  Akim Demaille  <akim@epita.fr>

	* src/canon/canon.hh (canon_default): Adjust to handle properly
	`MOVE (MEM FOO, ...)'.
	* tests/good/non-commutative-move-mem-expr.tig: New.

2002-06-28  Akim Demaille  <akim@epita.fr>

	* src/canon/canon.hh (_commute_p): Extract from...
	(commute_p): here.
	(commutes_with_all_eseq): New.
	(lir_seq, lir_eseq, lir_default): Rename as...
	(canon_seq, canon_eseq, canon_default): these.
	(canon_default): Fix its rotten logic.

2002-06-28  Akim Demaille  <akim@epita.fr>

	* src/tests/canon/call.tig, src/tests/canon/commutation-1.tig,
	* src/tests/canon/commutation-2.tig, src/tests/canon/functions.tig,
	* src/tests/canon/side-effects-in-init.tig,
	* src/tests/canon/side-effects-in-sxp.tig: Move to...
	* src/tests/good: here.

2002-06-28  Akim Demaille  <akim@epita.fr>

	* tests/canon/commutation-1.tig, tests/canon/commutation-2.tig:
	Adjust to really test the output.
	* tests/good/of-precedence.tig: Don't depend on VarDec.
	* tests/good/for-high-computed-once.tig,
	* tests/type/empty-decs-type.tig: New.

2002-06-28  Akim Demaille  <akim@epita.fr>

	* src/ast/test-ast.cc: Symbols are now destroyed, so new'd symbols.
	* config/tc-check.in (&tarball_test_wrapper): Send the log to the
	leader.

2002-06-17  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in: Adjust so that several tc-check can run
	concurrently.
	Always display the file that does not pass.
	Avoid extra nl between a test run, and its error message.
	($file_base, $stdir): New.
	($stdout, $stderr): Use $file_base.
	(&ir_check): Use --compute-escapes.
	(&report_file): Limit to 2Kb, not 10Kb.
	* config/logeval-to-csv: Take a promotion as $1.
	(@files): New.
	Fetch the students.list, *.log and *.eval files automatically.

2002-06-10  Nicolas Burrus <burrus_n@epita.fr>

	* configure.ac: Automake required version fixed.
	* src/ast/arrayexp.hh, src/ast/arrayty.hh, ast/astcallexp.hh,
	* src/ast/field.hh, src/ast/fieldvar.hh, src/ast/fieldexp.hh,
	* src/ast/functiondec.hh, src/ast/namety.hh, src/ast/recordexp.hh,
	* src/ast/simplevar.hh, src/ast/typedec.hh, src/ast/vardec.hh : Memory
	leaks with symbols fixed.
	* src/tc.cc : Destroy the_program on exit.
	* src/ast/anydecs.hh: Destructor updated, Ds become reference.
	* src/ast/stringexp.hh: Keep string as reference to destroy it.

2002-06-10  Akim Demaille  <akim@epita.fr>

	* src/translate/level.hh, src/translate/access.hh: Comment changes.

2002-06-10  Akim Demaille  <akim@epita.fr>

	* config/logeval-to-csv: Use `1,7', not `1.7'.
	* tests/mk-Makefile-am: Create foo.hpr and foo.lpr.

2002-06-06  Akim Demaille  <akim@epita.fr>

	* tests/escapes/escapes-scopes.tig,
	* tests/escapes/variable-escapes.tig: Output something.

2002-06-06  Akim Demaille  <akim@epita.fr>

	* config/logeval-to-csv: Handle bonus in T4.
	* config/tc-check.in (&report_file): Add an extra eol, as some
	people don't seem to be handle to create a file AUTHORS with a
	ending eol.

2002-06-05  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-visitor.hh (translate): Fix a broken
	student mark.

2002-06-05  Akim Demaille  <akim@epita.fr>

	* config/logeval-to-csv: Use `;' as separator for functions, as
	with `,', I'm always rejected by Gnumeric.
	Fix the computation of T4 grades.

2002-06-05  Akim Demaille  <akim@epita.fr>

	* config/logeval-to-csv: Implement support for T4.
	Implement `super_patch', `bonus'.
	Be case insensitive where benign.

2002-06-05  Akim Demaille  <akim@epita.fr>

	* tests/mk-Makefile-am: Update so that it builds and distributes
	the .out files.
	* tests/lexical/Makefile.am, tests/canon/Makefile.am,
	* tests/escapes/Makefile.am, tests/good/Makefile.am,
	* tests/syntax/Makefile.am, tests/type/Makefile.am,
	* tests/cannot-reparse/Makefile.am: Rebuild.

2002-06-03  Akim Demaille  <akim@epita.fr>

	The TranslateVisitor cannot use a list of bulitin names to decide
	what functions need a static link, as anyway the names are not
	reserved.
	Reported by Cédric Bail.

	* src/ast/functiondec.hh (sl_mode_t): Remove.
	(FunctionDec::_sl_mode): Remove, replaced by...
	(FunctionDec::_sl_needed_p, FunctionDec::_sl_escapes_p): these.
	Adjust accessors and callers.
	* src/ast/print-visitor.hh: Adjust to display
	`foo (/* sl */ x: int)', or `foo (/* escaping sl */ x: int)'.
	* src/translate/level-entry.hh (LevelFunEntry): Equip with
	sl_needed.
	* src/translate/level-env.hh (LevelEnv::LevelEnv): The bulitins
	take no SL.
	(LevelEnv::fun_put): Adjust to have a sl_needed.
	* src/translate/translate-visitor.hh
	(TranslateVisitor::_builtins): Remove.
	(TranslateVisitor::visit (CallExp &)): Decide to pass the static
	link here, instead of...
	* src/translate/translation.hh (callExp): here.
	Simplify the interface.
	Adjust all callers.
	* src/translate/level.hh, src/translate/level.cc (Level::_sl):
	Remove, useless.
	* tests/good/redefine-print.tig: Be sure to catch that case.

2002-06-03  Akim Demaille  <akim@epita.fr>

	* config/logeval-to-csv: Better error messages.
	FIx the output of T3 formulas.

2002-05-31  Akim Demaille  <akim@epita.fr>

	* src/canon/libcanon.cc: Update student tags.

2002-05-31  Akim Demaille  <akim@epita.fr>

	* src/canon/libcanon.cc (make_trace): New.
	(hir_to_lir): Call it.
	* src/tree/cjump.hh (label_false_set): New.
	* tests/good/many-bool-ops.tig: Add it for real.

2002-05-31  Akim Demaille  <akim@epita.fr>

	* tests/good/many-bool-ops.tig: New.
	* config/tc-check.in (&try, &ir_check): Call failure.
	* src/canon/basic-block.hh (BasicBlock::nodes_get ()): Don't
	return const.
	* src/temp/label.hh (operator== (const Label&, const Label&)):
	New.
	* src/tree/cjump.hh (label_true_get, label_false_get): New.
	(labels_get): Rewrite.
	(flip): New.
	(relop): Rename as...
	(_relop): this.
	* src/tree/node.hh: children are protected, not private, since for
	bad reasons, CJump wants to play tricks with them.

2002-05-31  Akim Demaille  <akim@epita.fr>

	* src/tree/nodes.hh (Node::Node (nodes_t)), child_get (int)): New.
	Use to simplify some other methods.
	* src/tree/stm.hh (Stm::Stm (nodes_t)): New.
	* src/tree/seq.hh (Seq::Seq (nodes_t)): New.
	* src/tree/cjump.hh (Cjump::labels_get): New.
	* src/tree/jump.hh (Jump::label_get): New.
	* src/tree/name.hh (Name::label_get): New.
	* src/canon/basic-block.hh: Really add to the repo :(
	(label_get): Rename as...
	(label_in_get): this.
	(labels_out_get): New.
	* src/canon/libcanon.cc (canonicalize, block_frontier_p)
	(make_basic_blocks): They are static.

2002-05-31  Akim Demaille  <akim@epita.fr>

	* src/canon/libcanon.cc (block_frontier_p, make_basic_blocks)
	(block_map, hir_to_lir): New.
	(canonicalize): You take a tree::Stm and return another one,
	not Nodes.
	* src/canon/libcanon.hh (canonicalize): No longer export it.
	(hir_to_lir): Export this one.
	* src/canon/basic-block.hh: New.
	* src/tc.cc (canonicalization): Rename as...
	(hir_to_lir): this.
	(main): Adjust.

2002-05-31  Akim Demaille  <akim@epita.fr>

	* src/canon/libcanon.cc, src/canon/libcanon.cc (canonicalize):
	Move into canon::.
	* src/tc.cc (canonicalization): Adjust.

2002-05-31  Akim Demaille  <akim@epita.fr>

	* src/translate/fragment.hh (Fragment::~Fragment): New.
	* src/temp/label.hh (operator< (const Label&, const Label&): New.
	* src/tree/label.hh (Label::label_get): New.

2002-05-31  Akim Demaille  <akim@epita.fr>

	* Makefile.am (studist): Use AMTAR.

2002-05-31  Akim Demaille  <akim@epita.fr>

	Version 0.17.

	* src/tc.cc, src/ast/libast.cc, src/ast/libast.hh,
	* src/ast/print-visitor.hh, src/frame/access.cc,
	* src/translate/translate-visitor.hh, src/translate/level.hh,
	* src/translate/level.cc, src/translate/access.hh: Adjust student
	marks.
	* configure.ac: Require Automake 1.6.1.

2002-05-31  Akim Demaille  <akim@epita.fr>

	* tests/mk-Makefile-am: New.
	Use to generate all the tests/*/Makefile.am.
	Some files were not shipped.
	* tests/tests.mk, tests/good/var-bob-is-another-bob.tig,
	* tests/good/four-hex-backslash.tig: Relate add to the archive.

2002-05-30  Akim Demaille  <akim@epita.fr>

	* src/translate/level.hh (Level::fp_exp (const Level &use_level)):
	New.
	* src/translate/access.hh (Access::exp (const Level &use_level)):
	Use it.
	* src/translate/translation.hh (callExp): Likewise.

2002-05-30  Akim Demaille  <akim@epita.fr>

	* src/translate/translation.hh (is_descendant_of): Remove, useless.
	(callExp): Don't use is_descendant_of since we want to know if the
	function is a child, not a grandchild.
	Merge the two other cases (higher, or same level) in a single one:
	higher or same level.  Let the `for' loop handle the difference.

2002-05-29  Akim Demaille  <akim@epita.fr>

	Prepare frame to work collaboratively with static links.

	* src/frame/access.hh, src/frame/access.cc
	(Access::exp (tree::Exp &fp_access)): New.
	(In_Frame::exp (tree::Exp &fp_access)): Optimize the case OFFSET =
	0.
	* src/translate/access.hh (Access::exp (tree::Exp &fp_access)):
	Use it.

2002-05-29  Akim Demaille  <akim@epita.fr>

	* src/translate/level.hh, src/translate/level.cc (Level::print): New.
	(operator<< (ostream&, level &)): Use it.
	* src/translate/access.hh (Access::exp): New, based on the model
	given by frame::Access::exp.
	* src/translate/translation.hh (simpleVar): Use it instead of
	computing the access yourself.
	(callExp): Factor the declaration/appending of `sl' to ease
	forthcoming changes.

2002-05-28  Akim Demaille  <akim@epita.fr>

	GCC 3.0 and 3.1 don't like `using GrandParent::function'.

	* src/ast/escapes-visitor.hh, src/ast/escapes-check-visitor.hh,
	* src/ast/print-visitor.hh, src/translate/translate-visitor.hh,
	* src/type/type-visitor.hh [__GNUC__]: Protect the second using.

2002-05-28  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy: Don't include stdio.h, nor stdlib.h.
	* src/ast/default-visitor.hh, src/ast/escapes-visitor.hh,
	* src/ast/escapes-check-visitor.hh, src/ast/print-visitor.hh,
	* src/type/type-visitor.hh, src/translate/translate-visitor.hh:
	Import overloaded vitrual functions.
	* src/translate/exp.hh, src/translate/translation.hh: Put
	`/*NOTREACHED*/ after `abort' since ICC doesn't seem to know that
	abort does not return, and complains for functions returning
	nothing.
	* src/level.hh: Don't prepend `Level::' when we already are in
	Level.

2002-05-24  Akim Demaille  <akim@epita.fr>

	Kill (most) ICC warnings.

	* src/ast/fieldvar.hh, src/ast/print-visitor.hh,
	* src/frame/access.cc, src/frame/access.hh, src/frame/frame.hh,
	* src/type/types.hh, src/temp/label.hh, src/temp/temp.hh,
	* src/tree/iterator.hh, src/tree/node.hh: Include cassert, not
	assert.h.
	Don't return `const' bools or ints: bool or int is enough.
	Don't compare unsigned with 0.

2002-05-24  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in: Add support for --stages and --errexit.
	* Makefile.am (check-local): Pass --errexit to tc-check.

2002-05-24  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (&failure): New.
	Use it to normalize the failure messages.
	* tests/tests.mk: New.
	(CLEANFILES): Remove *.out and *.ast.
	Include this file in all the tests Makefile.am.
	Ship it.

2002-05-23  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (&run_tests): Use Text::Wrap.
	* tests/good/let-in-for-init.tig,
	* tests/type/break-in-for-high.tig,
	* tests/type/break-in-for-init.tig,
	* tests/type/not-enough-args.tig: New.

2002-05-23  Robert Anisko  <robert@lrde.epita.fr>

	* tests/good/queens.tig: Reduce the board's size.

2002-05-23  Robert Anisko  <robert@lrde.epita.fr>

	* tests/good/mutually-recursive-procedures.tig: Avoid infinite loop.
	* tests/good/mutually-recursive-functions.tig: Avoid infinite loop.
	* tests/good/while-in-while.tig: Avoid infinite loop.

2002-05-20  Akim Demaille  <akim@epita.fr>

	* tests/good/Makefile.am (EXTRA_DIST): Ship builtins.in.
	* tests/cannot-reparse/Makefile.am (EXTRA_DIST): Ship
	merge.in.

2002-05-20  Akim Demaille  <akim@epita.fr>

	* src/ast/functiondec.hh (FunctionDec::_sl_mode): You idiot! It
	must be initialized to sl_inout, not sl_none!
	Reported by Robert Anisko.
	* src/ast/escapes-visitor.hh: Disable the code looking for
	function requiring a SL, as it does not work, and cannot be
	repaired to work: more seems to be needed.

2002-05-17  Akim Demaille  <akim@epita.fr>

	* tests/good/for-in-while.tig: New.

2002-05-17  Akim Demaille  <akim@epita.fr>

	* tests/good/redefine-print.tig: New.

2002-05-17  Akim Demaille  <akim@epita.fr>

	* src/translate/level.hh (Level): Add a `_sl' member.
	Adjust the ctors.
	Move the `<< Level' operator to...
	* src/translate/level.cc: here, so that we can also print the list
	of accesses held by this level.
	(formal_alloc): Not only allocate the formal, also store it in
	_formals.
	Adjust callers.
	* src/translate/access.hh (<<): Don't display the whole Level to
	avoid infloops, the name --well, Label-- is enough.
	* src/translate/translate-visitor.hh (visit (const CallExp& e)):
	Don't invoke callExp with levels for functions that have no SL
	(i.e., do as for bulitins).
	(visitFunctionDecHeader): Adjust Level creation to pass SL
	information.
	(visitFunctionDecBody): Adjust the code to skip the formal which
	is the static link _only_ when there is such an sl.

2002-05-17  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (&ir_check): Compute the escapes for this
	test.

2002-05-16  Akim Demaille  <akim@epita.fr>

	* src/translate/level.hh: Remove useless `inline's and `Level::'.
	(_sl, sl_get): New.
	* src/translate/translation.hh (simpleVar): Use sl_get.

2002-05-16  Akim Demaille  <akim@epita.fr>

	* src/frame/frame.hh (Frame::Frame (Label &)): New.
	(Frame::formal_alloc): New.
	* src/translate/level.hh, src/translate/level.cc
	(Level::formal_alloc): New.
	(Level::Level (Level, Symbol, bool_list_t)): Create the frame in
	the code part, not the member initialization part.

2002-05-16  Akim Demaille  <akim@epita.fr>

	* src/tc.cc: --escapes-sl-display is a new option.
	* src/ast/functiondec.hh (sl_mode_t): New type.
	(_sl_mode, sl_mode_get, sl_mode_set): New.
	* src/ast/escapes-visitor.hh (_fundecs): New.
	(visit (FunctionDec), visit (SimpleVar)): Compute the function
	that need the static link.
	* src/ast/print-visitor.hh: Adjust to display a function's sl mode.
	* src/ast/vardec.hh (_escapes): Rename as...
	(_escapes_p): this.

2002-05-14  Akim Demaille  <akim@epita.fr>

	* TODO: Update.

2002-05-14  Akim Demaille  <akim@epita.fr>

	* src/translate/translation.hh,
	* src/translate/translate-visitor.hh: Adjust student marks.

2002-05-14  Akim Demaille  <akim@epita.fr>

	* src/translate/access-level.hh: Split into...
	* src/translate/level.hh, src/translate/level.cc,
	* src/translate/access.hh: these.

2002-05-13  Akim Demaille  <akim@epita.fr>

	* tests/good/fact.tig: Fix.
	* tests/good/donald.tig: Don't infloop.
	Display something.

2002-05-13  Akim Demaille  <akim@epita.fr>

	* src/translate/fragment.hh (ProcFrag::_save_fp): New.
	(ProcFrag::print): Use it to expose proper fp, sp handling.

2002-05-13  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (&tarball_test): Check for havm and TC.
	* tests/good/fact.tig: Display the output.

2002-05-13  Robert Anisko  <robert@lrde.epita.fr>

	* src/type/type-env.hh (TypeEnv::TypeEnv): Add `print_int' as a
	standard library function.
	* src/translate/level-env.hh (translate): Likewise.
	* src/translate/translate-visitor.hh
	(TranslateVisitor::TranslateVisitor): Likewise.

2002-05-13  Robert Anisko  <robert@lrde.epita.fr>

	* src/translate/fragment.hh (ProcFrag::print): Output `label end.'

2002-05-13  Akim Demaille  <akim@epita.fr>

	* src/frame/frame.hh (frame_pointer_get, return_value_get): Lower
	case.
	* src/tree/binop.hh, src/tree/call.hh, src/tree/cjump.hh,
	* src/tree/const.hh, src/tree/eseq.hh, src/tree/jump.hh,
	* src/tree/label.hh, src/tree/mem.hh, src/tree/move.hh,
	* src/tree/name.hh, src/tree/seq.hh, src/tree/sxp.hh,
	* src/tree/temp.hh, src/translate/fragment.hh: Display tree in
	lower case, there is no reason to shout.

2002-05-13  Akim Demaille  <akim@epita.fr>

	* src/translate/fragment.hh (ProcFrag::print): Allocate the frame,
	map the incoming arguments to the local temporaries/frame slots.
	(ProgFrag::_name): New.
	* src/translate/translation.hh (procedureDec, functionDec): Name
	the fragments.
	* src/translate/translate-visitor.hh (~TranslateVisitor): Give the
	name of the main fragment.
	(visitFunctionDecBody): Name the functions/procedures.

2002-05-13  Akim Demaille  <akim@epita.fr>

	* config/logeval-to-csv (by_aid): Fix to put anonymous persons
	last.
	Adjust T3 output to take mali (err... malus :) into account.

2002-05-13  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in ($tc): Take src/ into account.
	(&project_make): Don't cd in src.
	(&ir_check): Remove tc-check.ir.
	(&tarball_test): Remove temp files.

2002-05-13  Akim Demaille  <akim@epita.fr>

	* src/frame/frame.hh (frame): Produce negative offsets.

2002-05-13  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in: `tests/segv' no longer exists.
	(&ast_check): Use `.ast' as extension for the
	reference output.
	(&ir_check): New.
	(&tarball_test): Use it for T5 and T6 tests.

2002-05-13  Akim Demaille  <akim@epita.fr>

	Include the tests in the tarball.
	Now running `make distcheck' is required for us too.

	* configure.ac: AC_CONFIG_SUBDIRS tests/ if present.
	* Makefile.am (SUBDIRS): Adjust.
	(studir): Be sure to remove tests/ when delivering code to the
	students.
	(check-local): New.
	(AUTOMAKE_OPTIONS): Move to...
	* configure.ac (AM_INIT_AUTOMAKE): here.
	* config/tc-check.in: Use abs_top_srcdir to find the tests.
	Avoid creating a `..log' file, make it `tc.log'.
	* tests/configure.ac, tests/Makefile.am,
	* tests/cannot-reparse/Makefile.am, tests/canon/Makefile.am,
	* tests/escapes/Makefile.am, tests/good/Makefile.am,
	* tests/lexical/Makefile.am, tests/syntax/Makefile.am,
	* type/Makefile.am: New.

2002-05-11  Akim Demaille  <akim@epita.fr>

	* tirt: Remove, please use havm.

2002-05-11  Akim Demaille  <akim@epita.fr>

	Equip tc-check with means to provide the ADM with the grades
	sorted as they expect.

	* config/tc-check.in (by_aid, list_file_read): New.
	Adjust the tables.

2002-05-07  Robert Anisko  <robert@lrde.epita.fr>

	* src/translate/translate-visitor.hh (_builtins): New.
	(TranslateVisitor): Initialize _builtins.
	(visit (CallExp)): Do not give the static link to builtin functions.

2002-05-06  Akim Demaille  <akim@epita.fr>

	* src/tc.cc, src/common.hh: Rename all the ir_* and ir-* to hir*,
	all the canon_* and canon-* to lir*.
	Add support for --lir-compute and --hir-compute.
	Have decent relationships between options.
	* config/tc-check.in (tarball_test): Adjust.

2002-05-06  Akim Demaille  <akim@epita.fr>

	* src/translate/translation.hh (higherLevel): Rename as...
	(is_descendant_of): this.
	Adjust the code to match the name (reverse false and true).
	(callExp): Adjust.
	Fix the passing of static links in almost all the cases.
	* src/tc.cc (main): Use the IR implies --types-check, not
	--escapes-compute!

2002-05-06  Akim Demaille  <akim@epita.fr>

	* src/tc.cc (trace_canon_p): Rename as...
	(canon_trace_p): this.
	Adjust dependencies.
	(main): Use the IR implies --types-check.

2002-05-06  Akim Demaille  <akim@epita.fr>

	* config/tc-check.in (tarball_test): First sketch of T5 and T6
	testing.  But we still need a VM.
	* tests/good/preincrement.tig: New.

2002-05-06  Robert Anisko  <robert@lrde.epita.fr>

	* src/translate/translate-visitor.hh (visit (CallExp)): Fix.
	(_outer_level): New.

2002-05-06  Raphaël Poss  <raph@lrde.epita.fr>

	* configure.ac: Fix. Beat me hard.

2002-05-06  Raphaël Poss  <raph@lrde.epita.fr>

	* tirt/nohup.out: removed.

2002-05-06  Raphaël Poss  <raph@lrde.epita.fr>

	* src/frame/frame.hh: new accessor get_current_frame_size.
	It is used in the IR dumper to show the function frame size
	after the label.
	* src/translate/fragment.hh: print the frame size after
	the label.
	* tirt/*: added.
	* configure.ac: modified to recurse through tirt/.
	* Makefile.am: likewise.
	* AUTHORS: typo.

2002-05-03  Robert Anisko  <anisko_r@lasvegas.lrde.epita.fr>

	* src/translate/translation.hh (callExp): Receive the caller and
	callee levels from the translate visitor.  Compute and pass the
	proper static link to the callee, excepted for run-time library
	functions.  Update the one argument and two arguments flavors
	of callExp.
	(recordExp): Update the callExp call for malloc.
	(stringOpExp): Update the callExp call for strcmp.
	(higherLevel): New function.  Compare the depth of two levels.

	* src/translate/translate-visitor.hh (visit (CallExp)): Pass the
	current level and the function declaration level to callExp.
	(visitFunctionDecBody): Skip the static link offset when inserting
	offsets of formal parameters in the environment.

2002-05-03  Robert Anisko  <robert@lrde.epita.fr>

	* src/translate/translation.hh (translate::simpleVar): Follow static
	links.
	* src/frame/access.hh (frame::Frame::offset_get): New method.
	* src/parse/libparse.hh: Fix.

2002-05-03  Raphaël Poss <raph@lrde.epita.fr>

	* src/parse/libparse.hh: #ifdef PARSE_PARSE_HH_ was colliding with
	src/parse/parse.hh, changed it to something more appropriate.
	* src/parse/parsetiger.yy: the declarations of yystype presupposed
	that namespace ast was open. This should not be imposed to users of
	parsetiger.hh. Thus, "ast::" was prepended for the members of the
	union.
	* src/parse/libparse.cc: inclusion of parsetiger.hh and parse.hh is
	not needed any more. Inclusion of parsetiger-class.hh is now needed.
	Made the appropriate changes.

2002-05-02  Akim Demaille  <akim@epita.fr>

	* src/tc.cc (display_ast_p, display_ir_p, display_canon_p)
	(use_ifexp_p): Rename as...
	(ast_display_p, ir_display_p, canon_display_p)
	(ir_use_ifexp_p): these.
	Adjust the options names.

2002-05-02  Akim Demaille  <akim@epita.fr>

	* config/logeval-to-csv ($stage): New.
	Adjust the code to use it.

2002-05-02  Robert Anisko  <robert@lrde.epita.fr>

	* src/tc.cc (main): Do not use fprintf.

2002-04-25  Akim Demaille  <akim@epita.fr>

	* config/logeval-to-csv (default): New: we cannot always use `foo
	|| bar', since sometimes foo == 0, and we want to keep the 0.
	(@field, %value): Split into...
	(@fieldT2, %valueT2, @fieldT3, %valueT3): these.
	* tests/escapes/redeclaration.tig: Don't use empty lets.
	* tests/good/invisible-valid-types.tig,
	* tests/type/empty-let-type.tig: New.

2002-04-23  Akim Demaille  <akim@epita.fr>

	* config/logeval-to-csv: Use dirname to work properly with full
	filenames.
	Instead of hard coding the formulas, use a combination of hash and
	list.

2002-04-19  Akim Demaille  <akim@epita.fr>

	* config/logeval-to-csv (eval): New.

2002-04-19  Akim Demaille  <akim@epita.fr>

	Kill G++ 3.1 warnings.

	* src/ast/libast.cc (ast::print): Don't specify the default
	values, as, per C++, the declaration should include these
	defaults, not the definition of the function.
	* src/frame/access.hh, src/tree/iterator.hh: Use list, not slist.
	* src/symbol/table.hh: Use `typename' where appropriate.

2002-04-19  Akim Demaille  <akim@epita.fr>

	* config/Makefile.am (bin_SCRIPTS): Add tc-check.
	* config/tc-check.in: Check that the reference compiler is recent
	enough.
	(&report_file): Be robust to missing files.
	(&project_make): Use G++ 3.1.
	(&ast_check): Fix the ordering observed/expected.
	(&tarball_test): Display the AUTHORS.

2002-04-11  Akim Demaille  <akim@epita.fr>

	* AUTHORS: New.
	* config/tc-check: Replace with
	* config/tc-check.in: this.
	Make sure tc-check and TC have the same version number.

2002-04-05  Akim Demaille  <akim@epita.fr>

	* src/parse/scantiger.ll: Remove a stray yylloc->word.
	* src/tc.cc: Fix the handling of options.

2002-03-25  Akim Demaille  <akim@epita.fr>

	* config/tc-check ($version): Made by PRCS keywords.
	Deep revamp: now each test routine must fill a hash ref named
	%SUMMARY.
	* src/tc.cc (main): Unknown options are a error.
	(option_e): Redefine.
	* tests/syntax/multi-types.tig, tests/syntax/multi-functions.tig,
	* tests/syntax/multi-vars.tig: New.
	From Pascal Guedon.

2002-03-25  Akim Demaille  <akim@epita.fr>

	* config/tc-check: New.
	* src/tc.cc (options_e): Remove.
	(long_options): Formatting changes.

2002-03-21  Akim Demaille  <akim@epita.fr>

	* src/canon/test-canon.cc (main): Prepend std:: where needed.

2002-03-21  Akim Demaille  <akim@epita.fr>

	* src/ast/escapes-check-visitor.hh (ast): Add missing endl.
	Prepend std:: where needed.
	* src/symbol/test-symbol.cc (main): Likewise.
	* src/ast/test-ast.cc (main): Likewise.
	* src/type/test-type.cc (main): Likewise.
	* src/temp/test-temp.cc (main): Likewise.
	* src/canon/test-canon.cc (main): Likewise.
	* src/tc.cc (usage): Don't use multi line strings.

2002-03-20  Akim Demaille  <akim@epita.fr>

	* src/ast/test-ast.cc (exit_status, locations_display_p): Add the
	missing variables (referenced by libast).
	* src/ast/vardec.hh: Add another ctor, that does not include
	_escape_tag, so that students are not confused.
	Add removal marks.
	* config/studentize: Support //<<-, //->> standing for removal.
	* src/ast/README-student: Remove.
	* Makefile.am: Adjust.

2002-03-20  Akim Demaille  <akim@epita.fr>

	* src/common.hh, src/tc.cc, src/ast/libast.cc, src/ast/libast.hh,
	* src/ast/location.hh, src/ast/print-visitor.hh, src/parse/libparse.cc
	(compute_escapes_p): Rename as...
	(escapes_compute_p): this.
	(display_escapes_p): Rename as...
	(escapes_display_p/): this.
	(display_locations_p): Rename as...
	(locations_display_p/): this.
	(trace_scan_p): Rename as...
	(scan_trace_p): this.
	(trace_parse_p): Rename as...
	(parse_trace_p): this.
	* src/tc.cc: --escape-*-check implies --escapes-compute.

2002-03-20  Akim Demaille  <akim@epita.fr>

	* src/tc.cc: Implement --types-check support.
	* src/type/libtype.cc, src/type/libtype.hh: Take an ast::Exp, not
	an ast::Ast.

2002-03-20  Raphaël Poss <raph@lrde.epita.fr>

	* src/type/types.hh, src/type/type-entry.hh: made two attributes
	mutable in order to get rid of unwanted const_cast occurrences.
	Explanation given as comments.

2002-03-20  Akim Demaille  <akim@epita.fr>

	* src/type/types.hh, src/type/type-visitor.hh: Adjust student
	marks.

2002-03-19  Akim Demaille  <akim@epita.fr>

	* src/parse/scantiger.ll (escaping): Fix it.
	* src/ast/escapes-check-visitor.hh: Add the missing endls.

2002-03-19  Akim Demaille  <akim@epita.fr>

	* src/parse/scantiger.ll (escaping): New abbreviation.

2002-03-19  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy (exps): Remove, unused.

2002-03-18  Akim Demaille  <akim@epita.fr>

	Version 0.15.

2002-03-18  Akim Demaille  <akim@epita.fr>

	Separate test files that can be reparsed, from the others.
	(Mainly because of `\n' etc.).

	* tests/good/string-backslash.tig, tests/good/nul-character.tig,
	* tests/good/merge.tig: Move to...
	* tests/cannot-reparse: to this new directory.

	* src/ast/escapes-check-visitor.hh: Don't visit Fields, rather,
	visit FunctionDecs to avoid interferences between record fields
	and arguments.

2002-03-18  Akim Demaille  <akim@epita.fr>

	* src/ast/escapes-check-visitor.hh: Handle the fields now.
	* src/tc.cc: Provide a better escaping checking interface: split
	--escapes-check into --escapes-necessary-check and
	--escapes-sufficient=check.

2002-03-18  Akim Demaille  <akim@epita.fr>

	Don't stack parens in the action part of a LetExp.

	* src/parse/parsetiger.yy (exps.0.2): New.
	Use it for SeqExps and LetExps.

2002-03-18  Akim Demaille  <akim@epita.fr>

	* src/parse/scantiger.ll (scan_open): Recognize `-' as standing
	for the standard input.

2002-03-18  Akim Demaille  <akim@epita.fr>

	* src/common.hh (exit_missing_escapes, exit_excessive_escapes)
	(exit_set): New.
	* src/tc.cc (escapes_tags_display_p, escapes_check_p): New
	(long_options): Add support for `--escapes-compute',
	`--escapes-display', `--escapes-tags-display', `--escapes-check'.
	(main): Adjust.
	Display titles (`Intermediate representation' etc.) using C
	comments.
	(main::the_program): Use an ast::Exp instead of an ast::Ast.
	Adjust all dependencies.

	* src/ast/vardec.hh (_escape_tag, escape_tag_get,
	_escape_tag_set): New.
	* src/ast/field.hh: Likewise.
	* src/ast/libast.hh, src/ast/libast.cc (print): Adjust to
	`escapes_tags_display_p'.
	* src/ast/print-visitor.hh: Adjust to `escapes_tags_display_p'.
	Change the handling of reporting whether a field escapes or not,
	as it is certainly not robust to vardec inside a field.

	* src/ast/escapes-check-visitor.hh: New.
	* src/ast/libast.hh, src/ast/libast.cc (escapes_check): New.

	* src/parse/scantiger.ll: Recognize `/* escaping */'.
	* src/parse/parsetiger.yy: Handle ESCAPING for VarDec and all the
	Fields.

2002-03-18  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy: More uses of string literals.
	* tests/type/break-in-vardec-in-while.tig: Don't depend on `()'
	support.

2002-03-13  Akim Demaille  <akim@epita.fr>

	* src/ast/escapes-visitor.hh (EscapeVisitor::visit(VarDec)): Do
	not declare the variable before visiting the body.
	* tests/escapes/redeclaration.tig: New.
	From Darks Bob.

2002-03-12  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy: Partial replacement of token symbol
	with token strings.  E.g. NIL => "nil".
	(exp: lvalue): Remove a useless Bison cast ($<...>1).
	* best-of: Some more.
	* src/ast/var.hh: Student marks.
	* src/translate/translate-visitor.hh: Fix guard name.
	* tests/lexical/backslash-n-not-in-string.tig,
	* tests/lexical/backslash-oct-not-in-string.tig: New.

2002-03-05  Akim Demaille  <akim@epita.fr>

	* configure.ac: Bump to 0.15.
	* src/symbol/table.hh: Install much stricter //<< //>> marks.
	Use STL lists, instead of SGI slists.

2002-02-28  Akim Demaille  <akim@epita.fr>

	Newest Bison wants rules to be `;'-ended.

	* src/parse/parsetiger.yy: Do that.

2002-02-28  Akim Demaille  <akim@epita.fr>

	Newest Bison outputs a single header file.

	* src/parse/scantiger.ll: s/parsetiger.h/parsetiger.hh/.
	* src/parse/libparse.cc: s/parsetiger-class.hh/parsetiger.hh/.
	* src/parse/Makefile.am (FROM_PARSETIGER_YY): New, to adjust to
	newest Bison.
	* src/ast/README: s/Position/Location/.

2002-02-26  Akim Demaille  <akim@epita.fr>

	* tests/good/recursive-types-mutual.tig, tests/good/if-and-bool.tig,
	* tests/good/recursive-type.tig,
	* tests/type/incompatible-record-comparison.tig: New.

2002-02-26  Akim Demaille  <akim@epita.fr>

	* src/ast/libast.cc (escapes_find): Minor simplification.

2002-02-14  Akim Demaille  <akim@epita.fr>

	* configure.ac: Bump to 0.14.

2002-02-13  Akim Demaille  <akim@epita.fr>

	* src/ast/default-visitor.hh: Typo: s/this_visit/decs_visit/.

2002-02-13  Akim Demaille  <akim@epita.fr>

	* src/ast/default-visitor.hh (visit_decs): Typo, rename as...
	(decs_visit): this.

	* src/tc.cc, src/ast/ast.hh, src/ast/dec.hh,
	* src/ast/default-visitor.hh, src/ast/exp.hh, src/ast/field.hh,
	* src/ast/libast.cc, src/ast/libast.hh, src/ast/README,
	* src/ast/ty.hh, src/parse/libparse.cc, src/parse/libparse.hh,
	* src/parse/parsetiger.yy, src/translate/libtranslate.cc,
	* src/translate/libtranslate.hh, src/type/libtype.cc,
	* src/type/libtype.hh, src/ast/decs.hh: s/Absyn/Ast/.

2002-02-13  Akim Demaille  <akim@epita.fr>

	* src/ast/visitor.hh, src/ast/default-visitor.hh: Add some
	comments.
	* src/ast/default-visitor.hh (visit_decs): New template method to
	factor the visiting of declarations chunks.

2002-02-12  Akim Demaille  <akim@epita.fr>

	Have `distcheck' work.

	* src/parse/Makefile.am (libparse_a_SOURCES): Add stack.hh,
	location.hh, and parsetiger-class.hh.
	* src/ast/Makefile.am (noinst_HEADERS): Add decls.hh.

2002-02-12  Akim Demaille  <akim@epita.fr>

	* src/ast/test-ast.cc (main): Catch up with the recent changes.

2002-02-12  Akim Demaille  <akim@epita.fr>

	* src/absyn: Rename as...
	* src/ast: this.
	Adjust all the class and namespace names and usage.
	Note that files such as libabsyn.cc etc. are now named libast.cc.

2002-02-12  Robert Anisko  <robert@lrde.epita.fr>

	* src/parse/parsetiger.yy: In tydecs, fundecs, and vardecs, use
	'AnyDecs's instead of lists of 'Dec's.

	* src/absyn/anydecs.hh (AnyDecs::push_back): New.
	* src/absyn/absyn.hh (Absyn::location_set): New.

2002-02-12  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy (DECS): New priority place holder.
	Use it to solve the ambiguity of parsing lists of Function, Var,
	and Type decs.

2002-02-12  Robert Anisko  <robert@lrde.epita.fr>

	* src/translate/translate-visitor.hh (visit (VarDecs),
	visit (TypeDecs), visit (FunctionDecs)): New.
	* src/type/type-visitor.hh (visit (VarDecs), visit (TypeDecs),
	visit (FunctionDecs)): New.

	* src/absyn/default-visitor.hh: Remove visit for lists of VarDecs,
	TypeDecs, and FunctionDecs, which have been replaced by nodes in
	Absyn.
	* src/absyn/visitor.hh (visit (decs_t)): New.  Until now, it was
	implemented in DefaultVisitor, but never declared in Visitor.

	* src/parse/parsetiger.yy: Add three rules (tydecs, fundecs, vardecs)
	to parse declarations by chunks.

2002-02-12  Robert Anisko  <robert@lrde.epita.fr>

	Tiger is now broken.

	* src/parse/parsetiger.yy: Build lists of 'Decs's rather that lists
	of 'Dec's.

	* src/absyn/default-visitor.hh (visit (VarDecs), visit (TypeDecs),
	visit (FunctionDecs)): New.
	* src/absyn/visitor.hh (visit (VarDecs), visit (TypeDecs),
	visit (FunctionDecs)): New.

	* src/absyn/anydecs.hh (AnyDecs): Use a list of pointers on
	declarations.
	* src/absyn/letexp.hh (LetExp): Use a list of 'Decs's rather than
	a list of 'Dec's.

	* src/absyn/allvar.hh: Update.
	* src/absyn/decls.hh: Update.
	* src/absyn/decs.hh: Update.

2002-02-11  Robert Anisko  <robert@lrde.epita.fr>

	* src/absyn/Makefile.am: Adjust.
	* src/absyn/alldec.hh: Adjust.

	* src/absyn/anydecs.hh: New file.
	* src/absyn/decs.hh: New file.

2002-02-11  Robert Anisko  <robert@lrde.epita.fr>

	* src/type/type-visitor.hh (visit (BreakExp)): Argument is not const
	anymore.

2002-02-08  Robert Anisko  <robert@lrde.epita.fr>

	* src/parse/libparse.cc (parse): Give an initial location to the
	parser class.

2002-02-07  Robert Anisko  <robert@lrde.epita.fr>

	* src/parse/parsetiger.yy (print_): Update.  Some names have changed
	in Bison.

2002-02-07  Robert Anisko  <robert@lrde.epita.fr>

	* src/parse/libparse.cc (parse): Instantiate the parser class with
	trace_parse_p rather than yydebug.
	* src/common.hh (trace_parse_p): Use trace_parse_p instead of yydebug,
	which is not provided by Bison anymore.
	* src/tc.cc (trace_parse_p): New variable.

2002-02-07  Robert Anisko  <robert@lrde.epita.fr>

	* src/parse/parsetiger.yy (yyprint): Turn into a member of the parser
	class.

2002-02-07  Robert Anisko  <robert@lrde.epita.fr>

	* src/parse/parsetiger.yy (yy::Parser::error_): Uncomment.  CVS Bison
	can handle this now.
	* src/parse/libparse.cc (parse): Use command line options to enable
	parse tracing.

2002-02-07  Raphael Poss  <raph@lrde.epita.fr>
	* src/absyn/decls.hh: (forward declarations) added.

2002-02-07  Raphael Poss  <raph@lrde.epita.fr>
	* access rights fixed (oops)...

2002-02-06  Raphael Poss  <raph@lrde.epita.fr>

	* src/absyn/visitor.hh (Visitors): Visitor was remplaced
	by template GenVisitor. ConstVisitor and Visitor are instances of this
	template (resp. params: const_kind and non_const_kind).
	Methods of GenVisitor use type function select_const to choose
	const or non-const versions of arguments depending on template parameter.
	* src/absyn/default-visitor.hh: DefaultVisitor was
	remplaced by a template counterpart.
	* src/absyn/escapes-visitor.hh: some Definition attributes see their
	constness removed. Visitor converted to new scheme.
	* src/absyn/print-visitor.hh: Visitor converted to new scheme.
	* src/type/type-visitor.hh: likewise
	* src/translate/translate-visitor.hh: likewise
	* src/absyn/absyn.hh (accept): there are now 2 'accept' methods.
	* src/absyn/arrayexp.hh: likewise, more useful accessors added.
	* src/absyn/arrayty.hh: likewise
	* src/absyn/assignexp.hh: likewise
	* src/absyn/breakexp.hh: likewise
	* src/absyn/callexp.hh: likewise
	* src/absyn/field.hh: likewise
	* src/absyn/fieldvar.hh: likewise
	* src/absyn/forexp.hh: likewise
	* src/absyn/functiondec.hh: likewise
	* src/absyn/ifexp.hh: likewise
	* src/absyn/intexp.hh: likewise
	* src/absyn/letexp.hh: likewise
	* src/absyn/namety.hh: likewise
	* src/absyn/nilexp.hh: likewise
	* src/absyn/opexp.hh: likewise
	* src/absyn/recordty.hh: likewise
	* src/absyn/seqexp.hh: likewise
	* src/absyn/simplevar.hh: likewise
	* src/absyn/stringexp.hh: likewise
	* src/absyn/subscriptvar.hh: likewise
	* src/absyn/typedec.hh: likewise
	* src/absyn/vardec.hh: likewise
	* src/absyn/whileexp.hh: likewise

2002-02-06  Raphael Poss  <raph@lrde.epita.fr>

	* src/absyn/* (AST): AST attributes are no longer references.
	cleaned destructors.

2002-02-06  Robert Anisko  <robert@lrde.epita.fr>

	* src/parse/parsetiger.yy (yyerror, parse_error): Turn into a member
	of the parser class.

2002-02-06  Robert Anisko  <robert@lrde.epita.fr>

	* src/parse/libparse.cc (parse): Do not call yyparse anymore.  Include
	parsetiger-class.hh.  Instantiate a parser class and use it.
	* src/parse/parsetiger.yy: Use %define ltype.  Add a missing ';' to an
	action.

2002-01-25  Akim Demaille  <akim@epita.fr>

	* src/common.hh (display_locations_p): New.
	* src/absyn/location.hh (operator<<): Use it.
	* src/tc.cc (version, trace_scan_p, display_locations_p): New.
	(long_options): Handle --display-location and --trace-scan.
	(usage): Adjust.

2002-01-25  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy: Add an ending `;' to all the actions
	that lacked one.  That's better for newer Bisons.

2002-01-22  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy: Use %debug.
	* tests/good/assign-vs-boolean.tig: Number changes.
	* configure.in: Rename as...
	* configure.ac: this.
	* config/depcomp, config/missing: Update from Automake.

2001-11-02  Akim Demaille  <akim@epita.fr>

	* Makefile.am (AUTOMAKE_OPTIONS): Add dist-bzip2.

2001-11-02  Akim Demaille  <akim@epita.fr>

	* src/absyn/location.hh (operator<<): When referring to the
	location char 12 to char 15, display 12-14, not 12-15.
	When referring to a single char, display a single column, not
	twice the same.

2001-11-02  Akim Demaille  <akim@epita.fr>

	* src/parse/parsetiger.yy: Improve the error messages: map the
	tokens to their most representative string.

2001-11-02  Akim Demaille  <akim@epita.fr>

	Completely revamp the location tracking.

	* src/parse/scantiger.ll: Set `nounput'.
	Each time yylex is invoked, make a location step.
	(YY_USER_ACTION): New.
	Each time a pattern is recognized, adjust the last position.
	Each time newlines are recognized, adjust the last position.
	Each time a meaningless white space is recognized, step (this
	includes the end of comments).
	Simplify all the rules.

2001-11-01  Akim Demaille  <akim@epita.fr>

	* configure.in: Set aux dir before running AM_INIT_AUTOMAKE.

2001-11-01  Akim Demaille  <akim@epita.fr>

	* src/canon/libcanon.cc (canonicalize): For the time being, don't
	check the output is canonical, as it breaks test-canon.
	* config/: New directory, for GNU Build System tools.
	* src/parse/parsetiger.yy (YYLLOC_DEFAULT): Adjust to Bison 1.30.
	* bootstrap.sh: Remove, use autoreconf instead.
	* Makefile.am (AUTOMAKE_OPTIONS): 1.5.
	* src/canon/test-canon.cc (main): Run all the tests.

2001-10-16  Pierre-Yves Strub  <Pierre-Yves.Strub@lrde.epita.fr>

	Remove hash_map from Tiger.
	The build of Tiger v0.239 failed with the GCC 3.0 of the
	LRDE. Finish the port with it.

	* src/symbol/symbol.{hh,hxx}: remove the specialisation of the
	hash functor. Add a comparison order on symbols.
	* src/symbol/table.hh: replace hash_maps by maps.
	* src/types/type-visitor.hh: likewise.

	* src/tc.cc: port file to gcc 3.0 (namespace `std', correct
	definition of the print operator (In the namespace of the class it
	relies to), standard headers -slist and hash_map are now slist.h
	and hash_map.h)
	* check.hh: likewise
	* canon.hh: likewise
	* libcanon.cc: likewise
	* fragment.hh: likewise
	* access-level.hh: likewise
	* exp.hh: likewise
	* frame.hh: likewise
	* access.hh: likewise
	* cjump.hh: likewise
	* jump.hh: likewise
	* sxp.hh: likewise
	* move.hh: likewise
	* eseq.hh: likewise
	* seq.hh: likewise
	* call.hh: likewise
	* mem.hh: likewise
	* binop.hh: likewise
	* label.hh: likewise
	* name.hh: likewise
	* temp.hh: likewise
	* type-visitor.hh: likewise
	* types.hh: likewise
	* scantiger.ll: likewise
	* parsetiger.yy: likewise
	* libabsyn.cc: likewise
	* print-visitor.hh: likewise
	* table.hh: likewise
	* symbol.hh: likewise
	* symbol.hxx: likewise

2001-10-16  Pierre-Yves Strub  <Pierre-Yves.Strub@lrde.epita.fr>

	Kill some old bugs revealed (Segmentation fault) by GCC 3.0

	* src/absyn/default-visitor.hh: invalid iteration on a
	list. (dynamic_cast < T* > (list < U >::end () is *not* NULL since
	we don't known the value of list < U >::end ()))
	* src/translate/translate-visitor.hh: likewise.

2001-10-15  Pierre-Yves Strub  <Pierre-Yves.Strub@lrde.epita.fr>

	Port Tiger to gcc 3.0

	* depcomp: regenerate file with automake 1.5 since automake 1.4
	provides bugged file for gcc 3.0

	* src/tree/node.hh: port file to gcc 3.0 (namespace `std', correct
	definition of the print operator (In the namespace of the class it
	relies to), standard headers -slist and hash_map are now slist.h
	and hash_map.h)
	* src/translate/access-level.hh: likewise
	* src/translate/level-entry.hh: likewise
	* src/tree/iterator.hh: likewise
	* src/frame/access.hh: likewise
	* src/type/type-visitor.hh: likewise
	* src/parse/scantiger.ll: likewise
	* src/parse/parsetiger.yy: likewise
	* src/absyn/position.hh: likewise
	* src/symbol/table.hh: likewise
	* src/symbol/symbol.hxx: likewise
	* src/symbol/symbol.hh: likewise
	* src/absyn/print-visitor.hh: likewise
	* src/absyn/default-visitor.hh: likewise

2001-10-15  STRUB Pierre-Yves  <strub@lrde.epita.fr>

	Rewrite class symbol::Symbol.

	* src/symbol/symbol.{hh,hxx,cc}: new definition of class
	symbol::Symbol.
	* src/symbol/symbol.hxx: new file.

2001-10-08  Akim Demaille  <akim@epita.fr>

	* src/translate/exp.hh (IfThenElseExp): Remove some useless jumps.
	* src/parse/scantiger.ll: Support all the valid eol.

2001-09-20  Akim Demaille  <akim@epita.fr>

	* tests/good/recursive-comments.tig: Rename as...
	* tests/good/comments-nested.tig: this.
	* src/translate/exp.hh (IfThenElseExp:unCx): No need for a `join'.
	From Fabien Stepho.

2001-09-18  Akim Demaille  <akim@epita.fr>

	* src/translate/translation.hh (whileExp): unCx the condition
	instead of making it by hand, inefficiently.
	Reported by Arnaud Raes, Vivien Vigot and some others.

2001-09-17  Akim Demaille  <akim@epita.fr>

	* tests/good/comments-with-comment-chars.tig: New test.
	* src/parse/scantiger.ll <STATE_COMMENT>: Catch `*' and `/' in
	comments.
	Reported by Yoann Jean.

2001-09-17  Akim Demaille  <akim@epita.fr>

	* tests/type/test20.tig: Rename as...
	* tests/type/undeclared-variable.tig: this.
	* tests/type/break-in-vardec.tig: Rename as...
	* tests/type/break-in-vardec-in-while.tig: this.
	* tests/good/for.tig: New.

2001-09-13  Akim Demaille  <akim@epita.fr>

	* configure.in: Bump to 0.13.

2001-09-13  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh (visit (const RecordExp& e)): Use
	type_recovery.
	(const AssignExp &e): Ditto.
	* tests/syntax/syntax-vs-type-1.tig: New.

2001-09-13  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh (visitFunctionDecHeader)
	(visit (const RecordTy& e)): Keep on checking even if there are
	errors.
	(visitFunctionDecBody): Looping on actually registered formals is
	now enough, and avoids problems when the AST and formals_type
	don't have the same set of formals (if duplicate formals were
	discarded).

2001-09-13  Akim Demaille  <akim@epita.fr>

	* src/translate/translation.hh (forExp): The inner test if strict.
	Reported by Laurent Mascherpa.

2001-09-10  Akim Demaille  <akim@epita.fr>

	* configure.in: Bump to 0.12.

2001-09-10  Akim Demaille  <akim@epita.fr>

	* tests/type/duplicate-arg.tig: New.
	* src/type/type-visitor.hh (visitFunctionDecHeader): Be sure names
	are unique amongst formals.

2001-09-10  Akim Demaille  <akim@epita.fr>

	* src/translate/level-env.hh (LevelEnv::LevelEnv): Use the name of
	the builtins as names of their labels.

	* tests/type/duplicate-arg.tig: New.
	* src/type/type-visitor.hh (visitFunctionDecHeader): Be sure names
	are unique amongst formals.

2001-09-10  Akim Demaille  <akim@epita.fr>

	* src/translate/level-env.hh (LevelEnv::LevelEnv): Use the name of
	the builtins as names of their labels.

2001-09-05  Akim Demaille  <akim@epita.fr>

	* src/translate/level-env.hh (LevelEnv::LevelEnv): `flush' was
	forgotten.
	(var_access_get, level_get, label_get): Now that type checking and
	translation are separated, it is no longer valid to return `0'.
	Hence, assert we have something, and return a reference, not a
	pointer.
	* src/translate/translate-visitor.hh (visit (SimpleVar &))
	(visit (CallExp &), visit (ForExp &), visitFunctionDecBody):
	Adjust.
	* src/translate/translation.hh (callExp): Receive LABEL as a
	reference.
	* tests/good/builtins.tig: New.
	Reported by Sébastien Lagarde and many others.

2001-07-26  Akim Demaille  <akim@epita.fr>

	Give nice names to RV and FP.

	* bootstrap.sh: Adjust to Automake 1.4p[0-9].
	* src/temp/temp.hh: Basically, be  copy of label.hh so that we can
	give actual names to some temporaries.
	* src/frame/frame.hh (frame_pointer_get): Name the FP.
	(return_value_get): Name the RV.
	(<< frame::Frame): No need to dump them as the name is in clear
	now.

2001-07-24  Akim Demaille  <akim@epita.fr>

	* src/translate/translation.hh: Cleanups.

2001-07-24  Akim Demaille  <akim@epita.fr>

	* src/translate/libtranslate.cc (::semantic_analysis): Rename as...
	(translate::translate): this.
	Return the list instead of requiring an initialized list as
	argument.
	* src/translate/libtranslate.hh: Adjust.
	* src/tc.cc: Likewise.
	* src/translate/translate-visitor.hh: Studentize.

2001-07-24  Akim Demaille  <akim@epita.fr>

	No longer consider `for' is syntactic sugar.

	* src/absyn/escape-visitor.hh (visit (ForExp&)): New.
	* src/absyn/vardec.hh (writable): Remove, this hack is no longer
	needed.
	* src/parse/parsetiger.yy (FOR ID ASSIGN exp TO exp DO exp):
	Produce a ForExp.
	* src/translate/translate-visitor.hh (visit (ForExp &)):
	Reactivate, and implement missing bits.
	(visit (BreakExp &)): No user checking to be done here, merely use
	assert just in case.
	* src/type/type-entry.hh (VarEntry::writable_set): New.
	* src/type/type-env.hh (var_writable_set): New.
	* src/type/type-visitor.hh (visit (ForExp&)): Reactivate and
	adjust.
	* src/translate/translation.hh (forExp): New.
	* tests/good/break-in-for.tig: Use distinct literal value to ease
	translation debugging.

2001-07-05  Akim Demaille  <akim@epita.fr>

	Version 0.8.

	* src/parse/scantiger.ll: Fix the handling of various escapes.

	* tests/escapes/for-scope.tig: Rename as...
	* tests/escapes/escapes-for-scope.tig: this.
	* tests/escapes/scopes.tig: Rename as...
	* tests/escapes/escapes-scopes.tig: this.
	* tests/good/shadowing-var.tig: Rename as...
	* tests/good/scopes-protect-vars.tig: this.
	* tests/syntax/compare-non-assoc-2.tig: Rename as...
	* tests/syntax/less-than-non-assoc-with-uminus.tig: this.
	* tests/syntax/compare-non-assoc.tig: Rename as...
	* tests/syntax/less-than-non-assoc.tig: this.
	* tests/segv/unknown-array-type-2.tig: Rename as...
	* tests/type/unknown-array-type-2.tig: this.

	* best-of: New.
	* tests/good/while-in-while.tig: New.
	* tests/syntax/vehicle.tig: New.
	* tests/type/order-nil-with-record.tig: New.
	* tests/type/multiple-instances-types-2.tig: New.
	* tests/type/nonexistent-vardecrec-type.tig: New.
	* tests/type/for-var-string.tig: New.
	* tests/type/nil-arithmetics.tig: New.
	* tests/type/break-in-while-cond.tig: New.

	* src/absyn/escape-visitor.hh: Delete empty dtor definitions.

2001-06-23  Akim Demaille  <akim@epita.fr>

	Ease the parsing of IR: put an end marker for CALL.

	* configure.in: Version 0.7.
	* src/tree/call.hh (Call::tag_print): Abort.
	(Call::print): New.

2001-06-23  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh (BreakExp): Be sure to properly set
	_type even upon errors.

2001-06-21  Akim Demaille  <akim@epita.fr>

	* tests/lexical/underscore.tig: Rename as...
	* tests/lexical/var-named-underscore.tig: this.

2001-06-20  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh (visitTypeDecBody): `sound' needs the
	circular definition to detect it.
	Fixes tests/type/unsound-types-uses.tig.

2001-06-20  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh (visit (TypeDec)): Catch multiple
	type definitions, and work only on the first.
	Fixes tests/type/invalid-type-redefinition.tig.

2001-06-20  Akim Demaille  <akim@epita.fr>

	* test/types/invalid-function-redefinition.tig: Rename as...
	* test/types/invalid-function-redefinition-1.tig: this.
	* test/types/invalid-function-redefinition-2.tig: new
	* src/symbol/table.hh (hash <Symbol>): Move from here...
	* src/symbol/symbol.hh: to here.
	* src/type/type-visitor.hh (visit (LetExp)): Use
	`DefaultVisitor::visit (decs_t)'.
	(visit (list <FunctionDec>)): New.
	Catch multiple function definitions, and work only on the first.
	Fixes test/types/invalid-function-redefinition-1 and
	test/types/invalid-function-redefinition-2.
	(visit (list <TypeDec>)): New.

2001-06-20  Akim Demaille  <akim@epita.fr>

	* src/absyn/default-visitor.hh (visit (decs_t)): New.
	Branch to...
	(visit (list<FunctionDec>), visit (list<VarDec>))
	(visit (list<TypeDec>)): these new methods.
	(visit (LetExp)): Use `visit (decs_t)'.
	* src/absyn/print-visitor.hh (visit (LetExp)): Rely on the
	DefaultVisitor.

2001-06-20  Akim Demaille  <akim@epita.fr>

	Restore the `break' control in the TypeVisitor.
	Failed experiment.
	Fixes type/break-in-function-in-while.tig,
	type/break-in-vardec.tig, and type/break-alone.tig

	* src/type/type-visitor.hh (TypeVisitor::_in_loop): New.
	(visit (WhileExp), visit (LetExp), visit (BreakExp)): Use it.

2001-06-20  Akim Demaille  <akim@epita.fr>

	* src/parse/scantiger.ll (id): Cannot start with an underscore.
	* tests/good/underscore.tig: Move to...
	* tests/lexical/underscore.tig: here.

2001-06-20  Akim Demaille  <akim@epita.fr>

	* tests/good/shadowing-types-consecutive.tig: Rename as...
	* tests/type/invalid-types-redefinition.rig: this.
	* tests/good/test39.tig: Rename as...
	* tests/type/invalid-function-redefinition.rig: this.

	* tests/escapes/for-scope.tig: New.
	* tests/escapes/no-functiondec-at-all.tig: New.
	* tests/good/break-in-for.tig: New.
	* tests/good/explicit-record-type.tig: New.
	* tests/good/field-of-field.tig: New.
	* tests/good/for-scope.tig: New.
	* tests/good/int-var-ordering.tig: New.
	* tests/good/just-a-simple-for-1.tig: New.
	* tests/good/just-a-simple-for-2.tig: New.
	* tests/good/nil-as-return-value.tig: New.
	* tests/good/string-var-comparing.tig: New.
	* tests/type/break-alone.tig: New.
	* tests/type/break-in-function-in-while.tig: New.
	* tests/type/break-in-vardec.tig: New.
	* tests/type/nonexistent-vardec-type.tig: New.
	* tests/type/type-nil.tig: New.
	* tests/type/void-does-not-exist.tig: New.

	* Makefile.am (install-epita): Typo.

	* src/type/type-visitor.hh (CallExp): Rename `args' as `formals'.

2001-06-11  Akim Demaille  <akim@epita.fr>

	Version 0.6.

	* bootstrap.sh: Fix mv invocation.
	Run configure.
	* Makefile.am (install-epita): New.

2001-06-11  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh (visit (AssignExp)): When a read only
	var is modified, complain, but proceed.
	* bootstrap.sh: Improve for students.
	* src/absyn/print-visitor.hh (SeqExp): Don't print new lines
	when there were none inside the SeqExp.
	* src/parse/parsetiger.yy (ForExp): Add explanatory comments.

2001-06-11  Akim Demaille  <akim@epita.fr>

	* src/tests/types/unsound-types-uses.tig: New.
	* src/type/type-visitor.hh (visitTypeDecBody): Don't insert
	recursive type declarations, let them point to Int.
	Fixes src/tests/types/unsound-types-uses.tig.

2001-06-08  Akim Demaille  <akim@epita.fr>

	* src/tc.cc (main): Output --version.
	* configure.in: Version 0.5.

2001-06-08  Akim Demaille  <akim@epita.fr>

	Printing recursive types carelessly causes infloops.

	* tests/types/recursive-type.tig: New.
	* src/type/types.hh (Type::print): Accept a second argument,
	`depth'.
	Propagate its use.
	(Named::print): If `depth' is negative, don't print the actual
	type.

2001-06-08  Akim Demaille  <akim@epita.fr>

	* tests/type/duplicate-field.tig: New.
	* src/type/type-visitor.hh (RecordTy): Catch multiply defined
	fields.
	Fixes tests/type/duplicate-field.tig.

2001-06-08  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh (FieldVar): Improve the message.

2001-06-08  Akim Demaille  <akim@epita.fr>

	* tests/good/compare-void.tig: New.
	* src/absyn/opexp.hh (Kind): Add `void_kind'.
	* src/type/type-visitor.hh (OpExp): When comparing (= and <>) two
	void objects, tags the OpExp as void_kind for the TranslateVisitor.
	* src/translate/translate-visitor.hh (OpExp): Consider expressions
	of `void_kind' as simple ESEQ which evaluates its arguments, and
	return true.
	Fixes tests/good/compare-void.tig.

2001-06-08  Akim Demaille  <akim@epita.fr>

	* tests/type/unknown-array-type.tig: Rename as...
	* tests/type/unknown-array-type-1.tig: this.
	* tests/type/unknown-array-type-1.tig: New.
	* src/type/type-visitor.tig (ArrayExp): Typo: check the
	array_type, not `_type' which is still unset.

2001-06-08  Akim Demaille  <akim@epita.fr>

	* tests/good/nil-as-arg.tig: New.
	* src/type/type-visitor.hh (CallExp): Use check_types_assignable,
	not check_types_equal when checking actual arguments and formal
	arguments.
	Fixes tests/good/nil-as-arg.tig.

	* tests/type/for-body-non-void.tig: New.
	* src/parse/parsetiger.yy (FOR): Be sure to avoid the overflow
	issues.
	Compare the body to `()' to make sure it is type checked against
	Void.
	Fixes tests/type/for-body-non-void.tig.

2001-06-07  Akim Demaille  <akim@epita.fr>

	* src/translate/translate-visitor.hh: Formatting changes.
	(type_recovery): Inline its body and remove.
	* src/type/type-env.hh: Formatting changes.
	* src/type/type-visitor.hh (check_type_exists): New.
	Use it.
	(visit (NameTy)): Use it.
	Fixes the abort on `let type foo = undefined in 0 end'.
	(visit (OpExp)): Be sure to check the equality of actual types.
	Fixes the type checking on`let var a : int := 0 in a = 0 end'.
	* src/translate/exp.hh: Formatting changes.
	* src/translate/translation.hh: Likewise.
	* tests/good/var-ordering.tig: New.

2001-06-05  Akim Demaille  <akim@epita.fr>

	Display user types in error messages.
	This amounts to stop using `actual' by default, just invoke it
	when actual computation on types is needed.

	* src/type/type-visitor.hh (check_types_equal)
	(check_types_comparable, check_types_assignable): Don't display
	the actual type, but its user name.
	(visit (const SimpleVar& e), visit (const FieldVar& e))
	(visit (const ArrayExp& e)): Set the type to the user name, not
	the actual type.
	(visitTypeDecBody): No longer use _actual_type, just invoke
	`actual' on _type.
	(visit (const NameTy& e)): Don't invoke actual.
	(_actual_type): Remove, no longer used.
	* src/canon/Makefile.am (test-canon): `check' not `noinst'.
	* tests/syntax/compare-non-assoc-2.tig: New.

2001-05-30  Akim Demaille  <akim@epita.fr>

	* src/translate/fragment.hh (ostream& << fragments_t&): New.
	* src/absyn/libabsyn.hh (ostream& << absyn&): New.
	* src/tc.cc: Use it.
	(display_ir): Remove.
	* src/type/type-visitor.hh: Fix a student mark.

2001-05-29  Akim Demaille  <akim@epita.fr>

	Work around the same linker bug as two patches below.

	* src/temp/libtemp.cc: New.
	Adjust the whole project.

2001-05-29  Akim Demaille  <akim@epita.fr>

	* src/type/type-env.hh, src/type/type-visitor.hh,
	* src/type/types.hh: Student marks.
	* src/symbol/Makefile.am, src/type/Makefile.am: Link with
	libsymbol.a.
	* tests/escapes/record-escapes.tig: New.

2001-05-22  Akim Demaille  <akim@epita.fr>

	Work around the dirty NetBSD linker bug.

	* src/symbol/symbol.hh (_map ()): Remove, replaced by...
	* src/symbol/symbol.cc: New file.
	(_map): New.
	* src/type/Makefile.am (test_type_LDADD): Add libsymbol.a.
	* src/temp/Makefile.am (test_temp_LDADD): Add libsymbol.a.
	* src/canon/Makefile.am (test_canon_LDADD): Add libsymbol.a.
	* src/Makefile.am (tc_LDADD): Add libsymbol.a.

2001-04-18  Akim Demaille  <akim@epita.fr>

	* src/type/type-visitor.hh: Various cleanups.

2001-04-05  Akim Demaille  <akim@epita.fr>

	* src/type/test-type.hh: New.
	* src/type/types.hh: Insert student marks.
	(Named::print): Remove a stupid `return' which prevents the
	display of the actual type.
	(Named::Named (Symbol)): New.

2001-04-05  Akim Demaille  <akim@epita.fr>

	* src/absyn/escapes-visitor.hh (scope_begin, scope_end): Remove.
	(visit (LetExp), visit (FunctionDec)): Adjust.
	Reported by Arnaud Dumont.

2001-03-28  Akim Demaille  <akim@epita.fr>

	Implement the symbols table as suggested by Yann Régis-Gianias.

	* src/symbol/table.hh (slist_t, _dist_stack): Rename as symtab_t
	and _symtab.
	(scope_begin): Duplicate the top dict instead of starting from a
	fresh table.
	(get): Don't iterate, just look at the top symtab.

2001-03-28  Akim Demaille  <akim@epita.fr>

	* src/translate/level-entry.hh (LevelTypeEntry): Remove, useless.
	Define << for LevelVarEntry and LevelFunEntry.
	* src/translate/level-env.hh (LevelEnv): No longer inherit from
	symbol::Env.
	(scope_begin, scope_end, print): New methods.
	* src/symbol/env.hh: Remove.

2001-03-28  Akim Demaille  <akim@epita.fr>

	* src/absyn/print-visitor.hh (visit (RecordTy), visit (Field)):
	Don't display pseudo escapes for Field.
	Display `escaping', not `escapes'.
	* src/type/type-entry.hh: Define << for TypeEntry, VarEntry and
	FunEntry.
	* src/type/type-env.hh (TypeEnv): No longer inherit from
	symbol::Env.
	(scope_begin, scope_end, print): New methods.

2001-03-23  Akim Demaille  <akim@epita.fr>

	* src/absyn/escapes-visitor.hh (visit (LetExp)): New.
	* tests/escapes/scopes.tig, tests/escapes/variant-escapes.tig:
	New.

2001-03-20  Akim Demaille  <akim@epita.fr>

	* src/temp/label.hh (Label::Label (Symbol)): `new' the symbol.

2001-03-20  Akim Demaille  <akim@epita.fr>

	* src/translate/access-level.hh, src/translate/access-level.hh,
	* src/type/types.hh: Don't `new' Symbols, don't pass
	them by reference: they are small enough.
	* src/translate/access-level.hh: Use symbol::Symbol.
	* src/type/types.hh: Use `using' *in* the name space.

2001-03-20  Akim Demaille  <akim@epita.fr>

	* src/type/type-entry.hh, src/type/type-visitor.hh, src/symbol/env.hh,
	* src/symbol/table.hh: Fix the #include guard names.

2001-03-20  Akim Demaille  <akim@epita.fr>

	* tests/good/comments-javalike-nested.tig,
	* tests/good/comments-with-parens.tig,
	* tests/good/comments-with-quotes.tig: New.

2001-03-20  Akim Demaille  <akim@epita.fr>

	* src/type/type-env.hh, src/type/type-visitor.hh,
	* src/symbol/env.hh: Don't `new' Symbols, don't pass them by
	reference: they are small enough.

2001-03-17  Akim Demaille  <akim@epita.fr>

	* src/semant/entry.hh: Remove.
	* src/semant/level-entry.hh: Rename as...
	* src/translate/level-entry.hh: this.
	Be in the translate name space.
	Don't use the former Entry base class.
	* src/type/type-entry.hh: Don't use Entry.

	* src/semant/level-env.hh: Rename as...
	* src/translate/level-env.hh: this.
	Be in the translate name space.
	* src/semant/libsemant.cc: Rename as...
	* src/translate/libtranslate.cc: this.
	* src/semant/libsemant.hh: Rename as...
	* src/translate/libtranslate.hh: this.
	* src/semant/semant-visitor.hh (SemantVisitor): Rename as...
	* src/translate/translate-visitor.hh (TranslateVisitor): this.

2001-03-17  Akim Demaille  <akim@epita.fr>

	* src/type/type-entry.hh (VarEntry): No longer store an Acces
	to the variable.
	(FunEntry): No Level, nor Label needed in the type visitor, remove.
	* src/type/type-env.hh: Adjust.
	* src/type/type-visitor.hh: Likewise.

2001-03-16  Akim Demaille  <akim@epita.fr>

	* tests/syntax/seqexp-1.tig, tests/syntax/seqexp-2.tig,
	* tests/syntax/seqexp-3.tig, tests/syntax/seqexp-4.tig,
	* tests/escapes/local-escapes.tig: New.

2001-03-16  Akim Demaille  <akim@epita.fr>

	* src/types: Rename as...
	* src/type: this, for consistency with the name space.
	* src/semant/typecheck.cc: Rename as...
	* src/type/libtype.cc: this.
	Use the `type' namespace, not `semant'.
	Remove the various `type::'.
	* src/semant/type-entry.hh, src/semant/type-env.hh: Likewise.
	* src/type/libtype.hh: New.

2001-03-15  Akim Demaille  <akim@epita.fr>

	* src/symbol/symbol_test.cc: Rename as...
	* src/symbol/symbol-test.cc: this.
	* src/absyn/escapes-visitor.hh (Escape, VariableEscape)
	(FormalEscape): Rename as...
	(Definition, VariableDefinition, FormalDefinition): these.
	* src/absyn/functiondec.hh (escapes_get): Return a list instead of
	requiring a reference to the list holding the result.
	* src/absyn/print-visitor.hh (visit (SeqExp)): Always display the
	parens.
	(visit (VarDec), visit (Field)): Display the escaping status as a
	comment, not a new keyword.
	* src/parse/scantiger.ll (id): Can start with an underscore.
	* src/semant/semant-visitor.hh (visit (VarDec)): Fix a stupid
	typo: invoke `translate::assignExp' when it is an assignment, not
	when it is not :).
	* tests/good/types-aliases.tig: Typo.
	* tests/good/string-int-not-keywords.tig: Rearrange the
	definitions of string and int so that they are not mutually
	recursive, but are both based on the predefined `int' type.

2001-03-06  Akim Demaille  <akim@epita.fr>

	Esthetic issues.

	* src/absyn/print-visitor.hh (visit RecordTy): Initialize `i'
	once.
	* src/absyn/typedec.hh, src/parse/scantiger.ll: Formatting
	changes.
	* src/symbol/table.hh: Arguments passed by value don't need to be
	const.
	In symbol::, don't use symbol::.
	Remove useless `typename's.
	(print): Fix the output of the delimiter.


	Upgrade the Autoconfiscation.

	* depcomp: New.
	* bootstrap.sh: Install depcomp in the top dir.


	Update the test suite.

	* tests/good/initialize-to-nil.tig,
	* tests/good/string-int-not-keywords.tig,
	* tests/good/types-aliases.tig:	Don't depend on working empty
	records to keep different issues unrelated.
	* tests/good/string-backslash.tig: Check `\\' support.
	* tests/good/string-huge.tig: Don't test \-escapes.
	* tests/lexical/string-comma-escape.tig: New.
	* tests/good/assign-vs-rel.tig: New.
	* tests/good/string-octal.tig: New.
	* tests/good/string-simple-quotes.tig: New.
	* tests/good/nul-character.tig: New.
	* tests/good/underscore.tig: New.
	* tests/good/assign-vs-boolean.tig: New.
	* tests/good/donald.tig: New.
	* tests/syntax/call-separator-1.tig: New.
	* tests/syntax/call-separator-2.tig: New.

2001-02-09  Akim Demaille  <akim@epita.fr>

	* configure.in, boostrap.sh, Makefile.am: Adjust to Automake
	1.4b.

2001-02-09  Akim Demaille  <akim@epita.fr>

	Stop using std::list<Foo *> everywhere.

	* src/absyn/exp.hh <exps_t>: New.
	* src/absyn/dec.hh <decs_t>: New.
	* src/absyn/field.hh <fields_t>: New.
	* src/absyn/fieldexp.hh <fieldexps_t>: New.
	Use them.

2001-02-09  Akim Demaille  <akim@epita.fr>

	* src/absyn/README (VarExp): Remove.
	* configure.in: Clean up.
	* bootstrap.sh: New.
	* src/semant/type-entry.hh: Add to the repository, forgotten from
	the previous patch.
	* src/semant/level-env.hh: Likewise.
	* src/semant/level-entry.hh: Likewise.
	* src/semant/temp-env.hh: Likewise.
	* tests/good/string-backslash.tig: Likewise.

2001-02-09  Akim Demaille  <akim@epita.fr>

	Get rid of the last types needed.

	* src/absyn/vardec.hh (enum Kind, _kind, kind_get, kind_set): New.
	* src/semant/type-visitor.hh (visit VarDec): Set the kind.
	* src/semant/semant-visitor.hh (visit VarDec): Use the kind
	instead of the type.

	We no longer need tagging absyn with types.

	* src/absyn/exp.hh, src/absyn/field.hh, src/absyn/functiondec.hh,
	* src/absyn/vardec.hh: Don't include code to tag with Type.
	* src/semant/type-visitor.hh: No longer use type_set.
	* src/semant/semant-visitor.hh: No longer include type.hh.

	* src/semant/level-entry.hh (TypeLevelEntry): Don't require a
	type.  Was left by mistake.
	* src/types/types.hh (Named::actual): Assert _type.

2001-02-06  Akim Demaille  <akim@epita.fr>

	* src/absyn/assignexp.hh (enum Kind, _kind, kind_get, kind_set): New.
	* src/semant/type-visitor.hh (visit AssignExp): Set the kind.
	* src/semant/semant-visitor.hh (visit AssignExp): Use the kind
	instead of the type.

2001-02-06  Akim Demaille  <akim@epita.fr>

	Yipee!  It seems to be going to be great...
	And the test suite is still happy.  I start wondering if it works :)

	* src/semant/entry.hh: Just declare `Entry', move the former
	definition of `TypeEntry', `VarEntry' and `FunEntry' as are in...
	* src/semant/type-entry.hh: This new file.
	* src/semant/type-env.hh: Use these.
	* src/semant/semant-visitor.hh: Use only a LevelEnv, which means
	removing type related code interacting with _env.
	* src/semant/level-entry.hh: New file, very much inspired from the
	former entry.hh, but old type related code is removed.  Class are
	named `LevelTypeEntry', `LevelVarEntry' and `LevelFunEntry' to
	avoid clashes.  But some day, they should move into different name
	spaces...
	* src/semant/level-entry.hh: New file, strongly inspired from
	former `entry.hh', but type related code is removed.

2001-02-06  Akim Demaille  <akim@epita.fr>

	Let Env be a class template, and TypeEnv be the env used by type
	checking.  For the time being, SemantVisitor is still using the
	TypeEnv, to make the patch smaller, hence TypeEnv still contains
	accesses etc.

	* src/semant/env.hh (Env): Rename as...
	* src/semant/type-env.hh (TypeEnv): this.
	Adjust all dependencies.

	I'd like to name this new file `env.hh', but PRCS does not like it
	at all (well, I'm not kind with it: renaming a former `env.hh' and
	creating a new one...).

	* src/semant/temp-env.hh: No longer ask for a translate::Level.
	Don't fill the initial environment.
	Change all the `type_put', `type_get' into `typeentry_put'
	etc. which *only* puts or gets entries.
	Remove all the methods which were specialized in accessing some
	fields of the Entries.
	* src/semant/type-env.hh (TypeEnv): Inherit from Env.
	Use its methods to put, to get, to instantiate, to print, to play
	with the scope.

2001-02-06  Akim Demaille  <akim@epita.fr>

	* src/absyn/letexp.hh (enum Kind, _kind, kind_get, kind_set): New.
	* src/semant/type-visitor.hh (visit LetExp): Set the kind.
	* src/semant/semant-visitor.hh (visit LetExp): Use the kind
	instead of the type.

	Also adjust the SeqExp kind code to use also expression_kind and
	instruction_kind instead of ad hoc eseq_kind and seq_kind.

2001-02-06  Akim Demaille  <akim@epita.fr>

	* src/absyn/ifexp.hh (enum Kind, _kind, kind_get, kind_set): New.
	* src/semant/type-visitor.hh (visit IfExp): Set the kind.
	* src/semant/semant-visitor.hh (visit IfExp): Use the kind
	instead of the type.

2001-02-06  Akim Demaille  <akim@epita.fr>

	* src/absyn/seqexp.hh (enum Kind, _kind, kind_get, kind_set): New.
	* src/semant/type-visitor.hh (visit SeqExp): Set the kind.
	* src/semant/semant-visitor.hh (visit SeqExp): Use the kind
	instead of the type.

2001-02-06  Akim Demaille  <akim@epita.fr>

	* src/absyn/opexp.hh (enum Kind, _kind, kind_get, kind_set): New.
	* src/semant/type-visitor.hh (visit OpExp): Set the kind.
	* src/semant/semant-visitor.hh: Use the kind instead of the type.

2001-02-06  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh (visit (const AssignExp& e)):
	Don't check for read only variables, the TypeVisitor did it.

2001-02-06  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh (visit (const CallExp& e)):
	Just as below.

2001-02-06  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh (visit (const RecordExp& e)):
	Get rid of type related entities, useless.

2001-02-06  Akim Demaille  <akim@epita.fr>

	* src/semant/type-visitor.hh, src/semant/semant-visitor.hh:
	Variable declaration cleanups: try to make sure all the
	definitions have a default value.  Avoid introducing a variable
	without an init value by moving definition to the first assignment.

2001-02-06  Akim Demaille  <akim@epita.fr>

	Now remove the type checking code from the SemantVisitor.

	* src/absyn/README: Adjust: Var inherits from Exp now.

	We need to store some more types/data in Absyn.
	And avoid other name clashes.

	* src/absyn/default-visitor.hh, src/absyn/print-visitor.hh):
	s/type_get/type_name_get/.
	* src/absyn/fieldvar.hh (_index, index_get, index_set): New.
	* src/absyn/functiondec.hh (_result_type, result_type_get)
	(result_type_set, _formals_type, formals_type_get)
	(formals_type_set): New.
	* src/absyn/vardec.hh: s/type/type_name/g.
	(_type, type_set, type_get): New.
	* src/semant/type-visitor.hh (FieldVar): Store the `index' in
	absyn.
	(FunctionDec): Store the signature in absyn.
	(VarDec): Store type in absyn.
	Adjust to the renaming of former `type_get' into `type_name_get'.

	Remove type checking from SemantVisitor.

	* src/semant/semant-visitor.hh (type_recovery): Just set
	`exit_status'.
	(type_mismatch, check_types_equal, check_types_comparable)
	(check_types_assignable): Remove.
	For most `visit' methods, simply remove all type related code.
	When the type is needed (to distinguish a procedure from a
	function, to distinguish strings comparison from integer
	comparison, to differentiate a SeqExp from an EseqExp, to store a
	function signature or a variable in the Env), just invoke
	`e.type_get ()' to recover it from absyn.

	The more I think about it, the more I'm convince we really don't
	need the type here...  More work to come.


	Some configury adjustments.

	* src/semant/Makefile.am: Don't use noinst_HEADERS, list in
	SOURCES.
	* src/semant/libsemant.cc: Parsimony in #includes.
	* src/semant/libsemant.hh: Declare `type_check'.
	* src/tc.cc (main): Call `type_check', and exit before semantic
	analysis if there were errors.

2001-02-06  Akim Demaille  <akim@epita.fr>

	Create a type checking phase.

	* src/semant/type-visitor.hh: New, based on semant-visitor.hh.

	I'm not yet sure of the following changes which might be reverted
	in the future.  First I want the TypeVisitor to work.

	* src/semant/entry.hh (FunEntry::_level): Pointer, not reference.
	* src/semant/env.hh: Receive a pointer a `outer', not a reference.
	* src/semant/libsemant.cc: Run the TypeVisitor.
	* src/semant/semant-visitor.hh: `outer_level' is a pointer, not a
	reference.

2001-02-06  Akim Demaille  <akim@epita.fr>

	Let Exp (and therefore Var) and Field have a type::Type field.

	* src/absyn/exp.hh (type_get, type_set, _type): New.
	* src/absyn/field.hh (type_get, type_set, _type): New.
	* src/semant/semant-visitor.hh: Adjust all the visitors of Exp and
	Field to set the type once computed.

2001-02-06  Akim Demaille  <akim@epita.fr>

	Don't use `type' when referring to the name of a type, there is
	too many risks of shooting in our foot.

	* src/absyn/arrayexp.hh: s/type/type_name/g.
	* src/absyn/field.hh: Likewise.
	* src/absyn/recordexp.hh: Likewise.
	* src/absyn/arrayty.hh:	s/type/base_type/g.
	* src/absyn/print-visitor.hh: Adjust to these changes.
	* src/semant/semant-visitor.hh: Likewise.


	Let Var inherit from Exp.

	* src/absyn/var.hh: Inherit from Exp, not Absyn.
	* src/absyn/varexp.hh: Remove.
	* src/parse/parsetiger.yy (exp: lvalue): Don't use a VarExp, just
	assign $1 to $$, but be careful to assist Bison's type checking.

2001-02-06  Akim Demaille  <akim@epita.fr>

	Don't use `type' when referring to the name of a type, there is
	too many risks of shooting in our foot.

	* src/absyn/arrayexp.hh: s/type/type_name/g.
	* src/absyn/field.hh: Likewise.
	* src/absyn/recordexp.hh: Likewise.
	* src/absyn/arrayty.hh:	s/type/base_type/g.
	* src/absyn/print-visitor.hh: Adjust to these changes.
	* src/semant/semant-visitor.hh: Likewise.


	Let Var inherit from Exp.

	* src/absyn/var.hh: Inherit from Exp, not Absyn.
	* src/absyn/varexp.hh: Remove.
	* src/parse/parsetiger.yy (exp: lvalue): Don't use a VarExp, just
	assign $1 to $$, but be careful to assist Bison's type checking.

2001-02-05  Akim Demaille  <akim@epita.fr>

	* lib/getopt.c, lib/getopt1.c, lib/getopt.h: Sync with CVS GNU
	libc.

2001-02-05  Akim Demaille  <akim@epita.fr>

	* lib/getopt.c: Really do what is stated below.

2001-02-05  Akim Demaille  <akim@epita.fr>

	* lib/getopt.c, lib/getopt1.c: ANSIfy, so that it compiles
	properly in C++.

2001-02-05  Akim Demaille  <akim@epita.fr>

	* src/absyn/intexp.hh (IntExp::IntExp): Use explicit to avoid bad
	surprises.  I lost quite some time because of this `feature'.
	* src/absyn/print-visitor.hh (_tab): Be a simple member, there is
	no need for a method!
	* src/symbol/symbol.hh: Likewise.
	* src/tree/const.hh: Likewise.
	* src/tree/label.hh: Likewise.

2001-01-24  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor-template.hh: Remove, obsolete.

2001-01-24  Akim Demaille  <akim@epita.fr>

	* src/translate/exp.hh: Student delimiters.
	* src/translate/exp.hh-template: Kaboom.
	* src/absyn/libabsyn.cc: Don't `new' the visitors, let
	them be stack objects.
	* src/absyn/print-visitor.hh (_dec): Fix the assertion.
	* src/semant/libsemant.cc (semantic_analysis): Allocate properly
	all the fields of the `outer_level'.
	* src/semant/semant-visitor.hh (SemantVisitor): Let _exp and
	_level be pointers.
	Adjust the code.
	(~SemantVisitor): New.
	Push the main program in the fragments.
	* src/tc.cc (dispay_ir): Don't check if `fragments' can be empty:
	it can't now that it includes the main program.

2001-01-23  Akim Demaille  <akim@epita.fr>

	Let the program be a fragment.

	* src/semant/analysis.cc, src/semant/analysis.hh: Rename as...
	* src/semant/libsemant.cc, src/semant/libsemant.hh: these.
	* src/semant/libsemant.cc (semantic_analysis): Store the program
	in a new ProcFrag, `$Main'.
	* src/tc.cc (canonicalization, dispay_ir, main): There is no
	`the_tree' any longer, just fragments.

2001-01-15  Akim Demaille  <akim@epita.fr>

	* lib/getopt.c, lib/getopt.h, lib/getopt1.c: New.
	* src/absyn/escapes-visitor.hh (absyn): Suppress more code for
	students.

2001-01-15  Akim Demaille  <akim@epita.fr>

	* tests/good/initialize-to-nil.tig: Normalize the body.
	* tests/good/letexp-eseq.tig: Likewise.

2000-12-19  Alexandre Duret-Lutz  <duret_g@epita.fr>

	Use a hash_map table to store symbols and use their _name's address
	as hash keys.

	* src/symbol/table.hh (std::hash<const symbol::Symbol>): New.
	(map_t): Define as a hash_map, with const Symbol as key.
	* src/symbol/symbol.hh (Symbol::operator<): Remove (now useless).

	Misc fixes.

	* src/absyn/callexp.hh: Comment extra characters after #endif.
	* src/absyn/functiondec.hh: Likewise.
	* src/absyn/ifexp.hh: Likewise.
	* src/absyn/letexp.hh: Likewise.
	* src/absyn/recordexp.hh: Likewise.
	* src/absyn/recordty.hh: Likewise.
	* src/absyn/seqexp.hh: Likewise.

	* src/tc.cc (exit_status): Update comment.

2000-12-18  Akim Demaille  <akim@epita.fr>

	* src/absyn/README: s/position/location/.
	* src/symbol/symbol.hh: Formatting and comment changes.
	* src/symbol/table.hh: Likewise.

2000-12-18  Akim Demaille  <akim@epita.fr>

	* tests/good/string-int-not-keywords.tig: New.
	* tests/syntax/nil-keyword.tig: New.
	* src/parse/parsetiger.yy: Prefer `%nonassoc' to `%left' when it
	doesn't matter.

2000-12-14  Akim Demaille  <akim@epita.fr>

	* src/absyn/location.hh (initial_column, initial_line): Remove.
	(<<): Fix.
	* src/parse/parse.hh (yyerror): Don't prototype, nobody uses it.
	* src/parse/parsetiger.hh (yyerror): #define as a call to
	parse_error.
	(parse_error): Improve version of former `yyerror'.
	* src/scantiger.ll (initial_column, initial_line): Remove.
	(YY_USER_INIT): Set end's filename too.

2000-12-14  Akim Demaille  <akim@epita.fr>

	* src/absyn/location.hh: New file, for pairs of positions.
	* src/absyn/position.hh: A position is just one point now.

2000-11-07  Akim Demaille  <akim@epita.fr>

	* src/absyn/position.hh (column, line, word): New.
	(<<): Don't issue twice the line number when the range is on a
	single line.
	* src/parse/scantiger.ll: Use them.

2000-11-07  Akim Demaille  <akim@epita.fr>

	* src/common.hh: Protect against multiple inclusion.
	(exit_t): New type.
	Change all the occurrences of hard coded exit values into members
	of exit_t.
	Shift the exit values to follow the new rules.

	* src/parse/parse.hh: New file.
	* src/parse/scantiger.ll, parse/parsetiger.yy: Use it.
	* src/parse/scantiger.ll: Use directly yylloc to compute the
	locations.

	* src/absyn/position.hh: Declare as a class, not struct.
	(step, Position, operator+, operator+=): New.

	* src/parse/scantiger.ll: Catch invalid octal escapes.
	Display the guilty input when something goes wrong.

	* tests/lexical/invalid-character.tig: New.
	* tests/lexical/unterminated-comment.tig: Likewise.
	* tests/lexical/unterminated-string.tig: Likewise.
	* tests/lexical/string-octal-escape.tig: Likewise.
	* tests/syntax/charset.tig: Remove.

2000-10-20  Alexandre Duret-Lutz  <duret_g@epita.fr>

	* src/parse/parsetiger.yy: Cosmetic changes.

2000-10-19  Alexandre Duret-Lutz  <duret_g@epita.fr>

	Introduce concatenation of positions for better error reporting.

	* src/absyn/position.hh (operator+): New.
	* src/parse/parsetiger.yy (exp): Use it in the `for' expression.

2000-10-19  Alexandre Duret-Lutz  <duret_g@epita.fr>

	* src/parse/parsetiger.yy (exp): Transform the `for' expression
	into an infinite while loop that breaks when the upper limit is
	reached.

2000-10-19  Alexandre Duret-Lutz  <duret_g@epita.fr>

	* src/absyn/vardec.hh (VarDec::VarDec): Remove duplicate
	constructor, `writable' defaults to true instead.
	* src/absyn/assignexp.hh (AssignExp::AssignExp): Likewise,
	`force' defaults to false.

2000-10-19  Alexandre Duret-Lutz  <duret_g@epita.fr>

	* src/absyn/default-visitor.hh: Cosmetic change in comment.
	* src/absyn/escapes-visitor.hh: Reword a comment.

2000-10-18  Akim Demaille  <akim@epita.fr>

	* src/absyn/arrayexp.hh: Replace `visitArrayExp' with just
	`visit'.  Overloading takes care of it all.
	* src/absyn/arrayty.hh: Likewise.
	* src/absyn/assignexp.hh: Likewise.
	* src/absyn/breakexp.hh: Likewise.
	* src/absyn/callexp.hh: Likewise.
	* src/absyn/default-visitor.hh: Likewise.
	* src/absyn/escapes-visitor.hh: Likewise.
	* src/absyn/fieldexp.hh: Likewise.
	* src/absyn/field.hh: Likewise.
	* src/absyn/fieldvar.hh: Likewise.
	* src/absyn/forexp.hh: Likewise.
	* src/absyn/functiondec.hh: Likewise.
	* src/absyn/ifexp.hh: Likewise.
	* src/absyn/intexp.hh: Likewise.
	* src/absyn/letexp.hh: Likewise.
	* src/absyn/namety.hh: Likewise.
	* src/absyn/nilexp.hh: Likewise.
	* src/absyn/opexp.hh: Likewise.
	* src/absyn/print-visitor.hh: Likewise.
	* src/absyn/recordexp.hh: Likewise.
	* src/absyn/recordty.hh: Likewise.
	* src/absyn/seqexp.hh: Likewise.
	* src/absyn/simplevar.hh: Likewise.
	* src/absyn/stringexp.hh: Likewise.
	* src/absyn/subscriptvar.hh: Likewise.
	* src/absyn/typedec.hh: Likewise.
	* src/absyn/vardec.hh: Likewise.
	* src/absyn/varexp.hh: Likewise.
	* src/absyn/visitor.hh: Likewise.
	* src/absyn/whileexp.hh: Likewise.
	* src/semant/semant-visitor.hh: Likewise.

2000-10-18  Akim Demaille  <akim@epita.fr>

	* src/canon/canon.hh: Better comments.
	(canon_sxp): Remove, unused.

	* tests/type/test16.tig: Rename as...
	* tests/type/types-endless-recursion.tig: this.
	* tests/type/test45.tig: Rename as...
	* tests/type/unconstrained-nil.tig: this.

	* tests/canon: New directory, containing typical failures of
	canonization.
	* tests/canon/functions.tig: New file.
	* tests/canon/side-effects-in-sxp.tig: Likewise.
	* tests/canon/side-effects-in-init.tig: Likewise.
	* tests/canon/commutation-2.tig: Likewise.
	* tests/canon/commutation-1.tig: Likewise.
	* tests/canon/call.tig: Likewise.

	* tests/segv/bempel_j.tig: Likewise.

	* tests/good/compare-nil-and-record.tig: Likewise.
	* tests/good/assign-void.tig: Likewise.
	* tests/good/initialize-to-nil.tig: Likewise.
	* tests/good/letexp-eseq.tig: Likewise.
	* tests/syntax/type-nil.tig: Likewise.
	* tests/type/string-arithmetics.tig: Likewise.

2000-08-10  Akim Demaille  <akim@epita.fr>

	Start normalizing and studentizing the parse module.

	* src/parse/scantiger.ll: Studentize.
	* src/parse/scantiger.hh: Remove.
	* src/parse/parsetiger.yy: Put some student marks.
	(parse): Move to...
	* src/parse/libparse.cc: here, new file.
	* src/parse/parse.hh: Rename as...
	* src/parse/libparse.hh: this.
	* src/parse/Makefile.am: Adjust.

2000-08-09  Akim Demaille  <akim@epita.fr>

	* src/absyn/print-visitor.hh: Adjust so that student can compile
	absyn/ without modification.
	* src/absyn/default-visitor.hh: Likewise.
	* src/absyn/callexp.hh [STUDENT]: Add a fake ctor which only makes
	it possible to compile, but is not functional.
	* src/absyn/functiondec.hh: Likewise.
	* src/absyn/ifexp.hh: Likewise.
	* src/absyn/letexp.hh: Likewise.
	* src/absyn/recordexp.hh: Likewise.
	* src/absyn/recordty.hh: Likewise.
	* src/absyn/seqexp.hh: Likewise.
	* studentize: Handle #if STUDENT properly.

2000-08-09  Akim Demaille  <akim@epita.fr>

	* src/semant/env.hh: Insert student marks.
	More comments.
	(_tenv, _venv, _fenv): Rename as _ttable, _vtable, _ftable, since
	these are tables of symbols, not environments.
	(var_put): Use a default value for `writable' instead of having
	two methods.
	* src/semant/env-template.hh: Remove, now useless.

2000-08-09  Akim Demaille  <akim@epita.fr>

	* src/absyn/test_absyn.cc: Rename as...
	* src/absyn/test-absyn.cc: this.
	Update.
	* src/absyn: Put the student marks.

	Include a target `studist' which builds the student distribution.

	* studentize: New file.
	* Makefile.am (studist): New target.
	* src/absyn/Makefile: Remove the old studentizing mechanism.
	* src/semant/Makefile: Likewise.
	* src/canon/Makefile: Likewise.

	Clean up a few messy things.

	* src/absyn/functiondec.hh (_functionDecs): Remove, useless and
	unused.

2000-08-09  Akim Demaille  <akim@epita.fr>

	* src/canon/canon.hh (is_nop): SXP (TEMP (t)) is a nop too.

2000-08-09  Akim Demaille  <akim@epita.fr>

	* src/absyn/default-visitor.hh: Out the students marks.
	Make the `for' loops uniform.
	* src/absyn/escapes-visitor.hh: New file.
	* src/absyn/simplevar.hh: Formatting changes.
	* src/absyn/vardec.hh (VarDec::escape_set): New.
	* src/absyn/field.hh (Field::escape_set): New.

	* tests/good/escapes.tig: Rename as...
	* tests/good/string-escapes.tig: this.
	* tests/good/huge-string.tig: Rename as...
	* tests/good/string-huge.tig: this.
	* tests/escapes/formal-escapes.tig: this.
	* tests/escapes/variable-escapes.tig: this.
	* tests/escapes/formal-escapes.tig: New.
	* tests/escapes/variable-escapes.tig: New.
	* tests/good/compare-strings.tig: New.
	* tests/good/single-variable.tig: New.

2000-08-09  Akim Demaille  <akim@epita.fr>

	Install the basis for a computation of the escapes.

	* src/absyn/absyn.hh (print): Remove.
	* src/absyn/print-visitor.hh (PrintVisitor::_display_escapes_p):
	New.
	Use it.
	* src/absyn/absyn.cc: Rename as...
	* src/absyn/libabsyn.cc: this.
	Provide functions instead of methods.
	(print): Pass display_escapes_p to the visitor.
	* src/absyn/libabsyn.hh: New.
	* src/tc.cc (main): Adjust to support --compute-escapes.

2000-08-08  Akim Demaille  <akim@epita.fr>

	Emit the proper `MOVE (rv, body_value)' for function calls.

	* src/translate/translation.hh (procedureDec): New.
	(functionDec): Use it.
	* src/semant/semant-visitor.hh (visitFunctionDec): Distinguish
	the case of procedures and functions.

2000-08-08  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh (SemantVisitor): Inherit from
	DefaultVisitor instead of Visitor.
	(visitVarExp, visitFieldExp): Remove, useless.
	Some stylistic changes.
	Handle some FIXME:s.

2000-08-08  Akim Demaille  <akim@epita.fr>

	* src/absyn/tigervisitor.hh-template: Remove, since now
	tiger-visitor.hh is equipped with //<<, //>> pairs.
	* src/absyn/visitor.hh-template: Remove, since there is
	default-visitor.hh now.
	* src/absyn/tiger-visitor.hh (TigerVisitor): Inherit from the
	DefaultVisitor rather than the Visitor.
	Rename as PrintVisitor.
	Rename the file as...
	* src/absyn/print-visitor.hh: this.
	(visitVarExp): Remove, it is handled by DefaultVisitor.

2000-08-08  Akim Demaille  <akim@epita.fr>

	* src/absyn/default-visitor.hh: New file.
	* src/absyn/tigervisitor.hh: Rename as...
	* src/absyn/tiger-visitor.hh: this.
	Normalize all the loops to `for', not `while'.
	* src/absyn/Makefile.am: Adjust.

2000-08-08  Akim Demaille  <akim@epita.fr>

	Give a means to display the escaping variables.

	* src/tc.cc (display_escapes_p): New.
	* src/common.hh: Adjust.
	* src/absyn/tigervisitor.hh: Formatting changes.
	(visitField, visitVarDec): Display the escapes.

2000-08-08  Akim Demaille  <akim@epita.fr>

	* src/temp/label.hh (Label::_name): Be a symbol::Symbol, not a
	string.
	(Label::Label (const string &)): New.
	* src/translate/translation.hh (callExp): Use the new facilities
	from Label.
	(callExp (const temp::Label label, Exp &arg1),
	callExp (const temp::Label label, Exp &arg1, Exp &arg2)): New.
	Use them.

2000-08-07  Akim Demaille  <akim@epita.fr>

	* src/translate/translation.hh: Add some //<<, //>> pairs.

2000-08-07  Akim Demaille  <akim@epita.fr>

	Comparison between strings requires using an auxiliary function,
	one cannot not just use opExp.

	* src/translate/translation.hh (stringOpExp): New.
	* src/semant/semant-visitor.hh (visitOpExp): Use it.

2000-08-07  Akim Demaille  <akim@epita.fr>

	Augment the documentation, and fix a bug: each formal parameter of
	a function was allocated twice, and only the latest was used.

	* src/tc.cc (main): Set `program_name'.
	* src/frame/access.cc: More comments.
	* src/frame/access.hh: Likewise.
	* src/frame/frame.hh: Likewise.
	(Frame::formals_get): New member function.  Added in order to have
	the following items implementable.
	* src/translate/access-level.hh: More comments.
	(Level::_formals): New.
	(Level::Level): Use Frame::formals_get to build Level::_formals.

	* src/semant/semant-visitor.hh (visitFunctionDecHeader): Minor
	reformatting.,
	(visitFunctionDecBody): Do not allocate for the formals again,
	instead, fetch the accesses to the formals via the level of the
	function.

2000-08-02  Akim Demaille  <akim@epita.fr>

	* src/tc.cc (canonicalization): Work on the objects themselves,
	not on copies!

2000-08-02  Akim Demaille  <akim@epita.fr>

	* src/tc.cc: Revamping the options in order to display the various
	intermediate steps on demand.

	* tests/good/test06.tig: Rename as...
	* tests/good/mutually-recursive-functions.tig: this.
	* tests/good/test07.tig: Rename as...
	* tests/good/mutually-recursive-procedures.tig: this.
	* tests/good/test38.tig: Rename as...
	* tests/good/shadowing-types-consecutive.tig: this.
	* tests/good/test47.tig: Rename as...
	* tests/good/shadowing-types-separate.tig: this.
	* tests/good/test48.tig: Rename as...
	* tests/good/shadowing-functions.tig: this.

2000-08-01  Akim Demaille  <akim@epita.fr>

	* src/canon/libcanon.cc (trace_canon_p): New variable.
	* src/canon/canon.hh: Insert student marks.
	Trace only when trace_canon_p;
	* src/canon/Makefile.am (.hh.HH, .cc.CC): New rule.
	* src/tc.cc: Revamp the getopt use so that variables are handled
	directly by getopt.
	(usage): New function.

2000-08-01  Akim Demaille  <akim@epita.fr>

	* src/canon/canon.hh: Revamp.
	* src/canon/check.hh: Do check for something.
	* src/tc.cc (canonicalization): New function.
	* src/translate/fragment.hh (ProgFrag::_body): is a pointer, not a
	reference.
	Adjust dependencies.
	* src/tree/sxp.hh (exp_get): Don't assert your result.

2000-07-26  Akim Demaille  <akim@epita.fr>

	The variables of `for' loops are read-only.

	* src/absyn/assignexp.hh (force): New attribute.
	* src/absyn/field.hh: Formatting changes.
	* src/absyn/vardec.hh (writable): New attribute.
	* src/parse/parsetiger.hh: Adjust, so that the variable of `for'
	loop is not readable, but the `for' loop may increment it.
	* src/semant/entry.hh (VarEntry): Adjust to handle `writable'.
	* src/semant/env.hh (var_put): Provide a version with `writable'.
	(var_writable_get): New.
	* src/semant/semant-visitor.hh (visitVarDec, visitAssignExp):
	Adjust.

2000-07-24  Akim Demaille  <akim@epita.fr>

	* src/canon/check.hh: New file.
	* src/canon/libcanon.cc: Use it.
	* src/tree/node.hh (_child): Rename as
	(_children): this.

2000-07-24  Akim Demaille  <akim@epita.fr>

	* src/canon/canon.hh: Full rewrite.
	* src/tc.cc: Rename the --use-rewrite option as --rewrite.
	* src/tree/node.hh (second_child_set): Remove the spurious
	assignment (the value was set twice).

2000-07-21  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh (visitVarDec): Remove tracing code.

	* src/tree/node.hh (nodes_t): New type.
	Use it everywhere instead of vector<Node *>.

	* src/tree/cjump.hh: The two label are children, not extra
	attributes.
	* src/tree: Globally, avoid using child_get (int).
	* src/node.hh (Node::tag_print): New virtual method.
	(Node::print): Use it.
	Adjust all the dependencies, i.e., remove all the `print' (but in
	ESEQ and SEQ), and implement `tag_print'.
	* src/translate/exp.hh (RelCx::unCx): Adjust.

2000-07-21  Akim Demaille  <akim@epita.fr>

	`let var a := () in end' is legal.

	* src/semant/semant-visitor.hh (visitVarDec, visitAssignExp):
	Don't try to issue an assignment when the variable is of type
	void.

	Factor the handling of the translation of SeqExp and EseqExp.

	* src/translate/translation.hh (seqExp, eseqExp): Rewrite so that
	they have some optimizations builtin.  This allows to simplify the
	calling code.
	* src/semant/semant-visitor.hh (visitSeqExp, visitLetExp): Use
	them.

	* src/canon/libcanon.cc (canonicalization): Remove, replaced by...
	(canoncalize): New.
	Adjust dependencies.

2000-07-13  Akim Demaille  <akim@epita.fr>

	* src/canon/libcanon.hh: New file.
	* src/canon/libcanon.cc: Likewise.
	* src/canon/test-canon: Likewise.
	* src/canon/Makefile.am: Likewise.
	* src/translate/translation.hh-student: Likewise.
	* src/translate/exp.hh-template: Likewise.
	* src/tree/rewrite.hh: Likewise.
	* src/tree/test-tree.cc: Delete, since canon/test-canon.cc
	performs this.

	* src/canon/canon.hh (rewrite_bubble_seq, is_nop, rewrite_nop):
	New functions.
	* src/tree/node.hh: More code for canon/.

2000-07-07  Akim Demaille  <akim@epita.fr>

	Import the suggestions from Johan Baltie.

	* src/frame/frame.hh (frame_pointer_get, return_value_get):
	Converted into class methods.
	(local_alloc): Use word_size_get.
	* src/frame/access.cc (In_Frame::exp): Directly ask Frame for the
	FP.
	Its arg is no longer needed.
	(In_Register): Likewise.
	* src/frame/access.hh: Adjust.
	* src/translate/translation.hh (simpleVar): Adjust.

2000-07-07  Akim Demaille  <akim@epita.fr>

	Implement IR translation of `break'.

	* src/translate/translation.hh (breakExp): New method.
	(whileExp): Take an new argument, the label of the current to
	break from.
	* src/semant/semant-visitor.hh (SemantVisitor) <_in_loop_p>:
	Replace with...
	<_loop_end_label>: this.
	<visitWhileExp, visitForExp, visitBreakExp>: Adjust.

	* tests/types/test51.tig: Rename as...
	* tests/types/break-outside-loop.tig: this.

2000-07-07  Akim Demaille  <akim@epita.fr>

	Some more simplifications in order to produce the code delivered
	to the students.

2000-07-06  Akim Demaille  <akim@epita.fr>

	* src/semant/analysis.cc (semantic_analysis): Use `fragments'.
	* src/semant/analysis.hh: Adjust.
	* src/translate/translation.hh:	More comments for students.
	(functionDec): New method.
	* src/semant/semant-visitor.hh (SemantVisitor) <fragments>: New
	attribute.
	<visitStringExp, visitFunctionDecBody>: Use `functionDec' and
	`fragments'.
	* src/tc.cc (main): Create, set and display "fragments".
	* src/translate/fragment.hh: Better "print" methods.

2000-07-06  Akim Demaille  <akim@epita.fr>

	* src/semant/entry.hh: Formatting changes.
	* src/semant/env.hh: Likewise.
	* src/semant/semant-visitor.hh: Likewise.
	* src/translate/translation.hh: Likewise.

	* src/translate/translate.hh: Rename as...
	* src/translate/access-level.hh: this.
	Formatting changes.
	* src/translate/Makefile.am: Adjust.

2000-07-05  Akim Demaille  <akim@epita.fr>

	* src/common.hh: New file.
	* src/tc.cc: Use getopt.
	* src/translate/exp.hh: Describe precisely the content of the
	file.
	(Cx): Delete.
	(RelCx): Adjust, and rename as Cx.
	* src/translate/translate.hh: Adjust.
	(ifExpVoid, ifExpNonVoid): New.
	* src/semant/semant-visitor.hh: Depending upon a runtime option,
	use either ifExp or ifExpVoid and ifExpNonVoid.
	* tests/good/empty-record-type.tig: New file.
	* tests/good/empty-let-body.tig: New file.
	* tests/type/invalid-array-base-type.tig: New file.

2000-07-03  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh (type_recovery): New method.
	(type_mismatch): Use it.
	(SemantVisitor): Use them instead of adhoc error recovery.
	(check_types_equal, check_types_comparable,
	check_types_assignable): Return a bool (true when was 0, and false
	when was 1, the logic was reversed).
	Adjust all the dependencies.

2000-06-28  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh: Prefer
		if (!OK)
		  fail ();
		proceed ();
	over
		if (OK)
		  proceed ();
		else
		  fail ();

	* src/translate/exp.hh (IfThenElseExp): In unEx and unNx, don't
	build the CJump yourself: the whole point of this construct is
	precisely to use _cond.unCx.

	* src/translate/translation.hh (forExp): Remove, dead.
	* src/translate/exp.hh: Fix IfThenElseExp.

	* tests/good/test50.tig: Rename as...
	* tests/good/break.tig: this.

	* src/parse/parsetiger.yy: Set exit_status on error.

	* src/semant/analysis.cc: New file.
	* src/semant/analysis.hh: Ditto.

	* tests/good/compare-record-and-record.tig: New test.
	* tests/good/huge-string.tig: Likewise.
	* tests/good/if-and-if.tig: Likewise.
	* tests/good/if-and-rel.tig: Likewise.
	* tests/good/if-void-body.tig: Likewise.
	* tests/good/of-precedence.tig: Likewise.
	* tests/good/rel.tig: Likewise.
	* tests/good/seqexp-arithmetics.tig: Likewise.
	* tests/good/shadowing-var.tig: Likewise.
	* tests/good/types-aliases.tig: Likewise.
	* tests/syntax/charset.tig: Likewise.
	* tests/syntax/compare-non-assoc.tig: Likewise.
	* tests/syntax/record-exp-1.tig: Likewise.
	* tests/syntax/record-exp-2.tig: Likewise.
	* tests/syntax/single-top-exp.tig: Likewise.
	* tests/type/assign-non-assoc.tig: Likewise.
	* tests/type/compare-records.tig: Likewise.
	* tests/type/compare-record-with-nil.tig: Likewise.
	* tests/type/dangling-else.tig: Likewise.
	* tests/type/funarg-type-mismatch.tig: Likewise.
	* tests/type/missing-arg.tig: Likewise.
	* tests/type/multiple-instances-types.tig: Likewise.
	* tests/type/not-enough-fields.tig: Likewise.
	* tests/type/too-many-args.tig: Likewise.
	* tests/type/too-many-fields.tig: Likewise.

	* tests/type/test34.tig: Delete.
	* tests/type/test35.tig: Likewise.
	* tests/type/test36.tig: Likewise.

2000-06-08  Akim Demaille  <akim@epita.fr>

	* tests/type/test25.tig: Rename as...
	* tests/type/field-in-not-record.tig: this.
	* tests/type/test33.tig: Rename as...
	* tests/type/unknown-record.tig: this.

	* src/absyn/arrayexp.hh: Formatting changes.

	Be more robust to type mismatches.

	* src/semant/semant-visitor.hh (visitFieldVar, visitRecordExp,
	visitArrayExp): When there is an error, set _exp:_type to `0:int'
	and return.
	(visitArrayExp): Be sure the type exists before `actual ()'izing
	it.

2000-06-07  Akim Demaille  <akim@epita.fr>

	Fix the problems of handling `if' with a `void' type.

	* src/translate/exp.hh (IfThenElseExp): Its members are actually
	translate::Exp, not tree:Exp.
	All dependencies adjusted.

2000-06-06  Akim Demaille  <akim@epita.fr>

	Support the `for' loops.

	* src/absyn/assignexp.hh: Formatting changes.
	* src/absyn/forexp.hh: Likewise.
	* src/parse/parsetiger.yy: Don't create a ForExp, but directly a
	WhileExp.
	Condition out the old code.

2000-05-15  Akim Demaille  <akim@epita.fr>

	Implement support of FieldExp and StringExp.
	Don't fail on LetExp of type void.

	* src/semant/env.hh (semant): Use `using' inside the namespace.
	* src/semant/semant-visitor.hh: Implement FieldVar.
	More intelligent default values for `_exp' when in error.
	(visitLetExp, visitSeqExp): Build a Seq instead of an Eseq when
	the last item is of void type.
	* src/translate/fragment.hh: New
	* src/translate/Makefile.am (noinst_HEADERS): Adjust.
	* src/translate/translation.hh (fieldVar): New.
	(stringExp): Use a DataFrag.
	* src/types/types.hh (Record::field_index): New.

2000-05-11  Akim Demaille  <akim@epita.fr>

	* src/semant/env.hh (typeentry_table_t, varentry_table_t,
	funentry_table_t): Remove, it confuses the students.
	Adjust the code.
	(tenv_get, venv_get, fenv_get): Remove: dead code.
	* src/semant/semant-visitor.hh (visitSubscriptVar): Get the actual
	type of the var.
	(visitArrayExp): Use a list of `translate::Exp *' to build the
	first part of the eseqExp.
	* src/translate/translation.hh
	(eseqExp (std::list<Exp *> &exps, Exp &second)): New.
	(arrayExp): Fix to use `init_array'.
	* src/tree/eseq.hh (print): Avoid an additional indentation when
	first child is a `Seq'.
	* src/tree/seq.hh (print): Mark the end of the `SEQ'.
	* tests/good/big-lvalue.tig: Be correct wrt type checking.
	* src/translate/exp.hh (Cx::unNx, RelCx::unNx): New.

2000-05-09  Akim Demaille  <akim@epita.fr>

	* src/translate/translation.hh (nilExp, recordExp, whileExp):
	Implement.
	* src/semant/semant-visitor.hh: Use them.

2000-05-04  Akim Demaille  <akim@epita.fr>

	It's much easier to have tree::Seq use lists.

	* src/tree/seq.hh (ctor, push_back): New, to support nary
	arguments.
	* src/translate/exp.hh: Use it.
	* src/semant/semant-visitor.hh (visitSeqExp): Use it.
	* src/translate/exp.hh: Adjust.
	* src/tree/jump.hh: Implement.

2000-05-04  Akim Demaille  <akim@epita.fr>

	* configure.in (CXXFLAGS): Set to `-ggdb -Wall'.

	* src/semant/semant-visitor.hh: Some support for function call.
	* src/translate/translation.hh (callExp): New.
	* src/tree/all.hh: Include call.hh.
	* src/tree/binop.hh: Use the accessors to `_child'.
	* src/tree/cjump.hh: Likewise.
	* src/tree/eseq.hh: Likewise.
	* src/tree/mem.hh: Likewise.
	* src/tree/move.hh: Likewise.
	* src/tree/seq.hh: Likewise.
	* src/tree/sxp.hh: Likewise.
	* src/tree/node.hh: Don't fix the size of the vector to 2.
	Be ready to have it grow.
	(children_get, child_push_back): New.
	(_parent, _child): Private.
	* src/tree/call.hh: Implement.
	* src/tree/jump.hh: Likewise.
	Limited to a single destination.

2000-04-28  Akim Demaille  <akim@epita.fr>

	* src/tree/test-tree.cc: Renamed `tree-test' for consistency.
	* src/tree/Makefile.am: Adjust.
	* src/tree: Explicitly mention the module of the headers.

2000-04-28  Akim Demaille  <akim@epita.fr>

	All the files in absyn/ shall explicitly include files from this
	module via "absyn/".

	* src/absyn: Explicitly specify the module of headers.


	Improve separate compilation.

	* src/absyn/absyn.cc: New file.
	* src/absyn/Makefile.am (libabsyn): New lib.
	* src/Makefile.am: link this lib.
	* src/tc.cc: Adjust.

	* src/semant/semant-visitor.hh (VarDec): Handle `_exp'.
	(visitLetExp): Handle the code of the declarations.

	* tests/good/precedence.tig: New file.
	* tests/type/void.tig: Likewise.

2000-04-26  Akim Demaille  <akim@epita.fr>

	Moved under Automake and Autoconf.

	* configure.in: New file.
	* src/parse/Makefile.am: New file.
	* src/Makefile.am: New file.
	* src/canon/test-canon.cc: New file.
	* src/canon/canon.hh: New file.
	* src/translate/Makefile.am: New file.
	* src/temp/Makefile.am: New file.
	* src/absyn/tigervisitor.hh-template: New file.
	* src/absyn/README-student: New file.
	* src/absyn/Makefile.am: New file.
	* src/types/Makefile.am: New file.
	* src/types/README: New file.
	* src/frame/Makefile.am: New file.
	* src/semant/Makefile.am: New file.
	* src/semant/env-template.hh: New file.
	* src/semant/semant-visitor-template.hh: New file.
	* src/tree/Makefile.am: New file.
	* src/symbol/Makefile.am: New file.
	* mkinstalldirs: New file.
	* install-sh: New file.
	* missing: New file.
	* Makefile.am: New file.
	* tests/good/big-lvalue.tig: New file.
	* tests/good/print-tree-static.tig: New file.
	* tests/good/boolean-1.tig: New file.
	* tests/good/escapes.tig: New file.

	* src/parse/parsetiger.y: Rename as...
	* src/parse/parsetiger.yy: this.
	* src/parse/scantiger.y: Rename as...
	* src/parse/scantiger.yy: this.

2000-04-20  Akim Demaille  <akim@epita.fr>

	Factoring.

	* src/semant/entry.hh (Entry): New class, to factor `print'.
	(TypeEntry, VarEntry, FunEntry): Inherit from `Entry'.
	Remove the three definitions of `<<': implement one for `Entry'
	which uses `print'.
	* src/semant/env.hh (Env::Print): New method.
	(ostream << Env): Use it.

2000-04-13  Akim Demaille  <akim@epita.fr>

	Use `%pure_parser'.

	* src/parse/parsetiger.y (yyprint): Expect a `Position &' as first
	argument.
	(preamble): Tune YYPRINT.
	Define yylex with its arguments.
	Specify `%pure_parser'.
	* src/parse/scantiger.l (YY_DECL): Define.
	(adj_file, adj_column, adj_line, adj_first, adj_last, adj_token):
	Transformed into macros.
	Replace all the uses of `yylval.' into `yylval->' and `yylloc.'
	into `yylloc->'.

	* src/translate/exp.hh (IfThenElseExp): New class.

2000-04-07  Akim Demaille  <akim@epita.fr>

	Start support of Cx expressions.  Support comparisons.

	* src/semant/semant-visitor.hh (SemantVisitor::visitOpExp): Use
	translate::opExp.
	(SemantVisitor::visitSeqExp): Use translate::seqExp.
	(SemantVisitor::visitIntExp): Use translate::intExp.
	* src/tc.cc (main): Display the unEx of the tree.
	* src/translate/exp.hh: unCx takes two references.
	(RelCx): New class.

	* src/translate/translate.hh (simpleVar, subscriptVar): Move to...
	* src/translate/translation.hh: here.
	(intExp, opExp, seqExp, eseqExp, assignExp, ifExp): New functions.
	* src/tree/cjump.hh: You use Name not Label.

2000-04-04  Akim Demaille  <akim@epita.fr>

	* src/tree/main.cc: Rename as...
	* src/tree/test-tree.cc: this.
	Update to newer names.
	* src/translate/translate.hh (subscriptVar): New function.
	* src/semant/semant-visitor.hh (visitSubscriptVar): Use it.

2000-04-04  Akim Demaille  <akim@epita.fr>

	Weak support of IR for simple variables.

	* src/frame/access.cc (In_Frame::Exp): Rename as...
	(In_Frame::exp): this.
	Don't build an arbitrary fp, use your argument.
	* src/frame/access.hh: Adjust.
	* src/frame/frame.hh (frame_pointer_get): Is const.
	(_frame_pointer): New attribute.
	(ostream << Frame): Print fp.
	* src/semant/semant-visitor.hh (visitSimpleVar): Compute _exp.
	(visitLetExp): Simplify the loop handli ng.
	* src/translate/translate.hh (Access::_home): Is a reference.
	This is important, otherwise, because of the copy, Level, hence a
	new frame is created, hence a new frame pointer etc.
	(simpleVar): New function.
	* src/tree/label.hh (_label): Is reference, for consistency.
	Hence the arg of the ctor is not const.

2000-03-28  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh (visitSeqExp): Build the _exp.
	* src/translate/exp.hh: Un-const the `un?x' methods, we need to be
	able to modify the `tree'.
	* src/tree/sxp.hh (print): Display "Sxp", not "Seq".

2000-03-27  Akim Demaille  <akim@epita.fr>

	Fix a warning which is actually an error: a Named type needs to be
	changed although in a `const' context.

	* src/types/types.hh (Named::set_type): Rename as
	(Named::type_set): this.
	(Named::type_set const): New method.
	* src/semant/semant-visitor.hh (visitTypeDecBody): Use it.

	* src/Makefile (CXXFLAGS): Don't -pedantic -ansi, as some errors
	become warnings.

	* src/absyn/test_symbol.cc: Move to...
	* src/symbol/test_symbol.cc: here.  Adjust.

2000-03-20  Akim Demaille  <akim@epita.fr>

	* src/frame/access.hh: No longer use temp::Label and temp::Temp:
	some ambiguities can arise.  Fully qualify each occurrence.
	(Access::Exp, In_Frame::Exp, In_Reg::Exp): New methods.
	* src/frame/access.cc: New file.
	Implement those methods.
	Created in order to avoid mutual dependence problems.
	* src/Makefile: Adjust.
	* src/tree/label.hh: Use temp::Label, not a string.
	* src/tree/name.hh: Use temp::Label, not tree::Label.
	* src/tree/temp.hh (_temp): New attribute.
	Adjust ctor.
	(print): New method.
	* src/tree/call.hh: New file.
	* src/tree/jump.hh: New file.
	* src/tests/good/print-tree.tig: New file.

2000-03-14  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh: Moved into the namespace `semant',
	as required in the book.
	Using namespace absyn though.
	(_env): Removed `semant::'.
	(_exp): Be a reference in fact.  Initialize this pointer via an
	additional argument of the ctor.
	* src/tc.cc (the_tree): New var.  Pass it to the visitor.
	Dump it afterwards.
	* src/translate/exp.hh (Ex, Cx, Nx): New classes, still
	incomplete.

2000-03-13  Akim Demaille  <akim@epita.fr>

	Fix a bug and test it.

	* tests/type/unknown-array-type.tig: New test.
	* tests/type/unknown-array-base-type.tig: Likewise.
	* src/semant/semant-visitor.hh (visitArrayTy): Check the type
	exists, instead of dumping core.

	Invisible bug.

	* src/semant/env.hh (semant): Don't declare the type `nil', it
	does not exist.  In addition, `nil' is a reserved word.

	More uniform type checking.

	* src/semant/semant-visitor.hh (type_mismatch, check_types_equal,
	check_types_comparable, check_types_assignable): New methods.
	Use it in various places of the visitor.

2000-03-07  Akim Demaille  <akim@epita.fr>

	* src/absyn/absyn.hh: s/get_foo/foo_get/g.
	* src/absyn/arrayexp.hh: Likewise.
	* src/absyn/arrayty.hh: Likewise.
	* src/absyn/assignexp.hh: Likewise.
	* src/absyn/callexp.hh: Likewise.
	* src/absyn/fieldexp.hh: Likewise.
	* src/absyn/field.hh: Likewise.
	* src/absyn/fieldvar.hh: Likewise.
	* src/absyn/forexp.hh: Likewise.
	* src/absyn/ifexp.hh: Likewise.
	* src/absyn/intexp.hh: Likewise.
	* src/absyn/letexp.hh: Likewise.
	* src/absyn/opexp.hh: Likewise.
	* src/absyn/recordexp.hh: Likewise.
	* src/absyn/recordty.hh: Likewise.
	* src/absyn/stringexp.hh: Likewise.
	* src/absyn/subscriptvar.hh: Likewise.
	* src/absyn/test_symbol.cc: Likewise.
	* src/absyn/tigervisitor.hh: Likewise.
	* src/absyn/typedec.hh: Likewise.
	* src/absyn/vardec.hh: Likewise.
	* src/absyn/varexp.hh: Likewise.
	* src/absyn/visitor-template.hh: Likewise.
	* src/absyn/whileexp.hh: Likewise.
	* src/semant/entry.hh: Likewise.
	* src/semant/env.hh: Likewise.
	* src/semant/semant-visitor.hh: Likewise.
	* src/tree/binop.hh: Likewise.
	* src/tree/cjump.hh: Likewise.
	* src/tree/eseq.hh: Likewise.
	* src/tree/iterator.hh: Likewise.
	* src/tree/main.cc: Likewise.
	* src/tree/mem.hh: Likewise.
	* src/tree/move.hh: Likewise.
	* src/tree/node.hh: Likewise.
	* src/tree/seq.hh: Likewise.
	* src/tree/sxp.hh: Likewise.
	* src/types/types.hh: Likewise.

2000-03-07  Akim Demaille  <akim@epita.fr>

	* src/absyn/fieldexp.hh: s/get_name/name_get/g.
	* src/absyn/field.hh: Likewise.
	* src/absyn/namety.hh: Likewise.
	* src/absyn/simplevar.hh: Likewise.
	* src/absyn/tigervisitor.hh: Likewise.
	* src/absyn/typedec.hh: Likewise.
	* src/absyn/vardec.hh: Likewise.
	* src/absyn/visitor-template.hh: Likewise.
	* src/parse/parsetiger.y: Likewise.
	* src/semant/semant-visitor.hh: Likewise.
	* src/symbol/symbol.hh: Likewise.
	* src/temp/label.hh: Likewise.
	* src/types/types.hh: Likewise.
	* src/Makefile (tests.tgz): New target.
	* src/parse/parsetiger.y (funid, varid): New non terminal, to
	parallel with typeid.

2000-03-06  Akim Demaille  <akim@epita.fr>

	Separate parse errors from type checking errors.

	* tests/bad/assign-loop-var.tig: Rename as...
	* tests/type/assign-loop-var.tig: this.
	* tests/bad/nil-equal-nil.tig: Likewise.
	* tests/bad/test09.tig: Likewise.
	* tests/bad/test10.tig: Likewise.
	* tests/bad/test11.tig: Likewise.
	* tests/bad/test13.tig: Likewise.
	* tests/bad/test14.tig: Likewise.
	* tests/bad/test15.tig: Likewise.
	* tests/bad/test16.tig: Likewise.
	* tests/bad/test17.tig: Likewise.
	* tests/bad/test18.tig: Likewise.
	* tests/bad/test19.tig: Likewise.
	* tests/bad/test20.tig: Likewise.
	* tests/bad/test21.tig: Likewise.
	* tests/bad/test22.tig: Likewise.
	* tests/bad/test23.tig: Likewise.
	* tests/bad/test24.tig: Likewise.
	* tests/bad/test25.tig: Likewise.
	* tests/bad/test26.tig: Likewise.
	* tests/bad/test28.tig: Likewise.
	* tests/bad/test29.tig: Likewise.
	* tests/bad/test31.tig: Likewise.
	* tests/bad/test32.tig: Likewise.
	* tests/bad/test33.tig: Likewise.
	* tests/bad/test34.tig: Likewise.
	* tests/bad/test35.tig: Likewise.
	* tests/bad/test36.tig: Likewise.
	* tests/bad/test40.tig: Likewise.
	* tests/bad/test43.tig: Likewise.
	* tests/bad/test45.tig: Likewise.
	* tests/bad/test51.tig: Likewise.
	* tests/bad/test52.tig: Likewise.

	* tests/bad/test49.tig: Rename as...
	* tests/syntax/typeid.tig: this.

	* src/semant/semant-visitor.hh (SemantVisitor): Exit 3 for type
	errors.
	* src/tc.cc (main): Exit 2 on parse errors.
	* src/Makefile (check): Check the value of the exit status.

2000-03-06  Akim Demaille  <akim@epita.fr>

	* src/absyn/functiondec.hh (escapes_get): New method.
	* src/frame/frame.hh (local_alloc): Fixed a sever bug: don't pass
	a temporary...
	* src/parse/scantiger.l: Don't append the closing quote in
	strings...
	* src/semant/entry.hh (FunEntry::_level, _label): New attr.
	* src/semant/env.hh: Adjust to these new attr.
	* src/semant/semant-visitor.hh (SemantVisitor) {SemantVisitor}: Use
	the outer_level.
	* src/tc.c (main): Create the outer_level.
	* src/translate/translate.hh (Level::Level): Fix a severe bug,
	storing a reference to a temporary.

2000-03-03  Akim Demaille  <akim@epita.fr>

	* types/table.hh: Move to...
	* symbol/table.hh: here.
	All callers changed.

2000-03-01  Akim Demaille  <akim@epita.fr>

	Formatting changes.

2000-03-01  Akim Demaille  <akim@epita.fr>

	* src/translate/translate.hh (Access::home_get, access_get): New.
	(<< Level): Report more information on the structure.
	* src/semant/env.hh (<< Env): Report the fenv too.
	* src/absyn/field.hh (Field::Field): escapes is true by default,
	not false.

2000-02-29  Akim Demaille  <akim@epita.fr>

	Start working on the frame and translate modules.
	Beginning with variables and arguments only.
	Move Symbol in its proper place.

	* absyn/symbol.hh: Renamed as...
	* symbol/symbol.hh: this.  This is its name space too.
	All callers changed.
	* translate/translate.hh: New file.
	* frame/frame.hh: New file.
	* frame/access.hh: New file.
	* src/semant/entry.hh: (VarEntry::access): New attr.
	(VarEntry::access_get): New method.
	* src/semant/env.hh (VarEntry): Store the accesses.
	* src/semant/semant-visitor.hh (_level): New attr.
	(visitFunctionDecBody): Use it.

2000-02-25  Akim Demaille  <akim@epita.fr>

	* tests/good/merge.tig (isdigit): Use `s' not `buffer'.
	* src/parse: New directory.
	* src/parsetiger.y: Moved in parse/.
	* src/parse.h: Likewise.
	* src/scantiger.hh: Likewise.
	* src/scantiger.l: Likewise.

2000-02-23  Akim Demaille  <akim@epita.fr>

	* src/absyn/README: Updated.

2000-02-23  Akim Demaille  <akim@epita.fr>

	Don't use `list' nor `_list' in SeqExp, it is inconsistent with
	the other classes.

	* src/absyn/seqexp.hh (SeqExp::list, _list, get_list): Renamed
	exps, _exps and args_get.
	All callers changed.
	* src/absyn/hierarchy.txt: Updated and renamed as...
	* src/absyn/README: this.

2000-02-23  Akim Demaille  <akim@epita.fr>

	* src/absyn/seqexp.hh (absyn):

	* tests/good/test04.tig: Renamed as...
	* tests/good/fact.tig: this.

2000-02-23  Akim Demaille  <akim@epita.fr>

	* src/absyn/intexp.hh (IntExp::clone): Removed.
	* src/absyn/absyn.hh (Absyn::_position): Protected -> private.

2000-02-22  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh: Fixed a typo introduced by the
	previous patch.

2000-02-22  Akim Demaille  <akim@epita.fr>

	Avoid using a attribute to visit the nodes in different modes: as
	much as possible, instead of calling `accept', call directly the
	visitor we are interested in.

	* src/semant/semant-visitor.hh (SemantVisitor::_state): Removed.
	(SemantVisitor::_actual_type): New attribute.
	(SemantVisitor::visitLetExp): Stop playing with _state and accept,
	call directly the right methods.
	(SemantVisitor::ProcessFunctionDecHeader, processFunctionDecBody):
	Renamed as...
	(SemantVisitor::visitFunctionDecHeader, visitFunctionDecBody,
	visitTypeDecHeader, visitTypeDecBody): New methods.
	(SemantVisitor::visitTypeDec, visitFunctionDec): Neutralized via
	abort.

2000-02-22  Akim Demaille  <akim@epita.fr>

	Use only C++ strings to grow yllval.str.

	* src/scantiger.l (string_buf, string_buf_len): Removed.
	All callers adjusted to grow directly into the C++ string.
	Added support for escapes.
	s/adjust_/adj_/.

2000-02-22  Akim Demaille  <akim@epita.fr>

	* src/parsetiger.y: More `error' rules.

2000-02-22  Akim Demaille  <akim@epita.fr>

	* src/parsetiger.y: Formatting changes.
	Introduced new `error' rules.
	(sequence): Renamed exps.2.
	* src/minitiger.y: Removed.

2000-02-18  Akim Demaille  <akim@epita.fr>

	* src/absyn/exp.hh (Exp::~Exp): virtual, since Exp is abstract.

2000-02-18  Akim Demaille  <akim@epita.fr>

	Escape fields were missing in the abstract syntax.

	* src/absyn/vardec.hh (_escape, escape_get): Added.
	* src/absyn/field.hh (_escape, escape_get): Added.

2000-02-18  Akim Demaille  <akim@epita.fr>

	* src/types/types.hh (Named::print): Fixed a typo.

2000-02-18  Akim Demaille  <akim@epita.fr>

	Fix test46.

	* tests/good/test46.tig: Renamed as:
	* tests/good/compare-record-and-nil.tig: this.
	* src/semant/semant-visitor.hh (visitVarDec): Use VAR_TYPE for the
	nv, since when defined, it is more precise (in particular, if the
	declared type is a record, and the init is nil, don't register the
	var as of type Nil).

	* src/types/types.hh (Named::print): When available, report the
	type held.

2000-02-18  Akim Demaille  <akim@epita.fr>

	Refine the previous patch so that we don't have an additional
	attribute.

	* src/absyn/tigervisitor.hh (_in_for_declaration): Removed.
	(visitVarDec/2): New method with a second parameter, bool.
	(visitVarDec/1, visitForDec): Use it.

2000-02-18  Akim Demaille  <akim@epita.fr>

	* src/absyn/tigervisitor.hh (absyn):

	Avoid that the pretty printer displays `for i := 0' as
	`for var i := 0'.

	* src/absyn/tigervisitor.hh (_in_for_declaration): New attr, set
	to false.
	(visitForExp): Saved and set _in_for_declaration to true before
	entering...
	(visitVarDec): Output "var" if !_in_for_declaration.  Restore it
	to false.

2000-02-18  Akim Demaille  <akim@epita.fr>

	* src/Makefile: Adjusted to tests/.
	* src/tests/good/test05.tig: Renamed as...
	* src/tests/good/recursive-types.tig: this.

2000-02-18  Akim Demaille  <akim@epita.fr>

	* testcases/good/test41.tig:  Renamed as:
	* testcases/good/local-vs-global-type.tig: this.
	* testcases: Renamed as...
	* tests: this.

2000-02-17  Alexandre Duret-Lutz  <duret_g@epita.fr>

	nil should not be comparable to nil.

	* src/types/types.hh (Nil::comparable_to): Fixed.
	* testcases/bad/nil-equal-nil.tig: Added.

2000-02-17  Alexandre Duret-Lutz  <duret_g@epita.fr>

	Make type::comparable() and type::assignable() be methods
	of type::Type. This save tests and dynamic_casts.

	* src/types/types.hh (comparable): Removed.
	(assignable): Removed.
	(Type::comparable_to): Added.
	(Type::assignable_to): Added.
	(Nil::comparable_to): Added.
	(Nil::assignable_to): Added.
	(Record::comparable_to): Added.
	(Record::assignable_to): Added.
	* src/semant/semant-visitor.hh: Callers adjusted.

2000-02-16  Akim Demaille  <akim@epita.fr>

	We have decided that there are three name spaces in Tiger,
	therefore fun-vs-var is actually a test which must succeed, not
	fail.

	* testcases/bad/fun-vs-var.tig: Move to...
	* testcases/good/fun-vs-var.tig: here.  Complexified a bit to
	exercise the three name space, and two scopes.

2000-02-16  Akim Demaille  <akim@epita.fr>

	* src/types/table.hh (Table::begin_scope): Renamed scope_begin for
	consistency.
	(Table::end_scope): Likewise.
	All callers changed.

2000-02-16  Akim Demaille  <akim@epita.fr>

	* testcases/bad/fun-vs-var.tig: New test file.

2000-02-15  Alexandre Duret-Lutz  <duret_g@epita.fr>

	Split VarEntry into VarEntry and FunEntry.

	* src/types/env.hh (Env::_fvar): Added.
	* src/semant/entry.hh (class Entry): Removed.

2000-02-15  Alexandre Duret-Lutz  <duret_g@epita.fr>

	* src/types/table.hh (class Table): Made template.
	* src/semant/env.hh: Adjusted.

	* src/Makefile (check): Depends on tc.

2000-02-15  Alexandre Duret-Lutz  <duret_g@epita.fr>

	* src/types/table.hh (class Table): rewrote the class Table
	using a stack of dictionnaries.

2000-02-15  Alexandre Duret-Lutz  <duret_g@epita.fr>

	* src/semant/env.hh: Added std:: in many places.
	* src/semant/semant-visitor.hh:  Likewise.
	* src/tc.cc (main): print argv[0] instead of a.out in usage help.

2000-02-11  Akim Demaille  <akim@epita.fr>

	* src/temp/main.cc: New file.
	* src/temp/label.hh: New file.
	* src/temp/temp.hh: New file.
	* src/tree/Makefile: New file.

2000-01-31  Thierry Geraud  <theo@epita.fr>

	Modify the tree hierarchy:
	class Node is now a stand-alone abstraction ;
	concrete classes have new methods set_xxx.

	* src/tree/*: modified.
	* src/tree/iterator.hh: New file.

2000-01-31  Akim Demaille  <akim@epita.fr>

	Use the brand new features of Bison: $@.

	* src/parsetiger.y: s/@1/@$ in most places.

2000-01-17  Akim Demaille  <akim@epita.fr>

	* testcases/good/recursive-comments.tig: New file.
	* testcases/bad/assign-loop-var.tig: New file.

2000-01-17  Akim Demaille  <akim@epita.fr>

	Support comments within comments.

	* src/scantiger.l (comment_level): New variable.
	(%option noyywrap): set.
	(yywrap): removed.
	(STATE_COMMENT): handle `/*' and `*/' for recursive comments.

2000-01-12  Akim Demaille  <akim@epita.fr>

	* src/scantiger.l: Used abbreviation to improve readibility.
	* testcases/bad/test53.tig: New test.  Currently, tc fails to
	fail.

2000-01-07  Thierry Geraud  <theo@epita.fr>

	First attempt of a tree hierarchy for the intermediate syntax.

	* src/tree/all.hh: New file
	* src/tree/cjump.hh: Likewise.
	* src/tree/binop.hh: Likewise.
	* src/tree/seq.hh: Likewise.
	* src/tree/sxp.hh: Likewise.
	* src/tree/move.hh: Likewise.
	* src/tree/eseq.hh: Likewise.
	* src/tree/mem.hh: Likewise.
	* src/tree/temp.hh: Likewise.
	* src/tree/name.hh: Likewise.
	* src/tree/label.hh: Likewise.
	* src/tree/const.hh: Likewise.
	* src/tree/stm.hh: Likewise.
	* src/tree/node.hh: Likewise.
	* src/tree/exp.hh: Likewise.
	* src/tree/main.cc: Likewise.

2000-01-06  Akim Demaille  <akim@epita.fr>

	Normalization of the error messages.

2000-01-06  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh (visitRecordExp): Don't call
	`actual' before checking the type exists.
	(visitIfExp): If there is no else clause, there is no position to
	print.

2000-01-06  Alexandre Duret-Lutz  <duret_g@epita.fr>

	* src/Makefile (check): Explicit check for $$?!=1 in
	badtest cases.

2000-01-06  Akim Demaille  <akim@epita.fr>

	Exit 1 when there is an error during type checking.

	* src/Makefile (check): Check for expected failures too.
	* src/semant/semant-visitor.hh: Spread use of exit_status a bit
	everywhere.
	(visitFieldVar, visitRecordExp, visitArrayExp): Use actual ().
	(visitWhileExp, visitForExp): Check the nesting of `break'.
	(visitVarDec): Check that when assigning `nil', the var has a
	record type.

1999-12-29  Akim Demaille  <akim@epita.fr>

	The Type checking seems functional.

	* src/scantiger.l: Report opening of missing files.

1999-12-20  Akim Demaille  <akim@epita.fr>

	No warnings at compile time.
	No core dump at `make check'.
	Handle recursive functions typing.

	* src/absyn/tigervisitor.hh (visitSubscriptVar): Don't coredump
	when the variable is not an array.
	(visitFunctionCall): Use the position of the expression when you
	want report missing arguments.
	(visitLetExp): Split the loop over declarations in loops for
	contiguous var decs, func decs and type decs, to allow recursivity
	of types and funcs.
	Use processFunctionDecBody and processFunctionDecHead.
	(processFunctionDecBody, processFunctionDecHead): New method.

1999-12-17  Akim Demaille  <akim@epita.fr>

	* src/types/types.hh (Record): Don't use a ref to _fields, but
	itself directly.
	(Record::field_add): New methods.
	* src/semant/env.hh: Use this new interface.
	* src/semant/semant-visitor.hh: Likewise.
	Fixed several warnings.

1999-12-16  Akim Demaille  <akim@epita.fr>

	Non recursive type checking works.

	* src/semant/env.hh (Env): Insert the builtins functions.
	* src/semant/semant-visitor.hh (visitRecordExp, visitCallExp,
	visitFieldExp, visitField): Implemented.
	(visitIfExp): Propagate the type of the body.
	(visitFunctionDec): First put in the env, then enter the new
	scope.
	A bit of `const' everywhere.

	* src/types/types.hh (Field): Renamed from RecordField.
	All callers changed.
	A bit of `const' everywhere.

1999-12-16  Akim Demaille  <akim@epita.fr>

	* src/absyn/tigervisitor.hh (visitFieldExp): Display `=', not `:'.
	(visitRecordTy): Use accept to visit the childs, not by hand.

	* src/semant/semant-visitor.hh (visitSimpleVar): Robust to
	undeclared vars.
	(visitFieldVar, visitFunctionDec): Implemented.
	(visitSeqExp): Robust to `()'.
	(visitForExp): Enter a new scope.
	(visitField): Don't actually do anything.  Use abort () to forbid
	its use. We'll see later if there is a means to use it.
	(visitRecordTy): Adapted to the change above.

1999-12-13  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh (visitSubscriptVar, visitForExp,
	visitArrayExp, visitArrayTy): Implemented/Updated type checking.
	(visitArrayExp): When warning, remember to check there is a reason
	to warn.

	* testcases/test50.tig: Conditions are integers not Booleans.
	* testcases/test51.tig: Likewise.

1999-12-13  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh (visitSimpleVar, visitAssignExp,
	visitWhileExp, visitVarDec, visitTypeDec): Implemented/updated.

	* src/semant/env.hh (class Env, type_put, type_get, var_put,
	var_get, fun_put, formals_get, result_get): New methods.
	(Env::Env): Insert the base types in tenv.
	(Env::tenv, venv): Private again.
	All callers changed.

	* src/absyn/simplevar.hh (SimpleVar::get_symbol): Renamed as...
	* src/absyn/simplevar.hh (SimpleVar::get_name): this.
	All callers changed.

	* src/absyn/forexp.hh (absyn): Changed `var' to `vardec'.
	All callers changed.

1999-12-10  Akim Demaille  <akim@epita.fr>

	* src/semant/entry.hh: Providing a means to << an entry.
	(TypeEntry): New class.
	* src/semant/env.hh (_tenv, _venv): No longer private.  Renamed
	tenv and venv.  Allows to use them directly without having to
	duplicate code into Env.
	(<<) New operator.
	* src/semant/semant-visitor.hh (All clauses): Use `void' as a
	default type, instead of NULL.  This allows to display the symtab
	without SEGV.
	* src/types/table.hh (<<): New operator, to display symtabs.

1999-12-10  Akim Demaille  <akim@epita.fr>

	* src/semant/semant-visitor.hh (absyn): Fixed a typo.
	Implemented type checking for comparison.

1999-12-10  Akim Demaille  <akim@epita.fr>

	* src/absyn/opexp.hh: Reformatting.
	* src/absyn/visitor.hh (~Visitor): Declared as virtual.
	* src/semant/semant-visitor.hh (_exp, _type): New attributes.
	Fill all the subvistors with default clauses to set _exp and
	_type to NULL.
	(visitOpExp, visitIfExp): Starting checking.

	* src/types/types.hh (Type::~Type): Made virtual to forbid
	instantiation of class Type.
	(Nil, Int, String, Void): Equipped with mecahisms for Singleton.
	* src/semant/env.hh: New file, holding type and var/func
	environements.
	* src/translate/exp.hh: New file, in charge of handling the
	intermediate code.  Currently only a fake.
	* testcases/test50.tig: New test with a valid break.
	* testcases/test51.tig: New test with an invalid break.

1999-12-09  Akim Demaille  <akim@epita.fr>

	All the files in absyn/ now have a tag against doublie inclusion
	which starts with `ABSYN_'.  There will be another exp.hh which
	needs to be diferentiated.

	* src/absyn/recordexp.hh (get_type): Is const.
	* src/absyn/tigervisitor.hh (visitRecordExp, visitBreakExp,
	visitFieldExp): Completed.

	* testcases/: Many indentation changes to ease testing.

1999-12-09  Akim Demaille  <akim@epita.fr>

	* src/semant/table.hh: Moved to...
	* src/types/table.hh: here, because of the `types' name space.

1999-12-09  Akim Demaille  <akim@epita.fr>

	* src/semant/types.hh: Moved to...
	* src/types/types.hh: here, because of the `types' name space.

1999-12-08  Akim Demaille  <akim@epita.fr>

	* src/symbols/symbol.hh: Moved to...
	* src/absyn/symbol.hh: here, since it belongs to the name space
	`absyn'.

	* src/symbols/table.hh: Moved to...
	* src/semant/table.hh: here, for the same reasons.

	* src/semant/entry.hh: New file.
	* src/semant/table.hh: Adapted to the file above.
	* src/semant/types.hh: New file.

1999-12-07  Akim Demaille  <akim@epita.fr>

	* src/absyn/template-visitor.hh: New file.  Basically a frame work
	for visiting.
	* src/semant/semant-visitor.hh: New file, currently a pure copy of
	the one above.

1999-12-07  Akim Demaille  <akim@epita.fr>

	Stick to the name spaces given by Appel.

	* src/misc/symbols.h: Moved to...
	* src/symbols/symbols.h: here.
	All dependencies changed.

	Use `type' and neither `typ' not `ty' in various places.

1999-12-06  Akim Demaille  <akim@epita.fr>

	Import the new symbol.hh from Theo.

	* src/absyn/symbol.hh: Moved to...
	* src/misc/symbol.h: here.
	* src/position.hh: Move to...
	* src/absyn/position.hh: here.
	* src/Makefile: Tuned to support this.
	All callers changed to include from misc/.

1999-11-26  Akim Demaille  <akim@epita.fr>

	Get rid of util.c and util.h.
	Use string instead of char * in the scanner.

1999-11-26  Akim Demaille  <akim@epita.fr>

	* src/errormsg.c: Removed, was useless.
	* src/errormsg.h: Likewise.
	All dependencies adapted.

1999-11-26  Akim Demaille  <akim@epita.fr>

	* src/parsetiger.y: The abstract syntax is fully supported.  The
	test cases are correctly parsed and displayed.
	* src/absyn/tigervisitor.hh: Added support for NilExp.
	Fixed handling of zero length SeqExp.

1999-11-25  Akim Demaille  <akim@epita.fr>

	* src/parsetiger.y (yystype): Added fields, exps and decs.
	Removed namety.
	More items supported.

1999-11-25  Akim Demaille  <akim@epita.fr>

	* src/tcc.c: Renamed as...
	* src/tc.c: this.
	All dependencies changed.

	* src/parsetiger.y (yystype): Added symbol and ty.
	More expressions covered.

	* src/scantiger.l: Simplified useless braces.  Use Symbol instead
	of strdup for ID.

	* src/position.hh: Made it a class.
	(<<) Implemented.

1999-11-16  Akim Demaille  <akim@epita.fr>

	Use the @n feature from bison to track the extent of expressions.

	* src/position.hh: New file, implements type Position.
	* src/absyn.hh: Replaced lpos and cpos with Position position.
	All subclasses updated.
	* src/scantiger.l: Renamed NEQ as NE.  All dependencies changed.

1999-11-10  Akim Demaille  <akim@epita.fr>

	* src/parsetiger.c: Renamed as
	* src/tcc.c: this.

1999-11-09  GERAUD Thierry  <theo@hal.lrde.epita.fr>

	* src/absyn: New directory.

1999-11-04  Akim Demaille  <akim@epita.fr>

	* tiger.prj: Initial creation.

Local Variables:
coding: utf-8
ispell-local-dictionary: "american"
End:

$Id: e61b063b3ea752e12b03dc30f7c59b28b35a7782 $
